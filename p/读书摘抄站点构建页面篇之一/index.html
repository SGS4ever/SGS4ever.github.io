<!DOCTYPE html>
<html lang="en-us">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='终于下定决心构建一个属于自己的读书摘抄站点了！
此前的读书摘抄一直都是写在一个Markdown文件里，然后通过OneDrive同步。这种原始的办法问题不大，但很低效，也谈不上视觉效果；面对偶发的要把某些极好的片段分享给好友的需求更是无能为力，只能截个图勉强作数。
从现在开始呢，我希望一步步构建一下属于自己的读书摘抄站点；此前买的好几个月的腾讯云服务器一直闲置，近期可能就有他的用武之地了。
开工大吉！ &#x2600;&#xfe0f;
总体规划 这次要做的肯定是一个动态网站（In fact, 人生中第一个动态网站 /(ㄒoㄒ)/~~），大概的实施要点是：
前后端分离（Maybe） 不设置账号了，因为使用范围比较私人；发布文章的接口是暴露的，但是发布摘抄之前要进行身份认证 加密压缩存储（看后期技术能力） 数据库定期备份 HTTPS 实现分享功能 前端尽量适应多设备 动态加载&#43;加载时的页面动画 已经物色好了后端开发的框架： drogonframework/drogon: Drogon: A C&#43;&#43;14/17/20 based HTTP web application framework running on Linux/macOS/Unix/Windows (github.com) ，感觉用C&#43;&#43;开发后端非常酷炫，本身需要实现的功能也不是很多 ，大有可为！ &#x1f63c;
Step01 主体框架 在我的构思中，读书摘抄页面的主体应该是一个很简单的结构：
摘抄列表类似于我个人博客的文章列表就行； 点击某个文段之后，触发缩放效果，文段成为页面中心，同时背景虚化。 正在我犹豫迷茫的时候，发现了 Steven 大佬的 【CSS】App Store 卡片展开效果 视频！Amazing！
我很快决定页面主体就基于他的这个视频了。下面的内容假设你已经实现了Steven在视频中介绍的所有效果。
我照着视频实现的总的代码为：
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en-us&#34;&gt; &lt;head&gt; &lt;title&gt;Test&lt;/title&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.googleapis.com&#34;&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.gstatic.com&#34; crossorigin&gt; &lt;link href=&#34;https://fonts.googleapis.com/css2?family=Long&#43;Cang&amp;family=Ma&#43;Shan&#43;Zheng&amp;family=Noto&#43;Sans&#43;SC:wght@300&amp;family=Noto&#43;Serif&#43;SC:wght@300&amp;family=Zhi&#43;Mang&#43;Xing&amp;display=swap&#34; rel=&#34;stylesheet&#34;&gt; &lt;style&gt; :root { font-size: 15px; font-family: &#39;Zhi Mang Xing&#39;, cursive; --body-width: 100%; --card-width: 420px; --card-height: 280px; --img-height: 226px; --img-height-expended: 320px; background-color: #333; } body { width: var(--body-width); background-color: #eee; margin: auto; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 1rem 0; } body.noscroll { overflow: hidden; } .card { width: var(--card-width); height: var(--card-height); background-color: #fff; border-radius: 1rem; box-shadow: 0 .2rem 2rem rgba(0, 0, 0, .1); margin: 1rem 0; transition: .3s all cubic-bezier(0, 1, 0.95, 1.05); } .card img { display: block; width: 100%; height: var(--img-height); object-fit: cover; border-top-left-radius: 1rem; border-top-right-radius: 1rem; } .card h4 { margin: 0; font-size: 1.5rem; font-weight: bold; padding: .8rem 1.2rem; background-color: #fff; line-height: 2rem; letter-spacing: -.5px; padding-bottom: 0; } .card .content-wrapper { height: 0; overflow: hidden; transition: .3s all ease-out; opacity: .8; } .card .content-wrapper .content { padding: 0 1.2rem; background-color: #fff; overflow: auto; } .card p { font-size: 1.2rem; line-height: 1.5rem; } /* active classes */ .card.active { transform: translateY(var(--data-offset-top)) scale(calc(480/420)); transform-origin: 50% 0; border-radius: 0; } .card.active h4 { padding-bottom: .8rem; } .card.active img { border-top-left-radius: 0; border-top-right-radius: 0; height: var(--img-height-expended); } .card.active .content-wrapper { height: 100vh; transition: .3s all ease-in; opacity: 1; } ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } &lt;/style&gt; &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js&#34;&gt;&lt;/script&gt; &lt;script type=&#34;text/javascript&#34;&gt; window.onload = function() { $(&#39;.card&#39;).on(&#39;click&#39;, function (e) { let card = $(e.currentTarget); let card_offset_scrolltop = $(card).offset().top - $(window).scrollTop(); $(card).css(&#39;--data-offset-top&#39;, card_offset_scrolltop * -1 &#43; &#39;px&#39;); $(card).toggleClass(&#39;active&#39;); let height = $(window).height(); let ratio = 480/420; height -= $(card).find(&#39;img&#39;).outerHeight() * ratio; height -= $(card).find(&#39;h4&#39;).outerHeight() * ratio; height /= ratio; $(card).find(&#39;.content&#39;).css(&#39;height&#39;, height); if ($(card).hasClass(&#39;active&#39;)) { $(&#39;body&#39;).addClass(&#39;noscroll&#39;); } else { $(&#39;body&#39;).removeClass(&#39;noscroll&#39;); } }); } &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,1&#34; /&gt; &lt;h4&gt;Title1&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,2&#34; /&gt; &lt;h4&gt;Title2&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,3&#34; /&gt; &lt;h4&gt;Title3&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,4&#34; /&gt; &lt;h4&gt;Title4&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; Step02 移除图片&amp;样式调整 Steven大佬做出来的效果，对 img 的操作占了比较大的部分；不过我的需求是文字摘抄，并不需要这么多的图片，因此决定将这些图片移除掉。同时，把CSS中关于图片的样式也全部移除。
'><title>读书摘抄站点构建（页面篇|之一）</title>

<link rel='canonical' href='https://xrg.fj.cn/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/'>

<link rel="stylesheet" href="/scss/style.min.744aa3042babb8291bcb36af694eb272f909f9b1e9c66387395b00d22da84726.css"><script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

<script>
    
    $(window).scroll(function() {
    if ($(this).scrollTop()) {
        $('#back-to-top').fadeIn();
    } else {
        $('#back-to-top').fadeOut();
    }
    });

    
    $('#back-to-top').click(function() {
    $('html, body').animate({scrollTop: 0}, 1000);
    return false;
    });
</script>

<meta property='og:title' content='读书摘抄站点构建（页面篇|之一）'>
<meta property='og:description' content='终于下定决心构建一个属于自己的读书摘抄站点了！
此前的读书摘抄一直都是写在一个Markdown文件里，然后通过OneDrive同步。这种原始的办法问题不大，但很低效，也谈不上视觉效果；面对偶发的要把某些极好的片段分享给好友的需求更是无能为力，只能截个图勉强作数。
从现在开始呢，我希望一步步构建一下属于自己的读书摘抄站点；此前买的好几个月的腾讯云服务器一直闲置，近期可能就有他的用武之地了。
开工大吉！ &#x2600;&#xfe0f;
总体规划 这次要做的肯定是一个动态网站（In fact, 人生中第一个动态网站 /(ㄒoㄒ)/~~），大概的实施要点是：
前后端分离（Maybe） 不设置账号了，因为使用范围比较私人；发布文章的接口是暴露的，但是发布摘抄之前要进行身份认证 加密压缩存储（看后期技术能力） 数据库定期备份 HTTPS 实现分享功能 前端尽量适应多设备 动态加载&#43;加载时的页面动画 已经物色好了后端开发的框架： drogonframework/drogon: Drogon: A C&#43;&#43;14/17/20 based HTTP web application framework running on Linux/macOS/Unix/Windows (github.com) ，感觉用C&#43;&#43;开发后端非常酷炫，本身需要实现的功能也不是很多 ，大有可为！ &#x1f63c;
Step01 主体框架 在我的构思中，读书摘抄页面的主体应该是一个很简单的结构：
摘抄列表类似于我个人博客的文章列表就行； 点击某个文段之后，触发缩放效果，文段成为页面中心，同时背景虚化。 正在我犹豫迷茫的时候，发现了 Steven 大佬的 【CSS】App Store 卡片展开效果 视频！Amazing！
我很快决定页面主体就基于他的这个视频了。下面的内容假设你已经实现了Steven在视频中介绍的所有效果。
我照着视频实现的总的代码为：
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en-us&#34;&gt; &lt;head&gt; &lt;title&gt;Test&lt;/title&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.googleapis.com&#34;&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.gstatic.com&#34; crossorigin&gt; &lt;link href=&#34;https://fonts.googleapis.com/css2?family=Long&#43;Cang&amp;family=Ma&#43;Shan&#43;Zheng&amp;family=Noto&#43;Sans&#43;SC:wght@300&amp;family=Noto&#43;Serif&#43;SC:wght@300&amp;family=Zhi&#43;Mang&#43;Xing&amp;display=swap&#34; rel=&#34;stylesheet&#34;&gt; &lt;style&gt; :root { font-size: 15px; font-family: &#39;Zhi Mang Xing&#39;, cursive; --body-width: 100%; --card-width: 420px; --card-height: 280px; --img-height: 226px; --img-height-expended: 320px; background-color: #333; } body { width: var(--body-width); background-color: #eee; margin: auto; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 1rem 0; } body.noscroll { overflow: hidden; } .card { width: var(--card-width); height: var(--card-height); background-color: #fff; border-radius: 1rem; box-shadow: 0 .2rem 2rem rgba(0, 0, 0, .1); margin: 1rem 0; transition: .3s all cubic-bezier(0, 1, 0.95, 1.05); } .card img { display: block; width: 100%; height: var(--img-height); object-fit: cover; border-top-left-radius: 1rem; border-top-right-radius: 1rem; } .card h4 { margin: 0; font-size: 1.5rem; font-weight: bold; padding: .8rem 1.2rem; background-color: #fff; line-height: 2rem; letter-spacing: -.5px; padding-bottom: 0; } .card .content-wrapper { height: 0; overflow: hidden; transition: .3s all ease-out; opacity: .8; } .card .content-wrapper .content { padding: 0 1.2rem; background-color: #fff; overflow: auto; } .card p { font-size: 1.2rem; line-height: 1.5rem; } /* active classes */ .card.active { transform: translateY(var(--data-offset-top)) scale(calc(480/420)); transform-origin: 50% 0; border-radius: 0; } .card.active h4 { padding-bottom: .8rem; } .card.active img { border-top-left-radius: 0; border-top-right-radius: 0; height: var(--img-height-expended); } .card.active .content-wrapper { height: 100vh; transition: .3s all ease-in; opacity: 1; } ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } &lt;/style&gt; &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js&#34;&gt;&lt;/script&gt; &lt;script type=&#34;text/javascript&#34;&gt; window.onload = function() { $(&#39;.card&#39;).on(&#39;click&#39;, function (e) { let card = $(e.currentTarget); let card_offset_scrolltop = $(card).offset().top - $(window).scrollTop(); $(card).css(&#39;--data-offset-top&#39;, card_offset_scrolltop * -1 &#43; &#39;px&#39;); $(card).toggleClass(&#39;active&#39;); let height = $(window).height(); let ratio = 480/420; height -= $(card).find(&#39;img&#39;).outerHeight() * ratio; height -= $(card).find(&#39;h4&#39;).outerHeight() * ratio; height /= ratio; $(card).find(&#39;.content&#39;).css(&#39;height&#39;, height); if ($(card).hasClass(&#39;active&#39;)) { $(&#39;body&#39;).addClass(&#39;noscroll&#39;); } else { $(&#39;body&#39;).removeClass(&#39;noscroll&#39;); } }); } &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,1&#34; /&gt; &lt;h4&gt;Title1&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,2&#34; /&gt; &lt;h4&gt;Title2&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,3&#34; /&gt; &lt;h4&gt;Title3&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,4&#34; /&gt; &lt;h4&gt;Title4&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; Step02 移除图片&amp;样式调整 Steven大佬做出来的效果，对 img 的操作占了比较大的部分；不过我的需求是文字摘抄，并不需要这么多的图片，因此决定将这些图片移除掉。同时，把CSS中关于图片的样式也全部移除。
'>
<meta property='og:url' content='https://xrg.fj.cn/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/'>
<meta property='og:site_name' content='XR_G&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='技术' /><meta property='article:tag' content='前端' /><meta property='article:published_time' content='2022-02-12T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2022-02-16T00:00:00&#43;00:00'/>
<meta name="twitter:title" content="读书摘抄站点构建（页面篇|之一）">
<meta name="twitter:description" content="终于下定决心构建一个属于自己的读书摘抄站点了！
此前的读书摘抄一直都是写在一个Markdown文件里，然后通过OneDrive同步。这种原始的办法问题不大，但很低效，也谈不上视觉效果；面对偶发的要把某些极好的片段分享给好友的需求更是无能为力，只能截个图勉强作数。
从现在开始呢，我希望一步步构建一下属于自己的读书摘抄站点；此前买的好几个月的腾讯云服务器一直闲置，近期可能就有他的用武之地了。
开工大吉！ &#x2600;&#xfe0f;
总体规划 这次要做的肯定是一个动态网站（In fact, 人生中第一个动态网站 /(ㄒoㄒ)/~~），大概的实施要点是：
前后端分离（Maybe） 不设置账号了，因为使用范围比较私人；发布文章的接口是暴露的，但是发布摘抄之前要进行身份认证 加密压缩存储（看后期技术能力） 数据库定期备份 HTTPS 实现分享功能 前端尽量适应多设备 动态加载&#43;加载时的页面动画 已经物色好了后端开发的框架： drogonframework/drogon: Drogon: A C&#43;&#43;14/17/20 based HTTP web application framework running on Linux/macOS/Unix/Windows (github.com) ，感觉用C&#43;&#43;开发后端非常酷炫，本身需要实现的功能也不是很多 ，大有可为！ &#x1f63c;
Step01 主体框架 在我的构思中，读书摘抄页面的主体应该是一个很简单的结构：
摘抄列表类似于我个人博客的文章列表就行； 点击某个文段之后，触发缩放效果，文段成为页面中心，同时背景虚化。 正在我犹豫迷茫的时候，发现了 Steven 大佬的 【CSS】App Store 卡片展开效果 视频！Amazing！
我很快决定页面主体就基于他的这个视频了。下面的内容假设你已经实现了Steven在视频中介绍的所有效果。
我照着视频实现的总的代码为：
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en-us&#34;&gt; &lt;head&gt; &lt;title&gt;Test&lt;/title&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.googleapis.com&#34;&gt; &lt;link rel=&#34;preconnect&#34; href=&#34;https://fonts.gstatic.com&#34; crossorigin&gt; &lt;link href=&#34;https://fonts.googleapis.com/css2?family=Long&#43;Cang&amp;family=Ma&#43;Shan&#43;Zheng&amp;family=Noto&#43;Sans&#43;SC:wght@300&amp;family=Noto&#43;Serif&#43;SC:wght@300&amp;family=Zhi&#43;Mang&#43;Xing&amp;display=swap&#34; rel=&#34;stylesheet&#34;&gt; &lt;style&gt; :root { font-size: 15px; font-family: &#39;Zhi Mang Xing&#39;, cursive; --body-width: 100%; --card-width: 420px; --card-height: 280px; --img-height: 226px; --img-height-expended: 320px; background-color: #333; } body { width: var(--body-width); background-color: #eee; margin: auto; display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 1rem 0; } body.noscroll { overflow: hidden; } .card { width: var(--card-width); height: var(--card-height); background-color: #fff; border-radius: 1rem; box-shadow: 0 .2rem 2rem rgba(0, 0, 0, .1); margin: 1rem 0; transition: .3s all cubic-bezier(0, 1, 0.95, 1.05); } .card img { display: block; width: 100%; height: var(--img-height); object-fit: cover; border-top-left-radius: 1rem; border-top-right-radius: 1rem; } .card h4 { margin: 0; font-size: 1.5rem; font-weight: bold; padding: .8rem 1.2rem; background-color: #fff; line-height: 2rem; letter-spacing: -.5px; padding-bottom: 0; } .card .content-wrapper { height: 0; overflow: hidden; transition: .3s all ease-out; opacity: .8; } .card .content-wrapper .content { padding: 0 1.2rem; background-color: #fff; overflow: auto; } .card p { font-size: 1.2rem; line-height: 1.5rem; } /* active classes */ .card.active { transform: translateY(var(--data-offset-top)) scale(calc(480/420)); transform-origin: 50% 0; border-radius: 0; } .card.active h4 { padding-bottom: .8rem; } .card.active img { border-top-left-radius: 0; border-top-right-radius: 0; height: var(--img-height-expended); } .card.active .content-wrapper { height: 100vh; transition: .3s all ease-in; opacity: 1; } ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } &lt;/style&gt; &lt;script src=&#34;https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js&#34;&gt;&lt;/script&gt; &lt;script type=&#34;text/javascript&#34;&gt; window.onload = function() { $(&#39;.card&#39;).on(&#39;click&#39;, function (e) { let card = $(e.currentTarget); let card_offset_scrolltop = $(card).offset().top - $(window).scrollTop(); $(card).css(&#39;--data-offset-top&#39;, card_offset_scrolltop * -1 &#43; &#39;px&#39;); $(card).toggleClass(&#39;active&#39;); let height = $(window).height(); let ratio = 480/420; height -= $(card).find(&#39;img&#39;).outerHeight() * ratio; height -= $(card).find(&#39;h4&#39;).outerHeight() * ratio; height /= ratio; $(card).find(&#39;.content&#39;).css(&#39;height&#39;, height); if ($(card).hasClass(&#39;active&#39;)) { $(&#39;body&#39;).addClass(&#39;noscroll&#39;); } else { $(&#39;body&#39;).removeClass(&#39;noscroll&#39;); } }); } &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,1&#34; /&gt; &lt;h4&gt;Title1&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,2&#34; /&gt; &lt;h4&gt;Title2&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,3&#34; /&gt; &lt;h4&gt;Title3&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;card&#34;&gt; &lt;img src=&#34;https://source.unsplash.com/900x600/?nature,water,4&#34; /&gt; &lt;h4&gt;Title4&lt;/h4&gt; &lt;div class=&#34;content-wrapper&#34;&gt; &lt;div class=&#34;content&#34;&gt; &lt;p&gt;&lt;/p&gt; &lt;p&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; Step02 移除图片&amp;样式调整 Steven大佬做出来的效果，对 img 的操作占了比较大的部分；不过我的需求是文字摘抄，并不需要这么多的图片，因此决定将这些图片移除掉。同时，把CSS中关于图片的样式也全部移除。
">
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page has-toc
">
        <div id="loading-box">
                
                <div class="loading-left-bg"></div>
                <div class="loading-right-bg"></div>
                
                <div class="spinner-box">
                        <div class="configure-border-1">
                                <div class="configure-core"></div>
                        </div>
                        <div class="configure-border-2">
                                <div class="configure-core"></div>
                        </div>
                        <div class="loading-word">加载中...</div>
                </div>
      </div>
      
      <script>
        $(document).ready(function () {
                
                document.getElementById('loading-box').classList.add("loaded")
        })
      </script>

    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex 
    
        extended
    
">
    
        <div id="article-toolbar">
            <a href="/" class="back-home">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



                <span>返回</span>
            </a>
        </div>
    
<main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%AE%9E%E8%B7%B5/" style="background-color: #2a9d8f; color: #fff;">
                实践
            </a>
        
    </header>
    

    <h2 class="article-title">
        <a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/">读书摘抄站点构建（页面篇|之一）</a>
    </h2>

    

    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Feb 12, 2022</time>
            </div>
        <div>
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
                <time class="article-time--published">
                    Feb 16, 2022
                </time>
            </div>
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 5 分钟
                </time>
            </div>
        
    </footer>
    
</div>
</header>

    <section class="article-content">
    <p>终于下定决心构建一个属于自己的读书摘抄站点了！</p>
<p>此前的读书摘抄一直都是写在一个Markdown文件里，然后通过OneDrive同步。这种原始的办法问题不大，但很低效，也谈不上视觉效果；面对偶发的要把某些极好的片段分享给好友的需求更是无能为力，只能截个图勉强作数。</p>
<p>从现在开始呢，我希望一步步构建一下属于自己的读书摘抄站点；此前买的好几个月的腾讯云服务器一直闲置，近期可能就有他的用武之地了。</p>
<p>开工大吉！ &#x2600;&#xfe0f;</p>
<h3 id="总体规划">总体规划</h3>
<p>这次要做的肯定是一个动态网站（In fact, 人生中第一个动态网站 /(ㄒoㄒ)/~~），大概的实施要点是：</p>
<ul>
<li>前后端分离（Maybe）</li>
<li>不设置账号了，因为使用范围比较私人；发布文章的接口是暴露的，但是发布摘抄之前要进行身份认证</li>
<li>加密压缩存储（看后期技术能力）</li>
<li>数据库定期备份</li>
<li>HTTPS</li>
<li>实现分享功能</li>
<li>前端尽量适应多设备</li>
<li>动态加载+加载时的页面动画</li>
</ul>
<p>已经物色好了后端开发的框架： <a class="link" href="https://github.com/drogonframework/drogon"  target="_blank" rel="noopener"
    >drogonframework/drogon: Drogon: A C++14/17/20 based HTTP web application framework running on Linux/macOS/Unix/Windows (github.com)</a>  ，感觉用C++开发后端非常酷炫，本身需要实现的功能也不是很多 <del>，大有可为！</del> &#x1f63c;</p>
<h3 id="step01-主体框架">Step01 主体框架</h3>
<p>在我的构思中，读书摘抄页面的主体应该是一个很简单的结构：</p>
<ul>
<li>摘抄列表类似于我个人博客的文章列表就行；</li>
<li>点击某个文段之后，触发缩放效果，文段成为页面中心，同时背景虚化。</li>
</ul>
<p>正在我犹豫迷茫的时候，发现了 <em>Steven</em> 大佬的 <a class="link" href="https://www.bilibili.com/video/BV1bC4y1t7CY?spm_id_from=333.999.0.0"  target="_blank" rel="noopener"
    >【CSS】App Store 卡片展开效果</a> 视频！Amazing！</p>
<p>我很快决定页面主体就基于他的这个视频了。下面的内容假设你已经实现了Steven在视频中介绍的所有效果。</p>
<p>我照着视频实现的总的代码为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en-us&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Test<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;preconnect&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://fonts.googleapis.com&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;preconnect&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://fonts.gstatic.com&#34;</span> <span class="na">crossorigin</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://fonts.googleapis.com/css2?family=Long+Cang&amp;family=Ma+Shan+Zheng&amp;family=Noto+Sans+SC:wght@300&amp;family=Noto+Serif+SC:wght@300&amp;family=Zhi+Mang+Xing&amp;display=swap&#34;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">:</span><span class="nd">root</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">font-size</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">font-family</span><span class="p">:</span> <span class="s1">&#39;Zhi Mang Xing&#39;</span><span class="p">,</span> <span class="kc">cursive</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nv">--body-width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nv">--card-width</span><span class="p">:</span> <span class="mi">420</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nv">--card-height</span><span class="p">:</span> <span class="mi">280</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nv">--img-height</span><span class="p">:</span> <span class="mi">226</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="nv">--img-height-expended</span><span class="p">:</span> <span class="mi">320</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="mh">#333</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nt">body</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">width</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">body</span><span class="o">-</span><span class="n">width</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">margin</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">min-height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">padding</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nt">body</span><span class="p">.</span><span class="nc">noscroll</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">width</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card</span><span class="o">-</span><span class="n">width</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">height</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card</span><span class="o">-</span><span class="n">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">border-radius</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">box-shadow</span><span class="p">:</span> <span class="mi">0</span> <span class="mf">.2</span><span class="kt">rem</span> <span class="mi">2</span><span class="kt">rem</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">.1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">margin</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">transition</span><span class="p">:</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">all</span> <span class="nb">cubic-bezier</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span> <span class="nt">img</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">height</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">img</span><span class="o">-</span><span class="n">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                <span class="k">object-fit</span><span class="p">:</span> <span class="kc">cover</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">border-top-left-radius</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">border-top-right-radius</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span> <span class="nt">h4</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.5</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">padding</span><span class="p">:</span> <span class="mf">.8</span><span class="kt">rem</span> <span class="mf">1.2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">line-height</span><span class="p">:</span> <span class="mi">2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">letter-spacing</span><span class="p">:</span> <span class="mf">-.5</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span> <span class="p">.</span><span class="nc">content-wrapper</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">height</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">transition</span><span class="p">:</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">all</span> <span class="kc">ease-out</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">opacity</span><span class="p">:</span> <span class="mf">.8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span> <span class="p">.</span><span class="nc">content-wrapper</span> <span class="p">.</span><span class="nc">content</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mf">1.2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">overflow</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span> <span class="nt">p</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">line-height</span><span class="p">:</span> <span class="mf">1.5</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="c">/* active classes */</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">transform</span><span class="p">:</span> <span class="nb">translateY</span><span class="p">(</span><span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="n">offset</span><span class="o">-</span><span class="kc">top</span><span class="p">))</span> <span class="nb">scale</span><span class="p">(</span><span class="nb">calc</span><span class="p">(</span><span class="mi">480</span><span class="o">/</span><span class="mi">420</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">                <span class="k">transform-origin</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">border-radius</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="nt">h4</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">padding-bottom</span><span class="p">:</span> <span class="mf">.8</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="nt">img</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">border-top-left-radius</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">border-top-right-radius</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">height</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">img</span><span class="o">-</span><span class="n">height</span><span class="o">-</span><span class="n">expended</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="p">.</span><span class="nc">content-wrapper</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">transition</span><span class="p">:</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">all</span> <span class="kc">ease-in</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">opacity</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">::</span><span class="nd">-webkit-scrollbar</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">width</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">::</span><span class="nd">-webkit-scrollbar-track</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="kc">transparent</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">::</span><span class="nd">-webkit-scrollbar-thumb</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="mh">#d6dee1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">border-radius</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">border</span><span class="p">:</span> <span class="mi">6</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">transparent</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-clip</span><span class="p">:</span> <span class="kc">content-box</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="p">::</span><span class="nd">-webkit-scrollbar-thumb</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">background-color</span><span class="p">:</span> <span class="mh">#a8bbbf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.card&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="kd">let</span> <span class="nx">card</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                    <span class="kd">let</span> <span class="nx">card_offset_scrolltop</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span> <span class="o">-</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">scrollTop</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;--data-offset-top&#39;</span><span class="p">,</span> <span class="nx">card_offset_scrolltop</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="kd">let</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">height</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">                    <span class="kd">let</span> <span class="nx">ratio</span> <span class="o">=</span> <span class="mi">480</span><span class="o">/</span><span class="mi">420</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">height</span> <span class="o">-=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">).</span><span class="nx">outerHeight</span><span class="p">()</span> <span class="o">*</span> <span class="nx">ratio</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">height</span> <span class="o">-=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;h4&#39;</span><span class="p">).</span><span class="nx">outerHeight</span><span class="p">()</span> <span class="o">*</span> <span class="nx">ratio</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">height</span> <span class="o">/=</span> <span class="nx">ratio</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s1">&#39;.content&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;noscroll&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;noscroll&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">});</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://source.unsplash.com/900x600/?nature,water,1&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Title1<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content-wrapper&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://source.unsplash.com/900x600/?nature,water,2&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Title2<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content-wrapper&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://source.unsplash.com/900x600/?nature,water,3&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Title3<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content-wrapper&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;card&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://source.unsplash.com/900x600/?nature,water,4&#34;</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>Title4<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content-wrapper&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;content&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><h3 id="step02-移除图片样式调整">Step02 移除图片&amp;样式调整</h3>
<p>Steven大佬做出来的效果，对 <code>img</code> 的操作占了比较大的部分；不过我的需求是文字摘抄，并不需要这么多的图片，因此决定将这些图片移除掉。同时，把CSS中关于图片的样式也全部移除。</p>
<p>此外，在demo中限定了 <code>--card-width: 420px</code> ，这是因为作者假设了使用场景是小屏幕；我的使用场景不是小屏幕，因此将这个数值改大一些： <code>--card-width: 80%</code> 。</p>
<p>现有的布局结构是一个 <code>card </code> 下有一个标题 <code>h4</code> 和内容部分 <code>content-wrapper</code> ，我决定将他们全部保留，不过移除了图片之后，样式变得有点奇怪，需要进行一些调整。</p>
<ul>
<li>卡片高度要缩小，因为已经没有图片了；</li>
<li>内容展示的时候不能展示完全，只呈现出三行，超过部分用省略号替代；同时，点开内容之后要把这些限制去掉；</li>
<li>保留圆角（调了蛮久才搞出来，感觉最终的代码并不是很简洁）；</li>
<li>滚动条美化（老技能了）。</li>
</ul>
<p>调整之后的CSS变为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="p">:</span><span class="nd">root</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">font-size</span><span class="p">:</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">font-family</span><span class="p">:</span> <span class="s1">&#39;Zhi Mang Xing&#39;</span><span class="p">,</span> <span class="kc">cursive</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">--body-width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">--card-width</span><span class="p">:</span> <span class="mi">80</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nv">--card-height</span><span class="p">:</span> <span class="mi">150</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#333</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">::</span><span class="nd">-webkit-scrollbar</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">width</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">::</span><span class="nd">-webkit-scrollbar-track</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="kc">transparent</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">::</span><span class="nd">-webkit-scrollbar-thumb</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#d6dee1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">border</span><span class="p">:</span> <span class="mi">6</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">transparent</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-clip</span><span class="p">:</span> <span class="kc">content-box</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">::</span><span class="nd">-webkit-scrollbar-thumb</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#a8bbbf</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">body</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">width</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">body</span><span class="o">-</span><span class="n">width</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">margin</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">align-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">min-height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">padding</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nt">body</span><span class="p">.</span><span class="nc">noscroll</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">width</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card</span><span class="o">-</span><span class="n">width</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">height</span><span class="p">:</span> <span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">card</span><span class="o">-</span><span class="n">height</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">box-shadow</span><span class="p">:</span> <span class="mi">0</span> <span class="mf">.2</span><span class="kt">rem</span> <span class="mi">2</span><span class="kt">rem</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">.1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">margin</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">transition</span><span class="p">:</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">all</span> <span class="nb">cubic-bezier</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span> <span class="nt">h4</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.8</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">font-weight</span><span class="p">:</span> <span class="kc">bold</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">padding</span><span class="p">:</span> <span class="mf">.8</span><span class="kt">rem</span> <span class="mf">1.2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">line-height</span><span class="p">:</span> <span class="mi">2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">letter-spacing</span><span class="p">:</span> <span class="mf">-.5</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">padding-bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span> <span class="p">.</span><span class="nc">content-wrapper</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">transition</span><span class="p">:</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">all</span> <span class="kc">ease-out</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">opacity</span><span class="p">:</span> <span class="mf">.8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span> <span class="p">.</span><span class="nc">content-wrapper</span> <span class="p">.</span><span class="nc">content</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mf">1.2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">display</span><span class="p">:</span> <span class="kp">-webkit-</span><span class="n">box</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kp">-webkit-</span><span class="n">box-orient</span><span class="p">:</span> <span class="kc">vertical</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kp">-webkit-</span><span class="n">line-clamp</span><span class="p">:</span> <span class="mi">3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span> <span class="nt">p</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.5</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">line-height</span><span class="p">:</span> <span class="mi">2</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c">/* active classes */</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">transform</span><span class="p">:</span> <span class="nb">translateY</span><span class="p">(</span><span class="nf">var</span><span class="p">(</span><span class="o">--</span><span class="n">data</span><span class="o">-</span><span class="n">offset</span><span class="o">-</span><span class="kc">top</span><span class="p">))</span> <span class="nb">scale</span><span class="p">(</span><span class="nb">calc</span><span class="p">(</span><span class="mi">480</span><span class="o">/</span><span class="mi">420</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    <span class="k">transform-origin</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">border-radius</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">z-index</span><span class="p">:</span> <span class="mi">99</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="nt">h4</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">padding-bottom</span><span class="p">:</span> <span class="mf">.8</span><span class="kt">rem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="p">.</span><span class="nc">content-wrapper</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">transition</span><span class="p">:</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">all</span> <span class="kc">ease-in</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">opacity</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">card</span><span class="p">.</span><span class="nc">active</span> <span class="p">.</span><span class="nc">content-wrapper</span> <span class="p">.</span><span class="nc">content</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">display</span><span class="p">:</span> <span class="kc">block</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">height</span><span class="p">:</span> <span class="mi">80</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 187; 
			flex-basis: 450px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/1.gif" data-size="1765x940">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/1.gif"
			width="1765"
			height="940"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/1_hu16119055005591104128.gif 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/1_hu8903272234366717764.gif 1024w"
			loading="lazy"
			alt="目前的效果（动图）">
	</a>
	
	<figcaption>目前的效果（动图）</figcaption>
	
</figure></p>
<p>完成了以上的微调之后，需要进行细节部分的大改动了，我将分为几个细节来进行处理。</p>
<h4 id="滚动条美化">滚动条美化</h4>
<p>滚动条美化是此前对个人博客进行优化时接触过的东西，总体来说就是使用CSS一系列选择器来选中滚动条的对应部分。在上面的CSS中，我将滚动条背景颜色设置为了 <code>#eee</code> ，即正常情况下的背景颜色，而这导致了一个问题：当我点开一个具体的摘抄，其中文字内容需要进行滚动时，滚动条的颜色跟卡片颜色有点不协调，很出戏。</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 186; 
			flex-basis: 447px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/2.png" data-size="1920x1030">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/2.png"
			width="1920"
			height="1030"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/2_hu7954441604209862561.png 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/2_hu4226431912845177596.png 1024w"
			loading="lazy"
			alt="当前滚动条背景的不协调">
	</a>
	
	<figcaption>当前滚动条背景的不协调</figcaption>
	
</figure></p>
<p>优化的思路很简单，使用一个CSS变量来设置颜色；配合此前已经有了的jQuery对点击事件的判断，改变这个背景颜色即可。</p>
<p>既然已经提到了使用变量，我就 <strong>统一将各个背景颜色全部使用变量进行控制</strong> ，作出的相应修改在此不表。</p>
<p>使用 <code>--scrollbar-bg-color: #eee;</code> 作为滚动条默认背景颜色（与 <code>body</code> 背景颜色一致），在jQuery判断点击的那部分代码中加上对这个颜色变量的控制：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="nx">card</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;noscroll&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;:root&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;--scrollbar-bg-color&#39;</span><span class="p">,</span> <span class="s1">&#39;#fff&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;noscroll&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;:root&#39;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;--scrollbar-bg-color&#39;</span><span class="p">,</span> <span class="s1">&#39;#eee&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>搞定！</p>
<h4 id="卡片缩放美化">卡片缩放美化</h4>
<p>Steven大佬的卡片缩放，由于有一张尺寸较大的图，使得原本“顶天立地”的缩放效果就显得很出色。在我的使用场景中，已经将图片去掉了，如果继续“顶天立地”下去，就会造成卡片下端的大量空白。</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 186; 
			flex-basis: 447px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/3.png" data-size="1920x1030">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/3.png"
			width="1920"
			height="1030"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/3_hu4308351178841060461.png 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/3_hu18185756005713388940.png 1024w"
			loading="lazy"
			alt="卡片下端大量空白">
	</a>
	
	<figcaption>卡片下端大量空白</figcaption>
	
</figure></p>
<p>毫无疑问，这样的效果是很不好的，即便我后续将要对卡片的结构进行一些调整，读书摘抄这种有限的内容仍然很难铺满一个浏览器窗口。</p>
<p>我的理想放大效果是：内容基本位于窗口中心，上下左右都留出一些空白。</p>
<p>基于原有的代码，要实现内容居中较为容易。原本的代码会计算 <code>--data-offset-top</code> ，然后对卡片进行一个 <code>translateY</code> 的操作，将卡片移到页面顶部；我不希望卡片“头顶天”，因此将这个 <code>--data-offset-top</code> 的值修改一下即可。</p>
<p>具体的操作是：先获取 <code>$(window).height()</code> 即窗口高度，然后把 <code>--data-offset-top</code> 加上窗口高度的一定比例。</p>
<p><strong>实现出来的效果类似于为卡片加上了 <code>margin-top</code> 。</strong></p>
<p>而为了不让卡片“脚着地”，只需要把卡片的 <code>height</code> 减小即可。在原本的代码中，这个高度通过 <code>.card.active .content-wrapper</code> 来控制，我将其改为一个变量 <code>var(--content-wrapper-height-expended)</code> ，在卡片展开的时候，设置这个变量的值为窗口高度的一定比例。</p>
<p>同时，为了不让 <code>content</code> 把 <code>content-wrapper</code> 撑大，要为这个元素设置 <code>height</code> ，使它至多跟父元素同样高。</p>
<p><strong>实现出来的效果类似于为卡片加上了 <code>margin-bottom</code> 。</strong></p>
<p>对卡片展开的比例进行调整之后，大小是合理了，不过出现了新的问题：</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 186; 
			flex-basis: 447px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/4.png" data-size="1920x1030">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/4.png"
			width="1920"
			height="1030"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/4_hu10332182673928377267.png 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/4_hu15595507026375049628.png 1024w"
			loading="lazy"
			alt="背后的文字没有隐藏掉">
	</a>
	
	<figcaption>背后的文字没有隐藏掉</figcaption>
	
</figure></p>
<p>这个问题实际上花了我一段时间，最后的解决方案是：新增一个全屏的“遮罩”元素，背景颜色设置好透明度；遮罩在正常情况下 <code>z-index</code> 较小且 <code>display</code> 为 <code>none</code> ，卡片展开之后把 <code>z-index</code> 抬升到 <strong>展开的卡片之下、未展开的卡片之上</strong> 的位置，然后 <code>display</code> 呈现出来。</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 187; 
			flex-basis: 450px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/5.gif" data-size="1764x940">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/5.gif"
			width="1764"
			height="940"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/5_hu2495140388096831669.gif 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/5_hu9944523966446668168.gif 1024w"
			loading="lazy"
			alt="最终缩放效果">
	</a>
	
	<figcaption>最终缩放效果</figcaption>
	
</figure></p>
<p>注意这边展开之后看起来右边没有间隙，实际上是GIF录制过程中的范围有限所致。</p>
<h4 id="点击事件优化">点击事件优化</h4>
<p>原本的卡片缩放实现方案是：在 <code>click</code> 事件中进行 <code>toggleClass</code> 的操作来添加/移除 <code>active</code> 这个类，逻辑很简单，但并不完全实用。</p>
<p>其中很关键的一点是：当我选中一段文字时，也算作触发 <code>click</code> 事件；而毫无疑问，当读者选中某些文字的时候希望进行的是复制之类的操作，假如触发了 <code>click</code> 事件，卡片就会缩回去，选中的文字也就丢失了。</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 188; 
			flex-basis: 451px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/6.gif" data-size="1760x936">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/6.gif"
			width="1760"
			height="936"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/6_hu1447821811796861301.gif 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/6_hu17834209223633201689.gif 1024w"
			loading="lazy"
			alt="点击事件意外触发">
	</a>
	
	<figcaption>点击事件意外触发</figcaption>
	
</figure></p>
<p>修复它的做法比较简单：在 <code>click</code> 事件中判断一下当前是否选中了文本，若存在，则说明卡片缩放的步骤不应该执行，否则再按照原有的流程执行卡片缩放。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">let</span> <span class="nx">txt</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">getSelection</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">txt</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">getSelection</span><span class="p">().</span><span class="nx">toString</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">txt</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">selection</span><span class="p">.</span><span class="nx">createRange</span><span class="p">().</span><span class="nx">text</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">txt</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 原有的卡片缩放步骤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 187; 
			flex-basis: 449px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/7.gif" data-size="1758x939">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/7.gif"
			width="1758"
			height="939"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/7_hu1752291367560361938.gif 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/7_hu16272433882993607040.gif 1024w"
			loading="lazy"
			alt="修复后的点击事件">
	</a>
	
	<figcaption>修复后的点击事件</figcaption>
	
</figure></p>
<h4 id="缩放事件优化">缩放事件优化</h4>
<p>卡片展开之后缩回，存在一个不到位的细节是：内容没有回到首行。</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 188; 
			flex-basis: 452px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/8.gif" data-size="1771x939">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/8.gif"
			width="1771"
			height="939"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/8_hu14859682911654974152.gif 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/8_hu18084340980536597894.gif 1024w"
			loading="lazy"
			alt="缩放细节不到位">
	</a>
	
	<figcaption>缩放细节不到位</figcaption>
	
</figure></p>
<p>这使得体验很割裂，尤其当我添加了 <em>书籍名称</em> 、 <em>发布日期</em> 等元素之后，出现了重叠。</p>
<p>解决的办法是：在卡片回弹的函数中，选中 <code>content-wrapper</code> 并将使用 <code>scrollTop(0)</code> 将它的偏移量重置为 <code>0</code> 。</p>
<h3 id="step03-添加伸缩侧边栏">Step03 添加伸缩侧边栏</h3>
<p>在一个读书摘抄的站点中，根据书籍进行分类应该是最基本的需求。</p>
<p>我的构思是添加一个可伸缩的侧边栏，侧边栏上呈现出所有的书籍，点击时进行异步通信，后台根据书籍名称筛选读书摘抄。</p>
<p>实现这个侧边栏需要对页面结构进行如下的调整：</p>
<ul>
<li>在原有的若干卡片外层再添加一个 <code>div</code> 包裹起来，实现完整性；</li>
<li>添加一个 <code>position: fixed</code> 的元素，放置在页面右侧；</li>
<li>添加一个可点击的元素，点击之后触发侧边栏伸缩。</li>
</ul>
<p>侧边栏元素的添加比较简单：假定侧边栏的宽度是 <code>10%</code> ，由于使用了 <code>fixed</code> 属性使得宽度比例的计算按照外层窗体进行，因此 <code>body</code> 要为侧边栏让出 <code>10%</code> 的空间，使用 <code>padding-right: 10%</code> 实现；</p>
<p>按照相同办法添加一个 <code>fixed</code> 元素充当按钮，注意计算按钮位置即可。按钮点击时判断侧边栏是否有宽度，若有，说明应该将侧边栏收缩，修改侧边栏宽度和 <code>body</code> 的 <code>padding-right</code> 为零；若侧边栏无宽度，说明应该展开，将二者改回原有的 <code>10%</code> 即可。</p>
<p>侧边栏中要放置书籍名称，使用类似于主体部分的卡片的布局进行实现；书籍名称的文字部分使用 <code>writing-mode: vertical-rl;</code> 和 <code>text-align: center;</code> 来使文字居中垂直排列。</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 177; 
			flex-basis: 426px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/9.gif" data-size="1920x1080">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/9.gif"
			width="1920"
			height="1080"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/9_hu9302909628281376719.gif 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/9_hu3973673972993780645.gif 1024w"
			loading="lazy"
			alt="最终效果">
	</a>
	
	<figcaption>最终效果</figcaption>
	
</figure></p>
<h3 id="step04-侧边栏进一步完善">Step04 侧边栏进一步完善</h3>
<p>原本以为上一步添加的侧边栏就很够用了，可惜需求总是随着人类的异想天开而不断增加。</p>
<p>这一步骤主要完善两点功能：</p>
<ul>
<li>站点需要对用户的登录状态进行判定，因此决定将用户的登录状态和登录接口放置在侧边栏上；</li>
<li>原有的侧边栏卡片有一些小问题，修复。</li>
</ul>
<p>第一步相当于在侧边栏上又新增一个元素了。在若干个书籍卡片 <strong>之前</strong> 新增一个 <code>&lt;div id=&quot;authentication&quot;&gt;</code> ，我的设想是 <strong>用户未登录之前显示登录入口、用户登录之后显示一个头像图片</strong> ，当然，目前肯定是不支持更换头像的，因此图片按我的喜好来 &#x1f638;</p>
<p>未登录状态就使用 <em>未登录</em> 三个字来表示即可，用一个 <code>&lt;a&gt;</code> 标签把它做成链接；设置这个标签的 <code>position: relative</code> ，然后使用 <code>::before</code> 伪元素来实现鼠标 <code>hover</code> 的效果：</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 76; 
			flex-basis: 182px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/10.gif" data-size="317x417">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/10.gif"
			width="317"
			height="417"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/10_hu4335844293450245076.gif 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/10_hu13516766226229990192.gif 1024w"
			loading="lazy"
			alt="未登录链接">
	</a>
	
	<figcaption>未登录链接</figcaption>
	
</figure></p>
<p>登录状态使用一张正方形图片，然后 <code>border-radius: 100%</code> 改为圆形，不表。注意正常情况下图片总是能吸引用户点击，因此我希望将这个图片作为发布读书摘抄的入口。</p>
<p>接着是一个极其重要的改动：侧边栏滚动的启用。此前的布局看起来没有什么毛病，但当书籍多起来之后，就会：</p>
<p><figure 
	
		class="gallery-image" 
		style="
			flex-grow: 25; 
			flex-basis: 60px"
	>
	<a href="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/11.png" data-size="350x1391">
		<img src="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/11.png"
			width="350"
			height="1391"
			srcset="/p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/11_hu15620228813543226743.png 480w, /p/%E8%AF%BB%E4%B9%A6%E6%91%98%E6%8A%84%E7%AB%99%E7%82%B9%E6%9E%84%E5%BB%BA%E9%A1%B5%E9%9D%A2%E7%AF%87%E4%B9%8B%E4%B8%80/11_hu13925797067567504824.png 1024w"
			loading="lazy"
			alt="书籍变多之后的侧边栏">
	</a>
	
	<figcaption>书籍变多之后的侧边栏</figcaption>
	
</figure></p>
<p>卡片被压缩了！这不是我的本意，我希望书籍多起来之后侧边栏可以向下滚动，不要挤在这么一个小空间里。</p>
<p>修改的办法是：</p>
<ol>
<li>在卡片样式中（即 <code>#right-sidebar .book-card</code> 选择器）加上 <code>flex-shrink: 0;</code> ；</li>
<li>侧边栏样式中（即 <code>#right-sidebar</code> 选择器）加上 <code>overflow: scroll;</code> ；</li>
<li>侧边栏滚动条隐藏（使用 <code>#right-sidebar::-webkit-scrollbar</code> 选择器设置 <code>display: none</code> ）。</li>
</ol>
<p>至此先告一段落啦！</p>

</section>



    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/%E6%8A%80%E6%9C%AF/">技术</a>
        
            <a href="/tags/%E5%89%8D%E7%AB%AF/">前端</a>
        
    </section>


    <section class="article-lastmod">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>
        <span>
            最后更新于 Feb 16, 2022
        </span>
    </section></footer>



    
</article>

    

    <aside class="related-contents--wrapper">
    
    
        <h2 class="section-title">相关文章</h2>
        <div class="related-contents">
            <div class="flex article-list--tile">
                
                    
<article class="">
    <a href="/p/graylog%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B02/">
        
        

        <div class="article-image">
            
            <img src="/img/related-content.png" loading="lazy" 
            data-key="" data-hash="" 
            style="opacity: 0.3;"/>
        </div>
        <div class="article-details">
            <h2 class="article-title">Graylog使用小记——2</h2>
            <footer class="article-time">
                <time datetime=''>Oct 02, 2022</time>
            </footer>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/graylog%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/">
        
        

        <div class="article-image">
            
            <img src="/img/related-content.png" loading="lazy" 
            data-key="" data-hash="" 
            style="opacity: 0.3;"/>
        </div>
        <div class="article-details">
            <h2 class="article-title">Graylog使用小记</h2>
            <footer class="article-time">
                <time datetime=''>Sep 25, 2022</time>
            </footer>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/rapidjson%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%AE%B0/">
        
        

        <div class="article-image">
            
            <img src="/img/related-content.png" loading="lazy" 
            data-key="" data-hash="" 
            style="opacity: 0.3;"/>
        </div>
        <div class="article-details">
            <h2 class="article-title">RapidJson使用小记</h2>
            <footer class="article-time">
                <time datetime=''>Sep 18, 2022</time>
            </footer>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/windows-terminal%E7%BE%8E%E5%8C%96%E5%B0%8F%E8%AE%B0/">
        
        

        <div class="article-image">
            
            <img src="/img/related-content.png" loading="lazy" 
            data-key="" data-hash="" 
            style="opacity: 0.3;"/>
        </div>
        <div class="article-details">
            <h2 class="article-title">Windows Terminal美化小记</h2>
            <footer class="article-time">
                <time datetime=''>Sep 17, 2022</time>
            </footer>
        </div>
    </a>
</article>
                
                    
<article class="">
    <a href="/p/pyqt5%E5%88%9D%E6%8E%A2%E4%B8%8Escapy%E7%9A%84%E7%BE%8E%E5%A6%99%E7%BB%93%E5%90%88/">
        
        

        <div class="article-image">
            
            <img src="/img/related-content.png" loading="lazy" 
            data-key="" data-hash="" 
            style="opacity: 0.3;"/>
        </div>
        <div class="article-details">
            <h2 class="article-title">PyQt5初探——与scapy的美妙结合</h2>
            <footer class="article-time">
                <time datetime=''>Apr 10, 2022</time>
            </footer>
        </div>
    </a>
</article>
                
            </div>
        </div>
    
</aside>

     
    
        
    <div id="gitalk-container"></div>

<link rel="stylesheet" href="/resources/gitalk.css">
<script src="/resources/gitalk.min.js"></script>

<script>
    const gitalk = new Gitalk({
        clientID: "60cf432a89bc92763c12",
        clientSecret: "6725615388bdb06c4050a0f6f3fa47d017fcc8d9",
        repo: "BlogComments",
        owner: "SGS4ever",
        admin: ["SGS4ever"],
        distractionFreeMode: false, 
        id: '', 
    });
    (function () {
        if (
            ["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1
        ) {
            document.getElementById("gitalk-container").innerHTML =
                "Gitalk comments not available by default when the website is previewed locally.";
            return;
        }
        gitalk.render("gitalk-container");
    })();
</script>



    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 XR_G&#39;s Blog
    </section>
    
    <section class="powerby">
        
            有朋自远方来，不亦说乎？ <br/>
         <br />
        
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >

            </main>
    
        <aside class="sidebar right-sidebar sticky">
            <section class="widget archives">
                <div class="widget-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



                </div>
                <h2 class="widget-title section-title">目录</h2>
                
                <div class="widget--toc">
                    <nav id="TableOfContents">
  <ul>
    <li><a href="#总体规划">总体规划</a></li>
    <li><a href="#step01-主体框架">Step01 主体框架</a></li>
    <li><a href="#step02-移除图片样式调整">Step02 移除图片&amp;样式调整</a>
      <ul>
        <li><a href="#滚动条美化">滚动条美化</a></li>
        <li><a href="#卡片缩放美化">卡片缩放美化</a></li>
        <li><a href="#点击事件优化">点击事件优化</a></li>
        <li><a href="#缩放事件优化">缩放事件优化</a></li>
      </ul>
    </li>
    <li><a href="#step03-添加伸缩侧边栏">Step03 添加伸缩侧边栏</a></li>
    <li><a href="#step04-侧边栏进一步完善">Step04 侧边栏进一步完善</a></li>
  </ul>
</nav>
                </div>
            </section>

            
            
            <a id="back-to-top" href="#">
                <img src="/img/top_hu10958439986251666570.png" />
            </a>
        </aside>
    

        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js"integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g="crossorigin="anonymous"
                defer="false"
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Long+Cang&family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@300&family=Noto+Serif+SC:wght@300&family=Zhi+Mang+Xing&display=swap" rel="stylesheet">

    </body>
</html>
